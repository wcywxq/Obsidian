---
title: 树转数组
url: https://www.yuque.com/wcywxq/pgkpvh/xycpzl
---

```javascript
// 对于给定的对象数组结构，描述的是一颗树的节点关系，要求实现一个函数，找出这颗树所有的链路，以二维数组形式输出
// 例如：
const list = [
    { id: 6 },
    { id: 2, children: [5] },
    { id: 13 },
    { id: 5, children: [10, 11] },
    { id: 1, children: [2, 3, 4] },
    { id: 10 },
    { id: 8, children: [13] },
    { id: 4, children: [8, 9] },
    { id: 9 },
    { id: 3, children: [6, 7] },
    { id: 11, children: [14] },
    { id: 14 },
    { id: 7, children: [12] },
    { id: 12 }
]

// 输出：
// [
//   [ 1, 3, 6 ],
//   [ 1, 4, 8, 13 ],
//   [ 1, 2, 5, 10 ],
//   [ 1, 4, 9 ],
//   [ 1, 2, 5, 11, 14 ],
//   [ 1, 3, 7, 12 ]
// ]


function parseArrToTree(arr) {
    const dfs = (tree, path = [], res = []) => {
        tree.forEach(node => {
            path.push(node.id)
            node.children && node.children.length
                ? dfs(
                      node.children.map(id => arr.find(item => item.id === id)),
                      path,
                      res
                  )
                : res.push([...path])
            path.pop()
        })
        return res
    }
    return dfs(arr)
}

// parseArrToTree(list)
console.log(parseArrToTree(list))
```
