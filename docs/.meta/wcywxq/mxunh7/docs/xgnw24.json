{
  "id": 72212268,
  "slug": "xgnw24",
  "title": "Monorepo",
  "book_id": 26225124,
  "book": {
    "id": 26225124,
    "type": "Book",
    "slug": "mxunh7",
    "name": "å…«è‚¡æ–‡ eight-part essay writing",
    "user_id": 732231,
    "description": "å‰ç«¯å…«è‚¡æ–‡",
    "creator_id": 732231,
    "public": 0,
    "items_count": 239,
    "likes_count": 0,
    "watches_count": 1,
    "content_updated_at": "2023-11-11T18:15:57.023Z",
    "updated_at": "2023-11-11T18:15:57.000Z",
    "created_at": "2022-04-04T11:31:45.000Z",
    "namespace": "wcywxq/mxunh7",
    "user": {
      "id": 732231,
      "type": "User",
      "login": "wcywxq",
      "name": "magic",
      "description": null,
      "avatar_url": "https://cdn.nlark.com/yuque/0/2020/png/732231/1606968271774-avatar/886ad88b-d2cc-4c9e-a674-f70eb51a679c.png",
      "books_count": 18,
      "public_books_count": 0,
      "followers_count": 0,
      "following_count": 0,
      "created_at": "2020-01-08T14:21:31.000Z",
      "updated_at": "2023-11-13T09:32:35.000Z",
      "_serializer": "v2.user"
    },
    "_serializer": "v2.book"
  },
  "user_id": 732231,
  "creator": {
    "id": 732231,
    "type": "User",
    "login": "wcywxq",
    "name": "magic",
    "description": null,
    "avatar_url": "https://cdn.nlark.com/yuque/0/2020/png/732231/1606968271774-avatar/886ad88b-d2cc-4c9e-a674-f70eb51a679c.png",
    "books_count": 18,
    "public_books_count": 0,
    "followers_count": 0,
    "following_count": 0,
    "created_at": "2020-01-08T14:21:31.000Z",
    "updated_at": "2023-11-13T09:32:35.000Z",
    "_serializer": "v2.user"
  },
  "format": "lake",
  "body": "<a name=\"JA07R\"></a>\n## å¤§å‹é¡¹ç›®ç®¡ç†  Monorepo\n<a name=\"x1ZjE\"></a>\n### èƒŒæ™¯\nä¸€ä¸ªä½“ç³»åºå¤§çš„ä»£ç åº“æ‹†åˆ†æˆå¤šä¸ªå•ç‹¬çš„å…·æœ‰ç‹¬ç«‹ç‰ˆæœ¬çš„ `package`ï¼Œå¯¹äºå¼€å‘å®é™…çš„ä»£ç å…±äº«éå¸¸æœ‰ç”¨ã€‚æ•°é‡è¾ƒå°‘çš„æ—¶å€™ï¼Œå¤šä¸ªä»“åº“ç»´æŠ¤ä¸ä¼šæœ‰å¤ªå¤§é—®é¢˜ï¼Œä½†æ˜¯å½“ç‹¬ç«‹ `package` æ•°é‡è¶Šæ¥è¶Šå¤šçš„æ—¶å€™ï¼Œå°±ä¼šæš´éœ²å‡ºå¾ˆå¤šå¼€å‘å›°æ‰°çš„é—®é¢˜ï¼š\n\n1. è·¨è¶Šå¾ˆå¤šä»£ç å­˜å‚¨åº“ï¼Œä¿®æ”¹ä»£ç å¾ˆéº»çƒ¦\n2. `issue` éš¾ä»¥ç»Ÿä¸€è¿½è¸ªã€ç®¡ç†ï¼Œå› ä¸ºå…¶åˆ†æ•£åœ¨ç‹¬ç«‹çš„ `repo` é‡Œ\n3. è·¨å­˜å‚¨åº“çš„ä»£ç æµ‹è¯•éå¸¸å¤æ‚\n4. å¤šä¸ª `package` ä¹‹é—´ç›¸äº’ä¾èµ–ï¼Œå¯¹äºäº’ç›¸å¼•ç”¨çš„ç‰ˆæœ¬å·ä¾èµ–ç»´æŠ¤æˆæœ¬éå¸¸é«˜ï¼Œå¼€å‘äººå‘˜ä¸å¾—ä¸ä½¿ç”¨ `npm link` çš„æ–¹å¼å»å¼•ç”¨ä¾èµ–\n\nä¸ºäº†è§£å†³ä¸Šé¢è¿™äº›é—®é¢˜ï¼Œä¸€äº›é¡¹ç›®ä¼šå°†å…¶ä»£ç åº“ç»Ÿä¸€ç»„ç»‡åˆ°å¤šåŒ…å­˜å‚¨åº“ä¸­ï¼Œæˆ‘ä»¬ç§°ä¹‹ä¸º `monorepos`ã€‚å¦‚ï¼š`babel`ã€`react`ã€`angular`ã€`ember`ã€`meteor`ã€`jest`ä¹‹ç±»çš„é¡¹ç›®ä»¥åŠè®¸å¤šå…¶ä»–é¡¹ç›®éƒ½åœ¨å•ä¸ªå­˜å‚¨åº“ä¸­å¼€å‘æ‰€æœ‰è½¯ä»¶åŒ…<br />![babel ä½¿ç”¨ monorepo ç­–ç•¥ç®¡ç†ä»£ç ](https://cdn.nlark.com/yuque/0/2022/png/732231/1648745861879-4f0cfeac-98d9-4bb6-976c-ce3d58870495.png#clientId=u6fbcdb1d-5fd6-4&from=paste&height=281&id=ufb051cd7&originHeight=351&originWidth=750&originalType=binary&ratio=1&rotation=0&showTitle=true&size=284185&status=done&style=none&taskId=u303bc63b-4c32-41c9-aafa-5130ad049b5&title=babel%20%E4%BD%BF%E7%94%A8%20monorepo%20%E7%AD%96%E7%95%A5%E7%AE%A1%E7%90%86%E4%BB%A3%E7%A0%81&width=600 \"babel ä½¿ç”¨ monorepo ç­–ç•¥ç®¡ç†ä»£ç \")\n<a name=\"WDvDL\"></a>\n### æ¦‚å¿µ\n`Menorepo` æ˜¯ç®¡ç†é¡¹ç›®ä»£ç çš„ä¸€ä¸ªæ–¹å¼ï¼ŒæŒ‡åœ¨ä¸€ä¸ªé¡¹ç›®ä»“åº“ `repo` ä¸­ç®¡ç†å¤šä¸ªæ¨¡å—/åŒ…(`package`)ï¼Œä¸åŒäºå¸¸è§çš„æ¯ä¸ªæ¨¡å—å»ºç«‹ä¸€ä¸ª `repo`ã€‚\n\n:::success\n`Meonorepo`çš„å¥½å¤„ï¼š<br />ç»Ÿä¸€çš„å·¥ä½œæµã€`Code Shaking`ã€‚æ­å»ºä¸€å¥—è„šæ‰‹æ¶ï¼Œå°±èƒ½ç®¡ç†(æ„å»ºã€æµ‹è¯•ã€å‘å¸ƒ)å¤šä¸ª packageï¼Œç»Ÿä¸€æµ‹è¯•ã€ç»Ÿä¸€å‘ç‰ˆã€‚\n:::\n\n:::danger\n`Meonorepo`çš„åå¤„ï¼š<br />å°±æ˜¯ `repo`çš„ä½“ç§¯ä¼šæ¯”è¾ƒå¤§ï¼Œç”±äºæ¯ä¸ª `package`éƒ½æœ‰è‡ªå·±çš„ `package.json`ï¼Œä¼šå®‰è£…è‡ªå·±çš„ `node_modules`ï¼Œä½†æ˜¯å¤§æ¦‚ç‡ä¼šå¾ˆå¤šåŒ…æ˜¯é‡å¤çš„ï¼Œè¿™å°±ä½¿æœ¬æ¥å°±å¾ˆå¤§çš„ `node_modules`å˜å¾—æ›´å¤§ã€‚\n:::\n\n:::info\n`Meonorepo`çš„è§£å†³æ–¹æ¡ˆï¼š<br />`lerna`å’Œ`workspaces`ç‰¹æ€§ã€‚\n\nå¯¹äº `node_modules`åŒ…é‡å¤å®‰è£…çš„é—®é¢˜ï¼š<br />`lerna`æä¾›äº† `--hoist`é€‰é¡¹ï¼Œç›¸åŒçš„ä¾èµ–ï¼Œä¼š**æå‡**åˆ° `repo`æ ¹ç›®å½•ä¸‹å®‰è£…(æ¯”è¾ƒé¸¡è‚‹)ï¼Œ`lerna` ç›´æ¥ä»¥å­—ç¬¦ä¸²å¯¹æ¯” `dependency` çš„ç‰ˆæœ¬å·ï¼Œå®Œå…¨ç›¸åŒæ‰ä¼šè¿›è¡Œæå‡ï¼Œ`npm` çš„ `semver` çº¦å®š(è¯­ä¹‰åŒ–ç‰ˆæœ¬è§„èŒƒ)åœ¨è¿™é‡Œå¹¶ä¸èµ·ä½œç”¨ã€‚<br />`yarn` ä½œä¸ºåŒ…ç®¡ç†å™¨å¾ˆå¥½çš„è§£å†³äº†è¿™ä¸ªé—®é¢˜ï¼Œåªéœ€è¦åœ¨æ ¹ `package.json`ä¸­ä»¥ `workspaces`å­—æ®µå£°æ˜ `packages` ç›®å½•å’Œ `\"private\": true`ï¼Œ`yarn`å°±ä¼šä»¥ `menorepo`çš„æ–¹å¼ç®¡ç† `packages`ã€‚`yarn`ä¼šä»¥ `semver`çº¦å®šæ¥åˆ†æ `dependencies`çš„ç‰ˆæœ¬ï¼Œå®‰è£…ä¾èµ–æ—¶æ›´å¿«ã€å ç”¨ä½“ç§¯æ›´å°ã€‚(`pnpm`ä¹Ÿæ”¯æŒ `workspaces`)<br />åœ¨ `npm7.x+` åï¼Œä¹Ÿå¼€å§‹æ”¯æŒäº† `workspaces` ç‰¹æ€§ï¼Œè¿™ä¸ªåŠŸèƒ½è®©æˆ‘ä»¬åœ¨æœ¬åœ°å¼€å‘åŒ…ï¼Œå°¤å…¶æ˜¯å¤šä¸ªäº’ç›¸ä¾èµ–çš„åŒ…æ—¶æ›´åŠ å¾—å¿ƒåº”æ‰‹ã€‚å®ƒå¯ä»¥é¿å…æˆ‘ä»¬å†æ‰‹åŠ¨çš„å»æ‰§è¡Œ `npm link` å‘½ä»¤ï¼Œè€Œæ˜¯åœ¨`npm install` çš„æ—¶å€™ï¼Œä¼šè‡ªåŠ¨æŠŠ `workspaces`ä¸‹é¢çš„åˆæ³•åŒ…ï¼Œè‡ªåŠ¨åˆ›å»ºç¬¦å·é“¾æ¥åˆ°æ ¹ç›®å½•çš„ `node_modules`é‡Œã€‚èƒ½å¤Ÿè¢«å•ç‹¬ä½œä¸ºä¸€ä¸ªåŒ…åˆ›å»ºç¬¦å·é“¾æ¥çš„æ–‡ä»¶å¤¹ï¼Œæˆ‘ä»¬å°±ç§°ä¸ºä¸€ä¸ª`workspace`ï¼Œæ‰€ä»¥æ˜¯å¯ä»¥æœ‰å¤šä¸ª`workspace` çš„ï¼Œå¯ä»¥åœ¨ `package.json` çš„ `workspaces` å­—æ®µä¸­è¿›è¡Œé…ç½®ã€‚\n:::\n<a name=\"gLXts\"></a>\n### lerna ä»‹ç»\n<a name=\"KinvH\"></a>\n#### lerna ç‰¹æ€§\n\n1. è‡ªåŠ¨è§£å†³ `packages` ä¹‹é—´çš„ä¾èµ–å…³ç³»\n2. é€šè¿‡ `git` æ£€æµ‹æ–‡ä»¶æ”¹åŠ¨ï¼Œè‡ªåŠ¨å‘å¸ƒ\n3. æ ¹æ® `git` æäº¤è®°å½•ï¼Œè‡ªåŠ¨ç”Ÿæˆ `CHANGELOG`\n\n`lerna` ä¸è´Ÿè´£æ„å»ºã€æµ‹è¯•ç­‰ä»»åŠ¡ï¼Œå®ƒæå‡ºäº†ä¸€ç§é›†ä¸­ç®¡ç† `package` çš„ç›®å½•æ¨¡å¼ï¼Œæä¾›äº†ä¸€å¥—è‡ªåŠ¨åŒ–ç®¡ç†ç¨‹åºï¼Œè®©å¼€å‘è€…ä¸å¿…å†æ·±è€•åˆ°å…·ä½“çš„ç»„ä»¶é‡Œç»´æŠ¤å†…å®¹ï¼Œåœ¨é¡¹ç›®æ ¹ç›®å½•å°±å¯ä»¥å…¨å±€æŒæ§ï¼ŒåŸºäº `npm scripts`ï¼Œå¯ä»¥å¾ˆå¥½åœ°å®Œæˆç»„ä»¶æ„å»ºï¼Œä»£ç æ ¼å¼åŒ–ç­‰æ“ä½œï¼Œå¹¶åœ¨æœ€åç”¨ `lerna` ç»Ÿä¸€å˜æ›´ `package` ç‰ˆæœ¬ï¼Œå°†å…¶å‘å¸ƒä¸Šä¼ è‡³è¿œç«¯ã€‚\n<a name=\"jUT5Q\"></a>\n#### lerna å¸¸ç”¨å‘½ä»¤\n\n- `lerna init`ï¼šåˆå§‹åŒ– `monorepo` å·¥ç¨‹é¡¹ç›®ï¼Œç”Ÿæˆ `packages/`ã€`package.json`ã€`lerna.json`\n```markdown\n.\nâ”œâ”€â”€ lerna.json\nâ”œâ”€â”€ package.json\nâ””â”€â”€ packages/ # è¿™é‡Œå°†å­˜æ”¾æ‰€æœ‰å­ repo ç›®å½•\n    â”œâ”€â”€ project_1/\n    â”‚   â”œâ”€â”€ index.js\n    â”‚   â”œâ”€â”€ node_modules/\n    â”‚   â””â”€â”€ package.json\n    â”œâ”€â”€ project_2/\n    â”‚   â”œâ”€â”€ index.js\n    â”‚   â”œâ”€â”€ node_module/\n    â”‚   â””â”€â”€ package.json\n    ...\n```\n\n- `lerna bootstrap --hoist` ä¸ºæ‰€æœ‰é¡¹ç›®å®‰è£…ä¾èµ–ï¼Œå¹¶é“¾æ¥æ‰€æœ‰ä¾èµ–åŒ…ï¼Œç±»ä¼¼äº `npm i`ä½¿ç”¨`--hoist` é€‰é¡¹åï¼Œæ‰€æœ‰å…¬å…±çš„ä¾èµ–éƒ½åªä¼šå®‰è£…åœ¨æ ¹ç›®å½•çš„ `node_modules` ç›®å½•ä¸­å»,è€Œä¸ä¼šåœ¨æ¯ä¸ªåŒ…ç›®å½•ä¸‹çš„ `node_modules` ä¸­éƒ½ä¿ç•™å„è‡ªçš„ä¾èµ–åŒ…ã€‚\n- `lerna clean` åˆ é™¤æ‰€æœ‰é¡¹ç›®çš„ `node_modules` ç›®å½•\n- `lerna run [script]` é»˜è®¤ä¸ºæ‰€æœ‰çš„é¡¹ç›®è¿è¡Œ `npm run [script]`è„šæœ¬ï¼Œå¯ä»¥æŒ‡å®šé¡¹ç›®ï¼›\n- `lerna changed` åˆ—å‡ºä¸‹æ¬¡å‘ç‰ˆ `lerna publish` è¦æ›´æ–°çš„åŒ…ã€‚\n- `lerna publish` ç‰ˆæœ¬å‘å¸ƒï¼ŒæŒ‰æç¤ºé€‰æ‹©ç‰ˆæœ¬å·(é€’å¢ï¼Œæˆ–è‡ªå®šä¹‰)ï¼Œå°†ä¼šæ‰§è¡Œä»¥ä¸‹æ­¥éª¤ï¼š\n   - è¿è¡Œ `lerna updated` æ¥å†³å®šå“ªä¸€ä¸ªåŒ…éœ€è¦è¢« `publish`\n   - å¦‚æœæœ‰å¿…è¦ï¼Œå°†ä¼šæ›´æ–° `lerna.json` ä¸­çš„ `version`\n   - å°†æ‰€æœ‰æ›´æ–°è¿‡çš„çš„åŒ…ä¸­çš„ `package.json` çš„ `version` å­—æ®µæ›´æ–°\n   - å°†æ‰€æœ‰æ›´æ–°è¿‡çš„åŒ…ä¸­çš„ä¾èµ–æ›´æ–°\n   - ä¸ºæ–°ç‰ˆæœ¬åˆ›å»ºä¸€ä¸ª `git commit` æˆ– `tag`\n   - å°†åŒ… `publish` åˆ° `npm` ä¸Šï¼›æ³¨æ„è¦å…ˆç”¨ `npm adduser` ç™»å½• `npm` æºï¼Œå¦åˆ™ä¼šå¤±è´¥ï¼›\n- `lerna add [@version] [--dev] [--exact] [--peer]` ï¼šå¯ä»¥æŒ‡å®šä¸ºæŸä¸€ä¸ªæˆ–æ‰€æœ‰çš„åŒ…å®‰è£…ä¾èµ–ï¼Œä¾èµ–å¯ä»¥æ˜¯å¤–éƒ¨(`npm i `å®‰è£…çš„)ï¼Œä¹Ÿå¯ä»¥æ˜¯å†…éƒ¨ä¾èµ–(`packages`/ä¸‹çš„åŒ…ï¼Œä¼šåˆ›å»ºç¬¦å·é“¾æ¥)ï¼Œ`example`ï¼š\n   - `lerna add babel` , è¯¥å‘½ä»¤ä¼šåœ¨ `package-1` å’Œ `package-2` ä¸‹å®‰è£… `babel`\n   - `lerna add react --scope=package-1` ,è¯¥å‘½ä»¤ä¼šåœ¨ `package-1` ä¸‹å®‰è£… `react`\n   - `lerna add package-2 --scope=package-1`ï¼Œè¯¥å‘½ä»¤ä¼šåœ¨ `package-1` ä¸‹å®‰è£… `package-2`\n- `lerna create [loc]` åˆ›å»ºä¸€ä¸ª `lerna` ç®¡ç†çš„åŒ…\n- `lerna ls` æ§åˆ¶å°æ‰“å° `packages` ä¸‹çš„åŒ…å\n- `lerna link` ç±»ä¼¼ `npm link`\n<a name=\"bkDYM\"></a>\n#### lerna.json é…ç½®ä»‹ç»\n```json\n{\n  \"version\": \"1.1.1\",\n  \"npmClient\": \"yarn\",\n  \"command\": {\n    \"publish\": {\n      \"ignoreChanges\": [\"ignored-file\", \"*.md\"],\n      \"message\": \"chore(release): publish %s\",\n      \"registry\": \"https://npm.pkg.github.com\"\n    },\n    \"bootstrap\": {\n      \"ignore\": \"component-*\",\n      \"npmClientArgs\": [\"--no-package-lock\"]\n    }\n  },\n  \"packages\": [\"packages/*\"]\n}\n```\n\n- `version`ï¼šå½“å‰å­˜å‚¨åº“çš„ç‰ˆæœ¬ï¼Œå½“ä¸º `independent` æ—¶ï¼Œå¼€å¯ç‹¬ç«‹æ¨¡å¼\n- `npmClient`ï¼šä¸€ä¸ªé€‰é¡¹ï¼Œç”¨äºæŒ‡å®šè¿è¡Œå‘½ä»¤çš„ç‰¹å®šå®¢æˆ·ç«¯ã€‚ å¯æ›´æ”¹ä¸º `yarn`\n- `packages`ï¼šç”¨ä½œåŒ…è£…ä½ç½®çš„ `glob` æ•°ç»„ï¼Œ é»˜è®¤ä¸º `[\"packages/*\"]`, ä¹Ÿå¯ä»¥ä¿®æ”¹ä¸ºå…¶ä»–ç›®å½•\n- `command.publish.ignoreChanges`: æ¥å—ä¸€ç»„ `glob` æ•°ç»„ï¼Œå¿½ç•¥ä¸å¿…è¦çš„æ›´æ”¹å‘å¸ƒæ–°ç‰ˆæœ¬ï¼Œä¾‹å¦‚ `md` ä¿®æ”¹\n- `command.publish.message`: æ‰§è¡Œå‘å¸ƒç‰ˆæœ¬æ—¶è‡ªåŠ¨ä¼š `commit` ä¸€æ¡æŒ‡å®šè®°å½•ï¼Œå½“æ¶ˆæ¯è®°å½•é‡ŒåŒ…å« `%s` å°†ä¼šæ›¿æ¢ä¸º `v1.1.1`, å¦‚æœæ˜¯ `%v` åˆ™ç›´æ¥æ›¿æ¢ä¸º `1.1.1`ï¼Œå¦‚æœæ˜¯ `independent` æ¨¡å¼åˆ™ä¼šç‹¬ç«‹æ›´æ–°æ¯ä¸ªåŒ…çš„ç‰ˆæœ¬\n- `command.publish.registry`: è®¾ç½®è¦å‘å¸ƒåˆ°çš„è‡ªå®šä¹‰åœ°å€\n- `command.bootstrap.ignore`: æ¥æ”¶ä¸€ä¸ª `glob` æ•°ç»„ï¼Œ æŒ‡å®šè¿è¡Œ `lerna bootstrap` å‘½ä»¤æ—¶éœ€è¦å¿½ç•¥çš„ç›®å½•\n- `command.bootstrap.npmClientArg`: æ¥æ”¶ä¸€ä¸ªå­—ç¬¦ä¸²æ•°ç»„ï¼Œ å°†å‚æ•°ç›´æ¥ä¼ é€’ç»™ `npm install`\n- `command.bootstrap.scope`: ä¸€ç»„ `glob`ï¼Œç”¨äºé™åˆ¶åœ¨è¿è¡Œ `lerna bootstrap` å‘½ä»¤æ—¶å°† åŒ…å«çš„è½¯ä»¶åŒ…ã€‚\n<a name=\"d2nuq\"></a>\n#### lerna å¤šåŒ…ç‰ˆæœ¬ç®¡ç†æœºåˆ¶\n\n- `Fixed/Locked mode(default)`å›ºå®šæ¨¡å¼\n\n`vue`ã€`babel`éƒ½æ˜¯ç”¨è¿™ç§ï¼Œåœ¨`publish`çš„æ—¶å€™ï¼Œä¼šåœ¨`lerna.json`æ–‡ä»¶é‡Œé¢ `\"version\": \"0.15\"`ï¼Œä¾æ®è¿™ä¸ªå·è¿›è¡Œå¢åŠ ï¼Œåªé€‰æ‹©ä¸€æ¬¡ï¼Œå…¶ä»–æœ‰æ”¹åŠ¨çš„åŒ…è‡ªåŠ¨æ›´æ–°ç‰ˆæœ¬å·\n\n- `Independence mode`ç‹¬ç«‹æ¨¡å¼\n\n`lerna init --independent`åˆå§‹åŒ–é¡¹ç›®ï¼Œ`lerna.json`æ–‡ä»¶é‡Œé¢ `\"version\": \"independent\"`ï¼Œæ¯æ¬¡`publish`æ—¶ï¼Œéƒ½å°†å¾—åˆ°ä¸€ä¸ªæç¤ºç¬¦ï¼Œæç¤ºæ¯ä¸ªå·²æ›´æ”¹çš„åŒ…ï¼Œä»¥æŒ‡å®šæ˜¯ï¼š`major`ã€`minor`ã€`patch`ã€`premajor`ã€`preminor`ã€`prepatch`ã€`prerelease`\n<a name=\"RSN7r\"></a>\n#### å¯ç”¨ workspace æ¨¡å¼\né»˜è®¤æ˜¯ `npm`ï¼Œè€Œä¸”æ¯ä¸ªå­ `package` éƒ½æœ‰è‡ªå·±çš„`node_modules`ï¼Œé€šè¿‡è¿™æ ·çš„è®¾ç½®åï¼Œåªæœ‰é¡¶å±‚æœ‰ä¸€ä¸ª`node_modules`\n\n- ä¿®æ”¹é¡¶å±‚`package.json`ã€`lerna.json`\n```javascript\n// package.json æ–‡ä»¶åŠ å…¥\n{\n  \"private\": true,\n  \"workspaces\": [\"packages/*\"]\n}\n\n// lerna.json æ–‡ä»¶åŠ å…¥\n{\n  \"useWorkspaces\": true,\n  \"npmClient\": \"yarn\" // å¯åŠ¨ yarnï¼Œä¸è®¾ç½®é»˜è®¤ä¸º npmï¼Œnpm7.x+ æ”¯æŒ workspaces\n}\n```\n<a name=\"p58HN\"></a>\n### Workspaces\n<a name=\"ncpyk\"></a>\n#### ä½¿ç”¨\n```json\n{\n  \"name\": \"vite-pros\",\n  \"description\": \"ä½¿ç”¨ vite ä½œä¸ºæ„å»ºå·¥å…·çš„å‰ç«¯é¡¹ç›®\",\n  \"private\": true,\n  \"workspaces\": [\n    \"packages/*\"\n  ]\n}\n```\nå…¶ä¸­ `private: true` æ˜¯å¿…éœ€çš„ï¼å·¥ä½œåŒºå¹¶ä¸æ„å‘³ç€è¦å‘å¸ƒï¼Œæ‰€ä»¥å¢åŠ äº†è¿™ä¸ªå®‰å…¨æªæ–½ï¼Œä»¥ç¡®ä¿æ²¡æœ‰ä»»ä½•ä¸œè¥¿å¯ä»¥æ„å¤–æš´éœ²å®ƒä»¬ã€‚`workspaces` å­—æ®µæ˜¯åŒ…å«æ¯ä¸ªå·¥ä½œåŒºçš„è·¯å¾„çš„æ•°ç»„ã€‚ç”±äºè¿½è¸ªæ¯ä¸ªè·¯å¾„å¯èƒ½å¾ˆä¹å‘³ï¼Œå› æ­¤è¯¥å­—æ®µä¹Ÿæ¥å— `glob` æ¨¡å¼ï¼\n\n1. æ–°å»º `packages` ç›®å½•\n2. `packages` ç›®å½•ä¸‹å°±æ˜¯æˆ‘ä»¬çš„æ­£å¸¸çš„å·¥ç¨‹äº†ã€‚\n<a name=\"H2maV\"></a>\n#### ä»‹ç»\n\n1. å®‰è£…ä¾èµ–\n```shell\n[yarn|npm] install\n```\n\n2. ä¸ºæŸä¸€ä¸ªå­é¡¹ç›®å®‰è£…ä¾èµ–\n```shell\n# pro1 = packages/pro1\n# npm\nnpm install vue -w pro1\n# yarn\nyarn workspace pro1 add -D react\n```\n:::tips\nè¿™é‡Œå¯ä»¥ä¾èµ–åŒä¸€ä¸ªå·¥ä½œåŒºä¸‹çš„å…¶å®ƒå·¥ç¨‹ï¼Œä»¥ `yarn` ä¸ºä¾‹ï¼Œå¦‚æœä¾èµ–åŒå·¥ä½œåŒºä¸‹çš„å…¶å®ƒå·¥ç¨‹ï¼Œ`package.json` çš„ `dependencies` å°±ä¼šå‘ç”Ÿæ”¹å˜ï¼Œä¾‹å¦‚ï¼š`\"ph-utils\": \"workspace:packages/utils\"`ã€`\"ph-terminal-spinner\": \"workspace:packages/terminal-spinner\"` è¿™å°±è¡¨æ˜ä¾èµ–çš„æ˜¯åŒä¸€ä¸ªå·¥ä½œåŒºçš„å…¶å®ƒå·¥ç¨‹ã€‚<br />è¿™æ ·çš„å¯èƒ½æœ‰äººå°±ä¼šæœ‰ç–‘é—®äº†ï¼Œå¦‚æœ `package.json` æ”¹å˜äº†åï¼Œä¸Šä¼ åä¼šæ€ä¹ˆæ ·å‘¢ï¼Ÿè¿™ä¸ªå°±æ˜¯ä¸‹é¢çš„å‘½ä»¤äº†ã€‚\n:::\n\n3. å‘å¸ƒ\n```shell\n# npm\nnpm publish\n# yarn å‘å¸ƒçš„æ—¶å€™ï¼Œä¼šè‡ªåŠ¨æ›¿æ¢æœ¬åœ°ä¾èµ–çš„ç‰ˆæœ¬\nyarn workspace pro1 npm publish\n```\n:::tips\n`yarn` å‘å¸ƒçš„æ—¶å€™ï¼Œå¦‚æœä¼šæœ‰æœ¬åœ°æœ‰æœ¬åœ°ä¾èµ–å¦‚ï¼š`\"ph-utils\": \"workspace:packages/utils\"` åˆ™ä¼šè¢«æ›¿æ¢ä¸º `\"ph-utils\": \"0.0.1\"` å…¶ä¸­ `0.0.1` å°±æ˜¯æœ¬åœ° `ph-utils` çš„ç‰ˆæœ¬ã€‚\n:::\n<a name=\"XGgua\"></a>\n## Monorepo æ–¹æ¡ˆå®è·µ\n<a name=\"gn9GX\"></a>\n### 1. é”å®šç¯å¢ƒ: Volta\n![image.png](https://cdn.nlark.com/yuque/0/2022/png/732231/1648747756372-c5aea202-62a4-4b65-8394-b7b81a777c52.png#clientId=u6fbcdb1d-5fd6-4&from=paste&height=230&id=u024df87c&originHeight=288&originWidth=606&originalType=binary&ratio=1&rotation=0&showTitle=false&size=42021&status=done&style=none&taskId=u8eae952d-3f68-4089-ab61-00ed5a55355&title=&width=484.8)<br />[Volta](https://volta.sh/) æ˜¯ä¸€ä¸ª `JavaScript` å·¥å…·ç®¡ç†å™¨ï¼Œå®ƒå¯ä»¥è®©æˆ‘ä»¬è½»æ¾åœ°åœ¨é¡¹ç›®ä¸­é”å®š `node`ï¼Œ`npm` å’Œ `yarn` çš„ç‰ˆæœ¬ã€‚ä½ åªéœ€åœ¨å®‰è£…å®Œ `Volta` åï¼Œåœ¨é¡¹ç›®çš„æ ¹ç›®å½•ä¸­æ‰§è¡Œ `volta pin` å‘½ä»¤ï¼Œé‚£ä¹ˆæ— è®ºæ‚¨å½“å‰ä½¿ç”¨çš„ `node` æˆ– `npm`ï¼ˆ`yarn`ï¼‰ç‰ˆæœ¬æ˜¯ä»€ä¹ˆï¼Œ`volta` éƒ½ä¼šè‡ªåŠ¨åˆ‡æ¢ä¸ºæ‚¨æŒ‡å®šçš„ç‰ˆæœ¬ã€‚\n\nå› æ­¤ï¼Œé™¤äº†ä½¿ç”¨ `Docker` å’Œæ˜¾ç¤ºåœ¨æ–‡æ¡£ä¸­å£°æ˜ `node` å’Œ `npm`ï¼ˆ`yarn`ï¼‰çš„ç‰ˆæœ¬ä¹‹å¤–ï¼Œæ‚¨å°±æœ‰äº†å¦ä¸€ä¸ªé”å®šç¯å¢ƒçš„å¼ºåŠ›å·¥å…·ã€‚\n\nè€Œä¸”ç›¸è¾ƒäº `nvm`ï¼Œ`Volta` è¿˜å…·æœ‰ä¸€ä¸ªè¯±äººçš„ç‰¹æ€§ï¼šå½“æ‚¨é¡¹ç›®çš„ `CLI` å·¥å…·ä¸å…¨å±€ `CLI` å·¥å…·ä¸ä¸€è‡´æ—¶ï¼Œ`Volta` å¯ä»¥åšåˆ°åœ¨é¡¹ç›®æ ¹ç›®å½•ä¸‹è‡ªåŠ¨è¯†åˆ«ï¼Œåˆ‡æ¢åˆ°é¡¹ç›®æŒ‡å®šçš„ç‰ˆæœ¬ï¼Œè¿™ä¸€åˆ‡éƒ½æ˜¯ç”± `Volta` é»˜é»˜åšåˆ°çš„ï¼Œå¼€å‘è€…ä¸å¿…å…³å¿ƒä»»ä½•äº‹æƒ…ã€‚\n<a name=\"p9nEa\"></a>\n### 2. å¤ç”¨ packages: workspace\nä½¿ç”¨ `monorepo` ç­–ç•¥åï¼Œæ”¶ç›Šæœ€å¤§çš„ä¸¤ç‚¹æ˜¯ï¼š\n\n1. é¿å…é‡å¤å®‰è£…åŒ…ï¼Œå› æ­¤å‡å°‘äº†ç£ç›˜ç©ºé—´çš„å ç”¨ï¼Œå¹¶é™ä½äº†æ„å»ºæ—¶é—´ï¼›\n2. å†…éƒ¨ä»£ç å¯ä»¥å½¼æ­¤ç›¸äº’å¼•ç”¨ï¼›\n\nè¿™ä¸¤é¡¹å¥½å¤„å…¨éƒ¨éƒ½å¯ä»¥ç”±ä¸€ä¸ªæˆç†Ÿçš„åŒ…ç®¡ç†å·¥å…·æ¥å®Œæˆï¼Œå¯¹å‰ç«¯å¼€å‘è€Œè¨€ï¼Œå³æ˜¯ `yarn`ï¼ˆ`1.0` ä»¥ä¸Šï¼‰æˆ– `npm`ï¼ˆ`7.0` ä»¥ä¸Šï¼‰é€šè¿‡åä¸º `workspaces` çš„ç‰¹æ€§å®ç°çš„ï¼ˆâš ï¸ æ³¨æ„ï¼Œæ”¯æŒ `workspaces` ç‰¹æ€§çš„ `npm` ç›®å‰ä¾æ—§ä¸æ˜¯ `TLS` ç‰ˆæœ¬ï¼‰ã€‚\n\nä¸ºäº†å®ç°å‰é¢æåˆ°çš„ä¸¤ç‚¹æ”¶ç›Šï¼Œæ‚¨éœ€è¦åœ¨ä»£ç ä¸­åšä¸‰ä»¶äº‹ï¼š\n\n1. è°ƒæ•´ç›®å½•ç»“æ„ï¼Œå°†ç›¸äº’å…³è”çš„é¡¹ç›®æ”¾ç½®åœ¨åŒä¸€ä¸ªç›®å½•ï¼Œæ¨èå‘½åä¸º `packages`ï¼›\n2. åœ¨é¡¹ç›®æ ¹ç›®å½•é‡Œçš„ `package.json` æ–‡ä»¶ä¸­ï¼Œè®¾ç½® `workspaces` å±æ€§ï¼Œå±æ€§å€¼ä¸ºä¹‹å‰åˆ›å»ºçš„ç›®å½•ï¼›\n3. åŒæ ·ï¼Œåœ¨ `package.json` æ–‡ä»¶ä¸­ï¼Œè®¾ç½® `private` å±æ€§ä¸º `true` (ä¸ºäº†é¿å…æˆ‘ä»¬è¯¯æ“ä½œå°†ä»“åº“å‘å¸ƒ)ï¼›\n\nç»è¿‡ä¿®æ”¹ï¼Œé¡¹ç›®ç›®å½•çœ‹èµ·æ¥åº”è¯¥æ˜¯è¿™æ ·ï¼š\n```markdown\n.\nâ”œâ”€â”€ package.json\nâ””â”€â”€ packages/\n    â”œâ”€â”€ @mono/project_1/ # æ¨èä½¿ç”¨ `@<é¡¹ç›®å>/<å­é¡¹ç›®å>` çš„æ–¹å¼å‘½å\n    â”‚   â”œâ”€â”€ index.js\n    â”‚   â””â”€â”€ package.json\n    â””â”€â”€ @mono/project_2/\n        â”œâ”€â”€ index.js\n        â””â”€â”€ package.json\n```\nè€Œå½“åœ¨é¡¹ç›®æ ¹ç›®å½•ä¸­æ‰§è¡Œ `npm install` æˆ– `yarn install` åï¼Œä¼šå‘ç°åœ¨é¡¹ç›®æ ¹ç›®å½•ä¸­å‡ºç°äº† `node_modules` ç›®å½•ï¼Œå¹¶ä¸”è¯¥ç›®å½•ä¸ä»…æ‹¥æœ‰æ‰€æœ‰å­é¡¹ç›®å…±ç”¨çš„ `npm` åŒ…ï¼Œè¿˜åŒ…å«äº†æˆ‘ä»¬çš„å­é¡¹ç›®ã€‚å› æ­¤ï¼Œæˆ‘ä»¬å¯ä»¥åœ¨å­é¡¹ç›®ä¸­é€šè¿‡å„ç§æ¨¡å—å¼•å…¥æœºåˆ¶ï¼Œåƒå¼•å…¥ä¸€èˆ¬çš„ `npm` æ¨¡å—ä¸€æ ·å¼•å…¥å…¶ä»–å­é¡¹ç›®çš„ä»£ç ã€‚\n\nè¯·æ³¨æ„æˆ‘ä»¬å¯¹å­é¡¹ç›®çš„å‘½åï¼Œç»Ÿä¸€ä»¥ `@<repo_name>/` å¼€å¤´ï¼Œè¿™æ˜¯ä¸€ç§ç¤¾åŒºæœ€ä½³å®è·µï¼Œä¸ä»…å¯ä»¥è®©ç”¨æˆ·æ›´å®¹æ˜“äº†è§£æ•´ä¸ªåº”ç”¨çš„æ¶æ„ï¼Œä¹Ÿæ–¹ä¾¿æ‚¨åœ¨é¡¹ç›®ä¸­æ›´å¿«æ·çš„æ‰¾åˆ°æ‰€éœ€çš„å­é¡¹ç›®ã€‚\n\nè‡³æ­¤ï¼Œæˆ‘ä»¬å·²ç»å®Œæˆäº† `monorepo` ç­–ç•¥çš„æ ¸å¿ƒéƒ¨åˆ†ï¼Œå®åœ¨æ˜¯å¾ˆå®¹æ˜“ä¸æ˜¯å—ï¼Ÿä½†æ˜¯è€è¯è¯´ã€Œè¡Œç™¾é‡Œè€…åŠä¹åã€ï¼Œè·ç¦»ä¼˜é›…çš„æ­å»ºä¸€ä¸ª `monorepo` é¡¹ç›®ï¼Œæˆ‘ä»¬è¿˜æœ‰ä¸€äº›è·¯è¦èµ°ã€‚\n<a name=\"eHgR9\"></a>\n### 3. ç»Ÿä¸€é…ç½®: åˆå¹¶åŒç±»é¡¹ - Eslintã€TypeScriptã€Babel\nç¼–å†™ä»£ç è¦éµå¾ª `DRY` åŸåˆ™ï¼ˆ`Don't Repeat Yourself` çš„ç¼©å†™ï¼‰ã€‚é‚£ä¹ˆï¼Œç†æ‰€å½“ç„¶åœ°ï¼Œæˆ‘ä»¬åº”è¯¥å°½é‡é¿å…åœ¨å¤šä¸ªå­é¡¹ç›®ä¸­æ”¾ç½®é‡å¤çš„ `eslintrc`ï¼Œ`tsconfig` ç­‰é…ç½®æ–‡ä»¶ã€‚å¹¸è¿çš„æ˜¯ï¼Œ`Babel`ï¼Œ`Eslint` å’Œ `Typescript` éƒ½æä¾›äº†ç›¸åº”çš„åŠŸèƒ½è®©æˆ‘ä»¬å‡å°‘è‡ªæˆ‘é‡å¤ã€‚\n<a name=\"p6Ser\"></a>\n#### TypeScript\næˆ‘ä»¬å¯ä»¥åœ¨ `package.json`ç›®å½•ä¸­æ”¾ç½® `tsconfig.setting.json` æ–‡ä»¶ï¼Œå¹¶åœ¨æ–‡ä»¶ä¸­å®šä¹‰é€šç”¨çš„ `ts` é…ç½®ã€‚ç„¶åï¼Œåœ¨æ¯ä¸ªå­é¡¹ç›®ä¸­ï¼Œå¯ä»¥é€šè¿‡ `extends` å±æ€§ï¼Œå¼•å…¥é€šç”¨é…ç½®ï¼Œå¹¶è®¾ç½® `compilerOptions.composite` çš„å€¼ä¸º `true`ï¼Œç†æƒ³æƒ…å†µä¸‹ï¼Œå­é¡¹ç›®ä¸­çš„ `tsconfig` æ–‡ä»¶åº”è¯¥ä»…åŒ…å«ä¸‹è¿°å†…å®¹ï¼š\n```json\n{\n  \"extends\": \"../tsconfig.setting.json\", // ç»§æ‰¿ packages ç›®å½•ä¸‹é€šç”¨é…ç½®\n  \"compilerOptions\": {\n    \"composite\": true, // ç”¨äºå¸®åŠ© TypeScript å¿«é€Ÿç¡®å®šå¼•ç”¨å·¥ç¨‹çš„è¾“å‡ºæ–‡ä»¶ä½ç½®\n    \"outDir\": \"dist\",\n    \"rootDir\": \"src\"\n  },\n  \"include\": [\"src\"]\n}\n```\n<a name=\"p5cZY\"></a>\n#### Eslint\nå¯¹äº `Eslint` é…ç½®æ–‡ä»¶ï¼Œæˆ‘ä»¬ä¹Ÿå¯ä»¥å¦‚æ³•ç‚®åˆ¶ï¼Œè¿™æ ·å®šä¹‰å­é¡¹ç›®çš„ `.eslintrc` æ–‡ä»¶å†…å®¹ï¼š\n```json\n{\n  \"extends\": \"../../.eslintrc\", // æ³¨æ„è¿™é‡Œçš„ä¸åŒ\n  \"parserOptions\": {\n    \"project\": \"tsconfig.json\"\n  }\n}\n```\nå¯¹äºé€šç”¨çš„ `eslint` é…ç½®ï¼Œæˆ‘ä»¬å¹¶æ²¡æœ‰å°†å…¶æ”¾ç½®åœ¨ `packages` ç›®å½•ä¸­ï¼Œè€Œæ˜¯æ”¾åœ¨æ•´ä¸ªé¡¹ç›®çš„æ ¹ç›®å½•ä¸‹ï¼Œè¿™æ ·åšçš„ç›®çš„æ˜¯ï¼šä¸€äº›ç¼–è¾‘å™¨æ’ä»¶åªä¼šåœ¨é¡¹ç›®æ ¹ç›®å½•å¯»æ‰¾ `.eslintrc` æ–‡ä»¶ï¼Œå› æ­¤ä¸ºäº†æˆ‘ä»¬çš„é¡¹ç›®èƒ½å¤Ÿä¿æŒè‰¯å¥½çš„**ã€Œå¼€å‘ç¯å¢ƒä¸€è‡´æ€§ã€**ï¼Œè¯·åŠ¡å¿…å°†é€šç”¨é…ç½®æ–‡ä»¶æ”¾ç½®åœ¨é¡¹ç›®çš„æ ¹ç›®å½•ä¸­ã€‚\n<a name=\"WcliS\"></a>\n#### Babel\n`Babel`é…ç½®æ–‡ä»¶åˆå¹¶çš„æ–¹å¼ä¸ `TypeScript`å¦‚å‡ºä¸€è¾™ï¼Œç”šè‡³æ›´åŠ ç®€å•ï¼Œæˆ‘ä»¬åªéœ€åœ¨å­é¡¹ç›®ä¸­çš„ `.babelrc`æ–‡ä»¶ä¸­è¿™æ ·å£°æ˜å³å¯ï¼š\n```json\n{\n  \"extends\": \"../.babelrc\"\n}\n```\nå½“ä¸€åˆ‡å‡†å¤‡å°±ç»ªåï¼Œæˆ‘ä»¬çš„é¡¹ç›®ç›®å½•åº”è¯¥å¤§è‡´å‘ˆç°å¦‚ä¸‹æ‰€ç¤ºçš„ç»“æ„ï¼š\n```markdown\n.\nâ”œâ”€â”€ package.json\nâ”œâ”€â”€ .eslintrc\nâ””â”€â”€ packages/\n    â”‚   â”œâ”€â”€ tsconfig.settings.json\n    â”‚   â”œâ”€â”€ .babelrc\n    â”œâ”€â”€ @mono/project_1/\n    â”‚   â”œâ”€â”€ index.js\n    â”‚   â”œâ”€â”€ .eslintrc\n    â”‚   â”œâ”€â”€ .babelrc\n    â”‚   â”œâ”€â”€ tsconfig.json\n    â”‚   â””â”€â”€ package.json\n    â””â”€â”€â”€@mono/project_2/\n        â”œâ”€â”€ index.js\n        â”œâ”€â”€ .eslintrc\n        â”œâ”€â”€ .babelrc\n        â”œâ”€â”€ tsconfig.json\n        â””â”€â”€ package.json\n```\n<a name=\"xyN0R\"></a>\n### 4. ç»Ÿä¸€å‘½ä»¤è„šæœ¬: scripty\nåœ¨ä¸Šä¸€æ­¥ä¸­ï¼Œæˆ‘ä»¬å°½å¯èƒ½çš„å°†æ‰€æœ‰é…ç½®æ–‡ä»¶è¿›è¡ŒæŠ½è±¡ï¼Œä»è€Œç²¾ç®€äº†ä»£ç ï¼Œå¹¶æé«˜äº†æ•´ä¸ªé¡¹ç›®çš„ä¸€è‡´æ€§ã€‚æˆ‘ä»¬çš„æ•´ä¸ªä»“åº“ä¹Ÿå› æ­¤æœ‰äº†**ã€Œæ›´æµ“éƒçš„ monorepo é£å‘³ â˜•ï¸ã€**ã€‚ä½†å¦‚æœä»”ç»†å®¡è§†æˆ‘ä»¬çš„æ•´ä¸ªå·¥ç¨‹æ–‡ä»¶ï¼Œè¿˜æœ‰ä¸€å¤„å­˜åœ¨ç€æ˜æ˜¾çš„ç‘•ç–µå’Œä¸€äº›æ¼äººçš„åå‘³é“ï¼Œå½“æ‚¨ä»”ç»†å®¡è§†æ‚¨çš„ä¼—å¤š `package.json` æ–‡ä»¶æ—¶ï¼Œæ‚¨å°±çŸ¥é“æˆ‘åœ¨è¯´ä»€ä¹ˆäº† `-- scripts` è„šæœ¬ã€‚\n\nå¦‚æœæ‚¨çš„å­é¡¹ç›®è¶³å¤Ÿå¤šï¼Œæ‚¨å¯èƒ½ä¼šå‘ç°ï¼Œæ¯ä¸ª `package.json` æ–‡ä»¶ä¸­çš„ `scripts` å±æ€§éƒ½å¤§åŒå°å¼‚ï¼Œå¹¶ä¸”ä¸€äº› `scripts` å……æ–¥ç€å„ç§ `Linux` è¯­æ³•ï¼Œä¾‹å¦‚ç®¡é“æ“ä½œç¬¦ï¼Œé‡å®šå‘æˆ–ç›®å½•ç”Ÿæˆã€‚é‡å¤å¸¦æ¥ä½æ•ˆï¼Œå¤æ‚åˆ™ä½¿äººéš¾ä»¥ç†è§£ï¼Œè¿™éƒ½æ˜¯éœ€è¦æˆ‘ä»¬è§£å†³çš„é—®é¢˜ã€‚\n\nè¿™é‡Œç»™å‡ºçš„è§£å†³æ–¹æ¡ˆæ˜¯ï¼Œä½¿ç”¨ [scripty](https://www.npmjs.com/package/scripty) ç®¡ç†æ‚¨çš„è„šæœ¬å‘½ä»¤ï¼Œç®€å•æ¥è¯´ï¼Œ`scripty` å…è®¸æ‚¨å°†è„šæœ¬å‘½ä»¤å®šä¹‰åœ¨æ–‡ä»¶ä¸­ï¼Œå¹¶åœ¨ `package.json` æ–‡ä»¶ä¸­ç›´æ¥é€šè¿‡æ–‡ä»¶åæ¥å¼•ç”¨ã€‚è¿™ä½¿æˆ‘ä»¬å¯ä»¥å®ç°å¦‚ä¸‹ç›®çš„ï¼š\n\n1. å­é¡¹ç›®é—´å¤ç”¨è„šæœ¬å‘½ä»¤ï¼›\n2. åƒå†™ä»£ç ä¸€æ ·ç¼–å†™è„šæœ¬å‘½ä»¤ï¼Œæ— è®ºå®ƒæœ‰å¤šå¤æ‚ï¼Œè€Œåœ¨è°ƒç”¨æ—¶ï¼Œåƒè°ƒç”¨å‡½æ•°ä¸€æ ·è°ƒç”¨ï¼›\n\né€šè¿‡ä½¿ç”¨ `scripty` ç®¡ç†æˆ‘ä»¬çš„ `monorepo` åº”ç”¨ï¼Œç›®å½•ç»“æ„çœ‹èµ·æ¥å°†ä¼šæ˜¯è¿™æ ·ï¼š\n```markdown\n.\nâ”œâ”€â”€ package.json\nâ”œâ”€â”€ .eslintrc\nâ”œâ”€â”€ scirpts/ # è¿™é‡Œå­˜æ”¾æ‰€æœ‰çš„è„šæœ¬\nâ”‚   â”‚   â”œâ”€â”€ packages/ # åŒ…çº§åˆ«è„šæœ¬\nâ”‚   â”‚   â”‚   â”œâ”€â”€ build.sh\nâ”‚   â”‚   â”‚   â””â”€â”€ test.sh\nâ”‚   â””â”€â”€â”€â””â”€â”€ workspaces/ # å…¨å±€è„šæœ¬\nâ”‚           â”œâ”€â”€ build.sh\nâ”‚           â””â”€â”€ test.sh\nâ””â”€â”€ packages/\n    â”‚   â”œâ”€â”€ tsconfig.settings.json\n    â”‚   â”œâ”€â”€ .babelrc\n    â”œâ”€â”€ @mono/project_1/\n    â”‚   â”œâ”€â”€ index.js\n    â”‚   â”œâ”€â”€ .eslintrc\n    â”‚   â”œâ”€â”€ .babelrc\n    â”‚   â”œâ”€â”€ tsconfig.json\n    â”‚   â””â”€â”€ package.json\n    â””â”€â”€ @mono/project_2/\n        â”œâ”€â”€ index.js\n        â”œâ”€â”€ .eslintrc\n        â”œâ”€â”€ .babelrc\n        â”œâ”€â”€ tsconfig.json\n        â””â”€â”€ package.json\n```\næ³¨æ„ï¼Œæˆ‘ä»¬è„šæœ¬åˆ†ä¸ºä¸¤ç±»**ã€Œpackage çº§åˆ«ã€**ä¸**ã€Œworkspace çº§åˆ«**ã€ï¼Œå¹¶ä¸”åˆ†åˆ«æ”¾åœ¨ä¸¤ä¸ªæ–‡ä»¶å¤¹å†…ã€‚è¿™æ ·åšçš„å¥½å¤„åœ¨äºï¼Œæˆ‘ä»¬æ—¢å¯ä»¥åœ¨é¡¹ç›®æ ¹ç›®å½•æ‰§è¡Œå…¨å±€è„šæœ¬ï¼Œä¹Ÿå¯ä»¥é’ˆå¯¹å•ä¸ªé¡¹ç›®æ‰§è¡Œç‰¹å®šçš„è„šæœ¬ã€‚\n\né€šè¿‡ä½¿ç”¨ `scripty`ï¼Œå­é¡¹ç›®çš„ `package.json` æ–‡ä»¶ä¸­çš„ `scripts` å±æ€§å°†å˜å¾—éå¸¸ç²¾ç®€ï¼š\n```json\n{\n  ...\n  \"scripts\": {\n    \"test\": \"scripty\",\n    \"lint\": \"scripty\",\n    \"build\": \"scripty\"\n  },\n  \"scripty\": {\n    \"path\": \"../../scripts/packages\" // æ³¨æ„è¿™é‡Œæˆ‘ä»¬æŒ‡å®šäº† scripty çš„è·¯å¾„\n  },\n  ...\n}\n```\nå¤§åŠŸå‘Šæˆï¼ğŸ‰ è‡³æ­¤ï¼Œæˆ‘ä»¬å°½å·±æ‰€èƒ½åœ°åˆ é™¤äº†æ•´ä¸ªé¡¹ç›®ä¸­çš„é‡å¤ä»£ç ï¼Œè®©æ•´ä¸ªé¡¹ç›®å˜å¾—å¹²å‡€ï¼Œæ¸…çˆ½å¹¶ä¸”æœ‰æå¼ºçš„å¤ç”¨æ€§ã€‚\n:::info\nğŸ§‰ å°è´´å£«ï¼š<br />åˆ«å¿˜äº†ä½¿ç”¨ `chmod -R u+x scripts` å‘½ä»¤ä½¿æ‰€æœ‰çš„ `shell` è„šæœ¬å…·å¤‡å¯æ‰§è¡Œæƒé™ï¼Œä¹Ÿåƒä¸‡åˆ«å¿˜äº†æŠŠè¿™æ¡è´´å£«å†™åœ¨æ‚¨çš„ `README.md` æ–‡ä»¶ä¸­ï¼\n:::\n<a name=\"HpKUb\"></a>\n### 5. ç»Ÿä¸€åŒ…ç®¡ç†: lerna\n![image.png](https://cdn.nlark.com/yuque/0/2022/png/732231/1648747742904-bb7df604-18ef-4547-93c2-382b3cd5a574.png#clientId=u6fbcdb1d-5fd6-4&from=paste&height=542&id=u76e7c2b9&originHeight=678&originWidth=750&originalType=binary&ratio=1&rotation=0&showTitle=false&size=197677&status=done&style=none&taskId=ufd26afd3-4bfc-4f4a-becf-0f9c4c874c0&title=&width=600)<br />æˆ‘æœ‰æ—¶ä¼šæ„Ÿæ…¨è‡ªå·±çš„çµæ„ŸåŒ®ä¹ï¼Œæ€ä¹ˆå°±æƒ³ä¸åˆ° `Lerna` è¿™æ ·æ—¢æœ‰ç¥è¯è‰²å½©åˆèƒ½è‡ªæˆ‘é‡Šä¹‰çš„å¥½åå­—ã€‚æ‚¨å¯ä»¥å¤§èƒ†æƒ³è±¡ï¼Œä¹å¤´é¾™çš„æ¯åªé¾™å¤´éƒ½åœ¨å¸®æ‚¨ç®¡ç†ç€ä¸€ä¸ªå­é¡¹ç›®ï¼Œè€Œæ‚¨åªéœ€è¦éª‘åœ¨é¾™èº«ä¸Šå‘å·æ–½ä»¤çš„åœºæ™¯ï¼Œè¿™åŸºæœ¬ä¸Šå°±æ˜¯æˆ‘ä»¬ä½¿ç”¨ `Lerna` æ—¶çš„ç›´è§‚æ„Ÿå—ã€‚\n\nè¿™ä¹Ÿæ˜¯ä¸ºä»€ä¹ˆå½“æˆ‘ä»¬æèµ· `monorepo` ç­–ç•¥ï¼Œå°±å‡ ä¹ä¸å¾—ä¸æåˆ° `Lerna` çš„åŸå› äº†ï¼Œå®ƒçš„ç¡®æä¾›äº†ä¸€ç§éå¸¸ä¾¿æ·çš„æ–¹å¼ä¾›æˆ‘ä»¬ç®¡ç† `monorepo` é¡¹ç›®ã€‚å½“å­é¡¹ç›®è¶Šå¤šæ—¶ï¼Œ`Lerna` å°±è¶Šèƒ½æ˜¾ç¤ºå…¶å¨åŠ›ã€‚\n\nå½“å¤šä¸ªå­é¡¹ç›®æ”¾åœ¨ä¸€ä¸ªä»£ç ä»“åº“ï¼Œå¹¶ä¸”å­é¡¹ç›®ä¹‹é—´åˆç›¸äº’ä¾èµ–æ—¶ï¼Œæˆ‘ä»¬é¢ä¸´çš„æ£˜æ‰‹é—®é¢˜æœ‰ä¸¤ä¸ªï¼š\n\n1. å¦‚æœæˆ‘ä»¬éœ€è¦åœ¨å¤šä¸ªå­ç›®å½•æ‰§è¡Œç›¸åŒçš„å‘½ä»¤ï¼Œæˆ‘ä»¬éœ€è¦æ‰‹åŠ¨è¿›å…¥å„ä¸ªç›®å½•ï¼Œå¹¶æ‰§è¡Œå‘½ä»¤ï¼›\n2. å½“ä¸€ä¸ªå­é¡¹ç›®æ›´æ–°åï¼Œæˆ‘ä»¬åªèƒ½æ‰‹åŠ¨è¿½è¸ªä¾èµ–è¯¥é¡¹ç›®çš„å…¶ä»–å­é¡¹ç›®ï¼Œå¹¶å‡çº§å…¶ç‰ˆæœ¬ã€‚\n\né€šè¿‡ä½¿ç”¨ `Lerna`ï¼Œè¿™äº›æ£˜æ‰‹çš„é—®é¢˜éƒ½å°†ä¸å¤å­˜åœ¨ã€‚\n\nå½“åœ¨é¡¹ç›®æ ¹ç›®å½•ä½¿ç”¨ `npx lerna init` åˆå§‹åŒ–åï¼Œæˆ‘ä»¬çš„æ ¹ç›®å½•ä¼šæ–°å¢ä¸€ä¸ª `lerna.json` æ–‡ä»¶ï¼Œé»˜è®¤å†…å®¹ä¸ºï¼š\n```json\n{\n  \"packages\": [\"packages/*\"],\n  \"version\": \"0.0.0\"\n}\n```\nè®©æˆ‘ä»¬ç¨ç¨æ”¹åŠ¨è¿™ä¸ªæ–‡ä»¶ï¼Œä½¿å…¶å˜ä¸ºï¼š\n```json\n{\n  \"packages\": [\"packages/*\"],\n  \"npmClient\": \"yarn\",\n  \"version\": \"independent\",\n  \"useWorkspaces\": true,\n}\n```\nå¯ä»¥æ³¨æ„åˆ°ï¼Œæˆ‘ä»¬æ˜¾ç¤ºå£°æ˜äº†æˆ‘ä»¬çš„åŒ…å®¢æˆ·ç«¯ï¼ˆ`npmClient`ï¼‰ä¸º `yarn`ï¼Œå¹¶ä¸”è®© `Lerna` è¿½è¸ªæˆ‘ä»¬ `workspaces` è®¾ç½®çš„ç›®å½•ï¼Œè¿™æ ·æˆ‘ä»¬å°±ä¾æ—§ä¿ç•™äº†ä¹‹å‰ `workspaces` çš„æ‰€æœ‰ç‰¹æ€§ï¼ˆå­é¡¹ç›®å¼•ç”¨å’Œé€šç”¨åŒ…æå‡ï¼‰ã€‚\n\né™¤æ­¤ä¹‹å¤–ä¸€ä¸ªæœ‰è¶£çš„æ”¹åŠ¨åœ¨äºæˆ‘ä»¬å°† `version` å±æ€§æŒ‡å®šä¸ºä¸€ä¸ªå…³é”®å­— `independent`ï¼Œè¿™å°†å‘Šè¯‰ `lerna` åº”è¯¥å°†æ¯ä¸ªå­é¡¹ç›®çš„ç‰ˆæœ¬å·çœ‹ä½œæ˜¯ç›¸äº’ç‹¬ç«‹çš„ã€‚å½“æŸä¸ªå­é¡¹ç›®ä»£ç æ›´æ–°åï¼Œè¿è¡Œ `lerna publish` æ—¶ï¼Œ`Lerna` å°†ç›‘å¬åˆ°ä»£ç å˜åŒ–çš„å­é¡¹ç›®å¹¶ä»¥äº¤äº’å¼ `CLI` æ–¹å¼è®©å¼€å‘è€…å†³å®šéœ€è¦å‡çº§çš„ç‰ˆæœ¬å·ï¼Œå…³è”çš„å­é¡¹ç›®ç‰ˆæœ¬å·ä¸ä¼šè‡ªåŠ¨å‡çº§ï¼Œåä¹‹ï¼Œå½“æˆ‘ä»¬å¡«å…¥å›ºå®šçš„ç‰ˆæœ¬å·æ—¶ï¼Œåˆ™ä»»ä¸€å­é¡¹ç›®çš„ä»£ç å˜åŠ¨ï¼Œéƒ½ä¼šå¯¼è‡´æ‰€æœ‰å­é¡¹ç›®çš„ç‰ˆæœ¬å·åŸºäºå½“å‰æŒ‡å®šçš„ç‰ˆæœ¬å·å‡çº§ã€‚\n\n`Lerna` æä¾›äº†å¾ˆå¤š `CLI` å‘½ä»¤ä»¥æ»¡è¶³æˆ‘ä»¬çš„å„ç§éœ€æ±‚ï¼Œä½†æ ¹æ® 2/8 æ³•åˆ™ï¼Œæ‚¨åº”è¯¥é¦–å…ˆå…³æ³¨ä»¥ä¸‹è¿™äº›å‘½ä»¤ï¼š\n\n- `lerna bootstrap`ï¼šç­‰åŒäº lerna link + yarn installï¼Œç”¨äºåˆ›å»ºç¬¦åˆé“¾æ¥å¹¶å®‰è£…ä¾èµ–åŒ…ï¼›\n- `lerna run`ï¼šä¼šåƒæ‰§è¡Œä¸€ä¸ª for å¾ªç¯ä¸€æ ·ï¼Œåœ¨æ‰€æœ‰å­é¡¹ç›®ä¸­æ‰§è¡Œ npm script è„šæœ¬ï¼Œå¹¶ä¸”ï¼Œå®ƒä¼šéå¸¸æ™ºèƒ½çš„è¯†åˆ«ä¾èµ–å…³ç³»ï¼Œå¹¶ä»æ ¹ä¾èµ–å¼€å§‹æ‰§è¡Œå‘½ä»¤ï¼›\n- `lerna exec`ï¼šåƒ `lerna run `ä¸€æ ·ï¼Œä¼šæŒ‰ç…§ä¾èµ–é¡ºåºæ‰§è¡Œå‘½ä»¤ï¼Œä¸åŒçš„æ˜¯ï¼Œå®ƒå¯ä»¥æ‰§è¡Œä»»ä½•å‘½ä»¤ï¼Œä¾‹å¦‚ `shell` è„šæœ¬ï¼›\n- `lerna publish`ï¼šå‘å¸ƒä»£ç æœ‰å˜åŠ¨çš„ `package`ï¼Œå› æ­¤é¦–å…ˆæ‚¨éœ€è¦åœ¨ä½¿ç”¨ `Lerna` å‰ä½¿ç”¨ `git commit` å‘½ä»¤æäº¤ä»£ç ï¼Œå¥½è®© `Lerna` æœ‰ä¸€ä¸ª `baseline`ï¼›\n- `lerna add`ï¼šå°†æœ¬åœ°æˆ–è¿œç¨‹çš„åŒ…ä½œä¸ºä¾èµ–æ·»åŠ è‡³å½“å‰çš„ `monorepo` ä»“åº“ä¸­ï¼Œè¯¥å‘½ä»¤è®© `Lerna` å¯ä»¥è¯†åˆ«å¹¶è¿½è¸ªåŒ…ä¹‹é—´çš„ä¾èµ–å…³ç³»ï¼Œå› æ­¤éå¸¸é‡è¦ï¼›\n```shell\n# å‘ @mono/project2 å’Œ @mono/project3 ä¸­æ·»åŠ  @mono/project1\nlerna add @mono/project1 '@mono/project{2,3}'\n```\n<a name=\"IoUuw\"></a>\n#### lerna é«˜çº§å‘½ä»¤\né™¤äº†ä¸Šé¢ä»‹ç»åˆ°çš„å¸¸ç”¨å‘½ä»¤å¤–ï¼Œ`Lerna` è¿˜æä¾›äº†ä¸€äº›å‚æ•°æ»¡è¶³æˆ‘ä»¬æ›´çµæ´»çš„éœ€æ±‚ï¼Œä¾‹å¦‚ï¼š\n\n- `--concurrency <number>`ï¼šå‚æ•°å¯ä»¥ä½¿ `Lerna` åˆ©ç”¨è®¡ç®—æœºä¸Šçš„å¤šä¸ªæ ¸å¿ƒï¼Œå¹¶å‘è¿è¡Œï¼Œä»è€Œæå‡æ„å»ºé€Ÿåº¦ï¼›\n- `--scope '@mono/{pkg1,pkg2}'`ï¼š`--scope` å‚æ•°å¯ä»¥æŒ‡å®š `Lerna` å‘½ä»¤çš„è¿è¡Œç¯å¢ƒï¼Œé€šè¿‡ä½¿ç”¨è¯¥å‚æ•°ï¼Œ`Lerna` å°†ä¸å†æ˜¯ä¸€æŠŠæ¢­çš„åœ¨æ‰€æœ‰ä»“åº“ä¸­æ‰§è¡Œå‘½ä»¤ï¼Œè€Œæ˜¯å¯ä»¥ç²¾å‡†åœ°åœ¨æˆ‘ä»¬æ‰€æŒ‡å®šçš„ä»“åº“ä¸­æ‰§è¡Œå‘½ä»¤ï¼Œå¹¶ä¸”è¿˜æ”¯æŒç¤ºä¾‹ä¸­çš„æ¨¡ç‰ˆè¯­æ³•ï¼›\n- `--stream`ï¼šè¯¥å‚æ•°å¯ä½¿æˆ‘ä»¬æŸ¥çœ‹ `Lerna` è¿è¡Œæ—¶çš„å‘½ä»¤æ‰§è¡Œä¿¡æ¯ï¼›\n<a name=\"iCnP2\"></a>\n#### npm åŒ…æœ¬åœ°å‘å¸ƒï¼šVerdaccio\n![image.png](https://cdn.nlark.com/yuque/0/2022/png/732231/1648748304497-5e3fff8e-c3f8-45d1-838f-c3e5bd18ed1c.png#clientId=u6fbcdb1d-5fd6-4&from=paste&height=160&id=u8ce3b6ee&originHeight=200&originWidth=602&originalType=binary&ratio=1&rotation=0&showTitle=false&size=15746&status=done&style=none&taskId=u1a3f5727-3987-4438-971e-193107de381&title=&width=481.6)<br />çœ‹åˆ°è¿™é‡Œï¼Œæ‚¨å¯èƒ½æƒ³è¦äº²è‡ªä½“éªŒä¸€æŠŠä½¿ç”¨ `Lerna` ç®¡ç†/å‘å¸ƒ `monorepo` é¡¹ç›®çš„æ„Ÿè§‰ã€‚å¯æ˜¯å¾ˆå¿«æ‚¨ä¼šå‘ç°ï¼Œå°†ç¤ºä¾‹ä»£ç å‘å¸ƒåˆ°çœŸå®ä¸–ç•Œçš„ `npm` ä»“åº“å¹¶éä¸€ä¸ªå¥½ä¸»æ„ï¼Œè¿™å¤šå°‘æœ‰äº›ä»¤äººæ²®ä¸§ï¼Œä½†æ˜¯åˆ«æ‹…å¿ƒï¼Œæ‚¨å¯ä»¥ä½¿ç”¨ [Verdaccio](https://verdaccio.org/) åœ¨æœ¬åœ°åˆ›å»ºä¸€ä¸ª `npm` ä»“åº“ä½œä¸ºä»£ç†ï¼Œç„¶åå°½æƒ…ä½“éªŒ `Lerna` çš„ç§ç§å¼ºå¤§ä¹‹å¤„ã€‚\n\nå®‰è£…è¿è¡Œ `Verdaccio` éå¸¸ç®€å•ï¼Œæ‚¨åªéœ€è¿è¡Œï¼š\n```shell\nnpm install --global verdaccio\n```\nåœ¨å…¨å±€å®‰è£… `Verdaccio` åº”ç”¨ï¼Œç„¶ååœ¨ `shell` ä¸­è¾“å…¥ï¼š\n```shell\nverdaccio\n```\nå³å¯é€šè¿‡ `localhost:4837` è®¿é—®æ‚¨çš„æœ¬åœ°ä»£ç† `npm` ä»“åº“ï¼Œåˆ«å¿˜äº†åœ¨æ‚¨çš„é¡¹ç›®æ ¹ç›®å½•åˆ›å»º `.npmrc` æ–‡ä»¶ï¼Œå¹¶åœ¨æ–‡ä»¶ä¸­å°† `npm` ä»“åº“åœ°å€æ”¹å†™ä¸ºæ‚¨çš„æœ¬åœ°ä»£ç†åœ°å€ï¼š\n```shell\nregistry=\"http://localhost:4873/\"\n```\nå¤§åŠŸå‘Šæˆ ğŸ™Œï¼æ¯å½“æ‚¨æ‰§è¡Œ `lerna publish` æ—¶ï¼Œå­é¡¹ç›®æ‰€æ„å»ºæˆçš„ `package` å°†ä¼šå‘å¸ƒåœ¨æœ¬åœ° `npm` ä»“åº“ä¸­ï¼Œè€Œå½“æ‚¨æ‰§è¡Œ `lerna bootstrap` æ—¶ï¼Œ`Verdaccio` å°†ä¼šæ”¾è¡Œï¼Œè®©æ‚¨æˆåŠŸä»è¿œç¨‹ `npm` ä»“åº“ä¸­æ‹‰å–ç›¸åº”çš„ä»£ç ã€‚\n<a name=\"iwmes\"></a>\n### 6. æ ¼å¼åŒ– commit ç®¡ç†\nè‡³æ­¤ï¼Œæˆ‘ä»¬å·²ç»æŒæ¡äº†ç»„ç»‡ä¸€ä¸ªé¡¹ç›®çº§ `monorepo` ä»“åº“çš„æ‰€æœ‰å‰æ²¿æŠ€å·§ï¼Œæœ€åï¼Œè®©æˆ‘ä»¬çœ‹çœ‹æœ€åä¸€ä¸ªå¯ä»¥ä¼˜åŒ–çš„åœ°æ–¹ï¼šä»£ç æäº¤æ—¶ï¼Œçº¦æŸ `commit` ä¿¡æ¯ã€‚\n\nä¸€ä¸ª `monorepo` ä»“åº“å¯èƒ½è¢«ä¸åŒçš„å¼€å‘è€…æäº¤ä¸åŒå­é¡¹ç›®çš„ä»£ç ï¼Œå¦‚æœæ²¡æœ‰è§„èŒƒåŒ–çš„ `commit` ä¿¡æ¯ï¼Œåœ¨æ•…éšœæ’æŸ¥æˆ–ç‰ˆæœ¬å›æ»šæ—¶æ¯«æ— æ„å¤–ä¼šé­é‡ç¾éš¾ã€‚å› æ­¤ï¼Œåƒä¸‡ä¸è¦å°çœ‹ `commit` ä¿¡æ¯æ ¼å¼åŒ–çš„é‡è¦æ€§ï¼ˆå½“ç„¶ï¼ŒåŒæ ·é‡è¦çš„è¿˜æœ‰ä»£ç æ³¨é‡Šï¼ï¼‰ã€‚\n\nä¸ºäº†æˆ‘ä»¬èƒ½å¤Ÿä¸€ç›®äº†ç„¶çš„è¿½è¸ªæ¯æ¬¡ä»£ç å˜æ›´çš„ä¿¡æ¯ï¼Œæˆ‘ä»¬ä½¿ç”¨ [commitlint](https://github.com/conventional-changelog/commitlint/#what-is-commitlint) å·¥å…·ä½œä¸ºæ ¼å¼åŒ– `commit` ä¿¡æ¯çš„ä¸äºŒä¹‹é€‰ã€‚\n\né¡¾åæ€ä¹‰ï¼Œ`commitlint` å¯ä»¥å¸®åŠ©æˆ‘ä»¬æ£€æŸ¥æäº¤çš„ `commit` ä¿¡æ¯ï¼Œå®ƒå¼ºåˆ¶çº¦æŸæˆ‘ä»¬çš„ `commit` ä¿¡æ¯å¿…é¡»åœ¨å¼€å¤´é™„åŠ æŒ‡å®šç±»å‹ï¼Œç”¨äºæ ‡ç¤ºæœ¬æ¬¡æäº¤çš„å¤§è‡´æ„å›¾ï¼Œæ”¯æŒçš„ç±»å‹å…³é”®å­—æœ‰ï¼š\n\n- `feat`ï¼šè¡¨ç¤ºæ·»åŠ ä¸€ä¸ªæ–°ç‰¹æ€§ï¼›\n- `chore`ï¼šè¡¨ç¤ºåšäº†ä¸€äº›ä¸ç‰¹æ€§å’Œä¿®å¤æ— å…³çš„ã€Œå®¶åŠ¡äº‹ã€ï¼›\n- `fix`ï¼šè¡¨ç¤ºä¿®å¤äº†ä¸€ä¸ª `Bug`ï¼›\n- `refactor`ï¼šè¡¨ç¤ºæœ¬æ¬¡æäº¤æ˜¯å› ä¸ºé‡æ„äº†ä»£ç ï¼›\n- `style`ï¼šè¡¨ç¤ºä»£ç ç¾åŒ–æˆ–æ ¼å¼åŒ–ï¼›\n- ...\n\næˆ‘å¼ºçƒˆå»ºè®®æ‚¨éµå¾ªè¯¥è§„èŒƒç¼–å†™æ‚¨çš„ `commit` ä¿¡æ¯ï¼Œä¸è¦å·æ‡’ï¼ŒåšæŒä¸‹å»ï¼Œæ‚¨çš„ git æ—¥å¿—å°†ä¼šæ˜¾å¾—æ•´é½ï¼Œæœ‰æ¡ç†ï¼Œå¯Œæœ‰è¡¨ç°åŠ›ï¼ŒåŒæ—¶ï¼Œæ‚¨ä¹Ÿä¼šæ”¶åˆ°åŒè¡Œçš„äº¤å£ç§°èµï¼Œäººäººéƒ½ä¼šä»¥å’Œæ‚¨è¿™æ ·ä¼˜é›…çš„å·¥ç¨‹å¸ˆåˆä½œä¸ºè£ã€‚\n\né™¤äº†é™å®š `commit` ä¿¡æ¯ç±»å‹å¤–ï¼Œ`commitlint` è¿˜æ”¯æŒï¼ˆè™½ç„¶ä¸æ˜¯å¿…é¡»çš„ï¼‰æ˜¾ç¤ºæŒ‡å®šæˆ‘ä»¬æœ¬æ¬¡æäº¤æ‰€å¯¹åº”çš„å­é¡¹ç›®åç§°ã€‚å‡å¦‚æˆ‘ä»¬æœ‰ä¸€ä¸ªåä¸º `@mono/project1` çš„å­é¡¹ç›®ï¼Œæˆ‘ä»¬é’ˆå¯¹è¯¥é¡¹ç›®æäº¤çš„ `commit` ä¿¡æ¯å¯ä»¥å†™ä¸ºï¼š\n```git\ngit commit -m \"feat(project1): add a attractive button\" # æ³¨æ„ï¼Œæˆ‘ä»¬çœç•¥äº† @mono çš„é¡¹ç›®å‰ç¼€\n```\næ¯«æ— ç–‘é—®ï¼Œè¿™å°†ä¼šä½¿æˆ‘ä»¬çš„ `commit` ä¿¡æ¯æ›´å…·è¡¨ç°åŠ›ã€‚\n\næˆ‘ä»¬å¯ä»¥é€šè¿‡ä¸‹é¢çš„å‘½ä»¤å®‰è£… `commitlint` ä»¥åŠå‘¨è¾¹ä¾èµ–ï¼š\n```shell\nnpm i -D @commitlint/cli @commitlint/config-conventional @commitlint/config-lerna-scopes commitlint husky lerna-changelog\n```\næ³¨æ„åˆ°äº†å—ï¼Ÿæˆ‘å·å·å®‰è£…äº† [husky](https://www.npmjs.com/package/husky)ï¼Œå®ƒèƒ½å¤Ÿå¸®åŠ©æˆ‘ä»¬åœ¨æäº¤ `commit` ä¿¡æ¯æ—¶è‡ªåŠ¨è¿è¡Œ `commitlint` è¿›è¡Œæ£€æŸ¥ï¼Œä½†åœ¨è¿™ä¹‹å‰ï¼Œæˆ‘ä»¬éœ€è¦å†åœ¨æ ¹ç›®å½•ä¸‹çš„ `package.json` æ–‡ä»¶é‡ŒåŠ ç‚¹æ–™ï¼Œåƒè¿™æ ·ï¼š\n```json\n{\n ...\n \"husky\": {\n    \"hooks\": {\n      \"commit-msg\": \"commitlint -E HUSKY_GIT_PARAMS\"\n    }\n  }\n ...\n}\n```\nä¸ºäº†èƒ½å¤Ÿè®© `commitlint` æ„ŸçŸ¥æˆ‘ä»¬çš„å­é¡¹ç›®åç§°ï¼Œæˆ‘ä»¬è¿˜éœ€åœ¨é¡¹ç›®æ ¹ç›®å½•ä¸­å¢åŠ  `commitlint.config.js` æ–‡ä»¶ï¼Œå¹¶è®¾ç½®æ–‡ä»¶å†…å®¹ä¸ºï¼š\n```javascript\nmodule.exports = {\n  extends: [\n    \"@commitlint/config-conventional\",\n    \"@commitlint/config-lerna-scopes\",\n  ],\n};\n```\nè‡³æ­¤ï¼Œæˆ‘ä»¬ç»Ÿä¸€å¹¶è§„èŒƒåŒ–äº† `monorepo` é¡¹ç›®çš„ `commit` ä¿¡æ¯ï¼Œç»ˆäºæ•´ä¸ª `monorepo` å·¥ç¨‹åŒ–çš„æœ€åä¸€å—æ‹¼å›¾è¢«æˆ‘ä»¬æ‹¼ä¸Šäº†ï¼<br />ï¼ˆé¡ºä¾¿ä¸€æï¼Œæ‚¨å¯ä»¥é€šè¿‡åœ¨å‘½ä»¤è¡Œæ‰§è¡Œ `echo \"build(project1): change something\" | npx commitlint` å‘½ä»¤å³å¯éªŒè¯æ‚¨çš„ `commit` ä¿¡æ¯æ˜¯å¦é€šè¿‡ `commitlint` çš„æ£€æŸ¥ã€‚ï¼‰\n",
  "body_draft": "",
  "body_html": "<!doctype html><div class=\"lake-content\" typography=\"classic\"><h2 id=\"JA07R\"><span class=\"ne-text\">å¤§å‹é¡¹ç›®ç®¡ç†  Monorepo</span></h2><h3 id=\"x1ZjE\"><span class=\"ne-text\">èƒŒæ™¯</span></h3><p id=\"u2e632aaa\" class=\"ne-p\"><span class=\"ne-text\">ä¸€ä¸ªä½“ç³»åºå¤§çš„ä»£ç åº“æ‹†åˆ†æˆå¤šä¸ªå•ç‹¬çš„å…·æœ‰ç‹¬ç«‹ç‰ˆæœ¬çš„ </span><code class=\"ne-code\"><span class=\"ne-text\">package</span></code><span class=\"ne-text\">ï¼Œå¯¹äºå¼€å‘å®é™…çš„ä»£ç å…±äº«éå¸¸æœ‰ç”¨ã€‚æ•°é‡è¾ƒå°‘çš„æ—¶å€™ï¼Œå¤šä¸ªä»“åº“ç»´æŠ¤ä¸ä¼šæœ‰å¤ªå¤§é—®é¢˜ï¼Œä½†æ˜¯å½“ç‹¬ç«‹ </span><code class=\"ne-code\"><span class=\"ne-text\">package</span></code><span class=\"ne-text\"> æ•°é‡è¶Šæ¥è¶Šå¤šçš„æ—¶å€™ï¼Œå°±ä¼šæš´éœ²å‡ºå¾ˆå¤šå¼€å‘å›°æ‰°çš„é—®é¢˜ï¼š</span></p><ol class=\"ne-ol\"><li id=\"u9902f6b3\"><span class=\"ne-text\">è·¨è¶Šå¾ˆå¤šä»£ç å­˜å‚¨åº“ï¼Œä¿®æ”¹ä»£ç å¾ˆéº»çƒ¦</span></li><li id=\"ufa96120e\"><code class=\"ne-code\"><span class=\"ne-text\">issue</span></code><span class=\"ne-text\"> éš¾ä»¥ç»Ÿä¸€è¿½è¸ªã€ç®¡ç†ï¼Œå› ä¸ºå…¶åˆ†æ•£åœ¨ç‹¬ç«‹çš„ </span><code class=\"ne-code\"><span class=\"ne-text\">repo</span></code><span class=\"ne-text\"> é‡Œ</span></li><li id=\"u893ee488\"><span class=\"ne-text\">è·¨å­˜å‚¨åº“çš„ä»£ç æµ‹è¯•éå¸¸å¤æ‚</span></li><li id=\"u8fd3db18\"><span class=\"ne-text\">å¤šä¸ª </span><code class=\"ne-code\"><span class=\"ne-text\">package</span></code><span class=\"ne-text\"> ä¹‹é—´ç›¸äº’ä¾èµ–ï¼Œå¯¹äºäº’ç›¸å¼•ç”¨çš„ç‰ˆæœ¬å·ä¾èµ–ç»´æŠ¤æˆæœ¬éå¸¸é«˜ï¼Œå¼€å‘äººå‘˜ä¸å¾—ä¸ä½¿ç”¨ </span><code class=\"ne-code\"><span class=\"ne-text\">npm link</span></code><span class=\"ne-text\"> çš„æ–¹å¼å»å¼•ç”¨ä¾èµ–</span></li></ol><p id=\"u4bdd18fc\" class=\"ne-p\"><span class=\"ne-text\"></span></p><p id=\"u5ed6653c\" class=\"ne-p\"><span class=\"ne-text\">ä¸ºäº†è§£å†³ä¸Šé¢è¿™äº›é—®é¢˜ï¼Œä¸€äº›é¡¹ç›®ä¼šå°†å…¶ä»£ç åº“ç»Ÿä¸€ç»„ç»‡åˆ°å¤šåŒ…å­˜å‚¨åº“ä¸­ï¼Œæˆ‘ä»¬ç§°ä¹‹ä¸º </span><code class=\"ne-code\"><span class=\"ne-text\">monorepos</span></code><span class=\"ne-text\">ã€‚å¦‚ï¼š</span><code class=\"ne-code\"><span class=\"ne-text\">babel</span></code><span class=\"ne-text\">ã€</span><code class=\"ne-code\"><span class=\"ne-text\">react</span></code><span class=\"ne-text\">ã€</span><code class=\"ne-code\"><span class=\"ne-text\">angular</span></code><span class=\"ne-text\">ã€</span><code class=\"ne-code\"><span class=\"ne-text\">ember</span></code><span class=\"ne-text\">ã€</span><code class=\"ne-code\"><span class=\"ne-text\">meteor</span></code><span class=\"ne-text\">ã€</span><code class=\"ne-code\"><span class=\"ne-text\">jest</span></code><span class=\"ne-text\">ä¹‹ç±»çš„é¡¹ç›®ä»¥åŠè®¸å¤šå…¶ä»–é¡¹ç›®éƒ½åœ¨å•ä¸ªå­˜å‚¨åº“ä¸­å¼€å‘æ‰€æœ‰è½¯ä»¶åŒ…</span></p><p id=\"u2382a6fb\" class=\"ne-p\"><img src=\"https://cdn.nlark.com/yuque/0/2022/png/732231/1648745861879-4f0cfeac-98d9-4bb6-976c-ce3d58870495.png\" width=\"600\" id=\"ufb051cd7\" class=\"ne-image\"></p><h3 id=\"WDvDL\"><span class=\"ne-text\">æ¦‚å¿µ</span></h3><p id=\"u95179c94\" class=\"ne-p\"><code class=\"ne-code\"><span class=\"ne-text\">Menorepo</span></code><span class=\"ne-text\"> æ˜¯ç®¡ç†é¡¹ç›®ä»£ç çš„ä¸€ä¸ªæ–¹å¼ï¼ŒæŒ‡åœ¨ä¸€ä¸ªé¡¹ç›®ä»“åº“ </span><code class=\"ne-code\"><span class=\"ne-text\">repo</span></code><span class=\"ne-text\"> ä¸­ç®¡ç†å¤šä¸ªæ¨¡å—/åŒ…(</span><code class=\"ne-code\"><span class=\"ne-text\">package</span></code><span class=\"ne-text\">)ï¼Œä¸åŒäºå¸¸è§çš„æ¯ä¸ªæ¨¡å—å»ºç«‹ä¸€ä¸ª </span><code class=\"ne-code\"><span class=\"ne-text\">repo</span></code><span class=\"ne-text\">ã€‚</span></p><p id=\"uad5b860b\" class=\"ne-p\"><span class=\"ne-text\"></span></p><div data-type=\"success\" class=\"ne-alert\"><p id=\"ua18f5de6\" class=\"ne-p\"><code class=\"ne-code\"><span class=\"ne-text\">Meonorepo</span></code><span class=\"ne-text\">çš„å¥½å¤„ï¼š</span></p><p id=\"ua2f329e1\" class=\"ne-p\" style=\"text-indent: 2em\"><span class=\"ne-text\">ç»Ÿä¸€çš„å·¥ä½œæµã€</span><code class=\"ne-code\"><span class=\"ne-text\">Code Shaking</span></code><span class=\"ne-text\">ã€‚æ­å»ºä¸€å¥—è„šæ‰‹æ¶ï¼Œå°±èƒ½ç®¡ç†(æ„å»ºã€æµ‹è¯•ã€å‘å¸ƒ)å¤šä¸ª packageï¼Œç»Ÿä¸€æµ‹è¯•ã€ç»Ÿä¸€å‘ç‰ˆã€‚</span></p></div><p id=\"u9ee7ed42\" class=\"ne-p\"><br></p><div data-type=\"danger\" class=\"ne-alert\"><p id=\"u8a7c6853\" class=\"ne-p\"><code class=\"ne-code\"><span class=\"ne-text\">Meonorepo</span></code><span class=\"ne-text\">çš„åå¤„ï¼š</span></p><p id=\"u63ade5a2\" class=\"ne-p\" style=\"text-indent: 2em\"><span class=\"ne-text\">å°±æ˜¯ </span><code class=\"ne-code\"><span class=\"ne-text\">repo</span></code><span class=\"ne-text\">çš„ä½“ç§¯ä¼šæ¯”è¾ƒå¤§ï¼Œç”±äºæ¯ä¸ª </span><code class=\"ne-code\"><span class=\"ne-text\">package</span></code><span class=\"ne-text\">éƒ½æœ‰è‡ªå·±çš„ </span><code class=\"ne-code\"><span class=\"ne-text\">package.json</span></code><span class=\"ne-text\">ï¼Œä¼šå®‰è£…è‡ªå·±çš„ </span><code class=\"ne-code\"><span class=\"ne-text\">node_modules</span></code><span class=\"ne-text\">ï¼Œä½†æ˜¯å¤§æ¦‚ç‡ä¼šå¾ˆå¤šåŒ…æ˜¯é‡å¤çš„ï¼Œè¿™å°±ä½¿æœ¬æ¥å°±å¾ˆå¤§çš„ </span><code class=\"ne-code\"><span class=\"ne-text\">node_modules</span></code><span class=\"ne-text\">å˜å¾—æ›´å¤§ã€‚</span></p></div><p id=\"ud4fc82ae\" class=\"ne-p\"><span class=\"ne-text\"></span></p><div data-type=\"info\" class=\"ne-alert\"><p id=\"uee3af175\" class=\"ne-p\"><code class=\"ne-code\"><span class=\"ne-text\">Meonorepo</span></code><span class=\"ne-text\">çš„è§£å†³æ–¹æ¡ˆï¼š</span></p><p id=\"u03183c70\" class=\"ne-p\" style=\"text-indent: 2em\"><code class=\"ne-code\"><span class=\"ne-text\">lerna</span></code><span class=\"ne-text\">å’Œ</span><code class=\"ne-code\"><span class=\"ne-text\">workspaces</span></code><span class=\"ne-text\">ç‰¹æ€§ã€‚</span></p><p id=\"uc46ba0dc\" class=\"ne-p\"><br></p><p id=\"u54cd54c2\" class=\"ne-p\"><span class=\"ne-text\">å¯¹äº </span><code class=\"ne-code\"><span class=\"ne-text\">node_modules</span></code><span class=\"ne-text\">åŒ…é‡å¤å®‰è£…çš„é—®é¢˜ï¼š</span></p><p id=\"u5100dad8\" class=\"ne-p\" style=\"text-indent: 2em\"><code class=\"ne-code\"><span class=\"ne-text\">lerna</span></code><span class=\"ne-text\">æä¾›äº† </span><code class=\"ne-code\"><span class=\"ne-text\">--hoist</span></code><span class=\"ne-text\">é€‰é¡¹ï¼Œç›¸åŒçš„ä¾èµ–ï¼Œä¼š</span><strong><span class=\"ne-text\">æå‡</span></strong><span class=\"ne-text\">åˆ° </span><code class=\"ne-code\"><span class=\"ne-text\">repo</span></code><span class=\"ne-text\">æ ¹ç›®å½•ä¸‹å®‰è£…(æ¯”è¾ƒé¸¡è‚‹)ï¼Œ</span><code class=\"ne-code\"><span class=\"ne-text\">lerna</span></code><span class=\"ne-text\"> ç›´æ¥ä»¥å­—ç¬¦ä¸²å¯¹æ¯” </span><code class=\"ne-code\"><span class=\"ne-text\">dependency</span></code><span class=\"ne-text\"> çš„ç‰ˆæœ¬å·ï¼Œå®Œå…¨ç›¸åŒæ‰ä¼šè¿›è¡Œæå‡ï¼Œ</span><code class=\"ne-code\"><span class=\"ne-text\">npm</span></code><span class=\"ne-text\"> çš„ </span><code class=\"ne-code\"><span class=\"ne-text\">semver</span></code><span class=\"ne-text\"> çº¦å®š(è¯­ä¹‰åŒ–ç‰ˆæœ¬è§„èŒƒ)åœ¨è¿™é‡Œå¹¶ä¸èµ·ä½œç”¨ã€‚</span></p><p id=\"u81347626\" class=\"ne-p\" style=\"text-indent: 2em\"><code class=\"ne-code\"><span class=\"ne-text\">yarn</span></code><span class=\"ne-text\"> ä½œä¸ºåŒ…ç®¡ç†å™¨å¾ˆå¥½çš„è§£å†³äº†è¿™ä¸ªé—®é¢˜ï¼Œåªéœ€è¦åœ¨æ ¹ </span><code class=\"ne-code\"><span class=\"ne-text\">package.json</span></code><span class=\"ne-text\">ä¸­ä»¥ </span><code class=\"ne-code\"><span class=\"ne-text\">workspaces</span></code><span class=\"ne-text\">å­—æ®µå£°æ˜ </span><code class=\"ne-code\"><span class=\"ne-text\">packages</span></code><span class=\"ne-text\"> ç›®å½•å’Œ </span><code class=\"ne-code\"><span class=\"ne-text\">&quot;private&quot;: true</span></code><span class=\"ne-text\">ï¼Œ</span><code class=\"ne-code\"><span class=\"ne-text\">yarn</span></code><span class=\"ne-text\">å°±ä¼šä»¥ </span><code class=\"ne-code\"><span class=\"ne-text\">menorepo</span></code><span class=\"ne-text\">çš„æ–¹å¼ç®¡ç† </span><code class=\"ne-code\"><span class=\"ne-text\">packages</span></code><span class=\"ne-text\">ã€‚</span><code class=\"ne-code\"><span class=\"ne-text\">yarn</span></code><span class=\"ne-text\">ä¼šä»¥ </span><code class=\"ne-code\"><span class=\"ne-text\">semver</span></code><span class=\"ne-text\">çº¦å®šæ¥åˆ†æ </span><code class=\"ne-code\"><span class=\"ne-text\">dependencies</span></code><span class=\"ne-text\">çš„ç‰ˆæœ¬ï¼Œå®‰è£…ä¾èµ–æ—¶æ›´å¿«ã€å ç”¨ä½“ç§¯æ›´å°ã€‚(</span><code class=\"ne-code\"><span class=\"ne-text\">pnpm</span></code><span class=\"ne-text\">ä¹Ÿæ”¯æŒ </span><code class=\"ne-code\"><span class=\"ne-text\">workspaces</span></code><span class=\"ne-text\">)</span></p><p id=\"u77df6c63\" class=\"ne-p\" style=\"text-indent: 2em\"><span class=\"ne-text\">åœ¨ </span><code class=\"ne-code\"><span class=\"ne-text\">npm7.x+</span></code><span class=\"ne-text\"> åï¼Œä¹Ÿå¼€å§‹æ”¯æŒäº† </span><code class=\"ne-code\"><span class=\"ne-text\">workspaces</span></code><span class=\"ne-text\"> ç‰¹æ€§ï¼Œè¿™ä¸ªåŠŸèƒ½è®©æˆ‘ä»¬åœ¨æœ¬åœ°å¼€å‘åŒ…ï¼Œå°¤å…¶æ˜¯å¤šä¸ªäº’ç›¸ä¾èµ–çš„åŒ…æ—¶æ›´åŠ å¾—å¿ƒåº”æ‰‹ã€‚å®ƒå¯ä»¥é¿å…æˆ‘ä»¬å†æ‰‹åŠ¨çš„å»æ‰§è¡Œ </span><code class=\"ne-code\"><span class=\"ne-text\">npm link</span></code><span class=\"ne-text\"> å‘½ä»¤ï¼Œè€Œæ˜¯åœ¨</span><code class=\"ne-code\"><span class=\"ne-text\">npm install</span></code><span class=\"ne-text\"> çš„æ—¶å€™ï¼Œä¼šè‡ªåŠ¨æŠŠ </span><code class=\"ne-code\"><span class=\"ne-text\">workspaces</span></code><span class=\"ne-text\">ä¸‹é¢çš„åˆæ³•åŒ…ï¼Œè‡ªåŠ¨åˆ›å»ºç¬¦å·é“¾æ¥åˆ°æ ¹ç›®å½•çš„ </span><code class=\"ne-code\"><span class=\"ne-text\">node_modules</span></code><span class=\"ne-text\">é‡Œã€‚èƒ½å¤Ÿè¢«å•ç‹¬ä½œä¸ºä¸€ä¸ªåŒ…åˆ›å»ºç¬¦å·é“¾æ¥çš„æ–‡ä»¶å¤¹ï¼Œæˆ‘ä»¬å°±ç§°ä¸ºä¸€ä¸ª</span><code class=\"ne-code\"><span class=\"ne-text\">workspace</span></code><span class=\"ne-text\">ï¼Œæ‰€ä»¥æ˜¯å¯ä»¥æœ‰å¤šä¸ª</span><code class=\"ne-code\"><span class=\"ne-text\">workspace</span></code><span class=\"ne-text\"> çš„ï¼Œå¯ä»¥åœ¨ </span><code class=\"ne-code\"><span class=\"ne-text\">package.json</span></code><span class=\"ne-text\"> çš„ </span><code class=\"ne-code\"><span class=\"ne-text\">workspaces</span></code><span class=\"ne-text\"> å­—æ®µä¸­è¿›è¡Œé…ç½®ã€‚</span></p></div><h3 id=\"gLXts\"><span class=\"ne-text\">lerna ä»‹ç»</span></h3><h4 id=\"KinvH\"><span class=\"ne-text\">lerna ç‰¹æ€§</span></h4><ol class=\"ne-ol\"><li id=\"u3a0ab3e5\"><span class=\"ne-text\">è‡ªåŠ¨è§£å†³ </span><code class=\"ne-code\"><span class=\"ne-text\">packages</span></code><span class=\"ne-text\"> ä¹‹é—´çš„ä¾èµ–å…³ç³»</span></li><li id=\"u0536c488\"><span class=\"ne-text\">é€šè¿‡ </span><code class=\"ne-code\"><span class=\"ne-text\">git</span></code><span class=\"ne-text\"> æ£€æµ‹æ–‡ä»¶æ”¹åŠ¨ï¼Œè‡ªåŠ¨å‘å¸ƒ</span></li><li id=\"u8ee976f0\"><span class=\"ne-text\">æ ¹æ® </span><code class=\"ne-code\"><span class=\"ne-text\">git</span></code><span class=\"ne-text\"> æäº¤è®°å½•ï¼Œè‡ªåŠ¨ç”Ÿæˆ </span><code class=\"ne-code\"><span class=\"ne-text\">CHANGELOG</span></code></li></ol><p id=\"u3aeb1188\" class=\"ne-p\"><span class=\"ne-text\"></span></p><p id=\"u385b940d\" class=\"ne-p\"><code class=\"ne-code\"><span class=\"ne-text\">lerna</span></code><span class=\"ne-text\"> ä¸è´Ÿè´£æ„å»ºã€æµ‹è¯•ç­‰ä»»åŠ¡ï¼Œå®ƒæå‡ºäº†ä¸€ç§é›†ä¸­ç®¡ç† </span><code class=\"ne-code\"><span class=\"ne-text\">package</span></code><span class=\"ne-text\"> çš„ç›®å½•æ¨¡å¼ï¼Œæä¾›äº†ä¸€å¥—è‡ªåŠ¨åŒ–ç®¡ç†ç¨‹åºï¼Œè®©å¼€å‘è€…ä¸å¿…å†æ·±è€•åˆ°å…·ä½“çš„ç»„ä»¶é‡Œç»´æŠ¤å†…å®¹ï¼Œåœ¨é¡¹ç›®æ ¹ç›®å½•å°±å¯ä»¥å…¨å±€æŒæ§ï¼ŒåŸºäº </span><code class=\"ne-code\"><span class=\"ne-text\">npm scripts</span></code><span class=\"ne-text\">ï¼Œå¯ä»¥å¾ˆå¥½åœ°å®Œæˆç»„ä»¶æ„å»ºï¼Œä»£ç æ ¼å¼åŒ–ç­‰æ“ä½œï¼Œå¹¶åœ¨æœ€åç”¨ </span><code class=\"ne-code\"><span class=\"ne-text\">lerna</span></code><span class=\"ne-text\"> ç»Ÿä¸€å˜æ›´ </span><code class=\"ne-code\"><span class=\"ne-text\">package</span></code><span class=\"ne-text\"> ç‰ˆæœ¬ï¼Œå°†å…¶å‘å¸ƒä¸Šä¼ è‡³è¿œç«¯ã€‚</span></p><h4 id=\"jUT5Q\"><span class=\"ne-text\">lerna å¸¸ç”¨å‘½ä»¤</span></h4><ul class=\"ne-ul\"><li id=\"u001c375c\"><code class=\"ne-code\"><span class=\"ne-text\">lerna init</span></code><span class=\"ne-text\">ï¼šåˆå§‹åŒ– </span><code class=\"ne-code\"><span class=\"ne-text\">monorepo</span></code><span class=\"ne-text\"> å·¥ç¨‹é¡¹ç›®ï¼Œç”Ÿæˆ </span><code class=\"ne-code\"><span class=\"ne-text\">packages/</span></code><span class=\"ne-text\">ã€</span><code class=\"ne-code\"><span class=\"ne-text\">package.json</span></code><span class=\"ne-text\">ã€</span><code class=\"ne-code\"><span class=\"ne-text\">lerna.json</span></code></li></ul><pre data-language=\"markdown\" id=\"SALCV\" class=\"ne-codeblock language-markdown\">.\nâ”œâ”€â”€ lerna.json\nâ”œâ”€â”€ package.json\nâ””â”€â”€ packages/ # è¿™é‡Œå°†å­˜æ”¾æ‰€æœ‰å­ repo ç›®å½•\n    â”œâ”€â”€ project_1/\n    â”‚   â”œâ”€â”€ index.js\n    â”‚   â”œâ”€â”€ node_modules/\n    â”‚   â””â”€â”€ package.json\n    â”œâ”€â”€ project_2/\n    â”‚   â”œâ”€â”€ index.js\n    â”‚   â”œâ”€â”€ node_module/\n    â”‚   â””â”€â”€ package.json\n    ...</pre><ul class=\"ne-ul\"><li id=\"uaec811cd\"><code class=\"ne-code\"><span class=\"ne-text\">lerna bootstrap --hoist</span></code><span class=\"ne-text\"> ä¸ºæ‰€æœ‰é¡¹ç›®å®‰è£…ä¾èµ–ï¼Œå¹¶é“¾æ¥æ‰€æœ‰ä¾èµ–åŒ…ï¼Œç±»ä¼¼äº </span><code class=\"ne-code\"><span class=\"ne-text\">npm i</span></code><span class=\"ne-text\">ä½¿ç”¨</span><code class=\"ne-code\"><span class=\"ne-text\">--hoist</span></code><span class=\"ne-text\"> é€‰é¡¹åï¼Œæ‰€æœ‰å…¬å…±çš„ä¾èµ–éƒ½åªä¼šå®‰è£…åœ¨æ ¹ç›®å½•çš„ </span><code class=\"ne-code\"><span class=\"ne-text\">node_modules</span></code><span class=\"ne-text\"> ç›®å½•ä¸­å»,è€Œä¸ä¼šåœ¨æ¯ä¸ªåŒ…ç›®å½•ä¸‹çš„ </span><code class=\"ne-code\"><span class=\"ne-text\">node_modules</span></code><span class=\"ne-text\"> ä¸­éƒ½ä¿ç•™å„è‡ªçš„ä¾èµ–åŒ…ã€‚</span></li><li id=\"ua7e80eb9\"><code class=\"ne-code\"><span class=\"ne-text\">lerna clean</span></code><span class=\"ne-text\"> åˆ é™¤æ‰€æœ‰é¡¹ç›®çš„ </span><code class=\"ne-code\"><span class=\"ne-text\">node_modules</span></code><span class=\"ne-text\"> ç›®å½•</span></li><li id=\"ua163dc27\"><code class=\"ne-code\"><span class=\"ne-text\">lerna run [script]</span></code><span class=\"ne-text\"> é»˜è®¤ä¸ºæ‰€æœ‰çš„é¡¹ç›®è¿è¡Œ </span><code class=\"ne-code\"><span class=\"ne-text\">npm run [script]</span></code><span class=\"ne-text\">è„šæœ¬ï¼Œå¯ä»¥æŒ‡å®šé¡¹ç›®ï¼›</span></li><li id=\"u2b81b98e\"><code class=\"ne-code\"><span class=\"ne-text\">lerna changed</span></code><span class=\"ne-text\"> åˆ—å‡ºä¸‹æ¬¡å‘ç‰ˆ </span><code class=\"ne-code\"><span class=\"ne-text\">lerna publish</span></code><span class=\"ne-text\"> è¦æ›´æ–°çš„åŒ…ã€‚</span></li><li id=\"u1f2f485d\"><code class=\"ne-code\"><span class=\"ne-text\">lerna publish</span></code><span class=\"ne-text\"> ç‰ˆæœ¬å‘å¸ƒï¼ŒæŒ‰æç¤ºé€‰æ‹©ç‰ˆæœ¬å·(é€’å¢ï¼Œæˆ–è‡ªå®šä¹‰)ï¼Œå°†ä¼šæ‰§è¡Œä»¥ä¸‹æ­¥éª¤ï¼š</span></li></ul><ul class=\"ne-list-wrap\"><ul ne-level=\"1\" class=\"ne-ul\"><li id=\"u215f4efe\"><span class=\"ne-text\">è¿è¡Œ </span><code class=\"ne-code\"><span class=\"ne-text\">lerna updated</span></code><span class=\"ne-text\"> æ¥å†³å®šå“ªä¸€ä¸ªåŒ…éœ€è¦è¢« </span><code class=\"ne-code\"><span class=\"ne-text\">publish</span></code></li><li id=\"u75e46789\"><span class=\"ne-text\">å¦‚æœæœ‰å¿…è¦ï¼Œå°†ä¼šæ›´æ–° </span><code class=\"ne-code\"><span class=\"ne-text\">lerna.json</span></code><span class=\"ne-text\"> ä¸­çš„ </span><code class=\"ne-code\"><span class=\"ne-text\">version</span></code></li><li id=\"u863db64c\"><span class=\"ne-text\">å°†æ‰€æœ‰æ›´æ–°è¿‡çš„çš„åŒ…ä¸­çš„ </span><code class=\"ne-code\"><span class=\"ne-text\">package.json</span></code><span class=\"ne-text\"> çš„ </span><code class=\"ne-code\"><span class=\"ne-text\">version</span></code><span class=\"ne-text\"> å­—æ®µæ›´æ–°</span></li><li id=\"u06710d39\"><span class=\"ne-text\">å°†æ‰€æœ‰æ›´æ–°è¿‡çš„åŒ…ä¸­çš„ä¾èµ–æ›´æ–°</span></li><li id=\"udd1363f7\"><span class=\"ne-text\">ä¸ºæ–°ç‰ˆæœ¬åˆ›å»ºä¸€ä¸ª </span><code class=\"ne-code\"><span class=\"ne-text\">git commit</span></code><span class=\"ne-text\"> æˆ– </span><code class=\"ne-code\"><span class=\"ne-text\">tag</span></code></li><li id=\"u7e972dc0\"><span class=\"ne-text\">å°†åŒ… </span><code class=\"ne-code\"><span class=\"ne-text\">publish</span></code><span class=\"ne-text\"> åˆ° </span><code class=\"ne-code\"><span class=\"ne-text\">npm</span></code><span class=\"ne-text\"> ä¸Šï¼›æ³¨æ„è¦å…ˆç”¨ </span><code class=\"ne-code\"><span class=\"ne-text\">npm adduser</span></code><span class=\"ne-text\"> ç™»å½• </span><code class=\"ne-code\"><span class=\"ne-text\">npm</span></code><span class=\"ne-text\"> æºï¼Œå¦åˆ™ä¼šå¤±è´¥ï¼›</span></li></ul></ul><ul class=\"ne-ul\"><li id=\"ub1724b6c\"><code class=\"ne-code\"><span class=\"ne-text\">lerna add [@version] [--dev] [--exact] [--peer]</span></code><span class=\"ne-text\"> ï¼šå¯ä»¥æŒ‡å®šä¸ºæŸä¸€ä¸ªæˆ–æ‰€æœ‰çš„åŒ…å®‰è£…ä¾èµ–ï¼Œä¾èµ–å¯ä»¥æ˜¯å¤–éƒ¨(</span><code class=\"ne-code\"><span class=\"ne-text\">npm i </span></code><span class=\"ne-text\">å®‰è£…çš„)ï¼Œä¹Ÿå¯ä»¥æ˜¯å†…éƒ¨ä¾èµ–(</span><code class=\"ne-code\"><span class=\"ne-text\">packages</span></code><span class=\"ne-text\">/ä¸‹çš„åŒ…ï¼Œä¼šåˆ›å»ºç¬¦å·é“¾æ¥)ï¼Œ</span><code class=\"ne-code\"><span class=\"ne-text\">example</span></code><span class=\"ne-text\">ï¼š</span></li></ul><ul class=\"ne-list-wrap\"><ul ne-level=\"1\" class=\"ne-ul\"><li id=\"ubb0369d9\"><code class=\"ne-code\"><span class=\"ne-text\">lerna add babel</span></code><span class=\"ne-text\"> , è¯¥å‘½ä»¤ä¼šåœ¨ </span><code class=\"ne-code\"><span class=\"ne-text\">package-1</span></code><span class=\"ne-text\"> å’Œ </span><code class=\"ne-code\"><span class=\"ne-text\">package-2</span></code><span class=\"ne-text\"> ä¸‹å®‰è£… </span><code class=\"ne-code\"><span class=\"ne-text\">babel</span></code></li><li id=\"u62a42391\"><code class=\"ne-code\"><span class=\"ne-text\">lerna add react --scope=package-1</span></code><span class=\"ne-text\"> ,è¯¥å‘½ä»¤ä¼šåœ¨ </span><code class=\"ne-code\"><span class=\"ne-text\">package-1</span></code><span class=\"ne-text\"> ä¸‹å®‰è£… </span><code class=\"ne-code\"><span class=\"ne-text\">react</span></code></li><li id=\"u746ec85d\"><code class=\"ne-code\"><span class=\"ne-text\">lerna add package-2 --scope=package-1</span></code><span class=\"ne-text\">ï¼Œè¯¥å‘½ä»¤ä¼šåœ¨ </span><code class=\"ne-code\"><span class=\"ne-text\">package-1</span></code><span class=\"ne-text\"> ä¸‹å®‰è£… </span><code class=\"ne-code\"><span class=\"ne-text\">package-2</span></code></li></ul></ul><ul class=\"ne-ul\"><li id=\"ucbfb9f1d\"><code class=\"ne-code\"><span class=\"ne-text\">lerna create [loc]</span></code><span class=\"ne-text\"> åˆ›å»ºä¸€ä¸ª </span><code class=\"ne-code\"><span class=\"ne-text\">lerna</span></code><span class=\"ne-text\"> ç®¡ç†çš„åŒ…</span></li><li id=\"ua7b98b64\"><code class=\"ne-code\"><span class=\"ne-text\">lerna ls</span></code><span class=\"ne-text\"> æ§åˆ¶å°æ‰“å° </span><code class=\"ne-code\"><span class=\"ne-text\">packages</span></code><span class=\"ne-text\"> ä¸‹çš„åŒ…å</span></li><li id=\"u506742c9\"><code class=\"ne-code\"><span class=\"ne-text\">lerna link</span></code><span class=\"ne-text\"> ç±»ä¼¼ </span><code class=\"ne-code\"><span class=\"ne-text\">npm link</span></code></li></ul><h4 id=\"bkDYM\"><span class=\"ne-text\">lerna.json é…ç½®ä»‹ç»</span></h4><pre data-language=\"json\" id=\"znv2d\" class=\"ne-codeblock language-json\">{\n  &quot;version&quot;: &quot;1.1.1&quot;,\n  &quot;npmClient&quot;: &quot;yarn&quot;,\n  &quot;command&quot;: {\n    &quot;publish&quot;: {\n      &quot;ignoreChanges&quot;: [&quot;ignored-file&quot;, &quot;*.md&quot;],\n      &quot;message&quot;: &quot;chore(release): publish %s&quot;,\n      &quot;registry&quot;: &quot;https://npm.pkg.github.com&quot;\n    },\n    &quot;bootstrap&quot;: {\n      &quot;ignore&quot;: &quot;component-*&quot;,\n      &quot;npmClientArgs&quot;: [&quot;--no-package-lock&quot;]\n    }\n  },\n  &quot;packages&quot;: [&quot;packages/*&quot;]\n}</pre><ul class=\"ne-ul\"><li id=\"u3fcaf057\"><code class=\"ne-code\"><span class=\"ne-text\">version</span></code><span class=\"ne-text\">ï¼šå½“å‰å­˜å‚¨åº“çš„ç‰ˆæœ¬ï¼Œå½“ä¸º </span><code class=\"ne-code\"><span class=\"ne-text\">independent</span></code><span class=\"ne-text\"> æ—¶ï¼Œå¼€å¯ç‹¬ç«‹æ¨¡å¼</span></li><li id=\"u0307f208\"><code class=\"ne-code\"><span class=\"ne-text\">npmClient</span></code><span class=\"ne-text\">ï¼šä¸€ä¸ªé€‰é¡¹ï¼Œç”¨äºæŒ‡å®šè¿è¡Œå‘½ä»¤çš„ç‰¹å®šå®¢æˆ·ç«¯ã€‚ å¯æ›´æ”¹ä¸º </span><code class=\"ne-code\"><span class=\"ne-text\">yarn</span></code><span class=\"ne-text\"></span></li><li id=\"u3506ba5e\"><code class=\"ne-code\"><span class=\"ne-text\">packages</span></code><span class=\"ne-text\">ï¼šç”¨ä½œåŒ…è£…ä½ç½®çš„ </span><code class=\"ne-code\"><span class=\"ne-text\">glob</span></code><span class=\"ne-text\"> æ•°ç»„ï¼Œ é»˜è®¤ä¸º </span><code class=\"ne-code\"><span class=\"ne-text\">[&quot;packages/*&quot;]</span></code><span class=\"ne-text\">, ä¹Ÿå¯ä»¥ä¿®æ”¹ä¸ºå…¶ä»–ç›®å½•</span></li><li id=\"uaf90e68a\"><code class=\"ne-code\"><span class=\"ne-text\">command.publish.ignoreChanges</span></code><span class=\"ne-text\">: æ¥å—ä¸€ç»„ </span><code class=\"ne-code\"><span class=\"ne-text\">glob</span></code><span class=\"ne-text\"> æ•°ç»„ï¼Œå¿½ç•¥ä¸å¿…è¦çš„æ›´æ”¹å‘å¸ƒæ–°ç‰ˆæœ¬ï¼Œä¾‹å¦‚ </span><code class=\"ne-code\"><span class=\"ne-text\">md</span></code><span class=\"ne-text\"> ä¿®æ”¹</span></li><li id=\"u46c00d71\"><code class=\"ne-code\"><span class=\"ne-text\">command.publish.message</span></code><span class=\"ne-text\">: æ‰§è¡Œå‘å¸ƒç‰ˆæœ¬æ—¶è‡ªåŠ¨ä¼š </span><code class=\"ne-code\"><span class=\"ne-text\">commit</span></code><span class=\"ne-text\"> ä¸€æ¡æŒ‡å®šè®°å½•ï¼Œå½“æ¶ˆæ¯è®°å½•é‡ŒåŒ…å« </span><code class=\"ne-code\"><span class=\"ne-text\">%s</span></code><span class=\"ne-text\"> å°†ä¼šæ›¿æ¢ä¸º </span><code class=\"ne-code\"><span class=\"ne-text\">v1.1.1</span></code><span class=\"ne-text\">, å¦‚æœæ˜¯ </span><code class=\"ne-code\"><span class=\"ne-text\">%v</span></code><span class=\"ne-text\"> åˆ™ç›´æ¥æ›¿æ¢ä¸º </span><code class=\"ne-code\"><span class=\"ne-text\">1.1.1</span></code><span class=\"ne-text\">ï¼Œå¦‚æœæ˜¯ </span><code class=\"ne-code\"><span class=\"ne-text\">independent</span></code><span class=\"ne-text\"> æ¨¡å¼åˆ™ä¼šç‹¬ç«‹æ›´æ–°æ¯ä¸ªåŒ…çš„ç‰ˆæœ¬</span></li><li id=\"uc8c92ba4\"><code class=\"ne-code\"><span class=\"ne-text\">command.publish.registry</span></code><span class=\"ne-text\">: è®¾ç½®è¦å‘å¸ƒåˆ°çš„è‡ªå®šä¹‰åœ°å€</span></li><li id=\"u6fa66ae0\"><code class=\"ne-code\"><span class=\"ne-text\">command.bootstrap.ignore</span></code><span class=\"ne-text\">: æ¥æ”¶ä¸€ä¸ª </span><code class=\"ne-code\"><span class=\"ne-text\">glob</span></code><span class=\"ne-text\"> æ•°ç»„ï¼Œ æŒ‡å®šè¿è¡Œ </span><code class=\"ne-code\"><span class=\"ne-text\">lerna bootstrap</span></code><span class=\"ne-text\"> å‘½ä»¤æ—¶éœ€è¦å¿½ç•¥çš„ç›®å½•</span></li><li id=\"u77f0f179\"><code class=\"ne-code\"><span class=\"ne-text\">command.bootstrap.npmClientArg</span></code><span class=\"ne-text\">: æ¥æ”¶ä¸€ä¸ªå­—ç¬¦ä¸²æ•°ç»„ï¼Œ å°†å‚æ•°ç›´æ¥ä¼ é€’ç»™ </span><code class=\"ne-code\"><span class=\"ne-text\">npm install</span></code></li><li id=\"ud01b1464\"><code class=\"ne-code\"><span class=\"ne-text\">command.bootstrap.scope</span></code><span class=\"ne-text\">: ä¸€ç»„ </span><code class=\"ne-code\"><span class=\"ne-text\">glob</span></code><span class=\"ne-text\">ï¼Œç”¨äºé™åˆ¶åœ¨è¿è¡Œ </span><code class=\"ne-code\"><span class=\"ne-text\">lerna bootstrap</span></code><span class=\"ne-text\"> å‘½ä»¤æ—¶å°† åŒ…å«çš„è½¯ä»¶åŒ…ã€‚</span></li></ul><h4 id=\"d2nuq\"><span class=\"ne-text\">lerna å¤šåŒ…ç‰ˆæœ¬ç®¡ç†æœºåˆ¶</span></h4><ul class=\"ne-ul\"><li id=\"u5bb3cf3f\"><code class=\"ne-code\"><span class=\"ne-text\">Fixed/Locked mode(default)</span></code><span data-color=\"5\" id=\"YBLfG\" class=\"ne-label\">å›ºå®šæ¨¡å¼</span></li></ul><p id=\"uaeb92082\" class=\"ne-p\"><code class=\"ne-code\"><span class=\"ne-text\">vue</span></code><span class=\"ne-text\">ã€</span><code class=\"ne-code\"><span class=\"ne-text\">babel</span></code><span class=\"ne-text\">éƒ½æ˜¯ç”¨è¿™ç§ï¼Œåœ¨</span><code class=\"ne-code\"><span class=\"ne-text\">publish</span></code><span class=\"ne-text\">çš„æ—¶å€™ï¼Œä¼šåœ¨</span><code class=\"ne-code\"><span class=\"ne-text\">lerna.json</span></code><span class=\"ne-text\">æ–‡ä»¶é‡Œé¢ </span><code class=\"ne-code\"><span class=\"ne-text\">&quot;version&quot;: &quot;0.15&quot;</span></code><span class=\"ne-text\">ï¼Œä¾æ®è¿™ä¸ªå·è¿›è¡Œå¢åŠ ï¼Œåªé€‰æ‹©ä¸€æ¬¡ï¼Œå…¶ä»–æœ‰æ”¹åŠ¨çš„åŒ…è‡ªåŠ¨æ›´æ–°ç‰ˆæœ¬å·</span></p><ul class=\"ne-ul\"><li id=\"u216c373e\"><code class=\"ne-code\"><span class=\"ne-text\">Independence mode</span></code><span data-color=\"5\" id=\"s4fQy\" class=\"ne-label\">ç‹¬ç«‹æ¨¡å¼</span></li></ul><p id=\"u53b02706\" class=\"ne-p\"><code class=\"ne-code\"><span class=\"ne-text\">lerna init --independent</span></code><span class=\"ne-text\">åˆå§‹åŒ–é¡¹ç›®ï¼Œ</span><code class=\"ne-code\"><span class=\"ne-text\">lerna.json</span></code><span class=\"ne-text\">æ–‡ä»¶é‡Œé¢ </span><code class=\"ne-code\"><span class=\"ne-text\">&quot;version&quot;: &quot;independent&quot;</span></code><span class=\"ne-text\">ï¼Œæ¯æ¬¡</span><code class=\"ne-code\"><span class=\"ne-text\">publish</span></code><span class=\"ne-text\">æ—¶ï¼Œéƒ½å°†å¾—åˆ°ä¸€ä¸ªæç¤ºç¬¦ï¼Œæç¤ºæ¯ä¸ªå·²æ›´æ”¹çš„åŒ…ï¼Œä»¥æŒ‡å®šæ˜¯ï¼š</span><code class=\"ne-code\"><span class=\"ne-text\">major</span></code><span class=\"ne-text\">ã€</span><code class=\"ne-code\"><span class=\"ne-text\">minor</span></code><span class=\"ne-text\">ã€</span><code class=\"ne-code\"><span class=\"ne-text\">patch</span></code><span class=\"ne-text\">ã€</span><code class=\"ne-code\"><span class=\"ne-text\">premajor</span></code><span class=\"ne-text\">ã€</span><code class=\"ne-code\"><span class=\"ne-text\">preminor</span></code><span class=\"ne-text\">ã€</span><code class=\"ne-code\"><span class=\"ne-text\">prepatch</span></code><span class=\"ne-text\">ã€</span><code class=\"ne-code\"><span class=\"ne-text\">prerelease</span></code></p><h4 id=\"RSN7r\"><span class=\"ne-text\">å¯ç”¨ workspace æ¨¡å¼</span></h4><p id=\"u9ba4b383\" class=\"ne-p\"><span class=\"ne-text\">é»˜è®¤æ˜¯ </span><code class=\"ne-code\"><span class=\"ne-text\">npm</span></code><span class=\"ne-text\">ï¼Œè€Œä¸”æ¯ä¸ªå­ </span><code class=\"ne-code\"><span class=\"ne-text\">package</span></code><span class=\"ne-text\"> éƒ½æœ‰è‡ªå·±çš„</span><code class=\"ne-code\"><span class=\"ne-text\">node_modules</span></code><span class=\"ne-text\">ï¼Œé€šè¿‡è¿™æ ·çš„è®¾ç½®åï¼Œåªæœ‰é¡¶å±‚æœ‰ä¸€ä¸ª</span><code class=\"ne-code\"><span class=\"ne-text\">node_modules</span></code></p><ul class=\"ne-ul\"><li id=\"u77d28581\"><span class=\"ne-text\">ä¿®æ”¹é¡¶å±‚</span><code class=\"ne-code\"><span class=\"ne-text\">package.json</span></code><span class=\"ne-text\">ã€</span><code class=\"ne-code\"><span class=\"ne-text\">lerna.json</span></code></li></ul><pre data-language=\"javascript\" id=\"sp9Eq\" class=\"ne-codeblock language-javascript\">// package.json æ–‡ä»¶åŠ å…¥\n{\n  &quot;private&quot;: true,\n  &quot;workspaces&quot;: [&quot;packages/*&quot;]\n}\n\n// lerna.json æ–‡ä»¶åŠ å…¥\n{\n  &quot;useWorkspaces&quot;: true,\n  &quot;npmClient&quot;: &quot;yarn&quot; // å¯åŠ¨ yarnï¼Œä¸è®¾ç½®é»˜è®¤ä¸º npmï¼Œnpm7.x+ æ”¯æŒ workspaces\n}</pre><h3 id=\"p58HN\"><span class=\"ne-text\">Workspaces</span></h3><h4 id=\"ncpyk\"><span class=\"ne-text\">ä½¿ç”¨</span></h4><pre data-language=\"json\" id=\"u1BJg\" class=\"ne-codeblock language-json\">{\n  &quot;name&quot;: &quot;vite-pros&quot;,\n  &quot;description&quot;: &quot;ä½¿ç”¨ vite ä½œä¸ºæ„å»ºå·¥å…·çš„å‰ç«¯é¡¹ç›®&quot;,\n  &quot;private&quot;: true,\n  &quot;workspaces&quot;: [\n    &quot;packages/*&quot;\n  ]\n}</pre><p id=\"ua3c4e806\" class=\"ne-p\"><span class=\"ne-text\">å…¶ä¸­ </span><code class=\"ne-code\"><span class=\"ne-text\">private: true</span></code><span class=\"ne-text\"> æ˜¯å¿…éœ€çš„ï¼å·¥ä½œåŒºå¹¶ä¸æ„å‘³ç€è¦å‘å¸ƒï¼Œæ‰€ä»¥å¢åŠ äº†è¿™ä¸ªå®‰å…¨æªæ–½ï¼Œä»¥ç¡®ä¿æ²¡æœ‰ä»»ä½•ä¸œè¥¿å¯ä»¥æ„å¤–æš´éœ²å®ƒä»¬ã€‚</span><code class=\"ne-code\"><span class=\"ne-text\">workspaces</span></code><span class=\"ne-text\"> å­—æ®µæ˜¯åŒ…å«æ¯ä¸ªå·¥ä½œåŒºçš„è·¯å¾„çš„æ•°ç»„ã€‚ç”±äºè¿½è¸ªæ¯ä¸ªè·¯å¾„å¯èƒ½å¾ˆä¹å‘³ï¼Œå› æ­¤è¯¥å­—æ®µä¹Ÿæ¥å— </span><code class=\"ne-code\"><span class=\"ne-text\">glob</span></code><span class=\"ne-text\"> æ¨¡å¼ï¼</span></p><ol class=\"ne-ol\"><li id=\"u555f27a4\"><span class=\"ne-text\">æ–°å»º </span><code class=\"ne-code\"><span class=\"ne-text\">packages</span></code><span class=\"ne-text\"> ç›®å½•</span></li><li id=\"ue2db347a\"><code class=\"ne-code\"><span class=\"ne-text\">packages</span></code><span class=\"ne-text\"> ç›®å½•ä¸‹å°±æ˜¯æˆ‘ä»¬çš„æ­£å¸¸çš„å·¥ç¨‹äº†ã€‚</span></li></ol><h4 id=\"H2maV\"><span class=\"ne-text\">ä»‹ç»</span></h4><ol class=\"ne-ol\"><li id=\"u2085ae89\"><span class=\"ne-text\">å®‰è£…ä¾èµ–</span></li></ol><pre data-language=\"shell\" id=\"PtWEF\" class=\"ne-codeblock language-shell\">[yarn|npm] install</pre><ol start=\"2\" class=\"ne-ol\"><li id=\"u8e605db0\"><span class=\"ne-text\">ä¸ºæŸä¸€ä¸ªå­é¡¹ç›®å®‰è£…ä¾èµ–</span></li></ol><pre data-language=\"shell\" id=\"ga4J6\" class=\"ne-codeblock language-shell\"># pro1 = packages/pro1\n# npm\nnpm install vue -w pro1\n# yarn\nyarn workspace pro1 add -D react</pre><div data-type=\"tips\" class=\"ne-alert\"><p id=\"u012f4013\" class=\"ne-p\"><span class=\"ne-text\">è¿™é‡Œå¯ä»¥ä¾èµ–åŒä¸€ä¸ªå·¥ä½œåŒºä¸‹çš„å…¶å®ƒå·¥ç¨‹ï¼Œä»¥ </span><code class=\"ne-code\"><span class=\"ne-text\">yarn</span></code><span class=\"ne-text\"> ä¸ºä¾‹ï¼Œå¦‚æœä¾èµ–åŒå·¥ä½œåŒºä¸‹çš„å…¶å®ƒå·¥ç¨‹ï¼Œ</span><code class=\"ne-code\"><span class=\"ne-text\">package.json</span></code><span class=\"ne-text\"> çš„ </span><code class=\"ne-code\"><span class=\"ne-text\">dependencies</span></code><span class=\"ne-text\"> å°±ä¼šå‘ç”Ÿæ”¹å˜ï¼Œä¾‹å¦‚ï¼š</span><code class=\"ne-code\"><span class=\"ne-text\">&quot;ph-utils&quot;: &quot;workspace:packages/utils&quot;</span></code><span class=\"ne-text\">ã€</span><code class=\"ne-code\"><span class=\"ne-text\">&quot;ph-terminal-spinner&quot;: &quot;workspace:packages/terminal-spinner&quot;</span></code><span class=\"ne-text\"> è¿™å°±è¡¨æ˜ä¾èµ–çš„æ˜¯åŒä¸€ä¸ªå·¥ä½œåŒºçš„å…¶å®ƒå·¥ç¨‹ã€‚<br /></span><span class=\"ne-text\">è¿™æ ·çš„å¯èƒ½æœ‰äººå°±ä¼šæœ‰ç–‘é—®äº†ï¼Œå¦‚æœ </span><code class=\"ne-code\"><span class=\"ne-text\">package.json</span></code><span class=\"ne-text\"> æ”¹å˜äº†åï¼Œä¸Šä¼ åä¼šæ€ä¹ˆæ ·å‘¢ï¼Ÿè¿™ä¸ªå°±æ˜¯ä¸‹é¢çš„å‘½ä»¤äº†ã€‚</span></p></div><ol start=\"3\" class=\"ne-ol\"><li id=\"ub348f77a\"><span class=\"ne-text\">å‘å¸ƒ</span></li></ol><pre data-language=\"shell\" id=\"Uvsga\" class=\"ne-codeblock language-shell\"># npm\nnpm publish\n# yarn å‘å¸ƒçš„æ—¶å€™ï¼Œä¼šè‡ªåŠ¨æ›¿æ¢æœ¬åœ°ä¾èµ–çš„ç‰ˆæœ¬\nyarn workspace pro1 npm publish</pre><div data-type=\"tips\" class=\"ne-alert\"><p id=\"ucd718b36\" class=\"ne-p\"><code class=\"ne-code\"><span class=\"ne-text\">yarn</span></code><span class=\"ne-text\"> å‘å¸ƒçš„æ—¶å€™ï¼Œå¦‚æœä¼šæœ‰æœ¬åœ°æœ‰æœ¬åœ°ä¾èµ–å¦‚ï¼š</span><code class=\"ne-code\"><span class=\"ne-text\">&quot;ph-utils&quot;: &quot;workspace:packages/utils&quot;</span></code><span class=\"ne-text\"> åˆ™ä¼šè¢«æ›¿æ¢ä¸º </span><code class=\"ne-code\"><span class=\"ne-text\">&quot;ph-utils&quot;: &quot;0.0.1&quot;</span></code><span class=\"ne-text\"> å…¶ä¸­ </span><code class=\"ne-code\"><span class=\"ne-text\">0.0.1</span></code><span class=\"ne-text\"> å°±æ˜¯æœ¬åœ° </span><code class=\"ne-code\"><span class=\"ne-text\">ph-utils</span></code><span class=\"ne-text\"> çš„ç‰ˆæœ¬ã€‚</span></p></div><h2 id=\"XGgua\"><span class=\"ne-text\">Monorepo æ–¹æ¡ˆå®è·µ</span></h2><h3 id=\"gn9GX\"><span class=\"ne-text\">1. é”å®šç¯å¢ƒ: Volta</span></h3><p id=\"u39a03f48\" class=\"ne-p\"><img src=\"https://cdn.nlark.com/yuque/0/2022/png/732231/1648747756372-c5aea202-62a4-4b65-8394-b7b81a777c52.png\" width=\"484.8\" id=\"u024df87c\" class=\"ne-image\"></p><p id=\"u8034b404\" class=\"ne-p\"><a href=\"https://volta.sh/\" data-href=\"https://volta.sh/\" target=\"_blank\" class=\"ne-link\"><span class=\"ne-text\">Volta</span></a><span class=\"ne-text\"> æ˜¯ä¸€ä¸ª </span><code class=\"ne-code\"><span class=\"ne-text\">JavaScript</span></code><span class=\"ne-text\"> å·¥å…·ç®¡ç†å™¨ï¼Œå®ƒå¯ä»¥è®©æˆ‘ä»¬è½»æ¾åœ°åœ¨é¡¹ç›®ä¸­é”å®š </span><code class=\"ne-code\"><span class=\"ne-text\">node</span></code><span class=\"ne-text\">ï¼Œ</span><code class=\"ne-code\"><span class=\"ne-text\">npm</span></code><span class=\"ne-text\"> å’Œ </span><code class=\"ne-code\"><span class=\"ne-text\">yarn</span></code><span class=\"ne-text\"> çš„ç‰ˆæœ¬ã€‚ä½ åªéœ€åœ¨å®‰è£…å®Œ </span><code class=\"ne-code\"><span class=\"ne-text\">Volta</span></code><span class=\"ne-text\"> åï¼Œåœ¨é¡¹ç›®çš„æ ¹ç›®å½•ä¸­æ‰§è¡Œ </span><code class=\"ne-code\"><span class=\"ne-text\">volta pin</span></code><span class=\"ne-text\"> å‘½ä»¤ï¼Œé‚£ä¹ˆæ— è®ºæ‚¨å½“å‰ä½¿ç”¨çš„ </span><code class=\"ne-code\"><span class=\"ne-text\">node</span></code><span class=\"ne-text\"> æˆ– </span><code class=\"ne-code\"><span class=\"ne-text\">npm</span></code><span class=\"ne-text\">ï¼ˆ</span><code class=\"ne-code\"><span class=\"ne-text\">yarn</span></code><span class=\"ne-text\">ï¼‰ç‰ˆæœ¬æ˜¯ä»€ä¹ˆï¼Œ</span><code class=\"ne-code\"><span class=\"ne-text\">volta</span></code><span class=\"ne-text\"> éƒ½ä¼šè‡ªåŠ¨åˆ‡æ¢ä¸ºæ‚¨æŒ‡å®šçš„ç‰ˆæœ¬ã€‚</span></p><p id=\"u27b08639\" class=\"ne-p\"><span class=\"ne-text\"></span></p><p id=\"uda2bfaf6\" class=\"ne-p\"><span class=\"ne-text\">å› æ­¤ï¼Œé™¤äº†ä½¿ç”¨ </span><code class=\"ne-code\"><span class=\"ne-text\">Docker</span></code><span class=\"ne-text\"> å’Œæ˜¾ç¤ºåœ¨æ–‡æ¡£ä¸­å£°æ˜ </span><code class=\"ne-code\"><span class=\"ne-text\">node</span></code><span class=\"ne-text\"> å’Œ </span><code class=\"ne-code\"><span class=\"ne-text\">npm</span></code><span class=\"ne-text\">ï¼ˆ</span><code class=\"ne-code\"><span class=\"ne-text\">yarn</span></code><span class=\"ne-text\">ï¼‰çš„ç‰ˆæœ¬ä¹‹å¤–ï¼Œæ‚¨å°±æœ‰äº†å¦ä¸€ä¸ªé”å®šç¯å¢ƒçš„å¼ºåŠ›å·¥å…·ã€‚</span></p><p id=\"u95ef6475\" class=\"ne-p\"><span class=\"ne-text\"></span></p><p id=\"u8bfa757a\" class=\"ne-p\"><span class=\"ne-text\">è€Œä¸”ç›¸è¾ƒäº </span><code class=\"ne-code\"><span class=\"ne-text\">nvm</span></code><span class=\"ne-text\">ï¼Œ</span><code class=\"ne-code\"><span class=\"ne-text\">Volta</span></code><span class=\"ne-text\"> è¿˜å…·æœ‰ä¸€ä¸ªè¯±äººçš„ç‰¹æ€§ï¼šå½“æ‚¨é¡¹ç›®çš„ </span><code class=\"ne-code\"><span class=\"ne-text\">CLI</span></code><span class=\"ne-text\"> å·¥å…·ä¸å…¨å±€ </span><code class=\"ne-code\"><span class=\"ne-text\">CLI</span></code><span class=\"ne-text\"> å·¥å…·ä¸ä¸€è‡´æ—¶ï¼Œ</span><code class=\"ne-code\"><span class=\"ne-text\">Volta</span></code><span class=\"ne-text\"> å¯ä»¥åšåˆ°åœ¨é¡¹ç›®æ ¹ç›®å½•ä¸‹è‡ªåŠ¨è¯†åˆ«ï¼Œåˆ‡æ¢åˆ°é¡¹ç›®æŒ‡å®šçš„ç‰ˆæœ¬ï¼Œè¿™ä¸€åˆ‡éƒ½æ˜¯ç”± </span><code class=\"ne-code\"><span class=\"ne-text\">Volta</span></code><span class=\"ne-text\"> é»˜é»˜åšåˆ°çš„ï¼Œå¼€å‘è€…ä¸å¿…å…³å¿ƒä»»ä½•äº‹æƒ…ã€‚</span></p><h3 id=\"p9nEa\"><span class=\"ne-text\">2. å¤ç”¨ packages: workspace</span></h3><p id=\"u579703a6\" class=\"ne-p\"><span class=\"ne-text\">ä½¿ç”¨ </span><code class=\"ne-code\"><span class=\"ne-text\">monorepo</span></code><span class=\"ne-text\"> ç­–ç•¥åï¼Œæ”¶ç›Šæœ€å¤§çš„ä¸¤ç‚¹æ˜¯ï¼š</span></p><ol class=\"ne-ol\"><li id=\"ua8fe2baf\"><span class=\"ne-text\">é¿å…é‡å¤å®‰è£…åŒ…ï¼Œå› æ­¤å‡å°‘äº†ç£ç›˜ç©ºé—´çš„å ç”¨ï¼Œå¹¶é™ä½äº†æ„å»ºæ—¶é—´</span><span class=\"ne-text\">ï¼›</span></li><li id=\"u9b1733f2\"><span class=\"ne-text\">å†…éƒ¨ä»£ç å¯ä»¥å½¼æ­¤ç›¸äº’å¼•ç”¨ï¼›</span></li></ol><p id=\"u4a5d6344\" class=\"ne-p\"><br></p><p id=\"u8a2977be\" class=\"ne-p\"><span class=\"ne-text\">è¿™ä¸¤é¡¹å¥½å¤„å…¨éƒ¨éƒ½å¯ä»¥ç”±ä¸€ä¸ªæˆç†Ÿçš„åŒ…ç®¡ç†å·¥å…·æ¥å®Œæˆï¼Œå¯¹å‰ç«¯å¼€å‘è€Œè¨€ï¼Œå³æ˜¯ </span><code class=\"ne-code\"><span class=\"ne-text\">yarn</span></code><span class=\"ne-text\">ï¼ˆ</span><code class=\"ne-code\"><span class=\"ne-text\">1.0</span></code><span class=\"ne-text\"> ä»¥ä¸Šï¼‰æˆ– </span><code class=\"ne-code\"><span class=\"ne-text\">npm</span></code><span class=\"ne-text\">ï¼ˆ</span><code class=\"ne-code\"><span class=\"ne-text\">7.0</span></code><span class=\"ne-text\"> ä»¥ä¸Šï¼‰é€šè¿‡åä¸º </span><code class=\"ne-code\"><span class=\"ne-text\">workspaces</span></code><span class=\"ne-text\"> çš„ç‰¹æ€§å®ç°çš„ï¼ˆâš ï¸ æ³¨æ„ï¼Œæ”¯æŒ </span><code class=\"ne-code\"><span class=\"ne-text\">workspaces</span></code><span class=\"ne-text\"> ç‰¹æ€§çš„ </span><code class=\"ne-code\"><span class=\"ne-text\">npm</span></code><span class=\"ne-text\"> ç›®å‰ä¾æ—§ä¸æ˜¯ </span><code class=\"ne-code\"><span class=\"ne-text\">TLS</span></code><span class=\"ne-text\"> ç‰ˆæœ¬ï¼‰ã€‚</span></p><p id=\"u85ddeb7c\" class=\"ne-p\"><span class=\"ne-text\"></span></p><p id=\"u243ab284\" class=\"ne-p\"><span class=\"ne-text\">ä¸ºäº†å®ç°å‰é¢æåˆ°çš„ä¸¤ç‚¹æ”¶ç›Šï¼Œæ‚¨éœ€è¦åœ¨ä»£ç ä¸­åšä¸‰ä»¶äº‹ï¼š</span></p><ol class=\"ne-ol\"><li id=\"u4a0cbee6\"><span class=\"ne-text\">è°ƒæ•´ç›®å½•ç»“æ„ï¼Œå°†ç›¸äº’å…³è”çš„é¡¹ç›®æ”¾ç½®åœ¨åŒä¸€ä¸ªç›®å½•ï¼Œæ¨èå‘½åä¸º </span><code class=\"ne-code\"><span class=\"ne-text\">packages</span></code><span class=\"ne-text\">ï¼›</span></li><li id=\"u6722b056\"><span class=\"ne-text\">åœ¨é¡¹ç›®æ ¹ç›®å½•é‡Œçš„ </span><code class=\"ne-code\"><span class=\"ne-text\">package.json</span></code><span class=\"ne-text\"> æ–‡ä»¶ä¸­ï¼Œè®¾ç½® </span><code class=\"ne-code\"><span class=\"ne-text\">workspaces</span></code><span class=\"ne-text\"> å±æ€§ï¼Œå±æ€§å€¼ä¸ºä¹‹å‰åˆ›å»ºçš„ç›®å½•ï¼›</span></li><li id=\"ue81d7c17\"><span class=\"ne-text\">åŒæ ·ï¼Œåœ¨ </span><code class=\"ne-code\"><span class=\"ne-text\">package.json</span></code><span class=\"ne-text\"> æ–‡ä»¶ä¸­ï¼Œè®¾ç½® </span><code class=\"ne-code\"><span class=\"ne-text\">private</span></code><span class=\"ne-text\"> å±æ€§ä¸º </span><code class=\"ne-code\"><span class=\"ne-text\">true</span></code><span class=\"ne-text\"> (ä¸ºäº†é¿å…æˆ‘ä»¬è¯¯æ“ä½œå°†ä»“åº“å‘å¸ƒ)ï¼›</span></li></ol><p id=\"ud8c4315f\" class=\"ne-p\"><span class=\"ne-text\" style=\"color: rgb(44, 62, 80); font-size: 16px\"></span></p><p id=\"uafaffd24\" class=\"ne-p\"><span class=\"ne-text\">ç»è¿‡ä¿®æ”¹ï¼Œé¡¹ç›®ç›®å½•çœ‹èµ·æ¥åº”è¯¥æ˜¯è¿™æ ·ï¼š</span></p><pre data-language=\"markdown\" id=\"Fgeoa\" class=\"ne-codeblock language-markdown\">.\nâ”œâ”€â”€ package.json\nâ””â”€â”€ packages/\n    â”œâ”€â”€ @mono/project_1/ # æ¨èä½¿ç”¨ `@&lt;é¡¹ç›®å&gt;/&lt;å­é¡¹ç›®å&gt;` çš„æ–¹å¼å‘½å\n    â”‚   â”œâ”€â”€ index.js\n    â”‚   â””â”€â”€ package.json\n    â””â”€â”€ @mono/project_2/\n        â”œâ”€â”€ index.js\n        â””â”€â”€ package.json</pre><p id=\"u2d47e904\" class=\"ne-p\"><span class=\"ne-text\">è€Œå½“åœ¨é¡¹ç›®æ ¹ç›®å½•ä¸­æ‰§è¡Œ </span><code class=\"ne-code\"><span class=\"ne-text\">npm install</span></code><span class=\"ne-text\"> æˆ– </span><code class=\"ne-code\"><span class=\"ne-text\">yarn install</span></code><span class=\"ne-text\"> åï¼Œä¼šå‘ç°åœ¨é¡¹ç›®æ ¹ç›®å½•ä¸­å‡ºç°äº† </span><code class=\"ne-code\"><span class=\"ne-text\">node_modules</span></code><span class=\"ne-text\"> ç›®å½•ï¼Œå¹¶ä¸”è¯¥ç›®å½•ä¸ä»…æ‹¥æœ‰æ‰€æœ‰å­é¡¹ç›®å…±ç”¨çš„ </span><code class=\"ne-code\"><span class=\"ne-text\">npm</span></code><span class=\"ne-text\"> åŒ…ï¼Œè¿˜åŒ…å«äº†æˆ‘ä»¬çš„å­é¡¹ç›®ã€‚å› æ­¤ï¼Œæˆ‘ä»¬å¯ä»¥åœ¨å­é¡¹ç›®ä¸­é€šè¿‡å„ç§æ¨¡å—å¼•å…¥æœºåˆ¶ï¼Œåƒå¼•å…¥ä¸€èˆ¬çš„ </span><code class=\"ne-code\"><span class=\"ne-text\">npm</span></code><span class=\"ne-text\"> æ¨¡å—ä¸€æ ·å¼•å…¥å…¶ä»–å­é¡¹ç›®çš„ä»£ç ã€‚</span></p><p id=\"ucd5633a0\" class=\"ne-p\"><span class=\"ne-text\"></span></p><p id=\"u96363688\" class=\"ne-p\"><span class=\"ne-text\">è¯·æ³¨æ„æˆ‘ä»¬å¯¹å­é¡¹ç›®çš„å‘½åï¼Œç»Ÿä¸€ä»¥ </span><code class=\"ne-code\"><span class=\"ne-text\">@&lt;repo_name&gt;/</span></code><span class=\"ne-text\"> å¼€å¤´ï¼Œè¿™æ˜¯ä¸€ç§ç¤¾åŒºæœ€ä½³å®è·µï¼Œä¸ä»…å¯ä»¥è®©ç”¨æˆ·æ›´å®¹æ˜“äº†è§£æ•´ä¸ªåº”ç”¨çš„æ¶æ„ï¼Œä¹Ÿæ–¹ä¾¿æ‚¨åœ¨é¡¹ç›®ä¸­æ›´å¿«æ·çš„æ‰¾åˆ°æ‰€éœ€çš„å­é¡¹ç›®ã€‚</span></p><p id=\"u30f5279b\" class=\"ne-p\"><span class=\"ne-text\"></span></p><p id=\"u70ecb25d\" class=\"ne-p\"><span class=\"ne-text\">è‡³æ­¤ï¼Œæˆ‘ä»¬å·²ç»å®Œæˆäº† </span><code class=\"ne-code\"><span class=\"ne-text\">monorepo</span></code><span class=\"ne-text\"> ç­–ç•¥çš„æ ¸å¿ƒéƒ¨åˆ†ï¼Œå®åœ¨æ˜¯å¾ˆå®¹æ˜“ä¸æ˜¯å—ï¼Ÿä½†æ˜¯è€è¯è¯´ã€Œè¡Œç™¾é‡Œè€…åŠä¹åã€ï¼Œè·ç¦»ä¼˜é›…çš„æ­å»ºä¸€ä¸ª </span><code class=\"ne-code\"><span class=\"ne-text\">monorepo</span></code><span class=\"ne-text\"> é¡¹ç›®ï¼Œæˆ‘ä»¬è¿˜æœ‰ä¸€äº›è·¯è¦èµ°ã€‚</span></p><h3 id=\"eHgR9\"><span class=\"ne-text\">3. ç»Ÿä¸€é…ç½®: åˆå¹¶åŒç±»é¡¹ - Eslintã€TypeScriptã€Babel</span></h3><p id=\"uba766d35\" class=\"ne-p\"><span class=\"ne-text\">ç¼–å†™ä»£ç è¦éµå¾ª </span><code class=\"ne-code\"><span class=\"ne-text\">DRY</span></code><span class=\"ne-text\"> åŸåˆ™ï¼ˆ</span><code class=\"ne-code\"><span class=\"ne-text\">Don't Repeat Yourself</span></code><span class=\"ne-text\"> çš„ç¼©å†™ï¼‰ã€‚é‚£ä¹ˆï¼Œç†æ‰€å½“ç„¶åœ°ï¼Œæˆ‘ä»¬åº”è¯¥å°½é‡é¿å…åœ¨å¤šä¸ªå­é¡¹ç›®ä¸­æ”¾ç½®é‡å¤çš„ </span><code class=\"ne-code\"><span class=\"ne-text\">eslintrc</span></code><span class=\"ne-text\">ï¼Œ</span><code class=\"ne-code\"><span class=\"ne-text\">tsconfig</span></code><span class=\"ne-text\"> ç­‰é…ç½®æ–‡ä»¶ã€‚å¹¸è¿çš„æ˜¯ï¼Œ</span><code class=\"ne-code\"><span class=\"ne-text\">Babel</span></code><span class=\"ne-text\">ï¼Œ</span><code class=\"ne-code\"><span class=\"ne-text\">Eslint</span></code><span class=\"ne-text\"> å’Œ </span><code class=\"ne-code\"><span class=\"ne-text\">Typescript</span></code><span class=\"ne-text\"> éƒ½æä¾›äº†ç›¸åº”çš„åŠŸèƒ½è®©æˆ‘ä»¬å‡å°‘è‡ªæˆ‘é‡å¤ã€‚</span></p><h4 id=\"p6Ser\"><span class=\"ne-text\">TypeScript</span></h4><p id=\"u4ee1bd18\" class=\"ne-p\"><span class=\"ne-text\">æˆ‘ä»¬å¯ä»¥åœ¨ </span><code class=\"ne-code\"><span class=\"ne-text\">package.json</span></code><span class=\"ne-text\">ç›®å½•ä¸­æ”¾ç½® </span><code class=\"ne-code\"><span class=\"ne-text\">tsconfig.setting.json</span></code><span class=\"ne-text\"> æ–‡ä»¶ï¼Œå¹¶åœ¨æ–‡ä»¶ä¸­å®šä¹‰é€šç”¨çš„ </span><code class=\"ne-code\"><span class=\"ne-text\">ts</span></code><span class=\"ne-text\"> é…ç½®ã€‚ç„¶åï¼Œåœ¨æ¯ä¸ªå­é¡¹ç›®ä¸­ï¼Œå¯ä»¥é€šè¿‡ </span><code class=\"ne-code\"><span class=\"ne-text\">extends</span></code><span class=\"ne-text\"> å±æ€§ï¼Œå¼•å…¥é€šç”¨é…ç½®ï¼Œå¹¶è®¾ç½® </span><code class=\"ne-code\"><span class=\"ne-text\">compilerOptions.composite</span></code><span class=\"ne-text\"> çš„å€¼ä¸º </span><code class=\"ne-code\"><span class=\"ne-text\">true</span></code><span class=\"ne-text\">ï¼Œç†æƒ³æƒ…å†µä¸‹ï¼Œå­é¡¹ç›®ä¸­çš„ </span><code class=\"ne-code\"><span class=\"ne-text\">tsconfig</span></code><span class=\"ne-text\"> æ–‡ä»¶åº”è¯¥ä»…åŒ…å«ä¸‹è¿°å†…å®¹ï¼š</span></p><pre data-language=\"json\" id=\"NFkg1\" class=\"ne-codeblock language-json\">{\n  &quot;extends&quot;: &quot;../tsconfig.setting.json&quot;, // ç»§æ‰¿ packages ç›®å½•ä¸‹é€šç”¨é…ç½®\n  &quot;compilerOptions&quot;: {\n    &quot;composite&quot;: true, // ç”¨äºå¸®åŠ© TypeScript å¿«é€Ÿç¡®å®šå¼•ç”¨å·¥ç¨‹çš„è¾“å‡ºæ–‡ä»¶ä½ç½®\n    &quot;outDir&quot;: &quot;dist&quot;,\n    &quot;rootDir&quot;: &quot;src&quot;\n  },\n  &quot;include&quot;: [&quot;src&quot;]\n}</pre><h4 id=\"p5cZY\"><span class=\"ne-text\">Eslint</span></h4><p id=\"u14014cce\" class=\"ne-p\"><span class=\"ne-text\">å¯¹äº </span><code class=\"ne-code\"><span class=\"ne-text\">Eslint</span></code><span class=\"ne-text\"> é…ç½®æ–‡ä»¶ï¼Œæˆ‘ä»¬ä¹Ÿå¯ä»¥å¦‚æ³•ç‚®åˆ¶ï¼Œè¿™æ ·å®šä¹‰å­é¡¹ç›®çš„ </span><code class=\"ne-code\"><span class=\"ne-text\">.eslintrc</span></code><span class=\"ne-text\"> æ–‡ä»¶å†…å®¹ï¼š</span></p><pre data-language=\"json\" id=\"FyMlt\" class=\"ne-codeblock language-json\">{\n  &quot;extends&quot;: &quot;../../.eslintrc&quot;, // æ³¨æ„è¿™é‡Œçš„ä¸åŒ\n  &quot;parserOptions&quot;: {\n    &quot;project&quot;: &quot;tsconfig.json&quot;\n  }\n}</pre><p id=\"ud0104e85\" class=\"ne-p\"><span class=\"ne-text\">å¯¹äºé€šç”¨çš„ </span><code class=\"ne-code\"><span class=\"ne-text\">eslint</span></code><span class=\"ne-text\"> é…ç½®ï¼Œæˆ‘ä»¬å¹¶æ²¡æœ‰å°†å…¶æ”¾ç½®åœ¨ </span><code class=\"ne-code\"><span class=\"ne-text\">packages</span></code><span class=\"ne-text\"> ç›®å½•ä¸­ï¼Œè€Œæ˜¯æ”¾åœ¨æ•´ä¸ªé¡¹ç›®çš„æ ¹ç›®å½•ä¸‹ï¼Œè¿™æ ·åšçš„ç›®çš„æ˜¯ï¼šä¸€äº›ç¼–è¾‘å™¨æ’ä»¶åªä¼šåœ¨é¡¹ç›®æ ¹ç›®å½•å¯»æ‰¾ </span><code class=\"ne-code\"><span class=\"ne-text\">.eslintrc</span></code><span class=\"ne-text\"> æ–‡ä»¶ï¼Œå› æ­¤ä¸ºäº†æˆ‘ä»¬çš„é¡¹ç›®èƒ½å¤Ÿä¿æŒè‰¯å¥½çš„</span><strong><span class=\"ne-text\">ã€Œå¼€å‘ç¯å¢ƒä¸€è‡´æ€§ã€</span></strong><span class=\"ne-text\">ï¼Œè¯·åŠ¡å¿…å°†é€šç”¨é…ç½®æ–‡ä»¶æ”¾ç½®åœ¨é¡¹ç›®çš„æ ¹ç›®å½•ä¸­ã€‚</span></p><h4 id=\"WcliS\"><span class=\"ne-text\">Babel</span></h4><p id=\"ufe6b5695\" class=\"ne-p\"><code class=\"ne-code\"><span class=\"ne-text\">Babel</span></code><span class=\"ne-text\">é…ç½®æ–‡ä»¶åˆå¹¶çš„æ–¹å¼ä¸ </span><code class=\"ne-code\"><span class=\"ne-text\">TypeScript</span></code><span class=\"ne-text\">å¦‚å‡ºä¸€è¾™ï¼Œç”šè‡³æ›´åŠ ç®€å•ï¼Œæˆ‘ä»¬åªéœ€åœ¨å­é¡¹ç›®ä¸­çš„ </span><code class=\"ne-code\"><span class=\"ne-text\">.babelrc</span></code><span class=\"ne-text\">æ–‡ä»¶ä¸­è¿™æ ·å£°æ˜å³å¯ï¼š</span></p><pre data-language=\"json\" id=\"MbgKB\" class=\"ne-codeblock language-json\">{\n  &quot;extends&quot;: &quot;../.babelrc&quot;\n}</pre><p id=\"u6d08a3f4\" class=\"ne-p\"><span class=\"ne-text\">å½“ä¸€åˆ‡å‡†å¤‡å°±ç»ªåï¼Œæˆ‘ä»¬çš„é¡¹ç›®ç›®å½•åº”è¯¥å¤§è‡´å‘ˆç°å¦‚ä¸‹æ‰€ç¤ºçš„ç»“æ„ï¼š</span></p><pre data-language=\"markdown\" id=\"dSfzZ\" class=\"ne-codeblock language-markdown\">.\nâ”œâ”€â”€ package.json\nâ”œâ”€â”€ .eslintrc\nâ””â”€â”€ packages/\n    â”‚   â”œâ”€â”€ tsconfig.settings.json\n    â”‚   â”œâ”€â”€ .babelrc\n    â”œâ”€â”€ @mono/project_1/\n    â”‚   â”œâ”€â”€ index.js\n    â”‚   â”œâ”€â”€ .eslintrc\n    â”‚   â”œâ”€â”€ .babelrc\n    â”‚   â”œâ”€â”€ tsconfig.json\n    â”‚   â””â”€â”€ package.json\n    â””â”€â”€â”€@mono/project_2/\n        â”œâ”€â”€ index.js\n        â”œâ”€â”€ .eslintrc\n        â”œâ”€â”€ .babelrc\n        â”œâ”€â”€ tsconfig.json\n        â””â”€â”€ package.json</pre><h3 id=\"xyN0R\"><span class=\"ne-text\">4. ç»Ÿä¸€å‘½ä»¤è„šæœ¬: scripty</span></h3><p id=\"uab4ff4b7\" class=\"ne-p\"><span class=\"ne-text\">åœ¨ä¸Šä¸€æ­¥ä¸­ï¼Œæˆ‘ä»¬å°½å¯èƒ½çš„å°†æ‰€æœ‰é…ç½®æ–‡ä»¶è¿›è¡ŒæŠ½è±¡ï¼Œä»è€Œç²¾ç®€äº†ä»£ç ï¼Œå¹¶æé«˜äº†æ•´ä¸ªé¡¹ç›®çš„ä¸€è‡´æ€§ã€‚æˆ‘ä»¬çš„æ•´ä¸ªä»“åº“ä¹Ÿå› æ­¤æœ‰äº†</span><strong><span class=\"ne-text\">ã€Œæ›´æµ“éƒçš„ monorepo é£å‘³ â˜•ï¸ã€</span></strong><span class=\"ne-text\">ã€‚ä½†å¦‚æœä»”ç»†å®¡è§†æˆ‘ä»¬çš„æ•´ä¸ªå·¥ç¨‹æ–‡ä»¶ï¼Œè¿˜æœ‰ä¸€å¤„å­˜åœ¨ç€æ˜æ˜¾çš„ç‘•ç–µå’Œä¸€äº›æ¼äººçš„åå‘³é“ï¼Œå½“æ‚¨ä»”ç»†å®¡è§†æ‚¨çš„ä¼—å¤š </span><code class=\"ne-code\"><span class=\"ne-text\">package.json</span></code><span class=\"ne-text\"> æ–‡ä»¶æ—¶ï¼Œæ‚¨å°±çŸ¥é“æˆ‘åœ¨è¯´ä»€ä¹ˆäº† </span><code class=\"ne-code\"><span class=\"ne-text\">-- scripts</span></code><span class=\"ne-text\"> è„šæœ¬ã€‚</span></p><p id=\"ub834fdb1\" class=\"ne-p\"><span class=\"ne-text\"></span></p><p id=\"u35e8dab9\" class=\"ne-p\"><span class=\"ne-text\">å¦‚æœæ‚¨çš„å­é¡¹ç›®è¶³å¤Ÿå¤šï¼Œæ‚¨å¯èƒ½ä¼šå‘ç°ï¼Œæ¯ä¸ª </span><code class=\"ne-code\"><span class=\"ne-text\">package.json</span></code><span class=\"ne-text\"> æ–‡ä»¶ä¸­çš„ </span><code class=\"ne-code\"><span class=\"ne-text\">scripts</span></code><span class=\"ne-text\"> å±æ€§éƒ½å¤§åŒå°å¼‚ï¼Œå¹¶ä¸”ä¸€äº› </span><code class=\"ne-code\"><span class=\"ne-text\">scripts</span></code><span class=\"ne-text\"> å……æ–¥ç€å„ç§ </span><code class=\"ne-code\"><span class=\"ne-text\">Linux</span></code><span class=\"ne-text\"> è¯­æ³•ï¼Œä¾‹å¦‚ç®¡é“æ“ä½œç¬¦ï¼Œé‡å®šå‘æˆ–ç›®å½•ç”Ÿæˆã€‚é‡å¤å¸¦æ¥ä½æ•ˆï¼Œå¤æ‚åˆ™ä½¿äººéš¾ä»¥ç†è§£ï¼Œè¿™éƒ½æ˜¯éœ€è¦æˆ‘ä»¬è§£å†³çš„é—®é¢˜ã€‚</span></p><p id=\"u588a17bc\" class=\"ne-p\"><span class=\"ne-text\"></span></p><p id=\"u90dc71a8\" class=\"ne-p\"><span class=\"ne-text\">è¿™é‡Œç»™å‡ºçš„è§£å†³æ–¹æ¡ˆæ˜¯ï¼Œä½¿ç”¨ </span><a href=\"https://www.npmjs.com/package/scripty\" data-href=\"https://www.npmjs.com/package/scripty\" target=\"_blank\" class=\"ne-link\"><span class=\"ne-text\">scripty</span></a><span class=\"ne-text\"> ç®¡ç†æ‚¨çš„è„šæœ¬å‘½ä»¤ï¼Œç®€å•æ¥è¯´ï¼Œ</span><code class=\"ne-code\"><span class=\"ne-text\">scripty</span></code><span class=\"ne-text\"> å…è®¸æ‚¨å°†è„šæœ¬å‘½ä»¤å®šä¹‰åœ¨æ–‡ä»¶ä¸­ï¼Œå¹¶åœ¨ </span><code class=\"ne-code\"><span class=\"ne-text\">package.json</span></code><span class=\"ne-text\"> æ–‡ä»¶ä¸­ç›´æ¥é€šè¿‡æ–‡ä»¶åæ¥å¼•ç”¨ã€‚è¿™ä½¿æˆ‘ä»¬å¯ä»¥å®ç°å¦‚ä¸‹ç›®çš„ï¼š</span></p><ol class=\"ne-ol\"><li id=\"uad44ff18\"><span class=\"ne-text\">å­é¡¹ç›®é—´å¤ç”¨è„šæœ¬å‘½ä»¤</span><span class=\"ne-text\">ï¼›</span></li><li id=\"u8a5717f5\"><span class=\"ne-text\">åƒå†™ä»£ç ä¸€æ ·ç¼–å†™è„šæœ¬å‘½ä»¤ï¼Œæ— è®ºå®ƒæœ‰å¤šå¤æ‚ï¼Œè€Œåœ¨è°ƒç”¨æ—¶ï¼Œåƒè°ƒç”¨å‡½æ•°ä¸€æ ·è°ƒç”¨ï¼›</span></li></ol><p id=\"u46137330\" class=\"ne-p\"><span class=\"ne-text\"></span></p><p id=\"u938d3aa2\" class=\"ne-p\"><span class=\"ne-text\">é€šè¿‡ä½¿ç”¨ </span><code class=\"ne-code\"><span class=\"ne-text\">scripty</span></code><span class=\"ne-text\"> ç®¡ç†æˆ‘ä»¬çš„ </span><code class=\"ne-code\"><span class=\"ne-text\">monorepo</span></code><span class=\"ne-text\"> åº”ç”¨ï¼Œç›®å½•ç»“æ„çœ‹èµ·æ¥å°†ä¼šæ˜¯è¿™æ ·ï¼š</span></p><pre data-language=\"markdown\" id=\"Zz4W6\" class=\"ne-codeblock language-markdown\">.\nâ”œâ”€â”€ package.json\nâ”œâ”€â”€ .eslintrc\nâ”œâ”€â”€ scirpts/ # è¿™é‡Œå­˜æ”¾æ‰€æœ‰çš„è„šæœ¬\nâ”‚   â”‚   â”œâ”€â”€ packages/ # åŒ…çº§åˆ«è„šæœ¬\nâ”‚   â”‚   â”‚   â”œâ”€â”€ build.sh\nâ”‚   â”‚   â”‚   â””â”€â”€ test.sh\nâ”‚   â””â”€â”€â”€â””â”€â”€ workspaces/ # å…¨å±€è„šæœ¬\nâ”‚           â”œâ”€â”€ build.sh\nâ”‚           â””â”€â”€ test.sh\nâ””â”€â”€ packages/\n    â”‚   â”œâ”€â”€ tsconfig.settings.json\n    â”‚   â”œâ”€â”€ .babelrc\n    â”œâ”€â”€ @mono/project_1/\n    â”‚   â”œâ”€â”€ index.js\n    â”‚   â”œâ”€â”€ .eslintrc\n    â”‚   â”œâ”€â”€ .babelrc\n    â”‚   â”œâ”€â”€ tsconfig.json\n    â”‚   â””â”€â”€ package.json\n    â””â”€â”€ @mono/project_2/\n        â”œâ”€â”€ index.js\n        â”œâ”€â”€ .eslintrc\n        â”œâ”€â”€ .babelrc\n        â”œâ”€â”€ tsconfig.json\n        â””â”€â”€ package.json</pre><p id=\"u28248414\" class=\"ne-p\"><span class=\"ne-text\">æ³¨æ„ï¼Œæˆ‘ä»¬è„šæœ¬åˆ†ä¸ºä¸¤ç±»</span><strong><span class=\"ne-text\">ã€Œpackage çº§åˆ«ã€</span></strong><span class=\"ne-text\">ä¸</span><strong><span class=\"ne-text\">ã€Œworkspace çº§åˆ«</span></strong><span class=\"ne-text\">ã€ï¼Œå¹¶ä¸”åˆ†åˆ«æ”¾åœ¨ä¸¤ä¸ªæ–‡ä»¶å¤¹å†…ã€‚è¿™æ ·åšçš„å¥½å¤„åœ¨äºï¼Œæˆ‘ä»¬æ—¢å¯ä»¥åœ¨é¡¹ç›®æ ¹ç›®å½•æ‰§è¡Œå…¨å±€è„šæœ¬ï¼Œä¹Ÿå¯ä»¥é’ˆå¯¹å•ä¸ªé¡¹ç›®æ‰§è¡Œç‰¹å®šçš„è„šæœ¬ã€‚</span></p><p id=\"u2986ff87\" class=\"ne-p\"><span class=\"ne-text\"></span></p><p id=\"u6a689a35\" class=\"ne-p\"><span class=\"ne-text\">é€šè¿‡ä½¿ç”¨ </span><code class=\"ne-code\"><span class=\"ne-text\">scripty</span></code><span class=\"ne-text\">ï¼Œå­é¡¹ç›®çš„ </span><code class=\"ne-code\"><span class=\"ne-text\">package.json</span></code><span class=\"ne-text\"> æ–‡ä»¶ä¸­çš„ </span><code class=\"ne-code\"><span class=\"ne-text\">scripts</span></code><span class=\"ne-text\"> å±æ€§å°†å˜å¾—éå¸¸ç²¾ç®€ï¼š</span></p><pre data-language=\"json\" id=\"fHxeB\" class=\"ne-codeblock language-json\">{\n  ...\n  &quot;scripts&quot;: {\n    &quot;test&quot;: &quot;scripty&quot;,\n    &quot;lint&quot;: &quot;scripty&quot;,\n    &quot;build&quot;: &quot;scripty&quot;\n  },\n  &quot;scripty&quot;: {\n    &quot;path&quot;: &quot;../../scripts/packages&quot; // æ³¨æ„è¿™é‡Œæˆ‘ä»¬æŒ‡å®šäº† scripty çš„è·¯å¾„\n  },\n  ...\n}</pre><p id=\"u585c33a7\" class=\"ne-p\"><span class=\"ne-text\">å¤§åŠŸå‘Šæˆï¼ğŸ‰ è‡³æ­¤ï¼Œæˆ‘ä»¬å°½å·±æ‰€èƒ½åœ°åˆ é™¤äº†æ•´ä¸ªé¡¹ç›®ä¸­çš„é‡å¤ä»£ç ï¼Œè®©æ•´ä¸ªé¡¹ç›®å˜å¾—å¹²å‡€ï¼Œæ¸…çˆ½å¹¶ä¸”æœ‰æå¼ºçš„å¤ç”¨æ€§ã€‚</span></p><div data-type=\"info\" class=\"ne-alert\"><p id=\"u48cf5b3f\" class=\"ne-p\"><span class=\"ne-text\">ğŸ§‰ å°è´´å£«ï¼š</span></p><p id=\"ufd40322e\" class=\"ne-p\"><span class=\"ne-text\">åˆ«å¿˜äº†ä½¿ç”¨ </span><code class=\"ne-code\"><span class=\"ne-text\">chmod -R u+x scripts</span></code><span class=\"ne-text\"> å‘½ä»¤ä½¿æ‰€æœ‰çš„ </span><code class=\"ne-code\"><span class=\"ne-text\">shell</span></code><span class=\"ne-text\"> è„šæœ¬å…·å¤‡å¯æ‰§è¡Œæƒé™ï¼Œä¹Ÿåƒä¸‡åˆ«å¿˜äº†æŠŠè¿™æ¡è´´å£«å†™åœ¨æ‚¨çš„ </span><code class=\"ne-code\"><span class=\"ne-text\">README.md</span></code><span class=\"ne-text\"> æ–‡ä»¶ä¸­ï¼</span></p></div><h3 id=\"HpKUb\"><span class=\"ne-text\">5. ç»Ÿä¸€åŒ…ç®¡ç†: lerna</span></h3><p id=\"u81dd33a5\" class=\"ne-p\"><img src=\"https://cdn.nlark.com/yuque/0/2022/png/732231/1648747742904-bb7df604-18ef-4547-93c2-382b3cd5a574.png\" width=\"600\" id=\"u76e7c2b9\" class=\"ne-image\"></p><p id=\"u37da6979\" class=\"ne-p\"><span class=\"ne-text\">æˆ‘æœ‰æ—¶ä¼šæ„Ÿæ…¨è‡ªå·±çš„çµæ„ŸåŒ®ä¹ï¼Œæ€ä¹ˆå°±æƒ³ä¸åˆ° </span><code class=\"ne-code\"><span class=\"ne-text\">Lerna</span></code><span class=\"ne-text\"> è¿™æ ·æ—¢æœ‰ç¥è¯è‰²å½©åˆèƒ½è‡ªæˆ‘é‡Šä¹‰çš„å¥½åå­—ã€‚æ‚¨å¯ä»¥å¤§èƒ†æƒ³è±¡ï¼Œä¹å¤´é¾™çš„æ¯åªé¾™å¤´éƒ½åœ¨å¸®æ‚¨ç®¡ç†ç€ä¸€ä¸ªå­é¡¹ç›®ï¼Œè€Œæ‚¨åªéœ€è¦éª‘åœ¨é¾™èº«ä¸Šå‘å·æ–½ä»¤çš„åœºæ™¯ï¼Œè¿™åŸºæœ¬ä¸Šå°±æ˜¯æˆ‘ä»¬ä½¿ç”¨ </span><code class=\"ne-code\"><span class=\"ne-text\">Lerna</span></code><span class=\"ne-text\"> æ—¶çš„ç›´è§‚æ„Ÿå—ã€‚</span></p><p id=\"ued055ae9\" class=\"ne-p\"><span class=\"ne-text\"></span></p><p id=\"ubbeb37d6\" class=\"ne-p\"><span class=\"ne-text\">è¿™ä¹Ÿæ˜¯ä¸ºä»€ä¹ˆå½“æˆ‘ä»¬æèµ· </span><code class=\"ne-code\"><span class=\"ne-text\">monorepo</span></code><span class=\"ne-text\"> ç­–ç•¥ï¼Œå°±å‡ ä¹ä¸å¾—ä¸æåˆ° </span><code class=\"ne-code\"><span class=\"ne-text\">Lerna</span></code><span class=\"ne-text\"> çš„åŸå› äº†ï¼Œå®ƒçš„ç¡®æä¾›äº†ä¸€ç§éå¸¸ä¾¿æ·çš„æ–¹å¼ä¾›æˆ‘ä»¬ç®¡ç† </span><code class=\"ne-code\"><span class=\"ne-text\">monorepo</span></code><span class=\"ne-text\"> é¡¹ç›®ã€‚å½“å­é¡¹ç›®è¶Šå¤šæ—¶ï¼Œ</span><code class=\"ne-code\"><span class=\"ne-text\">Lerna</span></code><span class=\"ne-text\"> å°±è¶Šèƒ½æ˜¾ç¤ºå…¶å¨åŠ›ã€‚</span></p><p id=\"u3ebdd90c\" class=\"ne-p\"><span class=\"ne-text\"></span></p><p id=\"u777b0f5a\" class=\"ne-p\"><span class=\"ne-text\">å½“å¤šä¸ªå­é¡¹ç›®æ”¾åœ¨ä¸€ä¸ªä»£ç ä»“åº“ï¼Œå¹¶ä¸”å­é¡¹ç›®ä¹‹é—´åˆç›¸äº’ä¾èµ–æ—¶ï¼Œæˆ‘ä»¬é¢ä¸´çš„æ£˜æ‰‹é—®é¢˜æœ‰ä¸¤ä¸ªï¼š</span></p><ol class=\"ne-ol\"><li id=\"u27c47ae8\"><span class=\"ne-text\">å¦‚æœæˆ‘ä»¬éœ€è¦åœ¨å¤šä¸ªå­ç›®å½•æ‰§è¡Œç›¸åŒçš„å‘½ä»¤ï¼Œæˆ‘ä»¬éœ€è¦æ‰‹åŠ¨è¿›å…¥å„ä¸ªç›®å½•ï¼Œå¹¶æ‰§è¡Œå‘½ä»¤</span><span class=\"ne-text\">ï¼›</span></li><li id=\"udead62d3\"><span class=\"ne-text\">å½“ä¸€ä¸ªå­é¡¹ç›®æ›´æ–°åï¼Œæˆ‘ä»¬åªèƒ½æ‰‹åŠ¨è¿½è¸ªä¾èµ–è¯¥é¡¹ç›®çš„å…¶ä»–å­é¡¹ç›®ï¼Œå¹¶å‡çº§å…¶ç‰ˆæœ¬</span><span class=\"ne-text\">ã€‚</span></li></ol><p id=\"u56c53fac\" class=\"ne-p\"><span class=\"ne-text\">é€šè¿‡ä½¿ç”¨ </span><code class=\"ne-code\"><span class=\"ne-text\">Lerna</span></code><span class=\"ne-text\">ï¼Œè¿™äº›æ£˜æ‰‹çš„é—®é¢˜éƒ½å°†ä¸å¤å­˜åœ¨ã€‚</span></p><p id=\"ua2b12287\" class=\"ne-p\"><span class=\"ne-text\"></span></p><p id=\"ua81c0076\" class=\"ne-p\"><span class=\"ne-text\">å½“åœ¨é¡¹ç›®æ ¹ç›®å½•ä½¿ç”¨ </span><code class=\"ne-code\"><span class=\"ne-text\">npx lerna init</span></code><span class=\"ne-text\"> åˆå§‹åŒ–åï¼Œæˆ‘ä»¬çš„æ ¹ç›®å½•ä¼šæ–°å¢ä¸€ä¸ª </span><code class=\"ne-code\"><span class=\"ne-text\">lerna.json</span></code><span class=\"ne-text\"> æ–‡ä»¶ï¼Œé»˜è®¤å†…å®¹ä¸ºï¼š</span></p><pre data-language=\"json\" id=\"sf4mf\" class=\"ne-codeblock language-json\">{\n  &quot;packages&quot;: [&quot;packages/*&quot;],\n  &quot;version&quot;: &quot;0.0.0&quot;\n}</pre><p id=\"u8b66d0f7\" class=\"ne-p\"><span class=\"ne-text\">è®©æˆ‘ä»¬ç¨ç¨æ”¹åŠ¨è¿™ä¸ªæ–‡ä»¶ï¼Œä½¿å…¶å˜ä¸ºï¼š</span></p><pre data-language=\"json\" id=\"sgCQn\" class=\"ne-codeblock language-json\">{\n  &quot;packages&quot;: [&quot;packages/*&quot;],\n  &quot;npmClient&quot;: &quot;yarn&quot;,\n  &quot;version&quot;: &quot;independent&quot;,\n  &quot;useWorkspaces&quot;: true,\n}</pre><p id=\"u7159bb2a\" class=\"ne-p\"><span class=\"ne-text\">å¯ä»¥æ³¨æ„åˆ°ï¼Œæˆ‘ä»¬æ˜¾ç¤ºå£°æ˜äº†æˆ‘ä»¬çš„åŒ…å®¢æˆ·ç«¯ï¼ˆ</span><code class=\"ne-code\"><span class=\"ne-text\">npmClient</span></code><span class=\"ne-text\">ï¼‰ä¸º </span><code class=\"ne-code\"><span class=\"ne-text\">yarn</span></code><span class=\"ne-text\">ï¼Œå¹¶ä¸”è®© </span><code class=\"ne-code\"><span class=\"ne-text\">Lerna</span></code><span class=\"ne-text\"> è¿½è¸ªæˆ‘ä»¬ </span><code class=\"ne-code\"><span class=\"ne-text\">workspaces</span></code><span class=\"ne-text\"> è®¾ç½®çš„ç›®å½•ï¼Œè¿™æ ·æˆ‘ä»¬å°±ä¾æ—§ä¿ç•™äº†ä¹‹å‰ </span><code class=\"ne-code\"><span class=\"ne-text\">workspaces</span></code><span class=\"ne-text\"> çš„æ‰€æœ‰ç‰¹æ€§ï¼ˆå­é¡¹ç›®å¼•ç”¨å’Œé€šç”¨åŒ…æå‡ï¼‰ã€‚</span></p><p id=\"u89c66570\" class=\"ne-p\"><span class=\"ne-text\"></span></p><p id=\"ub429bda9\" class=\"ne-p\"><span class=\"ne-text\">é™¤æ­¤ä¹‹å¤–ä¸€ä¸ªæœ‰è¶£çš„æ”¹åŠ¨åœ¨äºæˆ‘ä»¬å°† </span><code class=\"ne-code\"><span class=\"ne-text\">version</span></code><span class=\"ne-text\"> å±æ€§æŒ‡å®šä¸ºä¸€ä¸ªå…³é”®å­— </span><code class=\"ne-code\"><span class=\"ne-text\">independent</span></code><span class=\"ne-text\">ï¼Œè¿™å°†å‘Šè¯‰ </span><code class=\"ne-code\"><span class=\"ne-text\">lerna</span></code><span class=\"ne-text\"> åº”è¯¥å°†æ¯ä¸ªå­é¡¹ç›®çš„ç‰ˆæœ¬å·çœ‹ä½œæ˜¯ç›¸äº’ç‹¬ç«‹çš„ã€‚å½“æŸä¸ªå­é¡¹ç›®ä»£ç æ›´æ–°åï¼Œè¿è¡Œ </span><code class=\"ne-code\"><span class=\"ne-text\">lerna publish</span></code><span class=\"ne-text\"> æ—¶ï¼Œ</span><code class=\"ne-code\"><span class=\"ne-text\">Lerna</span></code><span class=\"ne-text\"> å°†ç›‘å¬åˆ°ä»£ç å˜åŒ–çš„å­é¡¹ç›®å¹¶ä»¥äº¤äº’å¼ </span><code class=\"ne-code\"><span class=\"ne-text\">CLI</span></code><span class=\"ne-text\"> æ–¹å¼è®©å¼€å‘è€…å†³å®šéœ€è¦å‡çº§çš„ç‰ˆæœ¬å·ï¼Œå…³è”çš„å­é¡¹ç›®ç‰ˆæœ¬å·ä¸ä¼šè‡ªåŠ¨å‡çº§ï¼Œåä¹‹ï¼Œå½“æˆ‘ä»¬å¡«å…¥å›ºå®šçš„ç‰ˆæœ¬å·æ—¶ï¼Œåˆ™ä»»ä¸€å­é¡¹ç›®çš„ä»£ç å˜åŠ¨ï¼Œéƒ½ä¼šå¯¼è‡´æ‰€æœ‰å­é¡¹ç›®çš„ç‰ˆæœ¬å·åŸºäºå½“å‰æŒ‡å®šçš„ç‰ˆæœ¬å·å‡çº§ã€‚</span></p><p id=\"u0e61fc9c\" class=\"ne-p\"><span class=\"ne-text\"></span></p><p id=\"u52cf8053\" class=\"ne-p\"><code class=\"ne-code\"><span class=\"ne-text\">Lerna</span></code><span class=\"ne-text\"> æä¾›äº†å¾ˆå¤š </span><code class=\"ne-code\"><span class=\"ne-text\">CLI</span></code><span class=\"ne-text\"> å‘½ä»¤ä»¥æ»¡è¶³æˆ‘ä»¬çš„å„ç§éœ€æ±‚ï¼Œä½†æ ¹æ® 2/8 æ³•åˆ™ï¼Œæ‚¨åº”è¯¥é¦–å…ˆå…³æ³¨ä»¥ä¸‹è¿™äº›å‘½ä»¤ï¼š</span></p><ul class=\"ne-ul\"><li id=\"u6c700d82\"><code class=\"ne-code\"><span class=\"ne-text\">lerna bootstrap</span></code><span class=\"ne-text\">ï¼šç­‰åŒäº lerna link + yarn installï¼Œç”¨äºåˆ›å»ºç¬¦åˆé“¾æ¥å¹¶å®‰è£…ä¾èµ–åŒ…ï¼›</span></li><li id=\"uf9469c10\"><code class=\"ne-code\"><span class=\"ne-text\">lerna run</span></code><span class=\"ne-text\">ï¼šä¼šåƒæ‰§è¡Œä¸€ä¸ª for å¾ªç¯ä¸€æ ·ï¼Œåœ¨æ‰€æœ‰å­é¡¹ç›®ä¸­æ‰§è¡Œ npm script è„šæœ¬ï¼Œå¹¶ä¸”ï¼Œå®ƒä¼šéå¸¸æ™ºèƒ½çš„è¯†åˆ«ä¾èµ–å…³ç³»ï¼Œå¹¶ä»æ ¹ä¾èµ–å¼€å§‹æ‰§è¡Œå‘½ä»¤ï¼›</span></li><li id=\"u932e5cfe\"><code class=\"ne-code\"><span class=\"ne-text\">lerna exec</span></code><span class=\"ne-text\">ï¼šåƒ </span><code class=\"ne-code\"><span class=\"ne-text\">lerna run </span></code><span class=\"ne-text\">ä¸€æ ·ï¼Œä¼šæŒ‰ç…§ä¾èµ–é¡ºåºæ‰§è¡Œå‘½ä»¤ï¼Œä¸åŒçš„æ˜¯ï¼Œå®ƒå¯ä»¥æ‰§è¡Œä»»ä½•å‘½ä»¤ï¼Œä¾‹å¦‚ </span><code class=\"ne-code\"><span class=\"ne-text\">shell</span></code><span class=\"ne-text\"> è„šæœ¬ï¼›</span></li><li id=\"ub06c4bdf\"><code class=\"ne-code\"><span class=\"ne-text\">lerna publish</span></code><span class=\"ne-text\">ï¼šå‘å¸ƒä»£ç æœ‰å˜åŠ¨çš„ </span><code class=\"ne-code\"><span class=\"ne-text\">package</span></code><span class=\"ne-text\">ï¼Œå› æ­¤é¦–å…ˆæ‚¨éœ€è¦åœ¨ä½¿ç”¨ </span><code class=\"ne-code\"><span class=\"ne-text\">Lerna</span></code><span class=\"ne-text\"> å‰ä½¿ç”¨ </span><code class=\"ne-code\"><span class=\"ne-text\">git commit</span></code><span class=\"ne-text\"> å‘½ä»¤æäº¤ä»£ç ï¼Œå¥½è®© </span><code class=\"ne-code\"><span class=\"ne-text\">Lerna</span></code><span class=\"ne-text\"> æœ‰ä¸€ä¸ª </span><code class=\"ne-code\"><span class=\"ne-text\">baseline</span></code><span class=\"ne-text\">ï¼›</span></li><li id=\"u06b01b17\"><code class=\"ne-code\"><span class=\"ne-text\">lerna add</span></code><span class=\"ne-text\">ï¼šå°†æœ¬åœ°æˆ–è¿œç¨‹çš„åŒ…ä½œä¸ºä¾èµ–æ·»åŠ è‡³å½“å‰çš„ </span><code class=\"ne-code\"><span class=\"ne-text\">monorepo</span></code><span class=\"ne-text\"> ä»“åº“ä¸­ï¼Œè¯¥å‘½ä»¤è®© </span><code class=\"ne-code\"><span class=\"ne-text\">Lerna</span></code><span class=\"ne-text\"> å¯ä»¥è¯†åˆ«å¹¶è¿½è¸ªåŒ…ä¹‹é—´çš„ä¾èµ–å…³ç³»ï¼Œå› æ­¤éå¸¸é‡è¦ï¼›</span></li></ul><pre data-language=\"shell\" id=\"g2KSh\" class=\"ne-codeblock language-shell\"># å‘ @mono/project2 å’Œ @mono/project3 ä¸­æ·»åŠ  @mono/project1\nlerna add @mono/project1 '@mono/project{2,3}'</pre><h4 id=\"IoUuw\"><span class=\"ne-text\">lerna é«˜çº§å‘½ä»¤</span></h4><p id=\"u2fac2e13\" class=\"ne-p\"><span class=\"ne-text\">é™¤äº†ä¸Šé¢ä»‹ç»åˆ°çš„å¸¸ç”¨å‘½ä»¤å¤–ï¼Œ</span><code class=\"ne-code\"><span class=\"ne-text\">Lerna</span></code><span class=\"ne-text\"> è¿˜æä¾›äº†ä¸€äº›å‚æ•°æ»¡è¶³æˆ‘ä»¬æ›´çµæ´»çš„éœ€æ±‚ï¼Œä¾‹å¦‚ï¼š</span></p><ul class=\"ne-ul\"><li id=\"ua122680d\"><code class=\"ne-code\"><span class=\"ne-text\">--concurrency &lt;number&gt;</span></code><span class=\"ne-text\">ï¼šå‚æ•°å¯ä»¥ä½¿ </span><code class=\"ne-code\"><span class=\"ne-text\">Lerna</span></code><span class=\"ne-text\"> åˆ©ç”¨è®¡ç®—æœºä¸Šçš„å¤šä¸ªæ ¸å¿ƒï¼Œå¹¶å‘è¿è¡Œï¼Œä»è€Œæå‡æ„å»ºé€Ÿåº¦ï¼›</span></li><li id=\"u5d330b31\"><code class=\"ne-code\"><span class=\"ne-text\">--scope '@mono/{pkg1,pkg2}'</span></code><span class=\"ne-text\">ï¼š</span><code class=\"ne-code\"><span class=\"ne-text\">--scope</span></code><span class=\"ne-text\"> å‚æ•°å¯ä»¥æŒ‡å®š </span><code class=\"ne-code\"><span class=\"ne-text\">Lerna</span></code><span class=\"ne-text\"> å‘½ä»¤çš„è¿è¡Œç¯å¢ƒï¼Œé€šè¿‡ä½¿ç”¨è¯¥å‚æ•°ï¼Œ</span><code class=\"ne-code\"><span class=\"ne-text\">Lerna</span></code><span class=\"ne-text\"> å°†ä¸å†æ˜¯ä¸€æŠŠæ¢­çš„åœ¨æ‰€æœ‰ä»“åº“ä¸­æ‰§è¡Œå‘½ä»¤ï¼Œè€Œæ˜¯å¯ä»¥ç²¾å‡†åœ°åœ¨æˆ‘ä»¬æ‰€æŒ‡å®šçš„ä»“åº“ä¸­æ‰§è¡Œå‘½ä»¤ï¼Œå¹¶ä¸”è¿˜æ”¯æŒç¤ºä¾‹ä¸­çš„æ¨¡ç‰ˆè¯­æ³•ï¼›</span></li><li id=\"ucbcd7067\"><code class=\"ne-code\"><span class=\"ne-text\">--stream</span></code><span class=\"ne-text\">ï¼šè¯¥å‚æ•°å¯ä½¿æˆ‘ä»¬æŸ¥çœ‹ </span><code class=\"ne-code\"><span class=\"ne-text\">Lerna</span></code><span class=\"ne-text\"> è¿è¡Œæ—¶çš„å‘½ä»¤æ‰§è¡Œä¿¡æ¯ï¼›</span></li></ul><h4 id=\"iCnP2\"><span class=\"ne-text\" style=\"color: rgb(44, 62, 80)\">npm åŒ…æœ¬åœ°å‘å¸ƒï¼šVerdaccio</span></h4><p id=\"u76369f55\" class=\"ne-p\"><img src=\"https://cdn.nlark.com/yuque/0/2022/png/732231/1648748304497-5e3fff8e-c3f8-45d1-838f-c3e5bd18ed1c.png\" width=\"481.6\" id=\"u8ce3b6ee\" class=\"ne-image\"></p><p id=\"ue967177c\" class=\"ne-p\"><span class=\"ne-text\">çœ‹åˆ°è¿™é‡Œï¼Œæ‚¨å¯èƒ½æƒ³è¦äº²è‡ªä½“éªŒä¸€æŠŠä½¿ç”¨ </span><code class=\"ne-code\"><span class=\"ne-text\">Lerna</span></code><span class=\"ne-text\"> ç®¡ç†/å‘å¸ƒ </span><code class=\"ne-code\"><span class=\"ne-text\">monorepo</span></code><span class=\"ne-text\"> é¡¹ç›®çš„æ„Ÿè§‰ã€‚å¯æ˜¯å¾ˆå¿«æ‚¨ä¼šå‘ç°ï¼Œå°†ç¤ºä¾‹ä»£ç å‘å¸ƒåˆ°çœŸå®ä¸–ç•Œçš„ </span><code class=\"ne-code\"><span class=\"ne-text\">npm</span></code><span class=\"ne-text\"> ä»“åº“å¹¶éä¸€ä¸ªå¥½ä¸»æ„ï¼Œè¿™å¤šå°‘æœ‰äº›ä»¤äººæ²®ä¸§ï¼Œä½†æ˜¯åˆ«æ‹…å¿ƒï¼Œæ‚¨å¯ä»¥ä½¿ç”¨ </span><a href=\"https://verdaccio.org/\" data-href=\"https://verdaccio.org/\" target=\"_blank\" class=\"ne-link\"><span class=\"ne-text\">Verdaccio</span></a><span class=\"ne-text\"> åœ¨æœ¬åœ°åˆ›å»ºä¸€ä¸ª </span><code class=\"ne-code\"><span class=\"ne-text\">npm</span></code><span class=\"ne-text\"> ä»“åº“ä½œä¸ºä»£ç†ï¼Œç„¶åå°½æƒ…ä½“éªŒ </span><code class=\"ne-code\"><span class=\"ne-text\">Lerna</span></code><span class=\"ne-text\"> çš„ç§ç§å¼ºå¤§ä¹‹å¤„ã€‚</span></p><p id=\"u8fce2d9a\" class=\"ne-p\"><span class=\"ne-text\"></span></p><p id=\"u06ffb147\" class=\"ne-p\"><span class=\"ne-text\">å®‰è£…è¿è¡Œ </span><code class=\"ne-code\"><span class=\"ne-text\">Verdaccio</span></code><span class=\"ne-text\"> éå¸¸ç®€å•ï¼Œæ‚¨åªéœ€è¿è¡Œï¼š</span></p><pre data-language=\"shell\" id=\"Zj2aV\" class=\"ne-codeblock language-shell\">npm install --global verdaccio</pre><p id=\"u75c40ef9\" class=\"ne-p\"><span class=\"ne-text\">åœ¨å…¨å±€å®‰è£… </span><code class=\"ne-code\"><span class=\"ne-text\">Verdaccio</span></code><span class=\"ne-text\"> åº”ç”¨ï¼Œç„¶ååœ¨ </span><code class=\"ne-code\"><span class=\"ne-text\">shell</span></code><span class=\"ne-text\"> ä¸­è¾“å…¥ï¼š</span></p><pre data-language=\"shell\" id=\"Ha0Mi\" class=\"ne-codeblock language-shell\">verdaccio</pre><p id=\"u5dc97380\" class=\"ne-p\"><span class=\"ne-text\">å³å¯é€šè¿‡ </span><code class=\"ne-code\"><span class=\"ne-text\">localhost:4837</span></code><span class=\"ne-text\"> è®¿é—®æ‚¨çš„æœ¬åœ°ä»£ç† </span><code class=\"ne-code\"><span class=\"ne-text\">npm</span></code><span class=\"ne-text\"> ä»“åº“ï¼Œåˆ«å¿˜äº†åœ¨æ‚¨çš„é¡¹ç›®æ ¹ç›®å½•åˆ›å»º </span><code class=\"ne-code\"><span class=\"ne-text\">.npmrc</span></code><span class=\"ne-text\"> æ–‡ä»¶ï¼Œå¹¶åœ¨æ–‡ä»¶ä¸­å°† </span><code class=\"ne-code\"><span class=\"ne-text\">npm</span></code><span class=\"ne-text\"> ä»“åº“åœ°å€æ”¹å†™ä¸ºæ‚¨çš„æœ¬åœ°ä»£ç†åœ°å€ï¼š</span></p><pre data-language=\"shell\" id=\"tHFHj\" class=\"ne-codeblock language-shell\">registry=&quot;http://localhost:4873/&quot;</pre><p id=\"ucf137b08\" class=\"ne-p\"><span class=\"ne-text\">å¤§åŠŸå‘Šæˆ ğŸ™Œï¼æ¯å½“æ‚¨æ‰§è¡Œ </span><code class=\"ne-code\"><span class=\"ne-text\">lerna publish</span></code><span class=\"ne-text\"> æ—¶ï¼Œå­é¡¹ç›®æ‰€æ„å»ºæˆçš„ </span><code class=\"ne-code\"><span class=\"ne-text\">package</span></code><span class=\"ne-text\"> å°†ä¼šå‘å¸ƒåœ¨æœ¬åœ° </span><code class=\"ne-code\"><span class=\"ne-text\">npm</span></code><span class=\"ne-text\"> ä»“åº“ä¸­ï¼Œè€Œå½“æ‚¨æ‰§è¡Œ </span><code class=\"ne-code\"><span class=\"ne-text\">lerna bootstrap</span></code><span class=\"ne-text\"> æ—¶ï¼Œ</span><code class=\"ne-code\"><span class=\"ne-text\">Verdaccio</span></code><span class=\"ne-text\"> å°†ä¼šæ”¾è¡Œï¼Œè®©æ‚¨æˆåŠŸä»è¿œç¨‹ </span><code class=\"ne-code\"><span class=\"ne-text\">npm</span></code><span class=\"ne-text\"> ä»“åº“ä¸­æ‹‰å–ç›¸åº”çš„ä»£ç ã€‚</span></p><h3 id=\"iwmes\"><span class=\"ne-text\">6. æ ¼å¼åŒ– commit ç®¡ç†</span></h3><p id=\"u3950e952\" class=\"ne-p\"><span class=\"ne-text\">è‡³æ­¤ï¼Œæˆ‘ä»¬å·²ç»æŒæ¡äº†ç»„ç»‡ä¸€ä¸ªé¡¹ç›®çº§ </span><code class=\"ne-code\"><span class=\"ne-text\">monorepo</span></code><span class=\"ne-text\"> ä»“åº“çš„æ‰€æœ‰å‰æ²¿æŠ€å·§ï¼Œæœ€åï¼Œè®©æˆ‘ä»¬çœ‹çœ‹æœ€åä¸€ä¸ªå¯ä»¥ä¼˜åŒ–çš„åœ°æ–¹ï¼šä»£ç æäº¤æ—¶ï¼Œçº¦æŸ </span><code class=\"ne-code\"><span class=\"ne-text\">commit</span></code><span class=\"ne-text\"> ä¿¡æ¯ã€‚</span></p><p id=\"u43c1bb9b\" class=\"ne-p\"><span class=\"ne-text\"></span></p><p id=\"u20f94032\" class=\"ne-p\"><span class=\"ne-text\">ä¸€ä¸ª </span><code class=\"ne-code\"><span class=\"ne-text\">monorepo</span></code><span class=\"ne-text\"> ä»“åº“å¯èƒ½è¢«ä¸åŒçš„å¼€å‘è€…æäº¤ä¸åŒå­é¡¹ç›®çš„ä»£ç ï¼Œå¦‚æœæ²¡æœ‰è§„èŒƒåŒ–çš„ </span><code class=\"ne-code\"><span class=\"ne-text\">commit</span></code><span class=\"ne-text\"> ä¿¡æ¯ï¼Œåœ¨æ•…éšœæ’æŸ¥æˆ–ç‰ˆæœ¬å›æ»šæ—¶æ¯«æ— æ„å¤–ä¼šé­é‡ç¾éš¾ã€‚å› æ­¤ï¼Œåƒä¸‡ä¸è¦å°çœ‹ </span><code class=\"ne-code\"><span class=\"ne-text\">commit</span></code><span class=\"ne-text\"> ä¿¡æ¯æ ¼å¼åŒ–çš„é‡è¦æ€§ï¼ˆå½“ç„¶ï¼ŒåŒæ ·é‡è¦çš„è¿˜æœ‰ä»£ç æ³¨é‡Šï¼ï¼‰ã€‚</span></p><p id=\"u0f6d9481\" class=\"ne-p\"><span class=\"ne-text\"></span></p><p id=\"ub83c335b\" class=\"ne-p\"><span class=\"ne-text\">ä¸ºäº†æˆ‘ä»¬èƒ½å¤Ÿä¸€ç›®äº†ç„¶çš„è¿½è¸ªæ¯æ¬¡ä»£ç å˜æ›´çš„ä¿¡æ¯ï¼Œæˆ‘ä»¬ä½¿ç”¨ </span><a href=\"https://github.com/conventional-changelog/commitlint/#what-is-commitlint\" data-href=\"https://github.com/conventional-changelog/commitlint/#what-is-commitlint\" target=\"_blank\" class=\"ne-link\"><span class=\"ne-text\">commitlint</span></a><span class=\"ne-text\"> å·¥å…·ä½œä¸ºæ ¼å¼åŒ– </span><code class=\"ne-code\"><span class=\"ne-text\">commit</span></code><span class=\"ne-text\"> ä¿¡æ¯çš„ä¸äºŒä¹‹é€‰ã€‚</span></p><p id=\"udfabd56a\" class=\"ne-p\"><span class=\"ne-text\"></span></p><p id=\"ub23f9896\" class=\"ne-p\"><span class=\"ne-text\">é¡¾åæ€ä¹‰ï¼Œ</span><code class=\"ne-code\"><span class=\"ne-text\">commitlint</span></code><span class=\"ne-text\"> å¯ä»¥å¸®åŠ©æˆ‘ä»¬æ£€æŸ¥æäº¤çš„ </span><code class=\"ne-code\"><span class=\"ne-text\">commit</span></code><span class=\"ne-text\"> ä¿¡æ¯ï¼Œå®ƒå¼ºåˆ¶çº¦æŸæˆ‘ä»¬çš„ </span><code class=\"ne-code\"><span class=\"ne-text\">commit</span></code><span class=\"ne-text\"> ä¿¡æ¯å¿…é¡»åœ¨å¼€å¤´é™„åŠ æŒ‡å®šç±»å‹ï¼Œç”¨äºæ ‡ç¤ºæœ¬æ¬¡æäº¤çš„å¤§è‡´æ„å›¾ï¼Œæ”¯æŒçš„ç±»å‹å…³é”®å­—æœ‰ï¼š</span></p><ul class=\"ne-ul\"><li id=\"u26ab9e73\"><code class=\"ne-code\"><span class=\"ne-text\">feat</span></code><span class=\"ne-text\">ï¼šè¡¨ç¤ºæ·»åŠ ä¸€ä¸ªæ–°ç‰¹æ€§ï¼›</span></li><li id=\"u8f5d8328\"><code class=\"ne-code\"><span class=\"ne-text\">chore</span></code><span class=\"ne-text\">ï¼šè¡¨ç¤ºåšäº†ä¸€äº›ä¸ç‰¹æ€§å’Œä¿®å¤æ— å…³çš„ã€Œå®¶åŠ¡äº‹ã€ï¼›</span></li><li id=\"ua1b40293\"><code class=\"ne-code\"><span class=\"ne-text\">fix</span></code><span class=\"ne-text\">ï¼šè¡¨ç¤ºä¿®å¤äº†ä¸€ä¸ª </span><code class=\"ne-code\"><span class=\"ne-text\">Bug</span></code><span class=\"ne-text\">ï¼›</span></li><li id=\"ue7db7ec0\"><code class=\"ne-code\"><span class=\"ne-text\">refactor</span></code><span class=\"ne-text\">ï¼šè¡¨ç¤ºæœ¬æ¬¡æäº¤æ˜¯å› ä¸ºé‡æ„äº†ä»£ç ï¼›</span></li><li id=\"u9a4f7abc\"><code class=\"ne-code\"><span class=\"ne-text\">style</span></code><span class=\"ne-text\">ï¼šè¡¨ç¤ºä»£ç ç¾åŒ–æˆ–æ ¼å¼åŒ–ï¼›</span></li><li id=\"uc24c75fc\"><span class=\"ne-text\">...</span></li></ul><p id=\"u896e216b\" class=\"ne-p\"><span class=\"ne-text\"></span></p><p id=\"u886f7219\" class=\"ne-p\"><span class=\"ne-text\">æˆ‘å¼ºçƒˆå»ºè®®æ‚¨éµå¾ªè¯¥è§„èŒƒç¼–å†™æ‚¨çš„ </span><code class=\"ne-code\"><span class=\"ne-text\">commit</span></code><span class=\"ne-text\"> ä¿¡æ¯ï¼Œä¸è¦å·æ‡’ï¼ŒåšæŒä¸‹å»ï¼Œæ‚¨çš„ git æ—¥å¿—å°†ä¼šæ˜¾å¾—æ•´é½ï¼Œæœ‰æ¡ç†ï¼Œå¯Œæœ‰è¡¨ç°åŠ›ï¼ŒåŒæ—¶ï¼Œæ‚¨ä¹Ÿä¼šæ”¶åˆ°åŒè¡Œçš„äº¤å£ç§°èµï¼Œäººäººéƒ½ä¼šä»¥å’Œæ‚¨è¿™æ ·ä¼˜é›…çš„å·¥ç¨‹å¸ˆåˆä½œä¸ºè£ã€‚</span></p><p id=\"uea56f20e\" class=\"ne-p\"><span class=\"ne-text\"></span></p><p id=\"u557fd3ea\" class=\"ne-p\"><span class=\"ne-text\">é™¤äº†é™å®š </span><code class=\"ne-code\"><span class=\"ne-text\">commit</span></code><span class=\"ne-text\"> ä¿¡æ¯ç±»å‹å¤–ï¼Œ</span><code class=\"ne-code\"><span class=\"ne-text\">commitlint</span></code><span class=\"ne-text\"> è¿˜æ”¯æŒï¼ˆè™½ç„¶ä¸æ˜¯å¿…é¡»çš„ï¼‰æ˜¾ç¤ºæŒ‡å®šæˆ‘ä»¬æœ¬æ¬¡æäº¤æ‰€å¯¹åº”çš„å­é¡¹ç›®åç§°ã€‚å‡å¦‚æˆ‘ä»¬æœ‰ä¸€ä¸ªåä¸º </span><code class=\"ne-code\"><span class=\"ne-text\">@mono/project1</span></code><span class=\"ne-text\"> çš„å­é¡¹ç›®ï¼Œæˆ‘ä»¬é’ˆå¯¹è¯¥é¡¹ç›®æäº¤çš„ </span><code class=\"ne-code\"><span class=\"ne-text\">commit</span></code><span class=\"ne-text\"> ä¿¡æ¯å¯ä»¥å†™ä¸ºï¼š</span></p><pre data-language=\"git\" id=\"mS363\" class=\"ne-codeblock language-git\">git commit -m &quot;feat(project1): add a attractive button&quot; # æ³¨æ„ï¼Œæˆ‘ä»¬çœç•¥äº† @mono çš„é¡¹ç›®å‰ç¼€</pre><p id=\"u33f250b2\" class=\"ne-p\"><span class=\"ne-text\">æ¯«æ— ç–‘é—®ï¼Œè¿™å°†ä¼šä½¿æˆ‘ä»¬çš„ </span><code class=\"ne-code\"><span class=\"ne-text\">commit</span></code><span class=\"ne-text\"> ä¿¡æ¯æ›´å…·è¡¨ç°åŠ›ã€‚</span></p><p id=\"u1142642d\" class=\"ne-p\"><span class=\"ne-text\"></span></p><p id=\"uff98ac97\" class=\"ne-p\"><span class=\"ne-text\">æˆ‘ä»¬å¯ä»¥é€šè¿‡ä¸‹é¢çš„å‘½ä»¤å®‰è£… </span><code class=\"ne-code\"><span class=\"ne-text\">commitlint</span></code><span class=\"ne-text\"> ä»¥åŠå‘¨è¾¹ä¾èµ–ï¼š</span></p><pre data-language=\"shell\" id=\"RkIa0\" class=\"ne-codeblock language-shell\">npm i -D @commitlint/cli @commitlint/config-conventional @commitlint/config-lerna-scopes commitlint husky lerna-changelog</pre><p id=\"ua6fc73f1\" class=\"ne-p\"><span class=\"ne-text\">æ³¨æ„åˆ°äº†å—ï¼Ÿæˆ‘å·å·å®‰è£…äº† </span><a href=\"https://www.npmjs.com/package/husky\" data-href=\"https://www.npmjs.com/package/husky\" target=\"_blank\" class=\"ne-link\"><span class=\"ne-text\">husky</span></a><span class=\"ne-text\">ï¼Œå®ƒèƒ½å¤Ÿå¸®åŠ©æˆ‘ä»¬åœ¨æäº¤ </span><code class=\"ne-code\"><span class=\"ne-text\">commit</span></code><span class=\"ne-text\"> ä¿¡æ¯æ—¶è‡ªåŠ¨è¿è¡Œ </span><code class=\"ne-code\"><span class=\"ne-text\">commitlint</span></code><span class=\"ne-text\"> è¿›è¡Œæ£€æŸ¥ï¼Œä½†åœ¨è¿™ä¹‹å‰ï¼Œæˆ‘ä»¬éœ€è¦å†åœ¨æ ¹ç›®å½•ä¸‹çš„ </span><code class=\"ne-code\"><span class=\"ne-text\">package.json</span></code><span class=\"ne-text\"> æ–‡ä»¶é‡ŒåŠ ç‚¹æ–™ï¼Œåƒè¿™æ ·ï¼š</span></p><pre data-language=\"json\" id=\"jzcnb\" class=\"ne-codeblock language-json\">{\n ...\n &quot;husky&quot;: {\n    &quot;hooks&quot;: {\n      &quot;commit-msg&quot;: &quot;commitlint -E HUSKY_GIT_PARAMS&quot;\n    }\n  }\n ...\n}</pre><p id=\"ucb1bc6e7\" class=\"ne-p\"><span class=\"ne-text\">ä¸ºäº†èƒ½å¤Ÿè®© </span><code class=\"ne-code\"><span class=\"ne-text\">commitlint</span></code><span class=\"ne-text\"> æ„ŸçŸ¥æˆ‘ä»¬çš„å­é¡¹ç›®åç§°ï¼Œæˆ‘ä»¬è¿˜éœ€åœ¨é¡¹ç›®æ ¹ç›®å½•ä¸­å¢åŠ  </span><code class=\"ne-code\"><span class=\"ne-text\">commitlint.config.js</span></code><span class=\"ne-text\"> æ–‡ä»¶ï¼Œå¹¶è®¾ç½®æ–‡ä»¶å†…å®¹ä¸ºï¼š</span></p><pre data-language=\"javascript\" id=\"cPxqv\" class=\"ne-codeblock language-javascript\">module.exports = {\n  extends: [\n    &quot;@commitlint/config-conventional&quot;,\n    &quot;@commitlint/config-lerna-scopes&quot;,\n  ],\n};</pre><p id=\"uaafcda09\" class=\"ne-p\"><span class=\"ne-text\">è‡³æ­¤ï¼Œæˆ‘ä»¬ç»Ÿä¸€å¹¶è§„èŒƒåŒ–äº† </span><code class=\"ne-code\"><span class=\"ne-text\">monorepo</span></code><span class=\"ne-text\"> é¡¹ç›®çš„ </span><code class=\"ne-code\"><span class=\"ne-text\">commit</span></code><span class=\"ne-text\"> ä¿¡æ¯ï¼Œç»ˆäºæ•´ä¸ª </span><code class=\"ne-code\"><span class=\"ne-text\">monorepo</span></code><span class=\"ne-text\"> å·¥ç¨‹åŒ–çš„æœ€åä¸€å—æ‹¼å›¾è¢«æˆ‘ä»¬æ‹¼ä¸Šäº†ï¼</span></p><p id=\"u76a2a263\" class=\"ne-p\"><span class=\"ne-text\">ï¼ˆé¡ºä¾¿ä¸€æï¼Œæ‚¨å¯ä»¥é€šè¿‡åœ¨å‘½ä»¤è¡Œæ‰§è¡Œ </span><code class=\"ne-code\"><span class=\"ne-text\">echo &quot;build(project1): change something&quot; | npx commitlint</span></code><span class=\"ne-text\"> å‘½ä»¤å³å¯éªŒè¯æ‚¨çš„ </span><code class=\"ne-code\"><span class=\"ne-text\">commit</span></code><span class=\"ne-text\"> ä¿¡æ¯æ˜¯å¦é€šè¿‡ </span><code class=\"ne-code\"><span class=\"ne-text\">commitlint</span></code><span class=\"ne-text\"> çš„æ£€æŸ¥ã€‚ï¼‰</span></p></div>",
  "body_lake": "<!doctype lake><meta name=\"doc-version\" content=\"1\" /><meta name=\"typography\" content=\"classic\" /><meta name=\"viewport\" content=\"adapt\" /><h2 data-lake-id=\"JA07R\" id=\"JA07R\"><span data-lake-id=\"u8e8161df\" id=\"u8e8161df\">å¤§å‹é¡¹ç›®ç®¡ç†  Monorepo</span></h2><h3 data-lake-id=\"x1ZjE\" id=\"x1ZjE\"><span data-lake-id=\"u42649ce6\" id=\"u42649ce6\">èƒŒæ™¯</span></h3><p data-lake-id=\"u2e632aaa\" id=\"u2e632aaa\"><span data-lake-id=\"uc6b910df\" id=\"uc6b910df\">ä¸€ä¸ªä½“ç³»åºå¤§çš„ä»£ç åº“æ‹†åˆ†æˆå¤šä¸ªå•ç‹¬çš„å…·æœ‰ç‹¬ç«‹ç‰ˆæœ¬çš„ </span><code data-lake-id=\"u30467590\" id=\"u30467590\"><span data-lake-id=\"uaa251524\" id=\"uaa251524\">package</span></code><span data-lake-id=\"uc8a94664\" id=\"uc8a94664\">ï¼Œå¯¹äºå¼€å‘å®é™…çš„ä»£ç å…±äº«éå¸¸æœ‰ç”¨ã€‚æ•°é‡è¾ƒå°‘çš„æ—¶å€™ï¼Œå¤šä¸ªä»“åº“ç»´æŠ¤ä¸ä¼šæœ‰å¤ªå¤§é—®é¢˜ï¼Œä½†æ˜¯å½“ç‹¬ç«‹ </span><code data-lake-id=\"ud1cf624e\" id=\"ud1cf624e\"><span data-lake-id=\"u3fac565b\" id=\"u3fac565b\">package</span></code><span data-lake-id=\"u5ef09c25\" id=\"u5ef09c25\"> æ•°é‡è¶Šæ¥è¶Šå¤šçš„æ—¶å€™ï¼Œå°±ä¼šæš´éœ²å‡ºå¾ˆå¤šå¼€å‘å›°æ‰°çš„é—®é¢˜ï¼š</span></p><ol list=\"ud7ba8ca9\"><li fid=\"uaeca9024\" data-lake-id=\"u9902f6b3\" id=\"u9902f6b3\"><span data-lake-id=\"u43391b70\" id=\"u43391b70\">è·¨è¶Šå¾ˆå¤šä»£ç å­˜å‚¨åº“ï¼Œä¿®æ”¹ä»£ç å¾ˆéº»çƒ¦</span></li><li fid=\"uaeca9024\" data-lake-id=\"ufa96120e\" id=\"ufa96120e\"><code data-lake-id=\"u5b5281d3\" id=\"u5b5281d3\"><span data-lake-id=\"u7b650e25\" id=\"u7b650e25\">issue</span></code><span data-lake-id=\"u144a91c0\" id=\"u144a91c0\"> éš¾ä»¥ç»Ÿä¸€è¿½è¸ªã€ç®¡ç†ï¼Œå› ä¸ºå…¶åˆ†æ•£åœ¨ç‹¬ç«‹çš„ </span><code data-lake-id=\"ue0add46b\" id=\"ue0add46b\"><span data-lake-id=\"u6afebd5b\" id=\"u6afebd5b\">repo</span></code><span data-lake-id=\"uf5ac8e37\" id=\"uf5ac8e37\"> é‡Œ</span></li><li fid=\"uaeca9024\" data-lake-id=\"u893ee488\" id=\"u893ee488\"><span data-lake-id=\"u035cd5ee\" id=\"u035cd5ee\">è·¨å­˜å‚¨åº“çš„ä»£ç æµ‹è¯•éå¸¸å¤æ‚</span></li><li fid=\"uaeca9024\" data-lake-id=\"u8fd3db18\" id=\"u8fd3db18\"><span data-lake-id=\"ud2e86bb3\" id=\"ud2e86bb3\">å¤šä¸ª </span><code data-lake-id=\"ue7083cd0\" id=\"ue7083cd0\"><span data-lake-id=\"uc98f14a4\" id=\"uc98f14a4\">package</span></code><span data-lake-id=\"ue8b988ef\" id=\"ue8b988ef\"> ä¹‹é—´ç›¸äº’ä¾èµ–ï¼Œå¯¹äºäº’ç›¸å¼•ç”¨çš„ç‰ˆæœ¬å·ä¾èµ–ç»´æŠ¤æˆæœ¬éå¸¸é«˜ï¼Œå¼€å‘äººå‘˜ä¸å¾—ä¸ä½¿ç”¨ </span><code data-lake-id=\"ub3a99775\" id=\"ub3a99775\"><span data-lake-id=\"u12d29c65\" id=\"u12d29c65\">npm link</span></code><span data-lake-id=\"ub754ad83\" id=\"ub754ad83\"> çš„æ–¹å¼å»å¼•ç”¨ä¾èµ–</span></li></ol><p data-lake-id=\"u4bdd18fc\" id=\"u4bdd18fc\"><span data-lake-id=\"u4629bc46\" id=\"u4629bc46\">â€‹</span><br></p><p data-lake-id=\"u5ed6653c\" id=\"u5ed6653c\"><span data-lake-id=\"u625cc175\" id=\"u625cc175\">ä¸ºäº†è§£å†³ä¸Šé¢è¿™äº›é—®é¢˜ï¼Œä¸€äº›é¡¹ç›®ä¼šå°†å…¶ä»£ç åº“ç»Ÿä¸€ç»„ç»‡åˆ°å¤šåŒ…å­˜å‚¨åº“ä¸­ï¼Œæˆ‘ä»¬ç§°ä¹‹ä¸º </span><code data-lake-id=\"u58ea57e3\" id=\"u58ea57e3\"><span data-lake-id=\"u78db7f69\" id=\"u78db7f69\">monorepos</span></code><span data-lake-id=\"u6865c7a8\" id=\"u6865c7a8\">ã€‚å¦‚ï¼š</span><code data-lake-id=\"u2428f23e\" id=\"u2428f23e\"><span data-lake-id=\"u96a1fb83\" id=\"u96a1fb83\">babel</span></code><span data-lake-id=\"uc24c8881\" id=\"uc24c8881\">ã€</span><code data-lake-id=\"u3fddf11b\" id=\"u3fddf11b\"><span data-lake-id=\"uae8b5e62\" id=\"uae8b5e62\">react</span></code><span data-lake-id=\"u17c24583\" id=\"u17c24583\">ã€</span><code data-lake-id=\"u2877a71d\" id=\"u2877a71d\"><span data-lake-id=\"u8f3dcdba\" id=\"u8f3dcdba\">angular</span></code><span data-lake-id=\"udf3df58f\" id=\"udf3df58f\">ã€</span><code data-lake-id=\"u4e95a609\" id=\"u4e95a609\"><span data-lake-id=\"uef3f5800\" id=\"uef3f5800\">ember</span></code><span data-lake-id=\"udf531f21\" id=\"udf531f21\">ã€</span><code data-lake-id=\"u63dfb5bc\" id=\"u63dfb5bc\"><span data-lake-id=\"u504da6c6\" id=\"u504da6c6\">meteor</span></code><span data-lake-id=\"ub812c42b\" id=\"ub812c42b\">ã€</span><code data-lake-id=\"uafa727ef\" id=\"uafa727ef\"><span data-lake-id=\"ufda93e45\" id=\"ufda93e45\">jest</span></code><span data-lake-id=\"ueb4fc800\" id=\"ueb4fc800\">ä¹‹ç±»çš„é¡¹ç›®ä»¥åŠè®¸å¤šå…¶ä»–é¡¹ç›®éƒ½åœ¨å•ä¸ªå­˜å‚¨åº“ä¸­å¼€å‘æ‰€æœ‰è½¯ä»¶åŒ…</span></p><p data-lake-id=\"u2382a6fb\" id=\"u2382a6fb\"><card type=\"inline\" name=\"image\" value=\"data:%7B%22src%22%3A%22https%3A%2F%2Fcdn.nlark.com%2Fyuque%2F0%2F2022%2Fpng%2F732231%2F1648745861879-4f0cfeac-98d9-4bb6-976c-ce3d58870495.png%22%2C%22taskId%22%3A%22u303bc63b-4c32-41c9-aafa-5130ad049b5%22%2C%22clientId%22%3A%22u6fbcdb1d-5fd6-4%22%2C%22originalType%22%3A%22binary%22%2C%22width%22%3A600%2C%22height%22%3A281%2C%22linkTarget%22%3A%22_blank%22%2C%22name%22%3A%22image.png%22%2C%22size%22%3A284185%2C%22from%22%3A%22paste%22%2C%22originWidth%22%3A750%2C%22originHeight%22%3A351%2C%22ratio%22%3A1%2C%22status%22%3A%22done%22%2C%22style%22%3A%22none%22%2C%22search%22%3A%22BABEL%2FBABEL%20MAIN%20PACKAGES%20SYMBOLS%20FILES%20PACKAGES%20LIB%20PACKAGES%20FILES%20AND%20DIRECTORIES%20BABEL-PLUGIN-SYNTAX-JSX%2F%20BABEL-CLI%2F%20%3EBABEL-CLI%20BABEL-PLUGIN-SYNTAX-MODULE-STRING-NAMES%20BABEL-CODE-FRAME%2F%20BABEL-CODE-FRAME%20BABEL-PLUGIN-SYNTAX-PARTIAL-APPLICATION%2F%20BABEL-COMPAT-DATA%2F%20BABEL-COMPAT-DATA%20BABEL-PLUGIN-SYNTAX-PIPELINE-OPERATOR%2F%20BABEL-CORE%2F%20BABEL-CORE%20BABEL-GENERATOR%2F%20BABEL-PLUGIN-SYNTAX-RECORD-AND-TUPLE%2F%20BABEL-PLUGIN-SYNTAX-THROW-EXPRESSIONS%2F%20BABEL-HELPER-ANNOTATE-AS-PURE%2F%20BABEL-GENERATOR%20BABEL-PLUGIN-SYNTAX-TOP-LEVEL-AWAIT%2F%20BABEL-HELPER-BINDIFY-DECORATORS%2F%20BABEL-HELPER-ANNOTATE-AS-PUR%20BABEL-PLUGIN-SYNTAX-TYPESCRIPT%2F%20BABEL-HELPER-BUILDER-BINARY-ASSIGNMENT-O%20BABEL-HELPER-BINDIFY-DECORATO%20BABEL-HELPER-BUILDER-REACT-JSX%2F%20BABEL-PLUGIN-TRANSFORM-ARROW-FUNCTIONS%2F%20BABEL-HELPER-BUILDER-BINARY-A%20BABEL-HELPER-CALL-DELEGATE%2F%20BABEL-PLUGIN-TRANSFORM-ASYNC-TO-GENERATC%20BABEL-PLUGIN-TRANSFORM-BLOCK-SCOPED-FUN%20BABEL-HELPER-COMPILATION-TARGETS%2F%20BABEL-HELPER-BUILDER-REACT-JSX%20BABEL-HELPER-CREATE-CLASS-FEATURES-PLUGIN%2C%20%20BABEL-PLUGIN-TRANSFORM-BLOCK-SCOPING%2F%20BABEL-HELPER-CALL-DELEGATE%22%2C%22ocrLocations%22%3A%5B%7B%22x%22%3A27.226288%2C%22y%22%3A9.327278%2C%22width%22%3A69.035827%2C%22height%22%3A12.682532000000002%2C%22text%22%3A%22BABEL%2FBABEL%22%7D%2C%7B%22x%22%3A123.19318%2C%22y%22%3A10.729027%2C%22width%22%3A28.60078%2C%22height%22%3A10.624425999999998%2C%22text%22%3A%22MAIN%22%7D%2C%7B%22x%22%3A182.64436%2C%22y%22%3A11.591792%2C%22width%22%3A56.60473999999999%2C%22height%22%3A11.077481%2C%22text%22%3A%22PACKAGES%22%7D%2C%7B%22x%22%3A47.414608%2C%22y%22%3A35.86075%2C%22width%22%3A54.52820199999999%2C%22height%22%3A11.457729999999998%2C%22text%22%3A%22SYMBOLS%22%7D%2C%7B%22x%22%3A4.3277755%2C%22y%22%3A36.62773%2C%22width%22%3A31.229034499999997%2C%22height%22%3A10.346350000000001%2C%22text%22%3A%22FILES%22%7D%2C%7B%22x%22%3A259.34225%2C%22y%22%3A52.06438%2C%22width%22%3A88.33747%2C%22height%22%3A17.25783%2C%22text%22%3A%22PACKAGES%22%7D%2C%7B%22x%22%3A20.953821%2C%22y%22%3A62.51335%2C%22width%22%3A17.169499%2C%22height%22%3A10.711849999999998%2C%22text%22%3A%22LIB%22%7D%2C%7B%22x%22%3A23.42938%2C%22y%22%3A88.178825%2C%22width%22%3A54.154610000000005%2C%22height%22%3A10.759985%2C%22text%22%3A%22PACKAGES%22%7D%2C%7B%22x%22%3A234.70477%2C%22y%22%3A89.3899%2C%22width%22%3A128.11457000000001%2C%22height%22%3A13.846680000000006%2C%22text%22%3A%22FILES%20AND%20DIRECTORIES%22%7D%2C%7B%22x%22%3A498.75217%2C%22y%22%3A110.63647%2C%22width%22%3A144.23336000000006%2C%22height%22%3A13.168126%2C%22text%22%3A%22BABEL-PLUGIN-SYNTAX-JSX%2F%22%7D%2C%7B%22x%22%3A234.36852%2C%22y%22%3A110.69555%2C%22width%22%3A58.16572000000002%2C%22height%22%3A13.28052000000001%2C%22text%22%3A%22BABEL-CLI%2F%22%7D%2C%7B%22x%22%3A23.28417%2C%22y%22%3A112.5402%2C%22width%22%3A61.118719999999996%2C%22height%22%3A12.321290000000005%2C%22text%22%3A%22%3EBABEL-CLI%22%7D%2C%7B%22x%22%3A499.06033%2C%22y%22%3A130.2656%2C%22width%22%3A248.11987%2C%22height%22%3A13.592569999999995%2C%22text%22%3A%22BABEL-PLUGIN-SYNTAX-MODULE-STRING-NAMES%22%7D%2C%7B%22x%22%3A234.89445%2C%22y%22%3A131.68988%2C%22width%22%3A110.51425%2C%22height%22%3A11.51570000000001%2C%22text%22%3A%22BABEL-CODE-FRAME%2F%22%7D%2C%7B%22x%22%3A31.555506%2C%22y%22%3A137.69077%2C%22width%22%3A102.299654%2C%22height%22%3A12.326210000000003%2C%22text%22%3A%22BABEL-CODE-FRAME%22%7D%2C%7B%22x%22%3A499.20398%2C%22y%22%3A150.56187%2C%22width%22%3A234.38261999999997%2C%22height%22%3A13.360800000000012%2C%22text%22%3A%22BABEL-PLUGIN-SYNTAX-PARTIAL-APPLICATION%2F%22%7D%2C%7B%22x%22%3A234.96416%2C%22y%22%3A151.11113%2C%22width%22%3A116.40940999999998%2C%22height%22%3A11.907960000000003%2C%22text%22%3A%22BABEL-COMPAT-DATA%2F%22%7D%2C%7B%22x%22%3A33.07156%2C%22y%22%3A163.45583%2C%22width%22%3A108.37374%2C%22height%22%3A12.024100000000004%2C%22text%22%3A%22BABEL-COMPAT-DATA%22%7D%2C%7B%22x%22%3A498.51575%2C%22y%22%3A169.61719%2C%22width%22%3A228.74028999999996%2C%22height%22%3A14.119990000000001%2C%22text%22%3A%22BABEL-PLUGIN-SYNTAX-PIPELINE-OPERATOR%2F%22%7D%2C%7B%22x%22%3A234.04773%2C%22y%22%3A170.78363%2C%22width%22%3A69.48804000000001%2C%22height%22%3A11.704300000000018%2C%22text%22%3A%22BABEL-CORE%2F%22%7D%2C%7B%22x%22%3A29.353434%2C%22y%22%3A187.95811%2C%22width%22%3A66.774046%2C%22height%22%3A11.047730000000001%2C%22text%22%3A%22BABEL-CORE%22%7D%2C%7B%22x%22%3A234.15742%2C%22y%22%3A190.05562%2C%22width%22%3A101.44727999999998%2C%22height%22%3A12.907839999999993%2C%22text%22%3A%22BABEL-GENERATOR%2F%22%7D%2C%7B%22x%22%3A498.43933%2C%22y%22%3A190.21156%2C%22width%22%3A227.96576999999996%2C%22height%22%3A12.575000000000017%2C%22text%22%3A%22BABEL-PLUGIN-SYNTAX-RECORD-AND-TUPLE%2F%22%7D%2C%7B%22x%22%3A498.65494%2C%22y%22%3A209.89996%2C%22width%22%3A235.48110999999994%2C%22height%22%3A13.748340000000013%2C%22text%22%3A%22BABEL-PLUGIN-SYNTAX-THROW-EXPRESSIONS%2F%22%7D%2C%7B%22x%22%3A234.32068%2C%22y%22%3A210.46222%2C%22width%22%3A187.16846%2C%22height%22%3A12.732740000000007%2C%22text%22%3A%22BABEL-HELPER-ANNOTATE-AS-PURE%2F%22%7D%2C%7B%22x%22%3A32.848064%2C%22y%22%3A212.16577%2C%22width%22%3A91.63158100000001%2C%22height%22%3A11.880449999999996%2C%22text%22%3A%22BABEL-GENERATOR%22%7D%2C%7B%22x%22%3A499.1256%2C%22y%22%3A230.14253%2C%22width%22%3A215.01875%2C%22height%22%3A14.337369999999993%2C%22text%22%3A%22BABEL-PLUGIN-SYNTAX-TOP-LEVEL-AWAIT%2F%22%7D%2C%7B%22x%22%3A234.41798%2C%22y%22%3A230.2949%2C%22width%22%3A193.34983999999997%2C%22height%22%3A12.185749999999985%2C%22text%22%3A%22BABEL-HELPER-BINDIFY-DECORATORS%2F%22%7D%2C%7B%22x%22%3A31.787683%2C%22y%22%3A237.28105%2C%22width%22%3A165.912557%2C%22height%22%3A12.667969999999997%2C%22text%22%3A%22BABEL-HELPER-ANNOTATE-AS-PUR%22%7D%2C%7B%22x%22%3A498.78918%2C%22y%22%3A249.29616%2C%22width%22%3A187.73212%2C%22height%22%3A14.21708000000001%2C%22text%22%3A%22BABEL-PLUGIN-SYNTAX-TYPESCRIPT%2F%22%7D%2C%7B%22x%22%3A234.96649%2C%22y%22%3A250.35603%2C%22width%22%3A247.79483000000002%2C%22height%22%3A12.575090000000017%2C%22text%22%3A%22BABEL-HELPER-BUILDER-BINARY-ASSIGNMENT-O%22%7D%2C%7B%22x%22%3A29.181208%2C%22y%22%3A261.99527%2C%22width%22%3A168.691972%2C%22height%22%3A12.106870000000015%2C%22text%22%3A%22BABEL-HELPER-BINDIFY-DECORATO%22%7D%2C%7B%22x%22%3A234.63635%2C%22y%22%3A269.52536%2C%22width%22%3A181.96317%2C%22height%22%3A13.233980000000031%2C%22text%22%3A%22BABEL-HELPER-BUILDER-REACT-JSX%2F%22%7D%2C%7B%22x%22%3A499.53577%2C%22y%22%3A270.3076%2C%22width%22%3A238.41229000000004%2C%22height%22%3A12.140500000000031%2C%22text%22%3A%22BABEL-PLUGIN-TRANSFORM-ARROW-FUNCTIONS%2F%22%7D%2C%7B%22x%22%3A29.64811%2C%22y%22%3A286.94843%2C%22width%22%3A168.10966%2C%22height%22%3A12.510100000000023%2C%22text%22%3A%22BABEL-HELPER-BUILDER-BINARY-A%22%7D%2C%7B%22x%22%3A235.143%2C%22y%22%3A289.9068%2C%22width%22%3A160.42202999999998%2C%22height%22%3A12.900540000000035%2C%22text%22%3A%22BABEL-HELPER-CALL-DELEGATE%2F%22%7D%2C%7B%22x%22%3A499.79257%2C%22y%22%3A289.9713%2C%22width%22%3A247.01652999999993%2C%22height%22%3A14.36098000000004%2C%22text%22%3A%22BABEL-PLUGIN-TRANSFORM-ASYNC-TO-GENERATC%22%7D%2C%7B%22x%22%3A499.28625%2C%22y%22%3A308.83768%2C%22width%22%3A248.10779000000002%2C%22height%22%3A13.513700000000028%2C%22text%22%3A%22BABEL-PLUGIN-TRANSFORM-BLOCK-SCOPED-FUN%22%7D%2C%7B%22x%22%3A235.43103%2C%22y%22%3A310.006%2C%22width%22%3A196.75195%2C%22height%22%3A12.006730000000005%2C%22text%22%3A%22BABEL-HELPER-COMPILATION-TARGETS%2F%22%7D%2C%7B%22x%22%3A26.988047%2C%22y%22%3A311.56094%2C%22width%22%3A170.13780300000002%2C%22height%22%3A13.643159999999966%2C%22text%22%3A%22BABEL-HELPER-BUILDER-REACT-JSX%22%7D%2C%7B%22x%22%3A235.08105%2C%22y%22%3A329.7709%2C%22width%22%3A491.47225000000003%2C%22height%22%3A12.67804000000001%2C%22text%22%3A%22BABEL-HELPER-CREATE-CLASS-FEATURES-PLUGIN%2C%20%20BABEL-PLUGIN-TRANSFORM-BLOCK-SCOPING%2F%22%7D%2C%7B%22x%22%3A27.065042%2C%22y%22%3A336.19858%2C%22width%22%3A153.888078%2C%22height%22%3A12.063780000000008%2C%22text%22%3A%22BABEL-HELPER-CALL-DELEGATE%22%7D%5D%2C%22showTitle%22%3Atrue%2C%22title%22%3A%22babel%20%E4%BD%BF%E7%94%A8%20monorepo%20%E7%AD%96%E7%95%A5%E7%AE%A1%E7%90%86%E4%BB%A3%E7%A0%81%22%2C%22rotation%22%3A0%2C%22crop%22%3A%5B0%2C0%2C1%2C1%5D%2C%22id%22%3A%22ufb051cd7%22%2C%22margin%22%3A%7B%22top%22%3Atrue%2C%22bottom%22%3Atrue%7D%7D\"></card></p><h3 data-lake-id=\"WDvDL\" id=\"WDvDL\"><span data-lake-id=\"ub8646ccb\" id=\"ub8646ccb\">æ¦‚å¿µ</span></h3><p data-lake-id=\"u95179c94\" id=\"u95179c94\"><code data-lake-id=\"u2cd1a398\" id=\"u2cd1a398\"><span data-lake-id=\"ua3c43b86\" id=\"ua3c43b86\">Menorepo</span></code><span data-lake-id=\"u86a2949c\" id=\"u86a2949c\"> æ˜¯ç®¡ç†é¡¹ç›®ä»£ç çš„ä¸€ä¸ªæ–¹å¼ï¼ŒæŒ‡åœ¨ä¸€ä¸ªé¡¹ç›®ä»“åº“ </span><code data-lake-id=\"u52c4c95e\" id=\"u52c4c95e\"><span data-lake-id=\"uf003677c\" id=\"uf003677c\">repo</span></code><span data-lake-id=\"ua81e1437\" id=\"ua81e1437\"> ä¸­ç®¡ç†å¤šä¸ªæ¨¡å—/åŒ…(</span><code data-lake-id=\"uaf5f58a9\" id=\"uaf5f58a9\"><span data-lake-id=\"u6db342b5\" id=\"u6db342b5\">package</span></code><span data-lake-id=\"u2d927436\" id=\"u2d927436\">)ï¼Œä¸åŒäºå¸¸è§çš„æ¯ä¸ªæ¨¡å—å»ºç«‹ä¸€ä¸ª </span><code data-lake-id=\"uef088593\" id=\"uef088593\"><span data-lake-id=\"u6d57ebc9\" id=\"u6d57ebc9\">repo</span></code><span data-lake-id=\"ub3e661f3\" id=\"ub3e661f3\">ã€‚</span></p><p data-lake-id=\"uad5b860b\" id=\"uad5b860b\"><span data-lake-id=\"uce73a0f1\" id=\"uce73a0f1\">â€‹</span><br></p><blockquote data-lake-id=\"u7ada2d25\" id=\"u7ada2d25\" class=\"lake-alert lake-alert-success\"><p data-lake-id=\"ua18f5de6\" id=\"ua18f5de6\"><code data-lake-id=\"uf31d62a4\" id=\"uf31d62a4\"><span data-lake-id=\"u2413b852\" id=\"u2413b852\">Meonorepo</span></code><span data-lake-id=\"u63878f29\" id=\"u63878f29\">çš„å¥½å¤„ï¼š</span></p><p data-lake-id=\"ua2f329e1\" id=\"ua2f329e1\" style=\"text-indent: 2em\"><span data-lake-id=\"ue0fadada\" id=\"ue0fadada\">ç»Ÿä¸€çš„å·¥ä½œæµã€</span><code data-lake-id=\"u13aa307c\" id=\"u13aa307c\"><span data-lake-id=\"ua67e2bb6\" id=\"ua67e2bb6\">Code Shaking</span></code><span data-lake-id=\"u4dc86e3a\" id=\"u4dc86e3a\">ã€‚æ­å»ºä¸€å¥—è„šæ‰‹æ¶ï¼Œå°±èƒ½ç®¡ç†(æ„å»ºã€æµ‹è¯•ã€å‘å¸ƒ)å¤šä¸ª packageï¼Œç»Ÿä¸€æµ‹è¯•ã€ç»Ÿä¸€å‘ç‰ˆã€‚</span></p></blockquote><p data-lake-id=\"u9ee7ed42\" id=\"u9ee7ed42\"><br></p><blockquote data-lake-id=\"u5e746536\" id=\"u5e746536\" class=\"lake-alert lake-alert-danger\"><p data-lake-id=\"u8a7c6853\" id=\"u8a7c6853\"><code data-lake-id=\"uf99decd7\" id=\"uf99decd7\"><span data-lake-id=\"u3b08b9b9\" id=\"u3b08b9b9\">Meonorepo</span></code><span data-lake-id=\"ubd4208ed\" id=\"ubd4208ed\">çš„åå¤„ï¼š</span></p><p data-lake-id=\"u63ade5a2\" id=\"u63ade5a2\" style=\"text-indent: 2em\"><span data-lake-id=\"ub54ef668\" id=\"ub54ef668\">å°±æ˜¯ </span><code data-lake-id=\"u62cb3c09\" id=\"u62cb3c09\"><span data-lake-id=\"u9abfa3d9\" id=\"u9abfa3d9\">repo</span></code><span data-lake-id=\"ua20803b5\" id=\"ua20803b5\">çš„ä½“ç§¯ä¼šæ¯”è¾ƒå¤§ï¼Œç”±äºæ¯ä¸ª </span><code data-lake-id=\"u450fcc78\" id=\"u450fcc78\"><span data-lake-id=\"u3ea072f2\" id=\"u3ea072f2\">package</span></code><span data-lake-id=\"uc32a4351\" id=\"uc32a4351\">éƒ½æœ‰è‡ªå·±çš„ </span><code data-lake-id=\"u071e732e\" id=\"u071e732e\"><span data-lake-id=\"u02ef6644\" id=\"u02ef6644\">package.json</span></code><span data-lake-id=\"u8feeeaef\" id=\"u8feeeaef\">ï¼Œä¼šå®‰è£…è‡ªå·±çš„ </span><code data-lake-id=\"ue4a7e926\" id=\"ue4a7e926\"><span data-lake-id=\"ua3845663\" id=\"ua3845663\">node_modules</span></code><span data-lake-id=\"uac72ac8a\" id=\"uac72ac8a\">ï¼Œä½†æ˜¯å¤§æ¦‚ç‡ä¼šå¾ˆå¤šåŒ…æ˜¯é‡å¤çš„ï¼Œè¿™å°±ä½¿æœ¬æ¥å°±å¾ˆå¤§çš„ </span><code data-lake-id=\"udf8040f0\" id=\"udf8040f0\"><span data-lake-id=\"ua753e6f0\" id=\"ua753e6f0\">node_modules</span></code><span data-lake-id=\"u6d5a1588\" id=\"u6d5a1588\">å˜å¾—æ›´å¤§ã€‚</span></p></blockquote><p data-lake-id=\"ud4fc82ae\" id=\"ud4fc82ae\"><span data-lake-id=\"u08f3a915\" id=\"u08f3a915\">â€‹</span><br></p><blockquote data-lake-id=\"ucb9cfffb\" id=\"ucb9cfffb\" class=\"lake-alert lake-alert-info\"><p data-lake-id=\"uee3af175\" id=\"uee3af175\"><code data-lake-id=\"u920cfd31\" id=\"u920cfd31\"><span data-lake-id=\"u6112df08\" id=\"u6112df08\">Meonorepo</span></code><span data-lake-id=\"u8c04c144\" id=\"u8c04c144\">çš„è§£å†³æ–¹æ¡ˆï¼š</span></p><p data-lake-id=\"u03183c70\" id=\"u03183c70\" style=\"text-indent: 2em\"><code data-lake-id=\"u788a128e\" id=\"u788a128e\"><span data-lake-id=\"u87ac424d\" id=\"u87ac424d\">lerna</span></code><span data-lake-id=\"ub19afef2\" id=\"ub19afef2\">å’Œ</span><code data-lake-id=\"ud8357633\" id=\"ud8357633\"><span data-lake-id=\"ua9f35d93\" id=\"ua9f35d93\">workspaces</span></code><span data-lake-id=\"u75406a10\" id=\"u75406a10\">ç‰¹æ€§ã€‚</span></p><p data-lake-id=\"uc46ba0dc\" id=\"uc46ba0dc\"><br></p><p data-lake-id=\"u54cd54c2\" id=\"u54cd54c2\"><span data-lake-id=\"u93f2b243\" id=\"u93f2b243\">å¯¹äº </span><code data-lake-id=\"u1dfe3462\" id=\"u1dfe3462\"><span data-lake-id=\"ucc2ff629\" id=\"ucc2ff629\">node_modules</span></code><span data-lake-id=\"u18e44adf\" id=\"u18e44adf\">åŒ…é‡å¤å®‰è£…çš„é—®é¢˜ï¼š</span></p><p data-lake-id=\"u5100dad8\" id=\"u5100dad8\" style=\"text-indent: 2em\"><code data-lake-id=\"u659fe31f\" id=\"u659fe31f\"><span data-lake-id=\"ub4e45152\" id=\"ub4e45152\">lerna</span></code><span data-lake-id=\"u9067b132\" id=\"u9067b132\">æä¾›äº† </span><code data-lake-id=\"ud6c2c865\" id=\"ud6c2c865\"><span data-lake-id=\"uabc061f2\" id=\"uabc061f2\">--hoist</span></code><span data-lake-id=\"u42cd833b\" id=\"u42cd833b\">é€‰é¡¹ï¼Œç›¸åŒçš„ä¾èµ–ï¼Œä¼š</span><strong><span data-lake-id=\"u87ce785f\" id=\"u87ce785f\">æå‡</span></strong><span data-lake-id=\"u8bd4e001\" id=\"u8bd4e001\">åˆ° </span><code data-lake-id=\"u563ae1be\" id=\"u563ae1be\"><span data-lake-id=\"u0da64c86\" id=\"u0da64c86\">repo</span></code><span data-lake-id=\"u550cb898\" id=\"u550cb898\">æ ¹ç›®å½•ä¸‹å®‰è£…(æ¯”è¾ƒé¸¡è‚‹)ï¼Œ</span><code data-lake-id=\"u967150ab\" id=\"u967150ab\"><span data-lake-id=\"uab16fdc2\" id=\"uab16fdc2\">lerna</span></code><span data-lake-id=\"u864c73e2\" id=\"u864c73e2\"> ç›´æ¥ä»¥å­—ç¬¦ä¸²å¯¹æ¯” </span><code data-lake-id=\"u0f11ab79\" id=\"u0f11ab79\"><span data-lake-id=\"u21058843\" id=\"u21058843\">dependency</span></code><span data-lake-id=\"u5f1c1dfa\" id=\"u5f1c1dfa\"> çš„ç‰ˆæœ¬å·ï¼Œå®Œå…¨ç›¸åŒæ‰ä¼šè¿›è¡Œæå‡ï¼Œ</span><code data-lake-id=\"u6f950cf9\" id=\"u6f950cf9\"><span data-lake-id=\"u3dd7ac8c\" id=\"u3dd7ac8c\">npm</span></code><span data-lake-id=\"u582a9573\" id=\"u582a9573\"> çš„ </span><code data-lake-id=\"u6d7201e2\" id=\"u6d7201e2\"><span data-lake-id=\"u0f56ff9e\" id=\"u0f56ff9e\">semver</span></code><span data-lake-id=\"u60929d34\" id=\"u60929d34\"> çº¦å®š(è¯­ä¹‰åŒ–ç‰ˆæœ¬è§„èŒƒ)åœ¨è¿™é‡Œå¹¶ä¸èµ·ä½œç”¨ã€‚</span></p><p data-lake-id=\"u81347626\" id=\"u81347626\" style=\"text-indent: 2em\"><code data-lake-id=\"ub083aa9b\" id=\"ub083aa9b\"><span data-lake-id=\"ud5aebbc7\" id=\"ud5aebbc7\">yarn</span></code><span data-lake-id=\"uaacf66c6\" id=\"uaacf66c6\"> ä½œä¸ºåŒ…ç®¡ç†å™¨å¾ˆå¥½çš„è§£å†³äº†è¿™ä¸ªé—®é¢˜ï¼Œåªéœ€è¦åœ¨æ ¹ </span><code data-lake-id=\"u67b49aad\" id=\"u67b49aad\"><span data-lake-id=\"u64082d62\" id=\"u64082d62\">package.json</span></code><span data-lake-id=\"ua5c89962\" id=\"ua5c89962\">ä¸­ä»¥ </span><code data-lake-id=\"uaeb2a398\" id=\"uaeb2a398\"><span data-lake-id=\"u0987a90d\" id=\"u0987a90d\">workspaces</span></code><span data-lake-id=\"uee985678\" id=\"uee985678\">å­—æ®µå£°æ˜ </span><code data-lake-id=\"u5eb9d24c\" id=\"u5eb9d24c\"><span data-lake-id=\"u8a34541e\" id=\"u8a34541e\">packages</span></code><span data-lake-id=\"udbe66306\" id=\"udbe66306\"> ç›®å½•å’Œ </span><code data-lake-id=\"u8af5684a\" id=\"u8af5684a\"><span data-lake-id=\"u0a47d3db\" id=\"u0a47d3db\">&quot;private&quot;: true</span></code><span data-lake-id=\"u83731df1\" id=\"u83731df1\">ï¼Œ</span><code data-lake-id=\"u170b325e\" id=\"u170b325e\"><span data-lake-id=\"u98476b76\" id=\"u98476b76\">yarn</span></code><span data-lake-id=\"ufc699aea\" id=\"ufc699aea\">å°±ä¼šä»¥ </span><code data-lake-id=\"udd191b09\" id=\"udd191b09\"><span data-lake-id=\"u544f78c3\" id=\"u544f78c3\">menorepo</span></code><span data-lake-id=\"u39aff094\" id=\"u39aff094\">çš„æ–¹å¼ç®¡ç† </span><code data-lake-id=\"ua12679e5\" id=\"ua12679e5\"><span data-lake-id=\"u51bec3c3\" id=\"u51bec3c3\">packages</span></code><span data-lake-id=\"u638b3c83\" id=\"u638b3c83\">ã€‚</span><code data-lake-id=\"u8bb6d418\" id=\"u8bb6d418\"><span data-lake-id=\"u0e9dafcf\" id=\"u0e9dafcf\">yarn</span></code><span data-lake-id=\"u29b9b71a\" id=\"u29b9b71a\">ä¼šä»¥ </span><code data-lake-id=\"u43f6019b\" id=\"u43f6019b\"><span data-lake-id=\"ufdf6bba2\" id=\"ufdf6bba2\">semver</span></code><span data-lake-id=\"u28801898\" id=\"u28801898\">çº¦å®šæ¥åˆ†æ </span><code data-lake-id=\"u80327897\" id=\"u80327897\"><span data-lake-id=\"u2b5168f4\" id=\"u2b5168f4\">dependencies</span></code><span data-lake-id=\"ue9309460\" id=\"ue9309460\">çš„ç‰ˆæœ¬ï¼Œå®‰è£…ä¾èµ–æ—¶æ›´å¿«ã€å ç”¨ä½“ç§¯æ›´å°ã€‚(</span><code data-lake-id=\"u607bf279\" id=\"u607bf279\"><span data-lake-id=\"u243a5b15\" id=\"u243a5b15\">pnpm</span></code><span data-lake-id=\"u77e1e26b\" id=\"u77e1e26b\">ä¹Ÿæ”¯æŒ </span><code data-lake-id=\"u39ad3f70\" id=\"u39ad3f70\"><span data-lake-id=\"u6370223b\" id=\"u6370223b\">workspaces</span></code><span data-lake-id=\"u66a228a8\" id=\"u66a228a8\">)</span></p><p data-lake-id=\"u77df6c63\" id=\"u77df6c63\" style=\"text-indent: 2em\"><span data-lake-id=\"u118bfeee\" id=\"u118bfeee\">åœ¨ </span><code data-lake-id=\"u32b0b9d9\" id=\"u32b0b9d9\"><span data-lake-id=\"uca982d53\" id=\"uca982d53\">npm7.x+</span></code><span data-lake-id=\"uaa2075b2\" id=\"uaa2075b2\"> åï¼Œä¹Ÿå¼€å§‹æ”¯æŒäº† </span><code data-lake-id=\"u0277e0af\" id=\"u0277e0af\"><span data-lake-id=\"ub49a7596\" id=\"ub49a7596\">workspaces</span></code><span data-lake-id=\"ub1541937\" id=\"ub1541937\"> ç‰¹æ€§ï¼Œè¿™ä¸ªåŠŸèƒ½è®©æˆ‘ä»¬åœ¨æœ¬åœ°å¼€å‘åŒ…ï¼Œå°¤å…¶æ˜¯å¤šä¸ªäº’ç›¸ä¾èµ–çš„åŒ…æ—¶æ›´åŠ å¾—å¿ƒåº”æ‰‹ã€‚å®ƒå¯ä»¥é¿å…æˆ‘ä»¬å†æ‰‹åŠ¨çš„å»æ‰§è¡Œ </span><code data-lake-id=\"u4b17a5cb\" id=\"u4b17a5cb\"><span data-lake-id=\"u59b581e2\" id=\"u59b581e2\">npm link</span></code><span data-lake-id=\"u1be28604\" id=\"u1be28604\"> å‘½ä»¤ï¼Œè€Œæ˜¯åœ¨</span><code data-lake-id=\"uc6c98d58\" id=\"uc6c98d58\"><span data-lake-id=\"u98e51676\" id=\"u98e51676\">npm install</span></code><span data-lake-id=\"u05ecc667\" id=\"u05ecc667\"> çš„æ—¶å€™ï¼Œä¼šè‡ªåŠ¨æŠŠ </span><code data-lake-id=\"u5c9b867b\" id=\"u5c9b867b\"><span data-lake-id=\"ue399d1e7\" id=\"ue399d1e7\">workspaces</span></code><span data-lake-id=\"ua4d2683a\" id=\"ua4d2683a\">ä¸‹é¢çš„åˆæ³•åŒ…ï¼Œè‡ªåŠ¨åˆ›å»ºç¬¦å·é“¾æ¥åˆ°æ ¹ç›®å½•çš„ </span><code data-lake-id=\"uc39b34ab\" id=\"uc39b34ab\"><span data-lake-id=\"uf1f1f353\" id=\"uf1f1f353\">node_modules</span></code><span data-lake-id=\"ud32013c6\" id=\"ud32013c6\">é‡Œã€‚èƒ½å¤Ÿè¢«å•ç‹¬ä½œä¸ºä¸€ä¸ªåŒ…åˆ›å»ºç¬¦å·é“¾æ¥çš„æ–‡ä»¶å¤¹ï¼Œæˆ‘ä»¬å°±ç§°ä¸ºä¸€ä¸ª</span><code data-lake-id=\"uf64fb6ab\" id=\"uf64fb6ab\"><span data-lake-id=\"u56aefbfd\" id=\"u56aefbfd\">workspace</span></code><span data-lake-id=\"ub1da4e1d\" id=\"ub1da4e1d\">ï¼Œæ‰€ä»¥æ˜¯å¯ä»¥æœ‰å¤šä¸ª</span><code data-lake-id=\"ud8e70309\" id=\"ud8e70309\"><span data-lake-id=\"u5d6b0415\" id=\"u5d6b0415\">workspace</span></code><span data-lake-id=\"u4d0c5680\" id=\"u4d0c5680\"> çš„ï¼Œå¯ä»¥åœ¨ </span><code data-lake-id=\"u9a8aa49e\" id=\"u9a8aa49e\"><span data-lake-id=\"u3f613084\" id=\"u3f613084\">package.json</span></code><span data-lake-id=\"u1a30ff42\" id=\"u1a30ff42\"> çš„ </span><code data-lake-id=\"ud1c6a5c5\" id=\"ud1c6a5c5\"><span data-lake-id=\"ue3a1d287\" id=\"ue3a1d287\">workspaces</span></code><span data-lake-id=\"uc1431f7b\" id=\"uc1431f7b\"> å­—æ®µä¸­è¿›è¡Œé…ç½®ã€‚</span></p></blockquote><h3 data-lake-id=\"gLXts\" id=\"gLXts\"><span data-lake-id=\"ud2190578\" id=\"ud2190578\">lerna ä»‹ç»</span></h3><h4 data-lake-id=\"KinvH\" id=\"KinvH\"><span data-lake-id=\"u42ca86fc\" id=\"u42ca86fc\">lerna ç‰¹æ€§</span></h4><ol list=\"u5e8822af\"><li fid=\"uc263149a\" data-lake-id=\"u3a0ab3e5\" id=\"u3a0ab3e5\"><span data-lake-id=\"udbf64f3d\" id=\"udbf64f3d\">è‡ªåŠ¨è§£å†³ </span><code data-lake-id=\"ue1babc87\" id=\"ue1babc87\"><span data-lake-id=\"ubc20ed09\" id=\"ubc20ed09\">packages</span></code><span data-lake-id=\"u0a623e36\" id=\"u0a623e36\"> ä¹‹é—´çš„ä¾èµ–å…³ç³»</span></li><li fid=\"uc263149a\" data-lake-id=\"u0536c488\" id=\"u0536c488\"><span data-lake-id=\"u6d77b21b\" id=\"u6d77b21b\">é€šè¿‡ </span><code data-lake-id=\"uf8ae267d\" id=\"uf8ae267d\"><span data-lake-id=\"u4a01c826\" id=\"u4a01c826\">git</span></code><span data-lake-id=\"u10ba65b1\" id=\"u10ba65b1\"> æ£€æµ‹æ–‡ä»¶æ”¹åŠ¨ï¼Œè‡ªåŠ¨å‘å¸ƒ</span></li><li fid=\"uc263149a\" data-lake-id=\"u8ee976f0\" id=\"u8ee976f0\"><span data-lake-id=\"u537e3805\" id=\"u537e3805\">æ ¹æ® </span><code data-lake-id=\"uedbf6e81\" id=\"uedbf6e81\"><span data-lake-id=\"u533286dc\" id=\"u533286dc\">git</span></code><span data-lake-id=\"u28257680\" id=\"u28257680\"> æäº¤è®°å½•ï¼Œè‡ªåŠ¨ç”Ÿæˆ </span><code data-lake-id=\"u2ab053ea\" id=\"u2ab053ea\"><span data-lake-id=\"u38bb29bc\" id=\"u38bb29bc\">CHANGELOG</span></code></li></ol><p data-lake-id=\"u3aeb1188\" id=\"u3aeb1188\"><span data-lake-id=\"uf5153740\" id=\"uf5153740\">â€‹</span><br></p><p data-lake-id=\"u385b940d\" id=\"u385b940d\"><code data-lake-id=\"u475a824f\" id=\"u475a824f\"><span data-lake-id=\"u706c3481\" id=\"u706c3481\">lerna</span></code><span data-lake-id=\"u239c2aca\" id=\"u239c2aca\"> ä¸è´Ÿè´£æ„å»ºã€æµ‹è¯•ç­‰ä»»åŠ¡ï¼Œå®ƒæå‡ºäº†ä¸€ç§é›†ä¸­ç®¡ç† </span><code data-lake-id=\"u32d43d3d\" id=\"u32d43d3d\"><span data-lake-id=\"u8cbd95af\" id=\"u8cbd95af\">package</span></code><span data-lake-id=\"u2f6c0c0f\" id=\"u2f6c0c0f\"> çš„ç›®å½•æ¨¡å¼ï¼Œæä¾›äº†ä¸€å¥—è‡ªåŠ¨åŒ–ç®¡ç†ç¨‹åºï¼Œè®©å¼€å‘è€…ä¸å¿…å†æ·±è€•åˆ°å…·ä½“çš„ç»„ä»¶é‡Œç»´æŠ¤å†…å®¹ï¼Œåœ¨é¡¹ç›®æ ¹ç›®å½•å°±å¯ä»¥å…¨å±€æŒæ§ï¼ŒåŸºäº </span><code data-lake-id=\"u62f5a5ab\" id=\"u62f5a5ab\"><span data-lake-id=\"ua6b40d24\" id=\"ua6b40d24\">npm scripts</span></code><span data-lake-id=\"u7b8ca94d\" id=\"u7b8ca94d\">ï¼Œå¯ä»¥å¾ˆå¥½åœ°å®Œæˆç»„ä»¶æ„å»ºï¼Œä»£ç æ ¼å¼åŒ–ç­‰æ“ä½œï¼Œå¹¶åœ¨æœ€åç”¨ </span><code data-lake-id=\"ucaf5197a\" id=\"ucaf5197a\"><span data-lake-id=\"u37e94abb\" id=\"u37e94abb\">lerna</span></code><span data-lake-id=\"ud6058dbb\" id=\"ud6058dbb\"> ç»Ÿä¸€å˜æ›´ </span><code data-lake-id=\"ub570ec25\" id=\"ub570ec25\"><span data-lake-id=\"u5d73151f\" id=\"u5d73151f\">package</span></code><span data-lake-id=\"u14b5634a\" id=\"u14b5634a\"> ç‰ˆæœ¬ï¼Œå°†å…¶å‘å¸ƒä¸Šä¼ è‡³è¿œç«¯ã€‚</span></p><h4 data-lake-id=\"jUT5Q\" id=\"jUT5Q\"><span data-lake-id=\"u95fc192e\" id=\"u95fc192e\">lerna å¸¸ç”¨å‘½ä»¤</span></h4><ul list=\"u50287b30\"><li fid=\"u08fd95d4\" data-lake-id=\"u001c375c\" id=\"u001c375c\"><code data-lake-id=\"u3abb61cf\" id=\"u3abb61cf\"><span data-lake-id=\"u91291774\" id=\"u91291774\">lerna init</span></code><span data-lake-id=\"u50dcaaae\" id=\"u50dcaaae\">ï¼šåˆå§‹åŒ– </span><code data-lake-id=\"uf5253a2f\" id=\"uf5253a2f\"><span data-lake-id=\"u0acf1041\" id=\"u0acf1041\">monorepo</span></code><span data-lake-id=\"ubb07d6c0\" id=\"ubb07d6c0\"> å·¥ç¨‹é¡¹ç›®ï¼Œç”Ÿæˆ </span><code data-lake-id=\"u1b027394\" id=\"u1b027394\"><span data-lake-id=\"ud792b05b\" id=\"ud792b05b\">packages/</span></code><span data-lake-id=\"u43ee735a\" id=\"u43ee735a\">ã€</span><code data-lake-id=\"uf224be39\" id=\"uf224be39\"><span data-lake-id=\"uc4ec4fa8\" id=\"uc4ec4fa8\">package.json</span></code><span data-lake-id=\"u21069dad\" id=\"u21069dad\">ã€</span><code data-lake-id=\"ue9185c13\" id=\"ue9185c13\"><span data-lake-id=\"u206876c1\" id=\"u206876c1\">lerna.json</span></code></li></ul><card type=\"inline\" name=\"codeblock\" value=\"data:%7B%22mode%22%3A%22markdown%22%2C%22code%22%3A%22.%5Cn%E2%94%9C%E2%94%80%E2%94%80%20lerna.json%5Cn%E2%94%9C%E2%94%80%E2%94%80%20package.json%5Cn%E2%94%94%E2%94%80%E2%94%80%20packages%2F%20%23%20%E8%BF%99%E9%87%8C%E5%B0%86%E5%AD%98%E6%94%BE%E6%89%80%E6%9C%89%E5%AD%90%20repo%20%E7%9B%AE%E5%BD%95%5Cn%20%20%20%20%E2%94%9C%E2%94%80%E2%94%80%20project_1%2F%5Cn%20%20%20%20%E2%94%82%20%20%20%E2%94%9C%E2%94%80%E2%94%80%20index.js%5Cn%20%20%20%20%E2%94%82%20%20%20%E2%94%9C%E2%94%80%E2%94%80%20node_modules%2F%5Cn%20%20%20%20%E2%94%82%20%20%20%E2%94%94%E2%94%80%E2%94%80%20package.json%5Cn%20%20%20%20%E2%94%9C%E2%94%80%E2%94%80%20project_2%2F%5Cn%20%20%20%20%E2%94%82%20%20%20%E2%94%9C%E2%94%80%E2%94%80%20index.js%5Cn%20%20%20%20%E2%94%82%20%20%20%E2%94%9C%E2%94%80%E2%94%80%20node_module%2F%5Cn%20%20%20%20%E2%94%82%20%20%20%E2%94%94%E2%94%80%E2%94%80%20package.json%5Cn%20%20%20%20...%22%2C%22autoWrap%22%3Afalse%2C%22heightLimit%22%3Atrue%2C%22collapsed%22%3Afalse%2C%22name%22%3A%22%22%2C%22tabSize%22%3Anull%2C%22indentWithTab%22%3Afalse%2C%22lightLines%22%3A%5B%5D%2C%22foldLines%22%3A%5B%5D%2C%22theme%22%3A%22One%20Dark%20Pro%22%2C%22__spacing%22%3A%22both%22%2C%22id%22%3A%22SALCV%22%2C%22margin%22%3A%7B%22top%22%3Atrue%2C%22bottom%22%3Atrue%7D%7D\"></card><ul list=\"u50287b30\" start=\"2\"><li fid=\"u08fd95d4\" data-lake-id=\"uaec811cd\" id=\"uaec811cd\"><code data-lake-id=\"u16f0d5ba\" id=\"u16f0d5ba\"><span data-lake-id=\"ub723ad3a\" id=\"ub723ad3a\">lerna bootstrap --hoist</span></code><span data-lake-id=\"u13493bcd\" id=\"u13493bcd\"> ä¸ºæ‰€æœ‰é¡¹ç›®å®‰è£…ä¾èµ–ï¼Œå¹¶é“¾æ¥æ‰€æœ‰ä¾èµ–åŒ…ï¼Œç±»ä¼¼äº </span><code data-lake-id=\"u9ca53ba0\" id=\"u9ca53ba0\"><span data-lake-id=\"ub3664bb0\" id=\"ub3664bb0\">npm i</span></code><span data-lake-id=\"u9d798f75\" id=\"u9d798f75\">ä½¿ç”¨</span><code data-lake-id=\"u22b39011\" id=\"u22b39011\"><span data-lake-id=\"ud8c289c9\" id=\"ud8c289c9\">--hoist</span></code><span data-lake-id=\"u47d9105b\" id=\"u47d9105b\"> é€‰é¡¹åï¼Œæ‰€æœ‰å…¬å…±çš„ä¾èµ–éƒ½åªä¼šå®‰è£…åœ¨æ ¹ç›®å½•çš„ </span><code data-lake-id=\"u39f2751f\" id=\"u39f2751f\"><span data-lake-id=\"u70d117a9\" id=\"u70d117a9\">node_modules</span></code><span data-lake-id=\"u46b3251b\" id=\"u46b3251b\"> ç›®å½•ä¸­å»,è€Œä¸ä¼šåœ¨æ¯ä¸ªåŒ…ç›®å½•ä¸‹çš„ </span><code data-lake-id=\"u645a6e52\" id=\"u645a6e52\"><span data-lake-id=\"u0125129a\" id=\"u0125129a\">node_modules</span></code><span data-lake-id=\"uccd4a7e2\" id=\"uccd4a7e2\"> ä¸­éƒ½ä¿ç•™å„è‡ªçš„ä¾èµ–åŒ…ã€‚</span></li><li fid=\"u08fd95d4\" data-lake-id=\"ua7e80eb9\" id=\"ua7e80eb9\"><code data-lake-id=\"ub88a5161\" id=\"ub88a5161\"><span data-lake-id=\"u5988f58e\" id=\"u5988f58e\">lerna clean</span></code><span data-lake-id=\"u740edb9e\" id=\"u740edb9e\"> åˆ é™¤æ‰€æœ‰é¡¹ç›®çš„ </span><code data-lake-id=\"u3ae8bf0c\" id=\"u3ae8bf0c\"><span data-lake-id=\"u3b3b1da7\" id=\"u3b3b1da7\">node_modules</span></code><span data-lake-id=\"uf5365d1e\" id=\"uf5365d1e\"> ç›®å½•</span></li><li fid=\"u08fd95d4\" data-lake-id=\"ua163dc27\" id=\"ua163dc27\"><code data-lake-id=\"u376f41be\" id=\"u376f41be\"><span data-lake-id=\"u83063e1f\" id=\"u83063e1f\">lerna run [script]</span></code><span data-lake-id=\"ue97796e9\" id=\"ue97796e9\"> é»˜è®¤ä¸ºæ‰€æœ‰çš„é¡¹ç›®è¿è¡Œ </span><code data-lake-id=\"ue42d6b7a\" id=\"ue42d6b7a\"><span data-lake-id=\"u93a281f9\" id=\"u93a281f9\">npm run [script]</span></code><span data-lake-id=\"uee81cb4b\" id=\"uee81cb4b\">è„šæœ¬ï¼Œå¯ä»¥æŒ‡å®šé¡¹ç›®ï¼›</span></li><li fid=\"u08fd95d4\" data-lake-id=\"u2b81b98e\" id=\"u2b81b98e\"><code data-lake-id=\"u21aec0fd\" id=\"u21aec0fd\"><span data-lake-id=\"u150e4e6a\" id=\"u150e4e6a\">lerna changed</span></code><span data-lake-id=\"u674cb06b\" id=\"u674cb06b\"> åˆ—å‡ºä¸‹æ¬¡å‘ç‰ˆ </span><code data-lake-id=\"u4ca37509\" id=\"u4ca37509\"><span data-lake-id=\"u356424a4\" id=\"u356424a4\">lerna publish</span></code><span data-lake-id=\"ucbd2ddec\" id=\"ucbd2ddec\"> è¦æ›´æ–°çš„åŒ…ã€‚</span></li><li fid=\"u08fd95d4\" data-lake-id=\"u1f2f485d\" id=\"u1f2f485d\"><code data-lake-id=\"uf8aa797e\" id=\"uf8aa797e\"><span data-lake-id=\"u6185f1c0\" id=\"u6185f1c0\">lerna publish</span></code><span data-lake-id=\"u82e06448\" id=\"u82e06448\"> ç‰ˆæœ¬å‘å¸ƒï¼ŒæŒ‰æç¤ºé€‰æ‹©ç‰ˆæœ¬å·(é€’å¢ï¼Œæˆ–è‡ªå®šä¹‰)ï¼Œå°†ä¼šæ‰§è¡Œä»¥ä¸‹æ­¥éª¤ï¼š</span></li></ul><ul list=\"u50287b30\" data-lake-indent=\"1\"><li fid=\"ub41c1773\" data-lake-id=\"u215f4efe\" id=\"u215f4efe\"><span data-lake-id=\"uf479d210\" id=\"uf479d210\">è¿è¡Œ </span><code data-lake-id=\"uc814d3b7\" id=\"uc814d3b7\"><span data-lake-id=\"u8086807d\" id=\"u8086807d\">lerna updated</span></code><span data-lake-id=\"u182041fc\" id=\"u182041fc\"> æ¥å†³å®šå“ªä¸€ä¸ªåŒ…éœ€è¦è¢« </span><code data-lake-id=\"u601ca61d\" id=\"u601ca61d\"><span data-lake-id=\"u07945443\" id=\"u07945443\">publish</span></code></li><li fid=\"ub41c1773\" data-lake-id=\"u75e46789\" id=\"u75e46789\"><span data-lake-id=\"uc96cb637\" id=\"uc96cb637\">å¦‚æœæœ‰å¿…è¦ï¼Œå°†ä¼šæ›´æ–° </span><code data-lake-id=\"u5a6138ec\" id=\"u5a6138ec\"><span data-lake-id=\"uba3a0ea8\" id=\"uba3a0ea8\">lerna.json</span></code><span data-lake-id=\"ub1d973ec\" id=\"ub1d973ec\"> ä¸­çš„ </span><code data-lake-id=\"u3ab15bad\" id=\"u3ab15bad\"><span data-lake-id=\"u7511f90c\" id=\"u7511f90c\">version</span></code></li><li fid=\"ub41c1773\" data-lake-id=\"u863db64c\" id=\"u863db64c\"><span data-lake-id=\"u3827a0ac\" id=\"u3827a0ac\">å°†æ‰€æœ‰æ›´æ–°è¿‡çš„çš„åŒ…ä¸­çš„ </span><code data-lake-id=\"u75977e1f\" id=\"u75977e1f\"><span data-lake-id=\"u99601bc7\" id=\"u99601bc7\">package.json</span></code><span data-lake-id=\"u40897b1b\" id=\"u40897b1b\"> çš„ </span><code data-lake-id=\"u708b6902\" id=\"u708b6902\"><span data-lake-id=\"ud79d9b7d\" id=\"ud79d9b7d\">version</span></code><span data-lake-id=\"uea6bdd16\" id=\"uea6bdd16\"> å­—æ®µæ›´æ–°</span></li><li fid=\"ub41c1773\" data-lake-id=\"u06710d39\" id=\"u06710d39\"><span data-lake-id=\"u98278d93\" id=\"u98278d93\">å°†æ‰€æœ‰æ›´æ–°è¿‡çš„åŒ…ä¸­çš„ä¾èµ–æ›´æ–°</span></li><li fid=\"ub41c1773\" data-lake-id=\"udd1363f7\" id=\"udd1363f7\"><span data-lake-id=\"uc53fc03b\" id=\"uc53fc03b\">ä¸ºæ–°ç‰ˆæœ¬åˆ›å»ºä¸€ä¸ª </span><code data-lake-id=\"u8fbc25c8\" id=\"u8fbc25c8\"><span data-lake-id=\"ub926c195\" id=\"ub926c195\">git commit</span></code><span data-lake-id=\"u5c8dc6e6\" id=\"u5c8dc6e6\"> æˆ– </span><code data-lake-id=\"u0ed5770c\" id=\"u0ed5770c\"><span data-lake-id=\"u64bbfc45\" id=\"u64bbfc45\">tag</span></code></li><li fid=\"ub41c1773\" data-lake-id=\"u7e972dc0\" id=\"u7e972dc0\"><span data-lake-id=\"u37dab2ae\" id=\"u37dab2ae\">å°†åŒ… </span><code data-lake-id=\"u7855ebab\" id=\"u7855ebab\"><span data-lake-id=\"u72287ea0\" id=\"u72287ea0\">publish</span></code><span data-lake-id=\"u9f8f82ae\" id=\"u9f8f82ae\"> åˆ° </span><code data-lake-id=\"ude1490ef\" id=\"ude1490ef\"><span data-lake-id=\"ud85568e8\" id=\"ud85568e8\">npm</span></code><span data-lake-id=\"ue628034f\" id=\"ue628034f\"> ä¸Šï¼›æ³¨æ„è¦å…ˆç”¨ </span><code data-lake-id=\"u1a62374e\" id=\"u1a62374e\"><span data-lake-id=\"u511264f9\" id=\"u511264f9\">npm adduser</span></code><span data-lake-id=\"u01b57788\" id=\"u01b57788\"> ç™»å½• </span><code data-lake-id=\"u621fa4ac\" id=\"u621fa4ac\"><span data-lake-id=\"u84c60772\" id=\"u84c60772\">npm</span></code><span data-lake-id=\"ue0f7c856\" id=\"ue0f7c856\"> æºï¼Œå¦åˆ™ä¼šå¤±è´¥ï¼›</span></li></ul><ul list=\"u50287b30\" start=\"7\"><li fid=\"u08fd95d4\" data-lake-id=\"ub1724b6c\" id=\"ub1724b6c\"><code data-lake-id=\"u1c5c6240\" id=\"u1c5c6240\"><span data-lake-id=\"ub188aaa6\" id=\"ub188aaa6\">lerna add [@version] [--dev] [--exact] [--peer]</span></code><span data-lake-id=\"ue6358f19\" id=\"ue6358f19\"> ï¼šå¯ä»¥æŒ‡å®šä¸ºæŸä¸€ä¸ªæˆ–æ‰€æœ‰çš„åŒ…å®‰è£…ä¾èµ–ï¼Œä¾èµ–å¯ä»¥æ˜¯å¤–éƒ¨(</span><code data-lake-id=\"u1a359920\" id=\"u1a359920\"><span data-lake-id=\"uc38d64db\" id=\"uc38d64db\">npm i </span></code><span data-lake-id=\"ua4095cb4\" id=\"ua4095cb4\">å®‰è£…çš„)ï¼Œä¹Ÿå¯ä»¥æ˜¯å†…éƒ¨ä¾èµ–(</span><code data-lake-id=\"ubd11f8b9\" id=\"ubd11f8b9\"><span data-lake-id=\"u8e1cbf69\" id=\"u8e1cbf69\">packages</span></code><span data-lake-id=\"u41f735d6\" id=\"u41f735d6\">/ä¸‹çš„åŒ…ï¼Œä¼šåˆ›å»ºç¬¦å·é“¾æ¥)ï¼Œ</span><code data-lake-id=\"uca99e075\" id=\"uca99e075\"><span data-lake-id=\"u1c547f16\" id=\"u1c547f16\">example</span></code><span data-lake-id=\"u28133327\" id=\"u28133327\">ï¼š</span></li></ul><ul list=\"u50287b30\" data-lake-indent=\"1\"><li fid=\"ub41c1773\" data-lake-id=\"ubb0369d9\" id=\"ubb0369d9\"><code data-lake-id=\"u6c0eac38\" id=\"u6c0eac38\"><span data-lake-id=\"u89c7a3ea\" id=\"u89c7a3ea\">lerna add babel</span></code><span data-lake-id=\"u3ac43040\" id=\"u3ac43040\"> , è¯¥å‘½ä»¤ä¼šåœ¨ </span><code data-lake-id=\"ufce6360c\" id=\"ufce6360c\"><span data-lake-id=\"ua045d273\" id=\"ua045d273\">package-1</span></code><span data-lake-id=\"u1ae5cc29\" id=\"u1ae5cc29\"> å’Œ </span><code data-lake-id=\"u7fe32751\" id=\"u7fe32751\"><span data-lake-id=\"ue97de824\" id=\"ue97de824\">package-2</span></code><span data-lake-id=\"ue09fc8f4\" id=\"ue09fc8f4\"> ä¸‹å®‰è£… </span><code data-lake-id=\"u51e9ea64\" id=\"u51e9ea64\"><span data-lake-id=\"u5f8cdc5f\" id=\"u5f8cdc5f\">babel</span></code></li><li fid=\"ub41c1773\" data-lake-id=\"u62a42391\" id=\"u62a42391\"><code data-lake-id=\"u5f2a9f13\" id=\"u5f2a9f13\"><span data-lake-id=\"u093d2aee\" id=\"u093d2aee\">lerna add react --scope=package-1</span></code><span data-lake-id=\"u17dd629f\" id=\"u17dd629f\"> ,è¯¥å‘½ä»¤ä¼šåœ¨ </span><code data-lake-id=\"u9c6656ba\" id=\"u9c6656ba\"><span data-lake-id=\"u3b82a613\" id=\"u3b82a613\">package-1</span></code><span data-lake-id=\"u801d538b\" id=\"u801d538b\"> ä¸‹å®‰è£… </span><code data-lake-id=\"u445c78c3\" id=\"u445c78c3\"><span data-lake-id=\"u2eed9b05\" id=\"u2eed9b05\">react</span></code></li><li fid=\"ub41c1773\" data-lake-id=\"u746ec85d\" id=\"u746ec85d\"><code data-lake-id=\"uf7929547\" id=\"uf7929547\"><span data-lake-id=\"ua4037e4e\" id=\"ua4037e4e\">lerna add package-2 --scope=package-1</span></code><span data-lake-id=\"ub04414b7\" id=\"ub04414b7\">ï¼Œè¯¥å‘½ä»¤ä¼šåœ¨ </span><code data-lake-id=\"u2ab01f30\" id=\"u2ab01f30\"><span data-lake-id=\"u3d4c3c32\" id=\"u3d4c3c32\">package-1</span></code><span data-lake-id=\"u2a260e5a\" id=\"u2a260e5a\"> ä¸‹å®‰è£… </span><code data-lake-id=\"u3023422f\" id=\"u3023422f\"><span data-lake-id=\"uff9be3d3\" id=\"uff9be3d3\">package-2</span></code></li></ul><ul list=\"u50287b30\" start=\"8\"><li fid=\"u08fd95d4\" data-lake-id=\"ucbfb9f1d\" id=\"ucbfb9f1d\"><code data-lake-id=\"u734357c6\" id=\"u734357c6\"><span data-lake-id=\"ub4f28339\" id=\"ub4f28339\">lerna create [loc]</span></code><span data-lake-id=\"u71351620\" id=\"u71351620\"> åˆ›å»ºä¸€ä¸ª </span><code data-lake-id=\"u99e58e11\" id=\"u99e58e11\"><span data-lake-id=\"ude402776\" id=\"ude402776\">lerna</span></code><span data-lake-id=\"u96a72155\" id=\"u96a72155\"> ç®¡ç†çš„åŒ…</span></li><li fid=\"u08fd95d4\" data-lake-id=\"ua7b98b64\" id=\"ua7b98b64\"><code data-lake-id=\"u34180a32\" id=\"u34180a32\"><span data-lake-id=\"u803da5ed\" id=\"u803da5ed\">lerna ls</span></code><span data-lake-id=\"u31094f39\" id=\"u31094f39\"> æ§åˆ¶å°æ‰“å° </span><code data-lake-id=\"ud38d9e5c\" id=\"ud38d9e5c\"><span data-lake-id=\"u2ffab541\" id=\"u2ffab541\">packages</span></code><span data-lake-id=\"u4ac60bfb\" id=\"u4ac60bfb\"> ä¸‹çš„åŒ…å</span></li><li fid=\"u08fd95d4\" data-lake-id=\"u506742c9\" id=\"u506742c9\"><code data-lake-id=\"uf46264c2\" id=\"uf46264c2\"><span data-lake-id=\"ud060d499\" id=\"ud060d499\">lerna link</span></code><span data-lake-id=\"u800e06fb\" id=\"u800e06fb\"> ç±»ä¼¼ </span><code data-lake-id=\"u34171381\" id=\"u34171381\"><span data-lake-id=\"u4edf7166\" id=\"u4edf7166\">npm link</span></code></li></ul><h4 data-lake-id=\"bkDYM\" id=\"bkDYM\"><span data-lake-id=\"ud22c0320\" id=\"ud22c0320\">lerna.json é…ç½®ä»‹ç»</span></h4><card type=\"inline\" name=\"codeblock\" value=\"data:%7B%22mode%22%3A%22json%22%2C%22code%22%3A%22%7B%5Cn%20%20%5C%22version%5C%22%3A%20%5C%221.1.1%5C%22%2C%5Cn%20%20%5C%22npmClient%5C%22%3A%20%5C%22yarn%5C%22%2C%5Cn%20%20%5C%22command%5C%22%3A%20%7B%5Cn%20%20%20%20%5C%22publish%5C%22%3A%20%7B%5Cn%20%20%20%20%20%20%5C%22ignoreChanges%5C%22%3A%20%5B%5C%22ignored-file%5C%22%2C%20%5C%22*.md%5C%22%5D%2C%5Cn%20%20%20%20%20%20%5C%22message%5C%22%3A%20%5C%22chore(release)%3A%20publish%20%25s%5C%22%2C%5Cn%20%20%20%20%20%20%5C%22registry%5C%22%3A%20%5C%22https%3A%2F%2Fnpm.pkg.github.com%5C%22%5Cn%20%20%20%20%7D%2C%5Cn%20%20%20%20%5C%22bootstrap%5C%22%3A%20%7B%5Cn%20%20%20%20%20%20%5C%22ignore%5C%22%3A%20%5C%22component-*%5C%22%2C%5Cn%20%20%20%20%20%20%5C%22npmClientArgs%5C%22%3A%20%5B%5C%22--no-package-lock%5C%22%5D%5Cn%20%20%20%20%7D%5Cn%20%20%7D%2C%5Cn%20%20%5C%22packages%5C%22%3A%20%5B%5C%22packages%2F*%5C%22%5D%5Cn%7D%22%2C%22autoWrap%22%3Afalse%2C%22heightLimit%22%3Atrue%2C%22collapsed%22%3Afalse%2C%22name%22%3A%22%22%2C%22tabSize%22%3Anull%2C%22indentWithTab%22%3Afalse%2C%22lightLines%22%3A%5B%5D%2C%22foldLines%22%3A%5B%5D%2C%22theme%22%3A%22One%20Dark%20Pro%22%2C%22__spacing%22%3A%22both%22%2C%22id%22%3A%22znv2d%22%2C%22margin%22%3A%7B%22top%22%3Atrue%2C%22bottom%22%3Atrue%7D%7D\"></card><ul list=\"u41b07550\"><li fid=\"u0bc9456f\" data-lake-id=\"u3fcaf057\" id=\"u3fcaf057\"><code data-lake-id=\"ufb22fa50\" id=\"ufb22fa50\"><span data-lake-id=\"u078cb898\" id=\"u078cb898\">version</span></code><span data-lake-id=\"ueff4a136\" id=\"ueff4a136\">ï¼šå½“å‰å­˜å‚¨åº“çš„ç‰ˆæœ¬ï¼Œå½“ä¸º </span><code data-lake-id=\"u725c5ba0\" id=\"u725c5ba0\"><span data-lake-id=\"u594a39ff\" id=\"u594a39ff\">independent</span></code><span data-lake-id=\"u4010069b\" id=\"u4010069b\"> æ—¶ï¼Œå¼€å¯ç‹¬ç«‹æ¨¡å¼</span></li><li fid=\"u0bc9456f\" data-lake-id=\"u0307f208\" id=\"u0307f208\"><code data-lake-id=\"u01112995\" id=\"u01112995\"><span data-lake-id=\"u7fc1ef76\" id=\"u7fc1ef76\">npmClient</span></code><span data-lake-id=\"udd44db50\" id=\"udd44db50\">ï¼šä¸€ä¸ªé€‰é¡¹ï¼Œç”¨äºæŒ‡å®šè¿è¡Œå‘½ä»¤çš„ç‰¹å®šå®¢æˆ·ç«¯ã€‚ å¯æ›´æ”¹ä¸º </span><code data-lake-id=\"ud3d59f8b\" id=\"ud3d59f8b\"><span data-lake-id=\"ubb0d1c28\" id=\"ubb0d1c28\">yarn</span></code><span data-lake-id=\"u63ebe74f\" id=\"u63ebe74f\">â€‹</span></li><li fid=\"u0bc9456f\" data-lake-id=\"u3506ba5e\" id=\"u3506ba5e\"><code data-lake-id=\"u4e9104a8\" id=\"u4e9104a8\"><span data-lake-id=\"udf77430c\" id=\"udf77430c\">packages</span></code><span data-lake-id=\"u9ee1b7a8\" id=\"u9ee1b7a8\">ï¼šç”¨ä½œåŒ…è£…ä½ç½®çš„ </span><code data-lake-id=\"ue4c7eb6d\" id=\"ue4c7eb6d\"><span data-lake-id=\"u7b7beaa1\" id=\"u7b7beaa1\">glob</span></code><span data-lake-id=\"ua590053f\" id=\"ua590053f\"> æ•°ç»„ï¼Œ é»˜è®¤ä¸º </span><code data-lake-id=\"u0af34fa1\" id=\"u0af34fa1\"><span data-lake-id=\"u23e83b96\" id=\"u23e83b96\">[&quot;packages/*&quot;]</span></code><span data-lake-id=\"u555730d5\" id=\"u555730d5\">, ä¹Ÿå¯ä»¥ä¿®æ”¹ä¸ºå…¶ä»–ç›®å½•</span></li><li fid=\"u0bc9456f\" data-lake-id=\"uaf90e68a\" id=\"uaf90e68a\"><code data-lake-id=\"uf59d8b98\" id=\"uf59d8b98\"><span data-lake-id=\"u5f27f42b\" id=\"u5f27f42b\">command.publish.ignoreChanges</span></code><span data-lake-id=\"u5a3daf96\" id=\"u5a3daf96\">: æ¥å—ä¸€ç»„ </span><code data-lake-id=\"u8c384c2d\" id=\"u8c384c2d\"><span data-lake-id=\"u0a455a8a\" id=\"u0a455a8a\">glob</span></code><span data-lake-id=\"u9ca012a9\" id=\"u9ca012a9\"> æ•°ç»„ï¼Œå¿½ç•¥ä¸å¿…è¦çš„æ›´æ”¹å‘å¸ƒæ–°ç‰ˆæœ¬ï¼Œä¾‹å¦‚ </span><code data-lake-id=\"ue86831f4\" id=\"ue86831f4\"><span data-lake-id=\"u6d9a74c6\" id=\"u6d9a74c6\">md</span></code><span data-lake-id=\"ub33c74d2\" id=\"ub33c74d2\"> ä¿®æ”¹</span></li><li fid=\"u0bc9456f\" data-lake-id=\"u46c00d71\" id=\"u46c00d71\"><code data-lake-id=\"u84d63c45\" id=\"u84d63c45\"><span data-lake-id=\"udf5cae95\" id=\"udf5cae95\">command.publish.message</span></code><span data-lake-id=\"ua87eb51f\" id=\"ua87eb51f\">: æ‰§è¡Œå‘å¸ƒç‰ˆæœ¬æ—¶è‡ªåŠ¨ä¼š </span><code data-lake-id=\"u385f6e28\" id=\"u385f6e28\"><span data-lake-id=\"u198c3a56\" id=\"u198c3a56\">commit</span></code><span data-lake-id=\"u2e633cfe\" id=\"u2e633cfe\"> ä¸€æ¡æŒ‡å®šè®°å½•ï¼Œå½“æ¶ˆæ¯è®°å½•é‡ŒåŒ…å« </span><code data-lake-id=\"u21095137\" id=\"u21095137\"><span data-lake-id=\"ue83cab33\" id=\"ue83cab33\">%s</span></code><span data-lake-id=\"u0334bd38\" id=\"u0334bd38\"> å°†ä¼šæ›¿æ¢ä¸º </span><code data-lake-id=\"u6a4da8cf\" id=\"u6a4da8cf\"><span data-lake-id=\"u19c14239\" id=\"u19c14239\">v1.1.1</span></code><span data-lake-id=\"u09eb5e11\" id=\"u09eb5e11\">, å¦‚æœæ˜¯ </span><code data-lake-id=\"ub1a41410\" id=\"ub1a41410\"><span data-lake-id=\"ub81f26b5\" id=\"ub81f26b5\">%v</span></code><span data-lake-id=\"ubaa88889\" id=\"ubaa88889\"> åˆ™ç›´æ¥æ›¿æ¢ä¸º </span><code data-lake-id=\"u04dd5113\" id=\"u04dd5113\"><span data-lake-id=\"uf30349a8\" id=\"uf30349a8\">1.1.1</span></code><span data-lake-id=\"uc03f4c2b\" id=\"uc03f4c2b\">ï¼Œå¦‚æœæ˜¯ </span><code data-lake-id=\"ubf8c0804\" id=\"ubf8c0804\"><span data-lake-id=\"u0ab34faf\" id=\"u0ab34faf\">independent</span></code><span data-lake-id=\"uc5a137d9\" id=\"uc5a137d9\"> æ¨¡å¼åˆ™ä¼šç‹¬ç«‹æ›´æ–°æ¯ä¸ªåŒ…çš„ç‰ˆæœ¬</span></li><li fid=\"u0bc9456f\" data-lake-id=\"uc8c92ba4\" id=\"uc8c92ba4\"><code data-lake-id=\"u7f88a469\" id=\"u7f88a469\"><span data-lake-id=\"uc172b6a1\" id=\"uc172b6a1\">command.publish.registry</span></code><span data-lake-id=\"u523567a0\" id=\"u523567a0\">: è®¾ç½®è¦å‘å¸ƒåˆ°çš„è‡ªå®šä¹‰åœ°å€</span></li><li fid=\"u0bc9456f\" data-lake-id=\"u6fa66ae0\" id=\"u6fa66ae0\"><code data-lake-id=\"u5764386c\" id=\"u5764386c\"><span data-lake-id=\"ub0118932\" id=\"ub0118932\">command.bootstrap.ignore</span></code><span data-lake-id=\"ua1b592dd\" id=\"ua1b592dd\">: æ¥æ”¶ä¸€ä¸ª </span><code data-lake-id=\"ua20980f5\" id=\"ua20980f5\"><span data-lake-id=\"u580e706e\" id=\"u580e706e\">glob</span></code><span data-lake-id=\"ub54134d5\" id=\"ub54134d5\"> æ•°ç»„ï¼Œ æŒ‡å®šè¿è¡Œ </span><code data-lake-id=\"u8ea36b65\" id=\"u8ea36b65\"><span data-lake-id=\"u37e41958\" id=\"u37e41958\">lerna bootstrap</span></code><span data-lake-id=\"ud2d74fc3\" id=\"ud2d74fc3\"> å‘½ä»¤æ—¶éœ€è¦å¿½ç•¥çš„ç›®å½•</span></li><li fid=\"u0bc9456f\" data-lake-id=\"u77f0f179\" id=\"u77f0f179\"><code data-lake-id=\"u55283d20\" id=\"u55283d20\"><span data-lake-id=\"ua4ee31cd\" id=\"ua4ee31cd\">command.bootstrap.npmClientArg</span></code><span data-lake-id=\"uc2c74d12\" id=\"uc2c74d12\">: æ¥æ”¶ä¸€ä¸ªå­—ç¬¦ä¸²æ•°ç»„ï¼Œ å°†å‚æ•°ç›´æ¥ä¼ é€’ç»™ </span><code data-lake-id=\"u87acbf99\" id=\"u87acbf99\"><span data-lake-id=\"u68124b2f\" id=\"u68124b2f\">npm install</span></code></li><li fid=\"u0bc9456f\" data-lake-id=\"ud01b1464\" id=\"ud01b1464\"><code data-lake-id=\"u7ac14928\" id=\"u7ac14928\"><span data-lake-id=\"u654c2bcb\" id=\"u654c2bcb\">command.bootstrap.scope</span></code><span data-lake-id=\"ub6a34861\" id=\"ub6a34861\">: ä¸€ç»„ </span><code data-lake-id=\"u6f45ceae\" id=\"u6f45ceae\"><span data-lake-id=\"uaa789fad\" id=\"uaa789fad\">glob</span></code><span data-lake-id=\"ud6fe63e7\" id=\"ud6fe63e7\">ï¼Œç”¨äºé™åˆ¶åœ¨è¿è¡Œ </span><code data-lake-id=\"u0e6f28b4\" id=\"u0e6f28b4\"><span data-lake-id=\"ufdc1acdc\" id=\"ufdc1acdc\">lerna bootstrap</span></code><span data-lake-id=\"ub2067b2d\" id=\"ub2067b2d\"> å‘½ä»¤æ—¶å°† åŒ…å«çš„è½¯ä»¶åŒ…ã€‚</span></li></ul><h4 data-lake-id=\"d2nuq\" id=\"d2nuq\"><span data-lake-id=\"u35f21b11\" id=\"u35f21b11\">lerna å¤šåŒ…ç‰ˆæœ¬ç®¡ç†æœºåˆ¶</span></h4><ul list=\"ue454fdec\"><li fid=\"u7a7fe245\" data-lake-id=\"u5bb3cf3f\" id=\"u5bb3cf3f\"><code data-lake-id=\"u539f7f26\" id=\"u539f7f26\"><span data-lake-id=\"u9d9ec87f\" id=\"u9d9ec87f\">Fixed/Locked mode(default)</span></code><card type=\"inline\" name=\"label\" value=\"data:%7B%22label%22%3A%22%E5%9B%BA%E5%AE%9A%E6%A8%A1%E5%BC%8F%22%2C%22colorIndex%22%3A5%2C%22id%22%3A%22YBLfG%22%7D\"></card></li></ul><p data-lake-id=\"uaeb92082\" id=\"uaeb92082\"><code data-lake-id=\"u70fe7519\" id=\"u70fe7519\"><span data-lake-id=\"ude9fa4f1\" id=\"ude9fa4f1\">vue</span></code><span data-lake-id=\"uf92a511d\" id=\"uf92a511d\">ã€</span><code data-lake-id=\"ua21fffe1\" id=\"ua21fffe1\"><span data-lake-id=\"ua30bf97e\" id=\"ua30bf97e\">babel</span></code><span data-lake-id=\"u897ef547\" id=\"u897ef547\">éƒ½æ˜¯ç”¨è¿™ç§ï¼Œåœ¨</span><code data-lake-id=\"u590526c7\" id=\"u590526c7\"><span data-lake-id=\"u9e2eae74\" id=\"u9e2eae74\">publish</span></code><span data-lake-id=\"u056f3d2d\" id=\"u056f3d2d\">çš„æ—¶å€™ï¼Œä¼šåœ¨</span><code data-lake-id=\"ud6f2bf00\" id=\"ud6f2bf00\"><span data-lake-id=\"u6976e237\" id=\"u6976e237\">lerna.json</span></code><span data-lake-id=\"u4e4eea43\" id=\"u4e4eea43\">æ–‡ä»¶é‡Œé¢ </span><code data-lake-id=\"u3b00adbe\" id=\"u3b00adbe\"><span data-lake-id=\"u28065faa\" id=\"u28065faa\">&quot;version&quot;: &quot;0.15&quot;</span></code><span data-lake-id=\"u053033a8\" id=\"u053033a8\">ï¼Œä¾æ®è¿™ä¸ªå·è¿›è¡Œå¢åŠ ï¼Œåªé€‰æ‹©ä¸€æ¬¡ï¼Œå…¶ä»–æœ‰æ”¹åŠ¨çš„åŒ…è‡ªåŠ¨æ›´æ–°ç‰ˆæœ¬å·</span></p><ul list=\"ue454fdec\" start=\"2\"><li fid=\"u7a7fe245\" data-lake-id=\"u216c373e\" id=\"u216c373e\"><code data-lake-id=\"uae7de33c\" id=\"uae7de33c\"><span data-lake-id=\"u54aeaf94\" id=\"u54aeaf94\">Independence mode</span></code><card type=\"inline\" name=\"label\" value=\"data:%7B%22label%22%3A%22%E7%8B%AC%E7%AB%8B%E6%A8%A1%E5%BC%8F%22%2C%22colorIndex%22%3A5%2C%22id%22%3A%22s4fQy%22%7D\"></card></li></ul><p data-lake-id=\"u53b02706\" id=\"u53b02706\"><code data-lake-id=\"uec9c11e7\" id=\"uec9c11e7\"><span data-lake-id=\"u59bb98ba\" id=\"u59bb98ba\">lerna init --independent</span></code><span data-lake-id=\"u146ed290\" id=\"u146ed290\">åˆå§‹åŒ–é¡¹ç›®ï¼Œ</span><code data-lake-id=\"u0ff3df2a\" id=\"u0ff3df2a\"><span data-lake-id=\"u9c34a35d\" id=\"u9c34a35d\">lerna.json</span></code><span data-lake-id=\"uf803c3ac\" id=\"uf803c3ac\">æ–‡ä»¶é‡Œé¢ </span><code data-lake-id=\"u1cce8876\" id=\"u1cce8876\"><span data-lake-id=\"u8943953e\" id=\"u8943953e\">&quot;version&quot;: &quot;independent&quot;</span></code><span data-lake-id=\"ucfbe2ebd\" id=\"ucfbe2ebd\">ï¼Œæ¯æ¬¡</span><code data-lake-id=\"ub7ad6c83\" id=\"ub7ad6c83\"><span data-lake-id=\"u802680dd\" id=\"u802680dd\">publish</span></code><span data-lake-id=\"ub4db0e8c\" id=\"ub4db0e8c\">æ—¶ï¼Œéƒ½å°†å¾—åˆ°ä¸€ä¸ªæç¤ºç¬¦ï¼Œæç¤ºæ¯ä¸ªå·²æ›´æ”¹çš„åŒ…ï¼Œä»¥æŒ‡å®šæ˜¯ï¼š</span><code data-lake-id=\"ud14446dd\" id=\"ud14446dd\"><span data-lake-id=\"ua0fd1aa4\" id=\"ua0fd1aa4\">major</span></code><span data-lake-id=\"u32e7dfd6\" id=\"u32e7dfd6\">ã€</span><code data-lake-id=\"u598bfc10\" id=\"u598bfc10\"><span data-lake-id=\"uc456e181\" id=\"uc456e181\">minor</span></code><span data-lake-id=\"u8d7150c3\" id=\"u8d7150c3\">ã€</span><code data-lake-id=\"ud8645e71\" id=\"ud8645e71\"><span data-lake-id=\"uec93ff8b\" id=\"uec93ff8b\">patch</span></code><span data-lake-id=\"u1397ca23\" id=\"u1397ca23\">ã€</span><code data-lake-id=\"u0f0a016a\" id=\"u0f0a016a\"><span data-lake-id=\"uae41cdd8\" id=\"uae41cdd8\">premajor</span></code><span data-lake-id=\"u3a52eb88\" id=\"u3a52eb88\">ã€</span><code data-lake-id=\"uebc6681e\" id=\"uebc6681e\"><span data-lake-id=\"u6099e7f6\" id=\"u6099e7f6\">preminor</span></code><span data-lake-id=\"uef5deac2\" id=\"uef5deac2\">ã€</span><code data-lake-id=\"u6d7a4296\" id=\"u6d7a4296\"><span data-lake-id=\"udb9ac92d\" id=\"udb9ac92d\">prepatch</span></code><span data-lake-id=\"ue30e0028\" id=\"ue30e0028\">ã€</span><code data-lake-id=\"u3ee492eb\" id=\"u3ee492eb\"><span data-lake-id=\"ufc57fd99\" id=\"ufc57fd99\">prerelease</span></code></p><h4 data-lake-id=\"RSN7r\" id=\"RSN7r\"><span data-lake-id=\"u5b444239\" id=\"u5b444239\">å¯ç”¨ workspace æ¨¡å¼</span></h4><p data-lake-id=\"u9ba4b383\" id=\"u9ba4b383\"><span data-lake-id=\"u5e24945d\" id=\"u5e24945d\">é»˜è®¤æ˜¯ </span><code data-lake-id=\"u5f4e451e\" id=\"u5f4e451e\"><span data-lake-id=\"u9c161fef\" id=\"u9c161fef\">npm</span></code><span data-lake-id=\"ue6717b92\" id=\"ue6717b92\">ï¼Œè€Œä¸”æ¯ä¸ªå­ </span><code data-lake-id=\"u5cea7198\" id=\"u5cea7198\"><span data-lake-id=\"u9963fc56\" id=\"u9963fc56\">package</span></code><span data-lake-id=\"u04c799e4\" id=\"u04c799e4\"> éƒ½æœ‰è‡ªå·±çš„</span><code data-lake-id=\"u3762b1d2\" id=\"u3762b1d2\"><span data-lake-id=\"u2e8f6b3b\" id=\"u2e8f6b3b\">node_modules</span></code><span data-lake-id=\"ub0d345ff\" id=\"ub0d345ff\">ï¼Œé€šè¿‡è¿™æ ·çš„è®¾ç½®åï¼Œåªæœ‰é¡¶å±‚æœ‰ä¸€ä¸ª</span><code data-lake-id=\"u6dab6048\" id=\"u6dab6048\"><span data-lake-id=\"ue2f124f1\" id=\"ue2f124f1\">node_modules</span></code></p><ul list=\"u073f2052\"><li fid=\"u1b5c2285\" data-lake-id=\"u77d28581\" id=\"u77d28581\"><span data-lake-id=\"u2cd44ece\" id=\"u2cd44ece\">ä¿®æ”¹é¡¶å±‚</span><code data-lake-id=\"ue954ba79\" id=\"ue954ba79\"><span data-lake-id=\"u19102666\" id=\"u19102666\">package.json</span></code><span data-lake-id=\"u1dc57df8\" id=\"u1dc57df8\">ã€</span><code data-lake-id=\"u74f7ff17\" id=\"u74f7ff17\"><span data-lake-id=\"u051ef774\" id=\"u051ef774\">lerna.json</span></code></li></ul><card type=\"inline\" name=\"codeblock\" value=\"data:%7B%22mode%22%3A%22javascript%22%2C%22code%22%3A%22%2F%2F%20package.json%20%E6%96%87%E4%BB%B6%E5%8A%A0%E5%85%A5%5Cn%7B%5Cn%20%20%5C%22private%5C%22%3A%20true%2C%5Cn%20%20%5C%22workspaces%5C%22%3A%20%5B%5C%22packages%2F*%5C%22%5D%5Cn%7D%5Cn%5Cn%2F%2F%20lerna.json%20%E6%96%87%E4%BB%B6%E5%8A%A0%E5%85%A5%5Cn%7B%5Cn%20%20%5C%22useWorkspaces%5C%22%3A%20true%2C%5Cn%20%20%5C%22npmClient%5C%22%3A%20%5C%22yarn%5C%22%20%2F%2F%20%E5%90%AF%E5%8A%A8%20yarn%EF%BC%8C%E4%B8%8D%E8%AE%BE%E7%BD%AE%E9%BB%98%E8%AE%A4%E4%B8%BA%20npm%EF%BC%8Cnpm7.x%2B%20%E6%94%AF%E6%8C%81%20workspaces%5Cn%7D%22%2C%22autoWrap%22%3Afalse%2C%22heightLimit%22%3Atrue%2C%22collapsed%22%3Afalse%2C%22name%22%3A%22%E4%BE%8B%E5%AD%90%22%2C%22tabSize%22%3Anull%2C%22indentWithTab%22%3Afalse%2C%22lightLines%22%3A%5B%5D%2C%22foldLines%22%3A%5B%5D%2C%22theme%22%3A%22One%20Dark%20Pro%22%2C%22__spacing%22%3A%22both%22%2C%22id%22%3A%22sp9Eq%22%2C%22margin%22%3A%7B%22top%22%3Atrue%2C%22bottom%22%3Atrue%7D%7D\"></card><h3 data-lake-id=\"p58HN\" id=\"p58HN\"><span data-lake-id=\"u1086d345\" id=\"u1086d345\">Workspaces</span></h3><h4 data-lake-id=\"ncpyk\" id=\"ncpyk\"><span data-lake-id=\"u70c9aa76\" id=\"u70c9aa76\">ä½¿ç”¨</span></h4><card type=\"inline\" name=\"codeblock\" value=\"data:%7B%22mode%22%3A%22json%22%2C%22code%22%3A%22%7B%5Cn%20%20%5C%22name%5C%22%3A%20%5C%22vite-pros%5C%22%2C%5Cn%20%20%5C%22description%5C%22%3A%20%5C%22%E4%BD%BF%E7%94%A8%20vite%20%E4%BD%9C%E4%B8%BA%E6%9E%84%E5%BB%BA%E5%B7%A5%E5%85%B7%E7%9A%84%E5%89%8D%E7%AB%AF%E9%A1%B9%E7%9B%AE%5C%22%2C%5Cn%20%20%5C%22private%5C%22%3A%20true%2C%5Cn%20%20%5C%22workspaces%5C%22%3A%20%5B%5Cn%20%20%20%20%5C%22packages%2F*%5C%22%5Cn%20%20%5D%5Cn%7D%22%2C%22autoWrap%22%3Afalse%2C%22heightLimit%22%3Atrue%2C%22collapsed%22%3Afalse%2C%22name%22%3A%22package.json%22%2C%22tabSize%22%3Anull%2C%22indentWithTab%22%3Afalse%2C%22lightLines%22%3A%5B%5D%2C%22foldLines%22%3A%5B%5D%2C%22theme%22%3A%22One%20Dark%20Pro%22%2C%22__spacing%22%3A%22both%22%2C%22id%22%3A%22u1BJg%22%2C%22margin%22%3A%7B%22top%22%3Atrue%2C%22bottom%22%3Atrue%7D%7D\"></card><p data-lake-id=\"ua3c4e806\" id=\"ua3c4e806\"><span data-lake-id=\"u7bd1d057\" id=\"u7bd1d057\">å…¶ä¸­ </span><code data-lake-id=\"u48b031c2\" id=\"u48b031c2\"><span data-lake-id=\"uae55af84\" id=\"uae55af84\">private: true</span></code><span data-lake-id=\"ubec974f5\" id=\"ubec974f5\"> æ˜¯å¿…éœ€çš„ï¼å·¥ä½œåŒºå¹¶ä¸æ„å‘³ç€è¦å‘å¸ƒï¼Œæ‰€ä»¥å¢åŠ äº†è¿™ä¸ªå®‰å…¨æªæ–½ï¼Œä»¥ç¡®ä¿æ²¡æœ‰ä»»ä½•ä¸œè¥¿å¯ä»¥æ„å¤–æš´éœ²å®ƒä»¬ã€‚</span><code data-lake-id=\"uebe9b227\" id=\"uebe9b227\"><span data-lake-id=\"u9082aca8\" id=\"u9082aca8\">workspaces</span></code><span data-lake-id=\"udcd63679\" id=\"udcd63679\"> å­—æ®µæ˜¯åŒ…å«æ¯ä¸ªå·¥ä½œåŒºçš„è·¯å¾„çš„æ•°ç»„ã€‚ç”±äºè¿½è¸ªæ¯ä¸ªè·¯å¾„å¯èƒ½å¾ˆä¹å‘³ï¼Œå› æ­¤è¯¥å­—æ®µä¹Ÿæ¥å— </span><code data-lake-id=\"u748744bf\" id=\"u748744bf\"><span data-lake-id=\"uf0bec0be\" id=\"uf0bec0be\">glob</span></code><span data-lake-id=\"u1230432f\" id=\"u1230432f\"> æ¨¡å¼ï¼</span></p><ol list=\"uece33324\"><li fid=\"u9d68edd8\" data-lake-id=\"u555f27a4\" id=\"u555f27a4\"><span data-lake-id=\"ube62eb2d\" id=\"ube62eb2d\">æ–°å»º </span><code data-lake-id=\"u6f89d13d\" id=\"u6f89d13d\"><span data-lake-id=\"u27416f6d\" id=\"u27416f6d\">packages</span></code><span data-lake-id=\"u6f044367\" id=\"u6f044367\"> ç›®å½•</span></li><li fid=\"u9d68edd8\" data-lake-id=\"ue2db347a\" id=\"ue2db347a\"><code data-lake-id=\"u71c0bcba\" id=\"u71c0bcba\"><span data-lake-id=\"ue8bfe219\" id=\"ue8bfe219\">packages</span></code><span data-lake-id=\"u98d5d07e\" id=\"u98d5d07e\"> ç›®å½•ä¸‹å°±æ˜¯æˆ‘ä»¬çš„æ­£å¸¸çš„å·¥ç¨‹äº†ã€‚</span></li></ol><h4 data-lake-id=\"H2maV\" id=\"H2maV\"><span data-lake-id=\"u4603fafd\" id=\"u4603fafd\">ä»‹ç»</span></h4><ol list=\"ufec08c3f\"><li fid=\"u6e55945f\" data-lake-id=\"u2085ae89\" id=\"u2085ae89\"><span data-lake-id=\"u8b456746\" id=\"u8b456746\">å®‰è£…ä¾èµ–</span></li></ol><card type=\"inline\" name=\"codeblock\" value=\"data:%7B%22mode%22%3A%22shell%22%2C%22code%22%3A%22%5Byarn%7Cnpm%5D%20install%22%2C%22autoWrap%22%3Afalse%2C%22heightLimit%22%3Atrue%2C%22collapsed%22%3Afalse%2C%22name%22%3A%22%22%2C%22tabSize%22%3Anull%2C%22indentWithTab%22%3Afalse%2C%22lightLines%22%3A%5B%5D%2C%22foldLines%22%3A%5B%5D%2C%22theme%22%3A%22One%20Dark%20Pro%22%2C%22__spacing%22%3A%22both%22%2C%22id%22%3A%22PtWEF%22%2C%22margin%22%3A%7B%22top%22%3Atrue%2C%22bottom%22%3Atrue%7D%7D\"></card><ol list=\"ufec08c3f\" start=\"2\"><li fid=\"u6e55945f\" data-lake-id=\"u8e605db0\" id=\"u8e605db0\"><span data-lake-id=\"ud9977828\" id=\"ud9977828\">ä¸ºæŸä¸€ä¸ªå­é¡¹ç›®å®‰è£…ä¾èµ–</span></li></ol><card type=\"inline\" name=\"codeblock\" value=\"data:%7B%22mode%22%3A%22shell%22%2C%22code%22%3A%22%23%20pro1%20%3D%20packages%2Fpro1%5Cn%23%20npm%5Cnnpm%20install%20vue%20-w%20pro1%5Cn%23%20yarn%5Cnyarn%20workspace%20pro1%20add%20-D%20react%22%2C%22autoWrap%22%3Afalse%2C%22heightLimit%22%3Atrue%2C%22collapsed%22%3Afalse%2C%22name%22%3A%22%22%2C%22tabSize%22%3Anull%2C%22indentWithTab%22%3Afalse%2C%22lightLines%22%3A%5B%5D%2C%22foldLines%22%3A%5B%5D%2C%22theme%22%3A%22One%20Dark%20Pro%22%2C%22__spacing%22%3A%22both%22%2C%22id%22%3A%22ga4J6%22%2C%22margin%22%3A%7B%22top%22%3Atrue%2C%22bottom%22%3Atrue%7D%7D\"></card><blockquote data-lake-id=\"u0a69458c\" id=\"u0a69458c\" class=\"lake-alert lake-alert-tips\"><p data-lake-id=\"u012f4013\" id=\"u012f4013\"><span data-lake-id=\"u0143a1fd\" id=\"u0143a1fd\">è¿™é‡Œå¯ä»¥ä¾èµ–åŒä¸€ä¸ªå·¥ä½œåŒºä¸‹çš„å…¶å®ƒå·¥ç¨‹ï¼Œä»¥ </span><code data-lake-id=\"u77329b85\" id=\"u77329b85\"><span data-lake-id=\"u15f46038\" id=\"u15f46038\">yarn</span></code><span data-lake-id=\"ua64cf1eb\" id=\"ua64cf1eb\"> ä¸ºä¾‹ï¼Œå¦‚æœä¾èµ–åŒå·¥ä½œåŒºä¸‹çš„å…¶å®ƒå·¥ç¨‹ï¼Œ</span><code data-lake-id=\"ucc20c283\" id=\"ucc20c283\"><span data-lake-id=\"u1b090172\" id=\"u1b090172\">package.json</span></code><span data-lake-id=\"u94fd5dbf\" id=\"u94fd5dbf\"> çš„ </span><code data-lake-id=\"ucd035af4\" id=\"ucd035af4\"><span data-lake-id=\"u06ca59db\" id=\"u06ca59db\">dependencies</span></code><span data-lake-id=\"u270afaee\" id=\"u270afaee\"> å°±ä¼šå‘ç”Ÿæ”¹å˜ï¼Œä¾‹å¦‚ï¼š</span><code data-lake-id=\"ufbb2fa80\" id=\"ufbb2fa80\"><span data-lake-id=\"ub33e6fa8\" id=\"ub33e6fa8\">&quot;ph-utils&quot;: &quot;workspace:packages/utils&quot;</span></code><span data-lake-id=\"uaf44fedf\" id=\"uaf44fedf\">ã€</span><code data-lake-id=\"u2228b80d\" id=\"u2228b80d\"><span data-lake-id=\"u560a5c0c\" id=\"u560a5c0c\">&quot;ph-terminal-spinner&quot;: &quot;workspace:packages/terminal-spinner&quot;</span></code><span data-lake-id=\"uf255a964\" id=\"uf255a964\"> è¿™å°±è¡¨æ˜ä¾èµ–çš„æ˜¯åŒä¸€ä¸ªå·¥ä½œåŒºçš„å…¶å®ƒå·¥ç¨‹ã€‚<br /></span><span data-lake-id=\"uc6442914\" id=\"uc6442914\">è¿™æ ·çš„å¯èƒ½æœ‰äººå°±ä¼šæœ‰ç–‘é—®äº†ï¼Œå¦‚æœ </span><code data-lake-id=\"ufd941845\" id=\"ufd941845\"><span data-lake-id=\"u8e58895b\" id=\"u8e58895b\">package.json</span></code><span data-lake-id=\"uda21b7f2\" id=\"uda21b7f2\"> æ”¹å˜äº†åï¼Œä¸Šä¼ åä¼šæ€ä¹ˆæ ·å‘¢ï¼Ÿè¿™ä¸ªå°±æ˜¯ä¸‹é¢çš„å‘½ä»¤äº†ã€‚</span></p></blockquote><ol list=\"u8bc31d84\" start=\"3\"><li fid=\"ud3b6bebc\" data-lake-id=\"ub348f77a\" id=\"ub348f77a\"><span data-lake-id=\"u2ed5eda7\" id=\"u2ed5eda7\">å‘å¸ƒ</span></li></ol><card type=\"inline\" name=\"codeblock\" value=\"data:%7B%22mode%22%3A%22shell%22%2C%22code%22%3A%22%23%20npm%5Cnnpm%20publish%5Cn%23%20yarn%20%E5%8F%91%E5%B8%83%E7%9A%84%E6%97%B6%E5%80%99%EF%BC%8C%E4%BC%9A%E8%87%AA%E5%8A%A8%E6%9B%BF%E6%8D%A2%E6%9C%AC%E5%9C%B0%E4%BE%9D%E8%B5%96%E7%9A%84%E7%89%88%E6%9C%AC%5Cnyarn%20workspace%20pro1%20npm%20publish%22%2C%22autoWrap%22%3Afalse%2C%22heightLimit%22%3Atrue%2C%22collapsed%22%3Afalse%2C%22name%22%3A%22%22%2C%22tabSize%22%3Anull%2C%22indentWithTab%22%3Afalse%2C%22lightLines%22%3A%5B%5D%2C%22foldLines%22%3A%5B%5D%2C%22theme%22%3A%22One%20Dark%20Pro%22%2C%22__spacing%22%3A%22both%22%2C%22id%22%3A%22Uvsga%22%2C%22margin%22%3A%7B%22top%22%3Atrue%2C%22bottom%22%3Atrue%7D%7D\"></card><blockquote data-lake-id=\"u6b9ec3da\" id=\"u6b9ec3da\" class=\"lake-alert lake-alert-tips\"><p data-lake-id=\"ucd718b36\" id=\"ucd718b36\"><code data-lake-id=\"ufdaab7ca\" id=\"ufdaab7ca\"><span data-lake-id=\"u3627591e\" id=\"u3627591e\">yarn</span></code><span data-lake-id=\"uc06186ee\" id=\"uc06186ee\"> å‘å¸ƒçš„æ—¶å€™ï¼Œå¦‚æœä¼šæœ‰æœ¬åœ°æœ‰æœ¬åœ°ä¾èµ–å¦‚ï¼š</span><code data-lake-id=\"ua6f02dbd\" id=\"ua6f02dbd\"><span data-lake-id=\"u13aced8c\" id=\"u13aced8c\">&quot;ph-utils&quot;: &quot;workspace:packages/utils&quot;</span></code><span data-lake-id=\"u4a46ba4c\" id=\"u4a46ba4c\"> åˆ™ä¼šè¢«æ›¿æ¢ä¸º </span><code data-lake-id=\"u4ab578c7\" id=\"u4ab578c7\"><span data-lake-id=\"uf6a53310\" id=\"uf6a53310\">&quot;ph-utils&quot;: &quot;0.0.1&quot;</span></code><span data-lake-id=\"u89e1c274\" id=\"u89e1c274\"> å…¶ä¸­ </span><code data-lake-id=\"u7de2ecb1\" id=\"u7de2ecb1\"><span data-lake-id=\"ud1b02a2d\" id=\"ud1b02a2d\">0.0.1</span></code><span data-lake-id=\"u6323a43e\" id=\"u6323a43e\"> å°±æ˜¯æœ¬åœ° </span><code data-lake-id=\"u7972569a\" id=\"u7972569a\"><span data-lake-id=\"u9219dd8f\" id=\"u9219dd8f\">ph-utils</span></code><span data-lake-id=\"u72e3b1a1\" id=\"u72e3b1a1\"> çš„ç‰ˆæœ¬ã€‚</span></p></blockquote><h2 data-lake-id=\"XGgua\" id=\"XGgua\"><span data-lake-id=\"ufb113104\" id=\"ufb113104\">Monorepo æ–¹æ¡ˆå®è·µ</span></h2><h3 data-lake-id=\"gn9GX\" id=\"gn9GX\"><span data-lake-id=\"u7633212a\" id=\"u7633212a\">1. é”å®šç¯å¢ƒ: Volta</span></h3><p data-lake-id=\"u39a03f48\" id=\"u39a03f48\"><card type=\"inline\" name=\"image\" value=\"data:%7B%22src%22%3A%22https%3A%2F%2Fcdn.nlark.com%2Fyuque%2F0%2F2022%2Fpng%2F732231%2F1648747756372-c5aea202-62a4-4b65-8394-b7b81a777c52.png%22%2C%22taskId%22%3A%22u8eae952d-3f68-4089-ab61-00ed5a55355%22%2C%22clientId%22%3A%22u6fbcdb1d-5fd6-4%22%2C%22originalType%22%3A%22binary%22%2C%22width%22%3A484.8%2C%22height%22%3A230%2C%22linkTarget%22%3A%22_blank%22%2C%22name%22%3A%22image.png%22%2C%22size%22%3A42021%2C%22from%22%3A%22paste%22%2C%22originWidth%22%3A606%2C%22originHeight%22%3A288%2C%22ratio%22%3A1%2C%22status%22%3A%22done%22%2C%22style%22%3A%22none%22%2C%22search%22%3A%22%22%2C%22ocrLocations%22%3A%5B%5D%2C%22showTitle%22%3Afalse%2C%22title%22%3A%22%22%2C%22rotation%22%3A0%2C%22crop%22%3A%5B0%2C0%2C1%2C1%5D%2C%22id%22%3A%22u024df87c%22%2C%22margin%22%3A%7B%22top%22%3Atrue%2C%22bottom%22%3Atrue%7D%7D\"></card></p><p data-lake-id=\"u8034b404\" id=\"u8034b404\"><a href=\"https://volta.sh/\" target=\"_blank\" data-lake-id=\"u80cdc94b\" id=\"u80cdc94b\"><span data-lake-id=\"ufbec241f\" id=\"ufbec241f\">Volta</span></a><span data-lake-id=\"u56401b6b\" id=\"u56401b6b\"> æ˜¯ä¸€ä¸ª </span><code data-lake-id=\"u5bdaf787\" id=\"u5bdaf787\"><span data-lake-id=\"uf3eda4bf\" id=\"uf3eda4bf\">JavaScript</span></code><span data-lake-id=\"uc0431426\" id=\"uc0431426\"> å·¥å…·ç®¡ç†å™¨ï¼Œå®ƒå¯ä»¥è®©æˆ‘ä»¬è½»æ¾åœ°åœ¨é¡¹ç›®ä¸­é”å®š </span><code data-lake-id=\"u0fdc7548\" id=\"u0fdc7548\"><span data-lake-id=\"uc9ac4ae6\" id=\"uc9ac4ae6\">node</span></code><span data-lake-id=\"u0de7a48b\" id=\"u0de7a48b\">ï¼Œ</span><code data-lake-id=\"u07391c7c\" id=\"u07391c7c\"><span data-lake-id=\"u8840225c\" id=\"u8840225c\">npm</span></code><span data-lake-id=\"ue977b7be\" id=\"ue977b7be\"> å’Œ </span><code data-lake-id=\"u257ac185\" id=\"u257ac185\"><span data-lake-id=\"u9d298f13\" id=\"u9d298f13\">yarn</span></code><span data-lake-id=\"udb6074a7\" id=\"udb6074a7\"> çš„ç‰ˆæœ¬ã€‚ä½ åªéœ€åœ¨å®‰è£…å®Œ </span><code data-lake-id=\"u235e1fb4\" id=\"u235e1fb4\"><span data-lake-id=\"u46cab4ef\" id=\"u46cab4ef\">Volta</span></code><span data-lake-id=\"u8b5faad4\" id=\"u8b5faad4\"> åï¼Œåœ¨é¡¹ç›®çš„æ ¹ç›®å½•ä¸­æ‰§è¡Œ </span><code data-lake-id=\"ubf4dbbe7\" id=\"ubf4dbbe7\"><span data-lake-id=\"u38a3eafd\" id=\"u38a3eafd\">volta pin</span></code><span data-lake-id=\"ua92a3994\" id=\"ua92a3994\"> å‘½ä»¤ï¼Œé‚£ä¹ˆæ— è®ºæ‚¨å½“å‰ä½¿ç”¨çš„ </span><code data-lake-id=\"u462a30aa\" id=\"u462a30aa\"><span data-lake-id=\"uec40c6e3\" id=\"uec40c6e3\">node</span></code><span data-lake-id=\"u96f325b7\" id=\"u96f325b7\"> æˆ– </span><code data-lake-id=\"uf3424a71\" id=\"uf3424a71\"><span data-lake-id=\"u62cb8873\" id=\"u62cb8873\">npm</span></code><span data-lake-id=\"u70b368fa\" id=\"u70b368fa\">ï¼ˆ</span><code data-lake-id=\"u29393260\" id=\"u29393260\"><span data-lake-id=\"u43d2f8ac\" id=\"u43d2f8ac\">yarn</span></code><span data-lake-id=\"u305942b9\" id=\"u305942b9\">ï¼‰ç‰ˆæœ¬æ˜¯ä»€ä¹ˆï¼Œ</span><code data-lake-id=\"u08b1afe5\" id=\"u08b1afe5\"><span data-lake-id=\"ufa552372\" id=\"ufa552372\">volta</span></code><span data-lake-id=\"u3c77f968\" id=\"u3c77f968\"> éƒ½ä¼šè‡ªåŠ¨åˆ‡æ¢ä¸ºæ‚¨æŒ‡å®šçš„ç‰ˆæœ¬ã€‚</span></p><p data-lake-id=\"u27b08639\" id=\"u27b08639\"><span data-lake-id=\"u65eb9ab2\" id=\"u65eb9ab2\">â€‹</span><br></p><p data-lake-id=\"uda2bfaf6\" id=\"uda2bfaf6\"><span data-lake-id=\"u7c56dfda\" id=\"u7c56dfda\">å› æ­¤ï¼Œé™¤äº†ä½¿ç”¨ </span><code data-lake-id=\"uc4469d01\" id=\"uc4469d01\"><span data-lake-id=\"u47431862\" id=\"u47431862\">Docker</span></code><span data-lake-id=\"uda568688\" id=\"uda568688\"> å’Œæ˜¾ç¤ºåœ¨æ–‡æ¡£ä¸­å£°æ˜ </span><code data-lake-id=\"ud518bb64\" id=\"ud518bb64\"><span data-lake-id=\"ud1786b92\" id=\"ud1786b92\">node</span></code><span data-lake-id=\"u0c809566\" id=\"u0c809566\"> å’Œ </span><code data-lake-id=\"ua1fcec63\" id=\"ua1fcec63\"><span data-lake-id=\"u9f366e2a\" id=\"u9f366e2a\">npm</span></code><span data-lake-id=\"u2278a9a0\" id=\"u2278a9a0\">ï¼ˆ</span><code data-lake-id=\"u9cc8949d\" id=\"u9cc8949d\"><span data-lake-id=\"u19f71f96\" id=\"u19f71f96\">yarn</span></code><span data-lake-id=\"u62b0b429\" id=\"u62b0b429\">ï¼‰çš„ç‰ˆæœ¬ä¹‹å¤–ï¼Œæ‚¨å°±æœ‰äº†å¦ä¸€ä¸ªé”å®šç¯å¢ƒçš„å¼ºåŠ›å·¥å…·ã€‚</span></p><p data-lake-id=\"u95ef6475\" id=\"u95ef6475\"><span data-lake-id=\"u205194cb\" id=\"u205194cb\">â€‹</span><br></p><p data-lake-id=\"u8bfa757a\" id=\"u8bfa757a\"><span data-lake-id=\"ud5ee87d4\" id=\"ud5ee87d4\">è€Œä¸”ç›¸è¾ƒäº </span><code data-lake-id=\"u00ad2419\" id=\"u00ad2419\"><span data-lake-id=\"u49b67ab8\" id=\"u49b67ab8\">nvm</span></code><span data-lake-id=\"u986550a8\" id=\"u986550a8\">ï¼Œ</span><code data-lake-id=\"ufb377601\" id=\"ufb377601\"><span data-lake-id=\"u3c06315f\" id=\"u3c06315f\">Volta</span></code><span data-lake-id=\"udae9fccb\" id=\"udae9fccb\"> è¿˜å…·æœ‰ä¸€ä¸ªè¯±äººçš„ç‰¹æ€§ï¼šå½“æ‚¨é¡¹ç›®çš„ </span><code data-lake-id=\"uf401cac9\" id=\"uf401cac9\"><span data-lake-id=\"ub85554ca\" id=\"ub85554ca\">CLI</span></code><span data-lake-id=\"uf11d0e67\" id=\"uf11d0e67\"> å·¥å…·ä¸å…¨å±€ </span><code data-lake-id=\"ua25cf12b\" id=\"ua25cf12b\"><span data-lake-id=\"u6f72838b\" id=\"u6f72838b\">CLI</span></code><span data-lake-id=\"ud4f074cf\" id=\"ud4f074cf\"> å·¥å…·ä¸ä¸€è‡´æ—¶ï¼Œ</span><code data-lake-id=\"ucfb16dae\" id=\"ucfb16dae\"><span data-lake-id=\"u425ce383\" id=\"u425ce383\">Volta</span></code><span data-lake-id=\"ub2e706b6\" id=\"ub2e706b6\"> å¯ä»¥åšåˆ°åœ¨é¡¹ç›®æ ¹ç›®å½•ä¸‹è‡ªåŠ¨è¯†åˆ«ï¼Œåˆ‡æ¢åˆ°é¡¹ç›®æŒ‡å®šçš„ç‰ˆæœ¬ï¼Œè¿™ä¸€åˆ‡éƒ½æ˜¯ç”± </span><code data-lake-id=\"u723d60b1\" id=\"u723d60b1\"><span data-lake-id=\"uaed96ef0\" id=\"uaed96ef0\">Volta</span></code><span data-lake-id=\"uf859dbe0\" id=\"uf859dbe0\"> é»˜é»˜åšåˆ°çš„ï¼Œå¼€å‘è€…ä¸å¿…å…³å¿ƒä»»ä½•äº‹æƒ…ã€‚</span></p><h3 data-lake-id=\"p9nEa\" id=\"p9nEa\"><span data-lake-id=\"u075a53d3\" id=\"u075a53d3\">2. å¤ç”¨ packages: workspace</span></h3><p data-lake-id=\"u579703a6\" id=\"u579703a6\"><span data-lake-id=\"u84c618b4\" id=\"u84c618b4\">ä½¿ç”¨ </span><code data-lake-id=\"ud745c82b\" id=\"ud745c82b\"><span data-lake-id=\"u25cdd979\" id=\"u25cdd979\">monorepo</span></code><span data-lake-id=\"u99bb4f0f\" id=\"u99bb4f0f\"> ç­–ç•¥åï¼Œæ”¶ç›Šæœ€å¤§çš„ä¸¤ç‚¹æ˜¯ï¼š</span></p><ol list=\"u60e37020\"><li fid=\"uf1b4985e\" data-lake-id=\"ua8fe2baf\" id=\"ua8fe2baf\"><span data-lake-id=\"uce22f40d\" id=\"uce22f40d\">é¿å…é‡å¤å®‰è£…åŒ…ï¼Œå› æ­¤å‡å°‘äº†ç£ç›˜ç©ºé—´çš„å ç”¨ï¼Œå¹¶é™ä½äº†æ„å»ºæ—¶é—´</span><span data-lake-id=\"u2dec9739\" id=\"u2dec9739\">ï¼›</span></li><li fid=\"uf1b4985e\" data-lake-id=\"u9b1733f2\" id=\"u9b1733f2\"><span data-lake-id=\"u9a6b1881\" id=\"u9a6b1881\">å†…éƒ¨ä»£ç å¯ä»¥å½¼æ­¤ç›¸äº’å¼•ç”¨ï¼›</span></li></ol><p data-lake-id=\"u4a5d6344\" id=\"u4a5d6344\"><br></p><p data-lake-id=\"u8a2977be\" id=\"u8a2977be\"><span data-lake-id=\"uc9501a66\" id=\"uc9501a66\">è¿™ä¸¤é¡¹å¥½å¤„å…¨éƒ¨éƒ½å¯ä»¥ç”±ä¸€ä¸ªæˆç†Ÿçš„åŒ…ç®¡ç†å·¥å…·æ¥å®Œæˆï¼Œå¯¹å‰ç«¯å¼€å‘è€Œè¨€ï¼Œå³æ˜¯ </span><code data-lake-id=\"u29cc5da3\" id=\"u29cc5da3\"><span data-lake-id=\"u532d1274\" id=\"u532d1274\">yarn</span></code><span data-lake-id=\"ued4a082d\" id=\"ued4a082d\">ï¼ˆ</span><code data-lake-id=\"u74acf75b\" id=\"u74acf75b\"><span data-lake-id=\"u09bad7ff\" id=\"u09bad7ff\">1.0</span></code><span data-lake-id=\"uece2a887\" id=\"uece2a887\"> ä»¥ä¸Šï¼‰æˆ– </span><code data-lake-id=\"ub77817c9\" id=\"ub77817c9\"><span data-lake-id=\"u7a1a0ac6\" id=\"u7a1a0ac6\">npm</span></code><span data-lake-id=\"u0a20d1c2\" id=\"u0a20d1c2\">ï¼ˆ</span><code data-lake-id=\"u0d0f20b0\" id=\"u0d0f20b0\"><span data-lake-id=\"u5c3475de\" id=\"u5c3475de\">7.0</span></code><span data-lake-id=\"ufda8b9e1\" id=\"ufda8b9e1\"> ä»¥ä¸Šï¼‰é€šè¿‡åä¸º </span><code data-lake-id=\"uc7b610b1\" id=\"uc7b610b1\"><span data-lake-id=\"u38e4a8dc\" id=\"u38e4a8dc\">workspaces</span></code><span data-lake-id=\"ub3303bc7\" id=\"ub3303bc7\"> çš„ç‰¹æ€§å®ç°çš„ï¼ˆâš ï¸ æ³¨æ„ï¼Œæ”¯æŒ </span><code data-lake-id=\"u8d8eb7fe\" id=\"u8d8eb7fe\"><span data-lake-id=\"uce691c3f\" id=\"uce691c3f\">workspaces</span></code><span data-lake-id=\"u638ab60e\" id=\"u638ab60e\"> ç‰¹æ€§çš„ </span><code data-lake-id=\"u7a376fbb\" id=\"u7a376fbb\"><span data-lake-id=\"ubb34d99a\" id=\"ubb34d99a\">npm</span></code><span data-lake-id=\"u506874ed\" id=\"u506874ed\"> ç›®å‰ä¾æ—§ä¸æ˜¯ </span><code data-lake-id=\"u67d4a543\" id=\"u67d4a543\"><span data-lake-id=\"u19fdcae0\" id=\"u19fdcae0\">TLS</span></code><span data-lake-id=\"ubd247b89\" id=\"ubd247b89\"> ç‰ˆæœ¬ï¼‰ã€‚</span></p><p data-lake-id=\"u85ddeb7c\" id=\"u85ddeb7c\"><span data-lake-id=\"u4982bff5\" id=\"u4982bff5\">â€‹</span><br></p><p data-lake-id=\"u243ab284\" id=\"u243ab284\"><span data-lake-id=\"u516601c1\" id=\"u516601c1\">ä¸ºäº†å®ç°å‰é¢æåˆ°çš„ä¸¤ç‚¹æ”¶ç›Šï¼Œæ‚¨éœ€è¦åœ¨ä»£ç ä¸­åšä¸‰ä»¶äº‹ï¼š</span></p><ol list=\"u04deac11\"><li fid=\"uec3573e9\" data-lake-id=\"u4a0cbee6\" id=\"u4a0cbee6\"><span data-lake-id=\"u282f9e42\" id=\"u282f9e42\">è°ƒæ•´ç›®å½•ç»“æ„ï¼Œå°†ç›¸äº’å…³è”çš„é¡¹ç›®æ”¾ç½®åœ¨åŒä¸€ä¸ªç›®å½•ï¼Œæ¨èå‘½åä¸º </span><code data-lake-id=\"u9f3fadeb\" id=\"u9f3fadeb\"><span data-lake-id=\"u640ab08f\" id=\"u640ab08f\">packages</span></code><span data-lake-id=\"u8bea9ee6\" id=\"u8bea9ee6\">ï¼›</span></li><li fid=\"uec3573e9\" data-lake-id=\"u6722b056\" id=\"u6722b056\"><span data-lake-id=\"u6534bb9d\" id=\"u6534bb9d\">åœ¨é¡¹ç›®æ ¹ç›®å½•é‡Œçš„ </span><code data-lake-id=\"u66a242ca\" id=\"u66a242ca\"><span data-lake-id=\"ud04637d0\" id=\"ud04637d0\">package.json</span></code><span data-lake-id=\"u69e70938\" id=\"u69e70938\"> æ–‡ä»¶ä¸­ï¼Œè®¾ç½® </span><code data-lake-id=\"u5fe989ee\" id=\"u5fe989ee\"><span data-lake-id=\"u2a808af9\" id=\"u2a808af9\">workspaces</span></code><span data-lake-id=\"u9f92bbee\" id=\"u9f92bbee\"> å±æ€§ï¼Œå±æ€§å€¼ä¸ºä¹‹å‰åˆ›å»ºçš„ç›®å½•ï¼›</span></li><li fid=\"uec3573e9\" data-lake-id=\"ue81d7c17\" id=\"ue81d7c17\"><span data-lake-id=\"u4fd8c5c8\" id=\"u4fd8c5c8\">åŒæ ·ï¼Œåœ¨ </span><code data-lake-id=\"ub94c3b9b\" id=\"ub94c3b9b\"><span data-lake-id=\"ucec1f188\" id=\"ucec1f188\">package.json</span></code><span data-lake-id=\"u530be199\" id=\"u530be199\"> æ–‡ä»¶ä¸­ï¼Œè®¾ç½® </span><code data-lake-id=\"udb29af29\" id=\"udb29af29\"><span data-lake-id=\"u186f4902\" id=\"u186f4902\">private</span></code><span data-lake-id=\"u62f9e6be\" id=\"u62f9e6be\"> å±æ€§ä¸º </span><code data-lake-id=\"u7968bd43\" id=\"u7968bd43\"><span data-lake-id=\"u7dc18e52\" id=\"u7dc18e52\">true</span></code><span data-lake-id=\"ud0eafc18\" id=\"ud0eafc18\"> (ä¸ºäº†é¿å…æˆ‘ä»¬è¯¯æ“ä½œå°†ä»“åº“å‘å¸ƒ)ï¼›</span></li></ol><p data-lake-id=\"ud8c4315f\" id=\"ud8c4315f\"><span data-lake-id=\"u72bd5155\" id=\"u72bd5155\" class=\"lake-fontsize-12\" style=\"color: rgb(44, 62, 80)\">â€‹</span><br></p><p data-lake-id=\"uafaffd24\" id=\"uafaffd24\"><span data-lake-id=\"uf8cbf136\" id=\"uf8cbf136\">ç»è¿‡ä¿®æ”¹ï¼Œé¡¹ç›®ç›®å½•çœ‹èµ·æ¥åº”è¯¥æ˜¯è¿™æ ·ï¼š</span></p><card type=\"inline\" name=\"codeblock\" value=\"data:%7B%22mode%22%3A%22markdown%22%2C%22code%22%3A%22.%5Cn%E2%94%9C%E2%94%80%E2%94%80%20package.json%5Cn%E2%94%94%E2%94%80%E2%94%80%20packages%2F%5Cn%20%20%20%20%E2%94%9C%E2%94%80%E2%94%80%20%40mono%2Fproject_1%2F%20%23%20%E6%8E%A8%E8%8D%90%E4%BD%BF%E7%94%A8%20%60%40%3C%E9%A1%B9%E7%9B%AE%E5%90%8D%3E%2F%3C%E5%AD%90%E9%A1%B9%E7%9B%AE%E5%90%8D%3E%60%20%E7%9A%84%E6%96%B9%E5%BC%8F%E5%91%BD%E5%90%8D%5Cn%20%20%20%20%E2%94%82%20%20%20%E2%94%9C%E2%94%80%E2%94%80%20index.js%5Cn%20%20%20%20%E2%94%82%20%20%20%E2%94%94%E2%94%80%E2%94%80%20package.json%5Cn%20%20%20%20%E2%94%94%E2%94%80%E2%94%80%20%40mono%2Fproject_2%2F%5Cn%20%20%20%20%20%20%20%20%E2%94%9C%E2%94%80%E2%94%80%20index.js%5Cn%20%20%20%20%20%20%20%20%E2%94%94%E2%94%80%E2%94%80%20package.json%22%2C%22autoWrap%22%3Afalse%2C%22heightLimit%22%3Atrue%2C%22collapsed%22%3Afalse%2C%22name%22%3A%22%22%2C%22tabSize%22%3Anull%2C%22indentWithTab%22%3Afalse%2C%22lightLines%22%3A%5B%5D%2C%22foldLines%22%3A%5B%5D%2C%22theme%22%3A%22One%20Dark%20Pro%22%2C%22__spacing%22%3A%22both%22%2C%22id%22%3A%22Fgeoa%22%2C%22margin%22%3A%7B%22top%22%3Atrue%2C%22bottom%22%3Atrue%7D%7D\"></card><p data-lake-id=\"u2d47e904\" id=\"u2d47e904\"><span data-lake-id=\"ube9901c8\" id=\"ube9901c8\">è€Œå½“åœ¨é¡¹ç›®æ ¹ç›®å½•ä¸­æ‰§è¡Œ </span><code data-lake-id=\"u2a7c9285\" id=\"u2a7c9285\"><span data-lake-id=\"u4a72b70d\" id=\"u4a72b70d\">npm install</span></code><span data-lake-id=\"udd6110f1\" id=\"udd6110f1\"> æˆ– </span><code data-lake-id=\"u941c7ab2\" id=\"u941c7ab2\"><span data-lake-id=\"u0963b9ff\" id=\"u0963b9ff\">yarn install</span></code><span data-lake-id=\"u7afb3d12\" id=\"u7afb3d12\"> åï¼Œä¼šå‘ç°åœ¨é¡¹ç›®æ ¹ç›®å½•ä¸­å‡ºç°äº† </span><code data-lake-id=\"u8ee55c8f\" id=\"u8ee55c8f\"><span data-lake-id=\"u8cdacd14\" id=\"u8cdacd14\">node_modules</span></code><span data-lake-id=\"u7e9f978d\" id=\"u7e9f978d\"> ç›®å½•ï¼Œå¹¶ä¸”è¯¥ç›®å½•ä¸ä»…æ‹¥æœ‰æ‰€æœ‰å­é¡¹ç›®å…±ç”¨çš„ </span><code data-lake-id=\"uf058957d\" id=\"uf058957d\"><span data-lake-id=\"u5e1ec2eb\" id=\"u5e1ec2eb\">npm</span></code><span data-lake-id=\"u1a540e8d\" id=\"u1a540e8d\"> åŒ…ï¼Œè¿˜åŒ…å«äº†æˆ‘ä»¬çš„å­é¡¹ç›®ã€‚å› æ­¤ï¼Œæˆ‘ä»¬å¯ä»¥åœ¨å­é¡¹ç›®ä¸­é€šè¿‡å„ç§æ¨¡å—å¼•å…¥æœºåˆ¶ï¼Œåƒå¼•å…¥ä¸€èˆ¬çš„ </span><code data-lake-id=\"u84a8a506\" id=\"u84a8a506\"><span data-lake-id=\"ufcb9eec8\" id=\"ufcb9eec8\">npm</span></code><span data-lake-id=\"ue26fa8a8\" id=\"ue26fa8a8\"> æ¨¡å—ä¸€æ ·å¼•å…¥å…¶ä»–å­é¡¹ç›®çš„ä»£ç ã€‚</span></p><p data-lake-id=\"ucd5633a0\" id=\"ucd5633a0\"><span data-lake-id=\"ua5d363e0\" id=\"ua5d363e0\">â€‹</span><br></p><p data-lake-id=\"u96363688\" id=\"u96363688\"><span data-lake-id=\"u4840bfcd\" id=\"u4840bfcd\">è¯·æ³¨æ„æˆ‘ä»¬å¯¹å­é¡¹ç›®çš„å‘½åï¼Œç»Ÿä¸€ä»¥ </span><code data-lake-id=\"u632dfdba\" id=\"u632dfdba\"><span data-lake-id=\"u929b82d5\" id=\"u929b82d5\">@&lt;repo_name&gt;/</span></code><span data-lake-id=\"u1e2e1012\" id=\"u1e2e1012\"> å¼€å¤´ï¼Œè¿™æ˜¯ä¸€ç§ç¤¾åŒºæœ€ä½³å®è·µï¼Œä¸ä»…å¯ä»¥è®©ç”¨æˆ·æ›´å®¹æ˜“äº†è§£æ•´ä¸ªåº”ç”¨çš„æ¶æ„ï¼Œä¹Ÿæ–¹ä¾¿æ‚¨åœ¨é¡¹ç›®ä¸­æ›´å¿«æ·çš„æ‰¾åˆ°æ‰€éœ€çš„å­é¡¹ç›®ã€‚</span></p><p data-lake-id=\"u30f5279b\" id=\"u30f5279b\"><span data-lake-id=\"u51868e46\" id=\"u51868e46\">â€‹</span><br></p><p data-lake-id=\"u70ecb25d\" id=\"u70ecb25d\"><span data-lake-id=\"u53b20289\" id=\"u53b20289\">è‡³æ­¤ï¼Œæˆ‘ä»¬å·²ç»å®Œæˆäº† </span><code data-lake-id=\"ua9c80d72\" id=\"ua9c80d72\"><span data-lake-id=\"u263aeb73\" id=\"u263aeb73\">monorepo</span></code><span data-lake-id=\"u31898662\" id=\"u31898662\"> ç­–ç•¥çš„æ ¸å¿ƒéƒ¨åˆ†ï¼Œå®åœ¨æ˜¯å¾ˆå®¹æ˜“ä¸æ˜¯å—ï¼Ÿä½†æ˜¯è€è¯è¯´ã€Œè¡Œç™¾é‡Œè€…åŠä¹åã€ï¼Œè·ç¦»ä¼˜é›…çš„æ­å»ºä¸€ä¸ª </span><code data-lake-id=\"u4c4aaed9\" id=\"u4c4aaed9\"><span data-lake-id=\"ue4979af4\" id=\"ue4979af4\">monorepo</span></code><span data-lake-id=\"u5ad09e01\" id=\"u5ad09e01\"> é¡¹ç›®ï¼Œæˆ‘ä»¬è¿˜æœ‰ä¸€äº›è·¯è¦èµ°ã€‚</span></p><h3 data-lake-id=\"eHgR9\" id=\"eHgR9\"><span data-lake-id=\"u9788f740\" id=\"u9788f740\">3. ç»Ÿä¸€é…ç½®: åˆå¹¶åŒç±»é¡¹ - Eslintã€TypeScriptã€Babel</span></h3><p data-lake-id=\"uba766d35\" id=\"uba766d35\"><span data-lake-id=\"u2c5dad52\" id=\"u2c5dad52\">ç¼–å†™ä»£ç è¦éµå¾ª </span><code data-lake-id=\"uc07445c1\" id=\"uc07445c1\"><span data-lake-id=\"u00a2a078\" id=\"u00a2a078\">DRY</span></code><span data-lake-id=\"u62bb7e65\" id=\"u62bb7e65\"> åŸåˆ™ï¼ˆ</span><code data-lake-id=\"u3293edaf\" id=\"u3293edaf\"><span data-lake-id=\"u196aa061\" id=\"u196aa061\">Don't Repeat Yourself</span></code><span data-lake-id=\"u08bbc13d\" id=\"u08bbc13d\"> çš„ç¼©å†™ï¼‰ã€‚é‚£ä¹ˆï¼Œç†æ‰€å½“ç„¶åœ°ï¼Œæˆ‘ä»¬åº”è¯¥å°½é‡é¿å…åœ¨å¤šä¸ªå­é¡¹ç›®ä¸­æ”¾ç½®é‡å¤çš„ </span><code data-lake-id=\"uf9c28d34\" id=\"uf9c28d34\"><span data-lake-id=\"u195b9df9\" id=\"u195b9df9\">eslintrc</span></code><span data-lake-id=\"u0d3ea4cc\" id=\"u0d3ea4cc\">ï¼Œ</span><code data-lake-id=\"ue186e1aa\" id=\"ue186e1aa\"><span data-lake-id=\"u22b22e4d\" id=\"u22b22e4d\">tsconfig</span></code><span data-lake-id=\"ua6bfaaed\" id=\"ua6bfaaed\"> ç­‰é…ç½®æ–‡ä»¶ã€‚å¹¸è¿çš„æ˜¯ï¼Œ</span><code data-lake-id=\"u5ee52ff3\" id=\"u5ee52ff3\"><span data-lake-id=\"ua0fbd6f4\" id=\"ua0fbd6f4\">Babel</span></code><span data-lake-id=\"u5c59fcf7\" id=\"u5c59fcf7\">ï¼Œ</span><code data-lake-id=\"ub2c4f399\" id=\"ub2c4f399\"><span data-lake-id=\"u76b1a84c\" id=\"u76b1a84c\">Eslint</span></code><span data-lake-id=\"ua9cd2207\" id=\"ua9cd2207\"> å’Œ </span><code data-lake-id=\"u5ca5ef65\" id=\"u5ca5ef65\"><span data-lake-id=\"uebf84d6f\" id=\"uebf84d6f\">Typescript</span></code><span data-lake-id=\"u3eb3dad5\" id=\"u3eb3dad5\"> éƒ½æä¾›äº†ç›¸åº”çš„åŠŸèƒ½è®©æˆ‘ä»¬å‡å°‘è‡ªæˆ‘é‡å¤ã€‚</span></p><h4 data-lake-id=\"p6Ser\" id=\"p6Ser\"><span data-lake-id=\"u29fa9ad2\" id=\"u29fa9ad2\">TypeScript</span></h4><p data-lake-id=\"u4ee1bd18\" id=\"u4ee1bd18\"><span data-lake-id=\"u53e91ade\" id=\"u53e91ade\">æˆ‘ä»¬å¯ä»¥åœ¨ </span><code data-lake-id=\"u561d9964\" id=\"u561d9964\"><span data-lake-id=\"ub6b75b06\" id=\"ub6b75b06\">package.json</span></code><span data-lake-id=\"u07522e94\" id=\"u07522e94\">ç›®å½•ä¸­æ”¾ç½® </span><code data-lake-id=\"u3002bbaa\" id=\"u3002bbaa\"><span data-lake-id=\"u8b827b89\" id=\"u8b827b89\">tsconfig.setting.json</span></code><span data-lake-id=\"u94017e81\" id=\"u94017e81\"> æ–‡ä»¶ï¼Œå¹¶åœ¨æ–‡ä»¶ä¸­å®šä¹‰é€šç”¨çš„ </span><code data-lake-id=\"ubafa533b\" id=\"ubafa533b\"><span data-lake-id=\"u125f2b1a\" id=\"u125f2b1a\">ts</span></code><span data-lake-id=\"ue0b7fed4\" id=\"ue0b7fed4\"> é…ç½®ã€‚ç„¶åï¼Œåœ¨æ¯ä¸ªå­é¡¹ç›®ä¸­ï¼Œå¯ä»¥é€šè¿‡ </span><code data-lake-id=\"u777000bb\" id=\"u777000bb\"><span data-lake-id=\"u20bc8644\" id=\"u20bc8644\">extends</span></code><span data-lake-id=\"uf9741b65\" id=\"uf9741b65\"> å±æ€§ï¼Œå¼•å…¥é€šç”¨é…ç½®ï¼Œå¹¶è®¾ç½® </span><code data-lake-id=\"u78a81729\" id=\"u78a81729\"><span data-lake-id=\"u822625cd\" id=\"u822625cd\">compilerOptions.composite</span></code><span data-lake-id=\"ue59d8d4a\" id=\"ue59d8d4a\"> çš„å€¼ä¸º </span><code data-lake-id=\"u43a2e928\" id=\"u43a2e928\"><span data-lake-id=\"ue22709fe\" id=\"ue22709fe\">true</span></code><span data-lake-id=\"u2a05257e\" id=\"u2a05257e\">ï¼Œç†æƒ³æƒ…å†µä¸‹ï¼Œå­é¡¹ç›®ä¸­çš„ </span><code data-lake-id=\"ued4cf579\" id=\"ued4cf579\"><span data-lake-id=\"ud1c981bb\" id=\"ud1c981bb\">tsconfig</span></code><span data-lake-id=\"u61c03a0f\" id=\"u61c03a0f\"> æ–‡ä»¶åº”è¯¥ä»…åŒ…å«ä¸‹è¿°å†…å®¹ï¼š</span></p><card type=\"inline\" name=\"codeblock\" value=\"data:%7B%22mode%22%3A%22json%22%2C%22code%22%3A%22%7B%5Cn%20%20%5C%22extends%5C%22%3A%20%5C%22..%2Ftsconfig.setting.json%5C%22%2C%20%2F%2F%20%E7%BB%A7%E6%89%BF%20packages%20%E7%9B%AE%E5%BD%95%E4%B8%8B%E9%80%9A%E7%94%A8%E9%85%8D%E7%BD%AE%5Cn%20%20%5C%22compilerOptions%5C%22%3A%20%7B%5Cn%20%20%20%20%5C%22composite%5C%22%3A%20true%2C%20%2F%2F%20%E7%94%A8%E4%BA%8E%E5%B8%AE%E5%8A%A9%20TypeScript%20%E5%BF%AB%E9%80%9F%E7%A1%AE%E5%AE%9A%E5%BC%95%E7%94%A8%E5%B7%A5%E7%A8%8B%E7%9A%84%E8%BE%93%E5%87%BA%E6%96%87%E4%BB%B6%E4%BD%8D%E7%BD%AE%5Cn%20%20%20%20%5C%22outDir%5C%22%3A%20%5C%22dist%5C%22%2C%5Cn%20%20%20%20%5C%22rootDir%5C%22%3A%20%5C%22src%5C%22%5Cn%20%20%7D%2C%5Cn%20%20%5C%22include%5C%22%3A%20%5B%5C%22src%5C%22%5D%5Cn%7D%22%2C%22autoWrap%22%3Afalse%2C%22heightLimit%22%3Atrue%2C%22collapsed%22%3Afalse%2C%22name%22%3A%22%22%2C%22tabSize%22%3Anull%2C%22indentWithTab%22%3Afalse%2C%22lightLines%22%3A%5B%5D%2C%22foldLines%22%3A%5B%5D%2C%22theme%22%3A%22One%20Dark%20Pro%22%2C%22__spacing%22%3A%22both%22%2C%22id%22%3A%22NFkg1%22%2C%22margin%22%3A%7B%22top%22%3Atrue%2C%22bottom%22%3Atrue%7D%7D\"></card><h4 data-lake-id=\"p5cZY\" id=\"p5cZY\"><span data-lake-id=\"u6a0ae1c8\" id=\"u6a0ae1c8\">Eslint</span></h4><p data-lake-id=\"u14014cce\" id=\"u14014cce\"><span data-lake-id=\"u892c9845\" id=\"u892c9845\">å¯¹äº </span><code data-lake-id=\"u1abfcee3\" id=\"u1abfcee3\"><span data-lake-id=\"u4c165916\" id=\"u4c165916\">Eslint</span></code><span data-lake-id=\"u04ade832\" id=\"u04ade832\"> é…ç½®æ–‡ä»¶ï¼Œæˆ‘ä»¬ä¹Ÿå¯ä»¥å¦‚æ³•ç‚®åˆ¶ï¼Œè¿™æ ·å®šä¹‰å­é¡¹ç›®çš„ </span><code data-lake-id=\"ub9e43a74\" id=\"ub9e43a74\"><span data-lake-id=\"u6df89665\" id=\"u6df89665\">.eslintrc</span></code><span data-lake-id=\"ub22bb411\" id=\"ub22bb411\"> æ–‡ä»¶å†…å®¹ï¼š</span></p><card type=\"inline\" name=\"codeblock\" value=\"data:%7B%22mode%22%3A%22json%22%2C%22code%22%3A%22%7B%5Cn%20%20%5C%22extends%5C%22%3A%20%5C%22..%2F..%2F.eslintrc%5C%22%2C%20%2F%2F%20%E6%B3%A8%E6%84%8F%E8%BF%99%E9%87%8C%E7%9A%84%E4%B8%8D%E5%90%8C%5Cn%20%20%5C%22parserOptions%5C%22%3A%20%7B%5Cn%20%20%20%20%5C%22project%5C%22%3A%20%5C%22tsconfig.json%5C%22%5Cn%20%20%7D%5Cn%7D%22%2C%22autoWrap%22%3Afalse%2C%22heightLimit%22%3Atrue%2C%22collapsed%22%3Afalse%2C%22name%22%3A%22%22%2C%22tabSize%22%3Anull%2C%22indentWithTab%22%3Afalse%2C%22lightLines%22%3A%5B%5D%2C%22foldLines%22%3A%5B%5D%2C%22theme%22%3A%22One%20Dark%20Pro%22%2C%22__spacing%22%3A%22both%22%2C%22id%22%3A%22FyMlt%22%2C%22margin%22%3A%7B%22top%22%3Atrue%2C%22bottom%22%3Atrue%7D%7D\"></card><p data-lake-id=\"ud0104e85\" id=\"ud0104e85\"><span data-lake-id=\"u84b12237\" id=\"u84b12237\">å¯¹äºé€šç”¨çš„ </span><code data-lake-id=\"u30243173\" id=\"u30243173\"><span data-lake-id=\"u53abe99e\" id=\"u53abe99e\">eslint</span></code><span data-lake-id=\"u00095f4d\" id=\"u00095f4d\"> é…ç½®ï¼Œæˆ‘ä»¬å¹¶æ²¡æœ‰å°†å…¶æ”¾ç½®åœ¨ </span><code data-lake-id=\"u639462c3\" id=\"u639462c3\"><span data-lake-id=\"u5a69d3ef\" id=\"u5a69d3ef\">packages</span></code><span data-lake-id=\"uc1507f5f\" id=\"uc1507f5f\"> ç›®å½•ä¸­ï¼Œè€Œæ˜¯æ”¾åœ¨æ•´ä¸ªé¡¹ç›®çš„æ ¹ç›®å½•ä¸‹ï¼Œè¿™æ ·åšçš„ç›®çš„æ˜¯ï¼šä¸€äº›ç¼–è¾‘å™¨æ’ä»¶åªä¼šåœ¨é¡¹ç›®æ ¹ç›®å½•å¯»æ‰¾ </span><code data-lake-id=\"ud21883f2\" id=\"ud21883f2\"><span data-lake-id=\"ubc4867d1\" id=\"ubc4867d1\">.eslintrc</span></code><span data-lake-id=\"u18a727de\" id=\"u18a727de\"> æ–‡ä»¶ï¼Œå› æ­¤ä¸ºäº†æˆ‘ä»¬çš„é¡¹ç›®èƒ½å¤Ÿä¿æŒè‰¯å¥½çš„</span><strong><span data-lake-id=\"uee66944a\" id=\"uee66944a\">ã€Œå¼€å‘ç¯å¢ƒä¸€è‡´æ€§ã€</span></strong><span data-lake-id=\"u3025c949\" id=\"u3025c949\">ï¼Œè¯·åŠ¡å¿…å°†é€šç”¨é…ç½®æ–‡ä»¶æ”¾ç½®åœ¨é¡¹ç›®çš„æ ¹ç›®å½•ä¸­ã€‚</span></p><h4 data-lake-id=\"WcliS\" id=\"WcliS\"><span data-lake-id=\"u2b3892c5\" id=\"u2b3892c5\">Babel</span></h4><p data-lake-id=\"ufe6b5695\" id=\"ufe6b5695\"><code data-lake-id=\"uda2b308d\" id=\"uda2b308d\"><span data-lake-id=\"u1b7c48c2\" id=\"u1b7c48c2\">Babel</span></code><span data-lake-id=\"uf701dcc5\" id=\"uf701dcc5\">é…ç½®æ–‡ä»¶åˆå¹¶çš„æ–¹å¼ä¸ </span><code data-lake-id=\"udefc64ce\" id=\"udefc64ce\"><span data-lake-id=\"ub04508d4\" id=\"ub04508d4\">TypeScript</span></code><span data-lake-id=\"ub49de55c\" id=\"ub49de55c\">å¦‚å‡ºä¸€è¾™ï¼Œç”šè‡³æ›´åŠ ç®€å•ï¼Œæˆ‘ä»¬åªéœ€åœ¨å­é¡¹ç›®ä¸­çš„ </span><code data-lake-id=\"ubd1aab5c\" id=\"ubd1aab5c\"><span data-lake-id=\"ub16474a3\" id=\"ub16474a3\">.babelrc</span></code><span data-lake-id=\"u2a42797f\" id=\"u2a42797f\">æ–‡ä»¶ä¸­è¿™æ ·å£°æ˜å³å¯ï¼š</span></p><card type=\"inline\" name=\"codeblock\" value=\"data:%7B%22mode%22%3A%22json%22%2C%22code%22%3A%22%7B%5Cn%20%20%5C%22extends%5C%22%3A%20%5C%22..%2F.babelrc%5C%22%5Cn%7D%22%2C%22autoWrap%22%3Afalse%2C%22heightLimit%22%3Atrue%2C%22collapsed%22%3Afalse%2C%22name%22%3A%22%22%2C%22tabSize%22%3Anull%2C%22indentWithTab%22%3Afalse%2C%22lightLines%22%3A%5B%5D%2C%22foldLines%22%3A%5B%5D%2C%22theme%22%3A%22One%20Dark%20Pro%22%2C%22__spacing%22%3A%22both%22%2C%22id%22%3A%22MbgKB%22%2C%22margin%22%3A%7B%22top%22%3Atrue%2C%22bottom%22%3Atrue%7D%7D\"></card><p data-lake-id=\"u6d08a3f4\" id=\"u6d08a3f4\"><span data-lake-id=\"u72561ed0\" id=\"u72561ed0\">å½“ä¸€åˆ‡å‡†å¤‡å°±ç»ªåï¼Œæˆ‘ä»¬çš„é¡¹ç›®ç›®å½•åº”è¯¥å¤§è‡´å‘ˆç°å¦‚ä¸‹æ‰€ç¤ºçš„ç»“æ„ï¼š</span></p><card type=\"inline\" name=\"codeblock\" value=\"data:%7B%22mode%22%3A%22markdown%22%2C%22code%22%3A%22.%5Cn%E2%94%9C%E2%94%80%E2%94%80%20package.json%5Cn%E2%94%9C%E2%94%80%E2%94%80%20.eslintrc%5Cn%E2%94%94%E2%94%80%E2%94%80%20packages%2F%5Cn%20%20%20%20%E2%94%82%20%20%20%E2%94%9C%E2%94%80%E2%94%80%20tsconfig.settings.json%5Cn%20%20%20%20%E2%94%82%20%20%20%E2%94%9C%E2%94%80%E2%94%80%20.babelrc%5Cn%20%20%20%20%E2%94%9C%E2%94%80%E2%94%80%20%40mono%2Fproject_1%2F%5Cn%20%20%20%20%E2%94%82%20%20%20%E2%94%9C%E2%94%80%E2%94%80%20index.js%5Cn%20%20%20%20%E2%94%82%20%20%20%E2%94%9C%E2%94%80%E2%94%80%20.eslintrc%5Cn%20%20%20%20%E2%94%82%20%20%20%E2%94%9C%E2%94%80%E2%94%80%20.babelrc%5Cn%20%20%20%20%E2%94%82%20%20%20%E2%94%9C%E2%94%80%E2%94%80%20tsconfig.json%5Cn%20%20%20%20%E2%94%82%20%20%20%E2%94%94%E2%94%80%E2%94%80%20package.json%5Cn%20%20%20%20%E2%94%94%E2%94%80%E2%94%80%E2%94%80%40mono%2Fproject_2%2F%5Cn%20%20%20%20%20%20%20%20%E2%94%9C%E2%94%80%E2%94%80%20index.js%5Cn%20%20%20%20%20%20%20%20%E2%94%9C%E2%94%80%E2%94%80%20.eslintrc%5Cn%20%20%20%20%20%20%20%20%E2%94%9C%E2%94%80%E2%94%80%20.babelrc%5Cn%20%20%20%20%20%20%20%20%E2%94%9C%E2%94%80%E2%94%80%20tsconfig.json%5Cn%20%20%20%20%20%20%20%20%E2%94%94%E2%94%80%E2%94%80%20package.json%22%2C%22autoWrap%22%3Afalse%2C%22heightLimit%22%3Atrue%2C%22collapsed%22%3Afalse%2C%22name%22%3A%22%22%2C%22tabSize%22%3Anull%2C%22indentWithTab%22%3Afalse%2C%22lightLines%22%3A%5B%5D%2C%22foldLines%22%3A%5B%5D%2C%22theme%22%3A%22One%20Dark%20Pro%22%2C%22__spacing%22%3A%22both%22%2C%22id%22%3A%22dSfzZ%22%2C%22margin%22%3A%7B%22top%22%3Atrue%2C%22bottom%22%3Atrue%7D%7D\"></card><h3 data-lake-id=\"xyN0R\" id=\"xyN0R\"><span data-lake-id=\"u34ac3af4\" id=\"u34ac3af4\">4. ç»Ÿä¸€å‘½ä»¤è„šæœ¬: scripty</span></h3><p data-lake-id=\"uab4ff4b7\" id=\"uab4ff4b7\"><span data-lake-id=\"ucaf4ae4a\" id=\"ucaf4ae4a\">åœ¨ä¸Šä¸€æ­¥ä¸­ï¼Œæˆ‘ä»¬å°½å¯èƒ½çš„å°†æ‰€æœ‰é…ç½®æ–‡ä»¶è¿›è¡ŒæŠ½è±¡ï¼Œä»è€Œç²¾ç®€äº†ä»£ç ï¼Œå¹¶æé«˜äº†æ•´ä¸ªé¡¹ç›®çš„ä¸€è‡´æ€§ã€‚æˆ‘ä»¬çš„æ•´ä¸ªä»“åº“ä¹Ÿå› æ­¤æœ‰äº†</span><strong><span data-lake-id=\"ua08f3503\" id=\"ua08f3503\">ã€Œæ›´æµ“éƒçš„ monorepo é£å‘³ â˜•ï¸ã€</span></strong><span data-lake-id=\"u526c6c0d\" id=\"u526c6c0d\">ã€‚ä½†å¦‚æœä»”ç»†å®¡è§†æˆ‘ä»¬çš„æ•´ä¸ªå·¥ç¨‹æ–‡ä»¶ï¼Œè¿˜æœ‰ä¸€å¤„å­˜åœ¨ç€æ˜æ˜¾çš„ç‘•ç–µå’Œä¸€äº›æ¼äººçš„åå‘³é“ï¼Œå½“æ‚¨ä»”ç»†å®¡è§†æ‚¨çš„ä¼—å¤š </span><code data-lake-id=\"u8feca985\" id=\"u8feca985\"><span data-lake-id=\"u8310e17a\" id=\"u8310e17a\">package.json</span></code><span data-lake-id=\"u434958a8\" id=\"u434958a8\"> æ–‡ä»¶æ—¶ï¼Œæ‚¨å°±çŸ¥é“æˆ‘åœ¨è¯´ä»€ä¹ˆäº† </span><code data-lake-id=\"u5689b135\" id=\"u5689b135\"><span data-lake-id=\"u25c2e51d\" id=\"u25c2e51d\">-- scripts</span></code><span data-lake-id=\"u119603fa\" id=\"u119603fa\"> è„šæœ¬ã€‚</span></p><p data-lake-id=\"ub834fdb1\" id=\"ub834fdb1\"><span data-lake-id=\"u605bb520\" id=\"u605bb520\">â€‹</span><br></p><p data-lake-id=\"u35e8dab9\" id=\"u35e8dab9\"><span data-lake-id=\"u31221121\" id=\"u31221121\">å¦‚æœæ‚¨çš„å­é¡¹ç›®è¶³å¤Ÿå¤šï¼Œæ‚¨å¯èƒ½ä¼šå‘ç°ï¼Œæ¯ä¸ª </span><code data-lake-id=\"u2a64527d\" id=\"u2a64527d\"><span data-lake-id=\"ua8ebb21c\" id=\"ua8ebb21c\">package.json</span></code><span data-lake-id=\"u0887dfce\" id=\"u0887dfce\"> æ–‡ä»¶ä¸­çš„ </span><code data-lake-id=\"ue077140c\" id=\"ue077140c\"><span data-lake-id=\"u55025fb5\" id=\"u55025fb5\">scripts</span></code><span data-lake-id=\"u17f27a13\" id=\"u17f27a13\"> å±æ€§éƒ½å¤§åŒå°å¼‚ï¼Œå¹¶ä¸”ä¸€äº› </span><code data-lake-id=\"u77360362\" id=\"u77360362\"><span data-lake-id=\"u4ec3983b\" id=\"u4ec3983b\">scripts</span></code><span data-lake-id=\"u88c44b8f\" id=\"u88c44b8f\"> å……æ–¥ç€å„ç§ </span><code data-lake-id=\"uaec3730c\" id=\"uaec3730c\"><span data-lake-id=\"u48a7d9ef\" id=\"u48a7d9ef\">Linux</span></code><span data-lake-id=\"u35e1d7f3\" id=\"u35e1d7f3\"> è¯­æ³•ï¼Œä¾‹å¦‚ç®¡é“æ“ä½œç¬¦ï¼Œé‡å®šå‘æˆ–ç›®å½•ç”Ÿæˆã€‚é‡å¤å¸¦æ¥ä½æ•ˆï¼Œå¤æ‚åˆ™ä½¿äººéš¾ä»¥ç†è§£ï¼Œè¿™éƒ½æ˜¯éœ€è¦æˆ‘ä»¬è§£å†³çš„é—®é¢˜ã€‚</span></p><p data-lake-id=\"u588a17bc\" id=\"u588a17bc\"><span data-lake-id=\"u27f1b072\" id=\"u27f1b072\">â€‹</span><br></p><p data-lake-id=\"u90dc71a8\" id=\"u90dc71a8\"><span data-lake-id=\"uc4eadc3f\" id=\"uc4eadc3f\">è¿™é‡Œç»™å‡ºçš„è§£å†³æ–¹æ¡ˆæ˜¯ï¼Œä½¿ç”¨ </span><a href=\"https://www.npmjs.com/package/scripty\" target=\"_blank\" data-lake-id=\"u70097baa\" id=\"u70097baa\"><span data-lake-id=\"u58df6aac\" id=\"u58df6aac\">scripty</span></a><span data-lake-id=\"u1615da9c\" id=\"u1615da9c\"> ç®¡ç†æ‚¨çš„è„šæœ¬å‘½ä»¤ï¼Œç®€å•æ¥è¯´ï¼Œ</span><code data-lake-id=\"u32b53dbe\" id=\"u32b53dbe\"><span data-lake-id=\"ubdeebce8\" id=\"ubdeebce8\">scripty</span></code><span data-lake-id=\"u1d69cdd7\" id=\"u1d69cdd7\"> å…è®¸æ‚¨å°†è„šæœ¬å‘½ä»¤å®šä¹‰åœ¨æ–‡ä»¶ä¸­ï¼Œå¹¶åœ¨ </span><code data-lake-id=\"u6127e0a8\" id=\"u6127e0a8\"><span data-lake-id=\"u6ce59fa6\" id=\"u6ce59fa6\">package.json</span></code><span data-lake-id=\"u8c75dd0b\" id=\"u8c75dd0b\"> æ–‡ä»¶ä¸­ç›´æ¥é€šè¿‡æ–‡ä»¶åæ¥å¼•ç”¨ã€‚è¿™ä½¿æˆ‘ä»¬å¯ä»¥å®ç°å¦‚ä¸‹ç›®çš„ï¼š</span></p><ol list=\"uf84362a8\"><li fid=\"ucf9dcdc3\" data-lake-id=\"uad44ff18\" id=\"uad44ff18\"><span data-lake-id=\"u38712623\" id=\"u38712623\">å­é¡¹ç›®é—´å¤ç”¨è„šæœ¬å‘½ä»¤</span><span data-lake-id=\"u358cc353\" id=\"u358cc353\">ï¼›</span></li><li fid=\"ucf9dcdc3\" data-lake-id=\"u8a5717f5\" id=\"u8a5717f5\"><span data-lake-id=\"u2f876db2\" id=\"u2f876db2\">åƒå†™ä»£ç ä¸€æ ·ç¼–å†™è„šæœ¬å‘½ä»¤ï¼Œæ— è®ºå®ƒæœ‰å¤šå¤æ‚ï¼Œè€Œåœ¨è°ƒç”¨æ—¶ï¼Œåƒè°ƒç”¨å‡½æ•°ä¸€æ ·è°ƒç”¨ï¼›</span></li></ol><p data-lake-id=\"u46137330\" id=\"u46137330\"><span data-lake-id=\"uf5f46b01\" id=\"uf5f46b01\">â€‹</span><br></p><p data-lake-id=\"u938d3aa2\" id=\"u938d3aa2\"><span data-lake-id=\"u685bc387\" id=\"u685bc387\">é€šè¿‡ä½¿ç”¨ </span><code data-lake-id=\"ub65ef327\" id=\"ub65ef327\"><span data-lake-id=\"ue834c30b\" id=\"ue834c30b\">scripty</span></code><span data-lake-id=\"uac6fc545\" id=\"uac6fc545\"> ç®¡ç†æˆ‘ä»¬çš„ </span><code data-lake-id=\"u04ef3b18\" id=\"u04ef3b18\"><span data-lake-id=\"u43760ea6\" id=\"u43760ea6\">monorepo</span></code><span data-lake-id=\"u59ac3b25\" id=\"u59ac3b25\"> åº”ç”¨ï¼Œç›®å½•ç»“æ„çœ‹èµ·æ¥å°†ä¼šæ˜¯è¿™æ ·ï¼š</span></p><card type=\"inline\" name=\"codeblock\" value=\"data:%7B%22mode%22%3A%22markdown%22%2C%22code%22%3A%22.%5Cn%E2%94%9C%E2%94%80%E2%94%80%20package.json%5Cn%E2%94%9C%E2%94%80%E2%94%80%20.eslintrc%5Cn%E2%94%9C%E2%94%80%E2%94%80%20scirpts%2F%20%23%20%E8%BF%99%E9%87%8C%E5%AD%98%E6%94%BE%E6%89%80%E6%9C%89%E7%9A%84%E8%84%9A%E6%9C%AC%5Cn%E2%94%82%20%20%20%E2%94%82%20%20%20%E2%94%9C%E2%94%80%E2%94%80%20packages%2F%20%23%20%E5%8C%85%E7%BA%A7%E5%88%AB%E8%84%9A%E6%9C%AC%5Cn%E2%94%82%20%20%20%E2%94%82%20%20%20%E2%94%82%20%20%20%E2%94%9C%E2%94%80%E2%94%80%20build.sh%5Cn%E2%94%82%20%20%20%E2%94%82%20%20%20%E2%94%82%20%20%20%E2%94%94%E2%94%80%E2%94%80%20test.sh%5Cn%E2%94%82%20%20%20%E2%94%94%E2%94%80%E2%94%80%E2%94%80%E2%94%94%E2%94%80%E2%94%80%20workspaces%2F%20%23%20%E5%85%A8%E5%B1%80%E8%84%9A%E6%9C%AC%5Cn%E2%94%82%20%20%20%20%20%20%20%20%20%20%20%E2%94%9C%E2%94%80%E2%94%80%20build.sh%5Cn%E2%94%82%20%20%20%20%20%20%20%20%20%20%20%E2%94%94%E2%94%80%E2%94%80%20test.sh%5Cn%E2%94%94%E2%94%80%E2%94%80%20packages%2F%5Cn%20%20%20%20%E2%94%82%20%20%20%E2%94%9C%E2%94%80%E2%94%80%20tsconfig.settings.json%5Cn%20%20%20%20%E2%94%82%20%20%20%E2%94%9C%E2%94%80%E2%94%80%20.babelrc%5Cn%20%20%20%20%E2%94%9C%E2%94%80%E2%94%80%20%40mono%2Fproject_1%2F%5Cn%20%20%20%20%E2%94%82%20%20%20%E2%94%9C%E2%94%80%E2%94%80%20index.js%5Cn%20%20%20%20%E2%94%82%20%20%20%E2%94%9C%E2%94%80%E2%94%80%20.eslintrc%5Cn%20%20%20%20%E2%94%82%20%20%20%E2%94%9C%E2%94%80%E2%94%80%20.babelrc%5Cn%20%20%20%20%E2%94%82%20%20%20%E2%94%9C%E2%94%80%E2%94%80%20tsconfig.json%5Cn%20%20%20%20%E2%94%82%20%20%20%E2%94%94%E2%94%80%E2%94%80%20package.json%5Cn%20%20%20%20%E2%94%94%E2%94%80%E2%94%80%20%40mono%2Fproject_2%2F%5Cn%20%20%20%20%20%20%20%20%E2%94%9C%E2%94%80%E2%94%80%20index.js%5Cn%20%20%20%20%20%20%20%20%E2%94%9C%E2%94%80%E2%94%80%20.eslintrc%5Cn%20%20%20%20%20%20%20%20%E2%94%9C%E2%94%80%E2%94%80%20.babelrc%5Cn%20%20%20%20%20%20%20%20%E2%94%9C%E2%94%80%E2%94%80%20tsconfig.json%5Cn%20%20%20%20%20%20%20%20%E2%94%94%E2%94%80%E2%94%80%20package.json%22%2C%22autoWrap%22%3Afalse%2C%22heightLimit%22%3Atrue%2C%22collapsed%22%3Afalse%2C%22name%22%3A%22%22%2C%22tabSize%22%3Anull%2C%22indentWithTab%22%3Afalse%2C%22lightLines%22%3A%5B%5D%2C%22foldLines%22%3A%5B%5D%2C%22theme%22%3A%22One%20Dark%20Pro%22%2C%22__spacing%22%3A%22both%22%2C%22id%22%3A%22Zz4W6%22%2C%22margin%22%3A%7B%22top%22%3Atrue%2C%22bottom%22%3Atrue%7D%7D\"></card><p data-lake-id=\"u28248414\" id=\"u28248414\"><span data-lake-id=\"u3e886601\" id=\"u3e886601\">æ³¨æ„ï¼Œæˆ‘ä»¬è„šæœ¬åˆ†ä¸ºä¸¤ç±»</span><strong><span data-lake-id=\"ub3024835\" id=\"ub3024835\">ã€Œpackage çº§åˆ«ã€</span></strong><span data-lake-id=\"ue5448a1a\" id=\"ue5448a1a\">ä¸</span><strong><span data-lake-id=\"ub89057a1\" id=\"ub89057a1\">ã€Œworkspace çº§åˆ«</span></strong><span data-lake-id=\"u70090e4d\" id=\"u70090e4d\">ã€ï¼Œå¹¶ä¸”åˆ†åˆ«æ”¾åœ¨ä¸¤ä¸ªæ–‡ä»¶å¤¹å†…ã€‚è¿™æ ·åšçš„å¥½å¤„åœ¨äºï¼Œæˆ‘ä»¬æ—¢å¯ä»¥åœ¨é¡¹ç›®æ ¹ç›®å½•æ‰§è¡Œå…¨å±€è„šæœ¬ï¼Œä¹Ÿå¯ä»¥é’ˆå¯¹å•ä¸ªé¡¹ç›®æ‰§è¡Œç‰¹å®šçš„è„šæœ¬ã€‚</span></p><p data-lake-id=\"u2986ff87\" id=\"u2986ff87\"><span data-lake-id=\"uf04928bb\" id=\"uf04928bb\">â€‹</span><br></p><p data-lake-id=\"u6a689a35\" id=\"u6a689a35\"><span data-lake-id=\"uf83ffad8\" id=\"uf83ffad8\">é€šè¿‡ä½¿ç”¨ </span><code data-lake-id=\"u0b595e3d\" id=\"u0b595e3d\"><span data-lake-id=\"u1a314d32\" id=\"u1a314d32\">scripty</span></code><span data-lake-id=\"ub0f34d50\" id=\"ub0f34d50\">ï¼Œå­é¡¹ç›®çš„ </span><code data-lake-id=\"u4843ecbb\" id=\"u4843ecbb\"><span data-lake-id=\"uc2335a74\" id=\"uc2335a74\">package.json</span></code><span data-lake-id=\"uf14c90b5\" id=\"uf14c90b5\"> æ–‡ä»¶ä¸­çš„ </span><code data-lake-id=\"ub140e3dc\" id=\"ub140e3dc\"><span data-lake-id=\"ub1ed54f2\" id=\"ub1ed54f2\">scripts</span></code><span data-lake-id=\"uaa76e6dc\" id=\"uaa76e6dc\"> å±æ€§å°†å˜å¾—éå¸¸ç²¾ç®€ï¼š</span></p><card type=\"inline\" name=\"codeblock\" value=\"data:%7B%22mode%22%3A%22json%22%2C%22code%22%3A%22%7B%5Cn%20%20...%5Cn%20%20%5C%22scripts%5C%22%3A%20%7B%5Cn%20%20%20%20%5C%22test%5C%22%3A%20%5C%22scripty%5C%22%2C%5Cn%20%20%20%20%5C%22lint%5C%22%3A%20%5C%22scripty%5C%22%2C%5Cn%20%20%20%20%5C%22build%5C%22%3A%20%5C%22scripty%5C%22%5Cn%20%20%7D%2C%5Cn%20%20%5C%22scripty%5C%22%3A%20%7B%5Cn%20%20%20%20%5C%22path%5C%22%3A%20%5C%22..%2F..%2Fscripts%2Fpackages%5C%22%20%2F%2F%20%E6%B3%A8%E6%84%8F%E8%BF%99%E9%87%8C%E6%88%91%E4%BB%AC%E6%8C%87%E5%AE%9A%E4%BA%86%20scripty%20%E7%9A%84%E8%B7%AF%E5%BE%84%5Cn%20%20%7D%2C%5Cn%20%20...%5Cn%7D%22%2C%22autoWrap%22%3Afalse%2C%22heightLimit%22%3Atrue%2C%22collapsed%22%3Afalse%2C%22name%22%3A%22%22%2C%22tabSize%22%3Anull%2C%22indentWithTab%22%3Afalse%2C%22lightLines%22%3A%5B%5D%2C%22foldLines%22%3A%5B%5D%2C%22theme%22%3A%22One%20Dark%20Pro%22%2C%22__spacing%22%3A%22both%22%2C%22id%22%3A%22fHxeB%22%2C%22margin%22%3A%7B%22top%22%3Atrue%2C%22bottom%22%3Atrue%7D%7D\"></card><p data-lake-id=\"u585c33a7\" id=\"u585c33a7\"><span data-lake-id=\"u96f8f3b5\" id=\"u96f8f3b5\">å¤§åŠŸå‘Šæˆï¼ğŸ‰ è‡³æ­¤ï¼Œæˆ‘ä»¬å°½å·±æ‰€èƒ½åœ°åˆ é™¤äº†æ•´ä¸ªé¡¹ç›®ä¸­çš„é‡å¤ä»£ç ï¼Œè®©æ•´ä¸ªé¡¹ç›®å˜å¾—å¹²å‡€ï¼Œæ¸…çˆ½å¹¶ä¸”æœ‰æå¼ºçš„å¤ç”¨æ€§ã€‚</span></p><blockquote data-lake-id=\"u71b62422\" id=\"u71b62422\" class=\"lake-alert lake-alert-info\"><p data-lake-id=\"u48cf5b3f\" id=\"u48cf5b3f\"><span data-lake-id=\"uaa7dd6c0\" id=\"uaa7dd6c0\">ğŸ§‰ å°è´´å£«ï¼š</span></p><p data-lake-id=\"ufd40322e\" id=\"ufd40322e\"><span data-lake-id=\"u708a705e\" id=\"u708a705e\">åˆ«å¿˜äº†ä½¿ç”¨ </span><code data-lake-id=\"u809b5ef1\" id=\"u809b5ef1\"><span data-lake-id=\"ucf2681c1\" id=\"ucf2681c1\">chmod -R u+x scripts</span></code><span data-lake-id=\"ua1094352\" id=\"ua1094352\"> å‘½ä»¤ä½¿æ‰€æœ‰çš„ </span><code data-lake-id=\"uc780fcaa\" id=\"uc780fcaa\"><span data-lake-id=\"uc3ba21f6\" id=\"uc3ba21f6\">shell</span></code><span data-lake-id=\"u0ce5c2d2\" id=\"u0ce5c2d2\"> è„šæœ¬å…·å¤‡å¯æ‰§è¡Œæƒé™ï¼Œä¹Ÿåƒä¸‡åˆ«å¿˜äº†æŠŠè¿™æ¡è´´å£«å†™åœ¨æ‚¨çš„ </span><code data-lake-id=\"u2608bb94\" id=\"u2608bb94\"><span data-lake-id=\"u505a1cbe\" id=\"u505a1cbe\">README.md</span></code><span data-lake-id=\"u1900887c\" id=\"u1900887c\"> æ–‡ä»¶ä¸­ï¼</span></p></blockquote><h3 data-lake-id=\"HpKUb\" id=\"HpKUb\"><span data-lake-id=\"u3a06c229\" id=\"u3a06c229\">5. ç»Ÿä¸€åŒ…ç®¡ç†: lerna</span></h3><p data-lake-id=\"u81dd33a5\" id=\"u81dd33a5\"><card type=\"inline\" name=\"image\" value=\"data:%7B%22src%22%3A%22https%3A%2F%2Fcdn.nlark.com%2Fyuque%2F0%2F2022%2Fpng%2F732231%2F1648747742904-bb7df604-18ef-4547-93c2-382b3cd5a574.png%22%2C%22taskId%22%3A%22ufd26afd3-4bfc-4f4a-becf-0f9c4c874c0%22%2C%22clientId%22%3A%22u6fbcdb1d-5fd6-4%22%2C%22originalType%22%3A%22binary%22%2C%22width%22%3A600%2C%22height%22%3A542%2C%22linkTarget%22%3A%22_blank%22%2C%22name%22%3A%22image.png%22%2C%22size%22%3A197677%2C%22from%22%3A%22paste%22%2C%22originWidth%22%3A750%2C%22originHeight%22%3A678%2C%22ratio%22%3A1%2C%22status%22%3A%22done%22%2C%22style%22%3A%22none%22%2C%22search%22%3A%22%22%2C%22ocrLocations%22%3A%5B%5D%2C%22showTitle%22%3Afalse%2C%22title%22%3A%22%22%2C%22rotation%22%3A0%2C%22crop%22%3A%5B0%2C0%2C1%2C1%5D%2C%22id%22%3A%22u76e7c2b9%22%2C%22margin%22%3A%7B%22top%22%3Atrue%2C%22bottom%22%3Atrue%7D%7D\"></card></p><p data-lake-id=\"u37da6979\" id=\"u37da6979\"><span data-lake-id=\"u28b43c85\" id=\"u28b43c85\">æˆ‘æœ‰æ—¶ä¼šæ„Ÿæ…¨è‡ªå·±çš„çµæ„ŸåŒ®ä¹ï¼Œæ€ä¹ˆå°±æƒ³ä¸åˆ° </span><code data-lake-id=\"ud2c0292a\" id=\"ud2c0292a\"><span data-lake-id=\"u21e423c9\" id=\"u21e423c9\">Lerna</span></code><span data-lake-id=\"u5e78a598\" id=\"u5e78a598\"> è¿™æ ·æ—¢æœ‰ç¥è¯è‰²å½©åˆèƒ½è‡ªæˆ‘é‡Šä¹‰çš„å¥½åå­—ã€‚æ‚¨å¯ä»¥å¤§èƒ†æƒ³è±¡ï¼Œä¹å¤´é¾™çš„æ¯åªé¾™å¤´éƒ½åœ¨å¸®æ‚¨ç®¡ç†ç€ä¸€ä¸ªå­é¡¹ç›®ï¼Œè€Œæ‚¨åªéœ€è¦éª‘åœ¨é¾™èº«ä¸Šå‘å·æ–½ä»¤çš„åœºæ™¯ï¼Œè¿™åŸºæœ¬ä¸Šå°±æ˜¯æˆ‘ä»¬ä½¿ç”¨ </span><code data-lake-id=\"ue6c8562a\" id=\"ue6c8562a\"><span data-lake-id=\"u1b6df4f3\" id=\"u1b6df4f3\">Lerna</span></code><span data-lake-id=\"u905b8caf\" id=\"u905b8caf\"> æ—¶çš„ç›´è§‚æ„Ÿå—ã€‚</span></p><p data-lake-id=\"ued055ae9\" id=\"ued055ae9\"><span data-lake-id=\"ufa6b5dd8\" id=\"ufa6b5dd8\">â€‹</span><br></p><p data-lake-id=\"ubbeb37d6\" id=\"ubbeb37d6\"><span data-lake-id=\"u38d31832\" id=\"u38d31832\">è¿™ä¹Ÿæ˜¯ä¸ºä»€ä¹ˆå½“æˆ‘ä»¬æèµ· </span><code data-lake-id=\"u443abc50\" id=\"u443abc50\"><span data-lake-id=\"u7c894328\" id=\"u7c894328\">monorepo</span></code><span data-lake-id=\"ucfa61cba\" id=\"ucfa61cba\"> ç­–ç•¥ï¼Œå°±å‡ ä¹ä¸å¾—ä¸æåˆ° </span><code data-lake-id=\"u62b62699\" id=\"u62b62699\"><span data-lake-id=\"u3d58146d\" id=\"u3d58146d\">Lerna</span></code><span data-lake-id=\"uba52613a\" id=\"uba52613a\"> çš„åŸå› äº†ï¼Œå®ƒçš„ç¡®æä¾›äº†ä¸€ç§éå¸¸ä¾¿æ·çš„æ–¹å¼ä¾›æˆ‘ä»¬ç®¡ç† </span><code data-lake-id=\"u8a67fcb6\" id=\"u8a67fcb6\"><span data-lake-id=\"u89bb0fd2\" id=\"u89bb0fd2\">monorepo</span></code><span data-lake-id=\"u20ee3e35\" id=\"u20ee3e35\"> é¡¹ç›®ã€‚å½“å­é¡¹ç›®è¶Šå¤šæ—¶ï¼Œ</span><code data-lake-id=\"u82828a43\" id=\"u82828a43\"><span data-lake-id=\"u31ae6573\" id=\"u31ae6573\">Lerna</span></code><span data-lake-id=\"uf575208a\" id=\"uf575208a\"> å°±è¶Šèƒ½æ˜¾ç¤ºå…¶å¨åŠ›ã€‚</span></p><p data-lake-id=\"u3ebdd90c\" id=\"u3ebdd90c\"><span data-lake-id=\"u00fb7213\" id=\"u00fb7213\">â€‹</span><br></p><p data-lake-id=\"u777b0f5a\" id=\"u777b0f5a\"><span data-lake-id=\"u9534a6b9\" id=\"u9534a6b9\">å½“å¤šä¸ªå­é¡¹ç›®æ”¾åœ¨ä¸€ä¸ªä»£ç ä»“åº“ï¼Œå¹¶ä¸”å­é¡¹ç›®ä¹‹é—´åˆç›¸äº’ä¾èµ–æ—¶ï¼Œæˆ‘ä»¬é¢ä¸´çš„æ£˜æ‰‹é—®é¢˜æœ‰ä¸¤ä¸ªï¼š</span></p><ol list=\"ud33d3062\"><li fid=\"u9b90fcda\" data-lake-id=\"u27c47ae8\" id=\"u27c47ae8\"><span data-lake-id=\"u7148c07c\" id=\"u7148c07c\">å¦‚æœæˆ‘ä»¬éœ€è¦åœ¨å¤šä¸ªå­ç›®å½•æ‰§è¡Œç›¸åŒçš„å‘½ä»¤ï¼Œæˆ‘ä»¬éœ€è¦æ‰‹åŠ¨è¿›å…¥å„ä¸ªç›®å½•ï¼Œå¹¶æ‰§è¡Œå‘½ä»¤</span><span data-lake-id=\"u86895ccb\" id=\"u86895ccb\">ï¼›</span></li><li fid=\"u9b90fcda\" data-lake-id=\"udead62d3\" id=\"udead62d3\"><span data-lake-id=\"u12de36ea\" id=\"u12de36ea\">å½“ä¸€ä¸ªå­é¡¹ç›®æ›´æ–°åï¼Œæˆ‘ä»¬åªèƒ½æ‰‹åŠ¨è¿½è¸ªä¾èµ–è¯¥é¡¹ç›®çš„å…¶ä»–å­é¡¹ç›®ï¼Œå¹¶å‡çº§å…¶ç‰ˆæœ¬</span><span data-lake-id=\"u902c24cf\" id=\"u902c24cf\">ã€‚</span></li></ol><p data-lake-id=\"u56c53fac\" id=\"u56c53fac\"><span data-lake-id=\"uc9fe530c\" id=\"uc9fe530c\">é€šè¿‡ä½¿ç”¨ </span><code data-lake-id=\"u8e3f7dc6\" id=\"u8e3f7dc6\"><span data-lake-id=\"u6aaddd92\" id=\"u6aaddd92\">Lerna</span></code><span data-lake-id=\"u3dc0ea75\" id=\"u3dc0ea75\">ï¼Œè¿™äº›æ£˜æ‰‹çš„é—®é¢˜éƒ½å°†ä¸å¤å­˜åœ¨ã€‚</span></p><p data-lake-id=\"ua2b12287\" id=\"ua2b12287\"><span data-lake-id=\"ufa049638\" id=\"ufa049638\">â€‹</span><br></p><p data-lake-id=\"ua81c0076\" id=\"ua81c0076\"><span data-lake-id=\"u82136600\" id=\"u82136600\">å½“åœ¨é¡¹ç›®æ ¹ç›®å½•ä½¿ç”¨ </span><code data-lake-id=\"uc5b5f278\" id=\"uc5b5f278\"><span data-lake-id=\"uee9a224d\" id=\"uee9a224d\">npx lerna init</span></code><span data-lake-id=\"u7398e61c\" id=\"u7398e61c\"> åˆå§‹åŒ–åï¼Œæˆ‘ä»¬çš„æ ¹ç›®å½•ä¼šæ–°å¢ä¸€ä¸ª </span><code data-lake-id=\"u7e7efd46\" id=\"u7e7efd46\"><span data-lake-id=\"u99ec276e\" id=\"u99ec276e\">lerna.json</span></code><span data-lake-id=\"u0a37ae8d\" id=\"u0a37ae8d\"> æ–‡ä»¶ï¼Œé»˜è®¤å†…å®¹ä¸ºï¼š</span></p><card type=\"inline\" name=\"codeblock\" value=\"data:%7B%22mode%22%3A%22json%22%2C%22code%22%3A%22%7B%5Cn%20%20%5C%22packages%5C%22%3A%20%5B%5C%22packages%2F*%5C%22%5D%2C%5Cn%20%20%5C%22version%5C%22%3A%20%5C%220.0.0%5C%22%5Cn%7D%22%2C%22autoWrap%22%3Afalse%2C%22heightLimit%22%3Atrue%2C%22collapsed%22%3Afalse%2C%22name%22%3A%22%22%2C%22tabSize%22%3Anull%2C%22indentWithTab%22%3Afalse%2C%22lightLines%22%3A%5B%5D%2C%22foldLines%22%3A%5B%5D%2C%22theme%22%3A%22One%20Dark%20Pro%22%2C%22__spacing%22%3A%22both%22%2C%22id%22%3A%22sf4mf%22%2C%22margin%22%3A%7B%22top%22%3Atrue%2C%22bottom%22%3Atrue%7D%7D\"></card><p data-lake-id=\"u8b66d0f7\" id=\"u8b66d0f7\"><span data-lake-id=\"u952ccb46\" id=\"u952ccb46\">è®©æˆ‘ä»¬ç¨ç¨æ”¹åŠ¨è¿™ä¸ªæ–‡ä»¶ï¼Œä½¿å…¶å˜ä¸ºï¼š</span></p><card type=\"inline\" name=\"codeblock\" value=\"data:%7B%22mode%22%3A%22json%22%2C%22code%22%3A%22%7B%5Cn%20%20%5C%22packages%5C%22%3A%20%5B%5C%22packages%2F*%5C%22%5D%2C%5Cn%20%20%5C%22npmClient%5C%22%3A%20%5C%22yarn%5C%22%2C%5Cn%20%20%5C%22version%5C%22%3A%20%5C%22independent%5C%22%2C%5Cn%20%20%5C%22useWorkspaces%5C%22%3A%20true%2C%5Cn%7D%22%2C%22autoWrap%22%3Afalse%2C%22heightLimit%22%3Atrue%2C%22collapsed%22%3Afalse%2C%22name%22%3A%22%22%2C%22tabSize%22%3Anull%2C%22indentWithTab%22%3Afalse%2C%22lightLines%22%3A%5B%5D%2C%22foldLines%22%3A%5B%5D%2C%22theme%22%3A%22One%20Dark%20Pro%22%2C%22__spacing%22%3A%22both%22%2C%22id%22%3A%22sgCQn%22%2C%22margin%22%3A%7B%22top%22%3Atrue%2C%22bottom%22%3Atrue%7D%7D\"></card><p data-lake-id=\"u7159bb2a\" id=\"u7159bb2a\"><span data-lake-id=\"u7389423e\" id=\"u7389423e\">å¯ä»¥æ³¨æ„åˆ°ï¼Œæˆ‘ä»¬æ˜¾ç¤ºå£°æ˜äº†æˆ‘ä»¬çš„åŒ…å®¢æˆ·ç«¯ï¼ˆ</span><code data-lake-id=\"ubc5abac7\" id=\"ubc5abac7\"><span data-lake-id=\"u0d236061\" id=\"u0d236061\">npmClient</span></code><span data-lake-id=\"u0c323204\" id=\"u0c323204\">ï¼‰ä¸º </span><code data-lake-id=\"u9c5003e0\" id=\"u9c5003e0\"><span data-lake-id=\"u209be5cd\" id=\"u209be5cd\">yarn</span></code><span data-lake-id=\"u8dda1238\" id=\"u8dda1238\">ï¼Œå¹¶ä¸”è®© </span><code data-lake-id=\"u503e45c2\" id=\"u503e45c2\"><span data-lake-id=\"uc0fd8147\" id=\"uc0fd8147\">Lerna</span></code><span data-lake-id=\"u6f331d1c\" id=\"u6f331d1c\"> è¿½è¸ªæˆ‘ä»¬ </span><code data-lake-id=\"u810e569a\" id=\"u810e569a\"><span data-lake-id=\"u91b623e9\" id=\"u91b623e9\">workspaces</span></code><span data-lake-id=\"uc0fce246\" id=\"uc0fce246\"> è®¾ç½®çš„ç›®å½•ï¼Œè¿™æ ·æˆ‘ä»¬å°±ä¾æ—§ä¿ç•™äº†ä¹‹å‰ </span><code data-lake-id=\"u5e0f1b4c\" id=\"u5e0f1b4c\"><span data-lake-id=\"ua25285a8\" id=\"ua25285a8\">workspaces</span></code><span data-lake-id=\"u53731f7b\" id=\"u53731f7b\"> çš„æ‰€æœ‰ç‰¹æ€§ï¼ˆå­é¡¹ç›®å¼•ç”¨å’Œé€šç”¨åŒ…æå‡ï¼‰ã€‚</span></p><p data-lake-id=\"u89c66570\" id=\"u89c66570\"><span data-lake-id=\"u26130be0\" id=\"u26130be0\">â€‹</span><br></p><p data-lake-id=\"ub429bda9\" id=\"ub429bda9\"><span data-lake-id=\"ue3438871\" id=\"ue3438871\">é™¤æ­¤ä¹‹å¤–ä¸€ä¸ªæœ‰è¶£çš„æ”¹åŠ¨åœ¨äºæˆ‘ä»¬å°† </span><code data-lake-id=\"u22d74cb5\" id=\"u22d74cb5\"><span data-lake-id=\"u731a4841\" id=\"u731a4841\">version</span></code><span data-lake-id=\"ue7af5ab8\" id=\"ue7af5ab8\"> å±æ€§æŒ‡å®šä¸ºä¸€ä¸ªå…³é”®å­— </span><code data-lake-id=\"ua7be2048\" id=\"ua7be2048\"><span data-lake-id=\"u88c8798b\" id=\"u88c8798b\">independent</span></code><span data-lake-id=\"u98aa9c1e\" id=\"u98aa9c1e\">ï¼Œè¿™å°†å‘Šè¯‰ </span><code data-lake-id=\"u48eb4e31\" id=\"u48eb4e31\"><span data-lake-id=\"udfa0c3be\" id=\"udfa0c3be\">lerna</span></code><span data-lake-id=\"u1dcd1e5a\" id=\"u1dcd1e5a\"> åº”è¯¥å°†æ¯ä¸ªå­é¡¹ç›®çš„ç‰ˆæœ¬å·çœ‹ä½œæ˜¯ç›¸äº’ç‹¬ç«‹çš„ã€‚å½“æŸä¸ªå­é¡¹ç›®ä»£ç æ›´æ–°åï¼Œè¿è¡Œ </span><code data-lake-id=\"uded8ef7f\" id=\"uded8ef7f\"><span data-lake-id=\"ucbf8d0df\" id=\"ucbf8d0df\">lerna publish</span></code><span data-lake-id=\"u5b23cc52\" id=\"u5b23cc52\"> æ—¶ï¼Œ</span><code data-lake-id=\"u4f94b6c9\" id=\"u4f94b6c9\"><span data-lake-id=\"u8098ba8b\" id=\"u8098ba8b\">Lerna</span></code><span data-lake-id=\"u5785c5f3\" id=\"u5785c5f3\"> å°†ç›‘å¬åˆ°ä»£ç å˜åŒ–çš„å­é¡¹ç›®å¹¶ä»¥äº¤äº’å¼ </span><code data-lake-id=\"u71ed9b80\" id=\"u71ed9b80\"><span data-lake-id=\"uab1cd051\" id=\"uab1cd051\">CLI</span></code><span data-lake-id=\"uedd7ce46\" id=\"uedd7ce46\"> æ–¹å¼è®©å¼€å‘è€…å†³å®šéœ€è¦å‡çº§çš„ç‰ˆæœ¬å·ï¼Œå…³è”çš„å­é¡¹ç›®ç‰ˆæœ¬å·ä¸ä¼šè‡ªåŠ¨å‡çº§ï¼Œåä¹‹ï¼Œå½“æˆ‘ä»¬å¡«å…¥å›ºå®šçš„ç‰ˆæœ¬å·æ—¶ï¼Œåˆ™ä»»ä¸€å­é¡¹ç›®çš„ä»£ç å˜åŠ¨ï¼Œéƒ½ä¼šå¯¼è‡´æ‰€æœ‰å­é¡¹ç›®çš„ç‰ˆæœ¬å·åŸºäºå½“å‰æŒ‡å®šçš„ç‰ˆæœ¬å·å‡çº§ã€‚</span></p><p data-lake-id=\"u0e61fc9c\" id=\"u0e61fc9c\"><span data-lake-id=\"u93cfe941\" id=\"u93cfe941\">â€‹</span><br></p><p data-lake-id=\"u52cf8053\" id=\"u52cf8053\"><code data-lake-id=\"u226144b6\" id=\"u226144b6\"><span data-lake-id=\"u457c28b1\" id=\"u457c28b1\">Lerna</span></code><span data-lake-id=\"u4b011786\" id=\"u4b011786\"> æä¾›äº†å¾ˆå¤š </span><code data-lake-id=\"ubb578f7f\" id=\"ubb578f7f\"><span data-lake-id=\"uf9ab7078\" id=\"uf9ab7078\">CLI</span></code><span data-lake-id=\"u1f3eef00\" id=\"u1f3eef00\"> å‘½ä»¤ä»¥æ»¡è¶³æˆ‘ä»¬çš„å„ç§éœ€æ±‚ï¼Œä½†æ ¹æ® 2/8 æ³•åˆ™ï¼Œæ‚¨åº”è¯¥é¦–å…ˆå…³æ³¨ä»¥ä¸‹è¿™äº›å‘½ä»¤ï¼š</span></p><ul list=\"u0f2d0160\"><li fid=\"u96c14c3c\" data-lake-id=\"u6c700d82\" id=\"u6c700d82\"><code data-lake-id=\"u6e66edef\" id=\"u6e66edef\"><span data-lake-id=\"u51c8f6e5\" id=\"u51c8f6e5\">lerna bootstrap</span></code><span data-lake-id=\"u65e44626\" id=\"u65e44626\">ï¼šç­‰åŒäº lerna link + yarn installï¼Œç”¨äºåˆ›å»ºç¬¦åˆé“¾æ¥å¹¶å®‰è£…ä¾èµ–åŒ…ï¼›</span></li><li fid=\"u96c14c3c\" data-lake-id=\"uf9469c10\" id=\"uf9469c10\"><code data-lake-id=\"ue9c9fd57\" id=\"ue9c9fd57\"><span data-lake-id=\"u0a912e06\" id=\"u0a912e06\">lerna run</span></code><span data-lake-id=\"u46369e44\" id=\"u46369e44\">ï¼šä¼šåƒæ‰§è¡Œä¸€ä¸ª for å¾ªç¯ä¸€æ ·ï¼Œåœ¨æ‰€æœ‰å­é¡¹ç›®ä¸­æ‰§è¡Œ npm script è„šæœ¬ï¼Œå¹¶ä¸”ï¼Œå®ƒä¼šéå¸¸æ™ºèƒ½çš„è¯†åˆ«ä¾èµ–å…³ç³»ï¼Œå¹¶ä»æ ¹ä¾èµ–å¼€å§‹æ‰§è¡Œå‘½ä»¤ï¼›</span></li><li fid=\"u96c14c3c\" data-lake-id=\"u932e5cfe\" id=\"u932e5cfe\"><code data-lake-id=\"uea96ee06\" id=\"uea96ee06\"><span data-lake-id=\"u8e84e0e6\" id=\"u8e84e0e6\">lerna exec</span></code><span data-lake-id=\"u9cb2abdc\" id=\"u9cb2abdc\">ï¼šåƒ </span><code data-lake-id=\"u4dbbe01b\" id=\"u4dbbe01b\"><span data-lake-id=\"u4ef614f5\" id=\"u4ef614f5\">lerna run </span></code><span data-lake-id=\"u0cce2ddc\" id=\"u0cce2ddc\">ä¸€æ ·ï¼Œä¼šæŒ‰ç…§ä¾èµ–é¡ºåºæ‰§è¡Œå‘½ä»¤ï¼Œä¸åŒçš„æ˜¯ï¼Œå®ƒå¯ä»¥æ‰§è¡Œä»»ä½•å‘½ä»¤ï¼Œä¾‹å¦‚ </span><code data-lake-id=\"u34631147\" id=\"u34631147\"><span data-lake-id=\"uef815cec\" id=\"uef815cec\">shell</span></code><span data-lake-id=\"u9a6ea920\" id=\"u9a6ea920\"> è„šæœ¬ï¼›</span></li><li fid=\"u96c14c3c\" data-lake-id=\"ub06c4bdf\" id=\"ub06c4bdf\"><code data-lake-id=\"u3a0ddc61\" id=\"u3a0ddc61\"><span data-lake-id=\"uded6cbf2\" id=\"uded6cbf2\">lerna publish</span></code><span data-lake-id=\"ub3021ef0\" id=\"ub3021ef0\">ï¼šå‘å¸ƒä»£ç æœ‰å˜åŠ¨çš„ </span><code data-lake-id=\"uf4fc1a51\" id=\"uf4fc1a51\"><span data-lake-id=\"u3a37fe92\" id=\"u3a37fe92\">package</span></code><span data-lake-id=\"u1a05dc3d\" id=\"u1a05dc3d\">ï¼Œå› æ­¤é¦–å…ˆæ‚¨éœ€è¦åœ¨ä½¿ç”¨ </span><code data-lake-id=\"ua57749fe\" id=\"ua57749fe\"><span data-lake-id=\"u5d924c15\" id=\"u5d924c15\">Lerna</span></code><span data-lake-id=\"uad572e34\" id=\"uad572e34\"> å‰ä½¿ç”¨ </span><code data-lake-id=\"ua849817e\" id=\"ua849817e\"><span data-lake-id=\"ue3be218f\" id=\"ue3be218f\">git commit</span></code><span data-lake-id=\"u9cead675\" id=\"u9cead675\"> å‘½ä»¤æäº¤ä»£ç ï¼Œå¥½è®© </span><code data-lake-id=\"ud884a33e\" id=\"ud884a33e\"><span data-lake-id=\"ub13f5b6a\" id=\"ub13f5b6a\">Lerna</span></code><span data-lake-id=\"u80c6521d\" id=\"u80c6521d\"> æœ‰ä¸€ä¸ª </span><code data-lake-id=\"ud4cad663\" id=\"ud4cad663\"><span data-lake-id=\"u48985cb5\" id=\"u48985cb5\">baseline</span></code><span data-lake-id=\"ue9d10e58\" id=\"ue9d10e58\">ï¼›</span></li><li fid=\"u96c14c3c\" data-lake-id=\"u06b01b17\" id=\"u06b01b17\"><code data-lake-id=\"uaa7110f5\" id=\"uaa7110f5\"><span data-lake-id=\"ube0b3a5c\" id=\"ube0b3a5c\">lerna add</span></code><span data-lake-id=\"u11bad790\" id=\"u11bad790\">ï¼šå°†æœ¬åœ°æˆ–è¿œç¨‹çš„åŒ…ä½œä¸ºä¾èµ–æ·»åŠ è‡³å½“å‰çš„ </span><code data-lake-id=\"ue89025be\" id=\"ue89025be\"><span data-lake-id=\"uaec135f5\" id=\"uaec135f5\">monorepo</span></code><span data-lake-id=\"ua0fa8fb2\" id=\"ua0fa8fb2\"> ä»“åº“ä¸­ï¼Œè¯¥å‘½ä»¤è®© </span><code data-lake-id=\"u4a28e472\" id=\"u4a28e472\"><span data-lake-id=\"u872066f7\" id=\"u872066f7\">Lerna</span></code><span data-lake-id=\"u438ec196\" id=\"u438ec196\"> å¯ä»¥è¯†åˆ«å¹¶è¿½è¸ªåŒ…ä¹‹é—´çš„ä¾èµ–å…³ç³»ï¼Œå› æ­¤éå¸¸é‡è¦ï¼›</span></li></ul><card type=\"inline\" name=\"codeblock\" value=\"data:%7B%22mode%22%3A%22shell%22%2C%22code%22%3A%22%23%20%E5%90%91%20%40mono%2Fproject2%20%E5%92%8C%20%40mono%2Fproject3%20%E4%B8%AD%E6%B7%BB%E5%8A%A0%20%40mono%2Fproject1%5Cnlerna%20add%20%40mono%2Fproject1%20'%40mono%2Fproject%7B2%2C3%7D'%22%2C%22autoWrap%22%3Afalse%2C%22heightLimit%22%3Atrue%2C%22collapsed%22%3Afalse%2C%22name%22%3A%22%22%2C%22tabSize%22%3Anull%2C%22indentWithTab%22%3Afalse%2C%22lightLines%22%3A%5B%5D%2C%22foldLines%22%3A%5B%5D%2C%22theme%22%3A%22One%20Dark%20Pro%22%2C%22__spacing%22%3A%22both%22%2C%22id%22%3A%22g2KSh%22%2C%22margin%22%3A%7B%22top%22%3Atrue%2C%22bottom%22%3Atrue%7D%7D\"></card><h4 data-lake-id=\"IoUuw\" id=\"IoUuw\"><span data-lake-id=\"u4e544ba7\" id=\"u4e544ba7\">lerna é«˜çº§å‘½ä»¤</span></h4><p data-lake-id=\"u2fac2e13\" id=\"u2fac2e13\"><span data-lake-id=\"u14d58dd6\" id=\"u14d58dd6\">é™¤äº†ä¸Šé¢ä»‹ç»åˆ°çš„å¸¸ç”¨å‘½ä»¤å¤–ï¼Œ</span><code data-lake-id=\"u5aa8a46a\" id=\"u5aa8a46a\"><span data-lake-id=\"ud5b5ddd2\" id=\"ud5b5ddd2\">Lerna</span></code><span data-lake-id=\"u4d7dbfc6\" id=\"u4d7dbfc6\"> è¿˜æä¾›äº†ä¸€äº›å‚æ•°æ»¡è¶³æˆ‘ä»¬æ›´çµæ´»çš„éœ€æ±‚ï¼Œä¾‹å¦‚ï¼š</span></p><ul list=\"u8ebab5dc\"><li fid=\"u6bb8a866\" data-lake-id=\"ua122680d\" id=\"ua122680d\"><code data-lake-id=\"u144593c4\" id=\"u144593c4\"><span data-lake-id=\"ud02523dd\" id=\"ud02523dd\">--concurrency &lt;number&gt;</span></code><span data-lake-id=\"ue2b878ae\" id=\"ue2b878ae\">ï¼šå‚æ•°å¯ä»¥ä½¿ </span><code data-lake-id=\"ue4743758\" id=\"ue4743758\"><span data-lake-id=\"u44856711\" id=\"u44856711\">Lerna</span></code><span data-lake-id=\"u60e6cf3a\" id=\"u60e6cf3a\"> åˆ©ç”¨è®¡ç®—æœºä¸Šçš„å¤šä¸ªæ ¸å¿ƒï¼Œå¹¶å‘è¿è¡Œï¼Œä»è€Œæå‡æ„å»ºé€Ÿåº¦ï¼›</span></li><li fid=\"u6bb8a866\" data-lake-id=\"u5d330b31\" id=\"u5d330b31\"><code data-lake-id=\"uaa8e5a88\" id=\"uaa8e5a88\"><span data-lake-id=\"ua8d01620\" id=\"ua8d01620\">--scope '@mono/{pkg1,pkg2}'</span></code><span data-lake-id=\"u95304184\" id=\"u95304184\">ï¼š</span><code data-lake-id=\"u430bd131\" id=\"u430bd131\"><span data-lake-id=\"u2a0865ba\" id=\"u2a0865ba\">--scope</span></code><span data-lake-id=\"ua40ceba6\" id=\"ua40ceba6\"> å‚æ•°å¯ä»¥æŒ‡å®š </span><code data-lake-id=\"u9c858ed9\" id=\"u9c858ed9\"><span data-lake-id=\"ua906bbda\" id=\"ua906bbda\">Lerna</span></code><span data-lake-id=\"ufd2c0221\" id=\"ufd2c0221\"> å‘½ä»¤çš„è¿è¡Œç¯å¢ƒï¼Œé€šè¿‡ä½¿ç”¨è¯¥å‚æ•°ï¼Œ</span><code data-lake-id=\"ue12f25c6\" id=\"ue12f25c6\"><span data-lake-id=\"u7a3be838\" id=\"u7a3be838\">Lerna</span></code><span data-lake-id=\"u9a1a37fe\" id=\"u9a1a37fe\"> å°†ä¸å†æ˜¯ä¸€æŠŠæ¢­çš„åœ¨æ‰€æœ‰ä»“åº“ä¸­æ‰§è¡Œå‘½ä»¤ï¼Œè€Œæ˜¯å¯ä»¥ç²¾å‡†åœ°åœ¨æˆ‘ä»¬æ‰€æŒ‡å®šçš„ä»“åº“ä¸­æ‰§è¡Œå‘½ä»¤ï¼Œå¹¶ä¸”è¿˜æ”¯æŒç¤ºä¾‹ä¸­çš„æ¨¡ç‰ˆè¯­æ³•ï¼›</span></li><li fid=\"u6bb8a866\" data-lake-id=\"ucbcd7067\" id=\"ucbcd7067\"><code data-lake-id=\"ua2a90836\" id=\"ua2a90836\"><span data-lake-id=\"u2658498e\" id=\"u2658498e\">--stream</span></code><span data-lake-id=\"ubfd50d58\" id=\"ubfd50d58\">ï¼šè¯¥å‚æ•°å¯ä½¿æˆ‘ä»¬æŸ¥çœ‹ </span><code data-lake-id=\"u0a1fade1\" id=\"u0a1fade1\"><span data-lake-id=\"u77e7fa4e\" id=\"u77e7fa4e\">Lerna</span></code><span data-lake-id=\"u8295558d\" id=\"u8295558d\"> è¿è¡Œæ—¶çš„å‘½ä»¤æ‰§è¡Œä¿¡æ¯ï¼›</span></li></ul><h4 data-lake-id=\"iCnP2\" id=\"iCnP2\"><span data-lake-id=\"u944d1e87\" id=\"u944d1e87\" style=\"color: rgb(44, 62, 80)\">npm åŒ…æœ¬åœ°å‘å¸ƒï¼šVerdaccio</span></h4><p data-lake-id=\"u76369f55\" id=\"u76369f55\"><card type=\"inline\" name=\"image\" value=\"data:%7B%22src%22%3A%22https%3A%2F%2Fcdn.nlark.com%2Fyuque%2F0%2F2022%2Fpng%2F732231%2F1648748304497-5e3fff8e-c3f8-45d1-838f-c3e5bd18ed1c.png%22%2C%22taskId%22%3A%22u1a3f5727-3987-4438-971e-193107de381%22%2C%22clientId%22%3A%22u6fbcdb1d-5fd6-4%22%2C%22originalType%22%3A%22binary%22%2C%22width%22%3A481.6%2C%22height%22%3A160%2C%22linkTarget%22%3A%22_blank%22%2C%22name%22%3A%22image.png%22%2C%22size%22%3A15746%2C%22from%22%3A%22paste%22%2C%22originWidth%22%3A602%2C%22originHeight%22%3A200%2C%22ratio%22%3A1%2C%22status%22%3A%22done%22%2C%22style%22%3A%22none%22%2C%22search%22%3A%22V%20VERDACCIO%22%2C%22ocrLocations%22%3A%5B%7B%22x%22%3A48.90202%2C%22y%22%3A49.563313%2C%22width%22%3A513.34038%2C%22height%22%3A102.25699700000001%2C%22text%22%3A%22V%20VERDACCIO%22%7D%5D%2C%22showTitle%22%3Afalse%2C%22title%22%3A%22%22%2C%22rotation%22%3A0%2C%22crop%22%3A%5B0%2C0%2C1%2C1%5D%2C%22id%22%3A%22u8ce3b6ee%22%2C%22margin%22%3A%7B%22top%22%3Atrue%2C%22bottom%22%3Atrue%7D%7D\"></card></p><p data-lake-id=\"ue967177c\" id=\"ue967177c\"><span data-lake-id=\"u1571b825\" id=\"u1571b825\">çœ‹åˆ°è¿™é‡Œï¼Œæ‚¨å¯èƒ½æƒ³è¦äº²è‡ªä½“éªŒä¸€æŠŠä½¿ç”¨ </span><code data-lake-id=\"u2057b005\" id=\"u2057b005\"><span data-lake-id=\"ub3654c9d\" id=\"ub3654c9d\">Lerna</span></code><span data-lake-id=\"u5da47c24\" id=\"u5da47c24\"> ç®¡ç†/å‘å¸ƒ </span><code data-lake-id=\"u0a22889f\" id=\"u0a22889f\"><span data-lake-id=\"u892777ae\" id=\"u892777ae\">monorepo</span></code><span data-lake-id=\"u98afd606\" id=\"u98afd606\"> é¡¹ç›®çš„æ„Ÿè§‰ã€‚å¯æ˜¯å¾ˆå¿«æ‚¨ä¼šå‘ç°ï¼Œå°†ç¤ºä¾‹ä»£ç å‘å¸ƒåˆ°çœŸå®ä¸–ç•Œçš„ </span><code data-lake-id=\"u787830ba\" id=\"u787830ba\"><span data-lake-id=\"u2acde9e5\" id=\"u2acde9e5\">npm</span></code><span data-lake-id=\"uaa1a984b\" id=\"uaa1a984b\"> ä»“åº“å¹¶éä¸€ä¸ªå¥½ä¸»æ„ï¼Œè¿™å¤šå°‘æœ‰äº›ä»¤äººæ²®ä¸§ï¼Œä½†æ˜¯åˆ«æ‹…å¿ƒï¼Œæ‚¨å¯ä»¥ä½¿ç”¨ </span><a href=\"https://verdaccio.org/\" target=\"_blank\" data-lake-id=\"u00abb48a\" id=\"u00abb48a\"><span data-lake-id=\"u4ae64066\" id=\"u4ae64066\">Verdaccio</span></a><span data-lake-id=\"ub7bf4c51\" id=\"ub7bf4c51\"> åœ¨æœ¬åœ°åˆ›å»ºä¸€ä¸ª </span><code data-lake-id=\"u13cfe6aa\" id=\"u13cfe6aa\"><span data-lake-id=\"u888fb2f6\" id=\"u888fb2f6\">npm</span></code><span data-lake-id=\"ucd324b1d\" id=\"ucd324b1d\"> ä»“åº“ä½œä¸ºä»£ç†ï¼Œç„¶åå°½æƒ…ä½“éªŒ </span><code data-lake-id=\"u6347627d\" id=\"u6347627d\"><span data-lake-id=\"u5c947e97\" id=\"u5c947e97\">Lerna</span></code><span data-lake-id=\"u09335ec4\" id=\"u09335ec4\"> çš„ç§ç§å¼ºå¤§ä¹‹å¤„ã€‚</span></p><p data-lake-id=\"u8fce2d9a\" id=\"u8fce2d9a\"><span data-lake-id=\"u2b75d4e3\" id=\"u2b75d4e3\">â€‹</span><br></p><p data-lake-id=\"u06ffb147\" id=\"u06ffb147\"><span data-lake-id=\"u6f24c6fb\" id=\"u6f24c6fb\">å®‰è£…è¿è¡Œ </span><code data-lake-id=\"u45b1bf9f\" id=\"u45b1bf9f\"><span data-lake-id=\"u3ebfc342\" id=\"u3ebfc342\">Verdaccio</span></code><span data-lake-id=\"u19569285\" id=\"u19569285\"> éå¸¸ç®€å•ï¼Œæ‚¨åªéœ€è¿è¡Œï¼š</span></p><card type=\"inline\" name=\"codeblock\" value=\"data:%7B%22mode%22%3A%22shell%22%2C%22code%22%3A%22npm%20install%20--global%20verdaccio%22%2C%22autoWrap%22%3Afalse%2C%22heightLimit%22%3Atrue%2C%22collapsed%22%3Afalse%2C%22name%22%3A%22%22%2C%22tabSize%22%3Anull%2C%22indentWithTab%22%3Afalse%2C%22lightLines%22%3A%5B%5D%2C%22foldLines%22%3A%5B%5D%2C%22theme%22%3A%22One%20Dark%20Pro%22%2C%22__spacing%22%3A%22both%22%2C%22id%22%3A%22Zj2aV%22%2C%22margin%22%3A%7B%22top%22%3Atrue%2C%22bottom%22%3Atrue%7D%7D\"></card><p data-lake-id=\"u75c40ef9\" id=\"u75c40ef9\"><span data-lake-id=\"u087818ac\" id=\"u087818ac\">åœ¨å…¨å±€å®‰è£… </span><code data-lake-id=\"ua4d7436d\" id=\"ua4d7436d\"><span data-lake-id=\"ua1e5b19d\" id=\"ua1e5b19d\">Verdaccio</span></code><span data-lake-id=\"ub53f808e\" id=\"ub53f808e\"> åº”ç”¨ï¼Œç„¶ååœ¨ </span><code data-lake-id=\"u0e6f7684\" id=\"u0e6f7684\"><span data-lake-id=\"uffcd4a1c\" id=\"uffcd4a1c\">shell</span></code><span data-lake-id=\"ubac7c56d\" id=\"ubac7c56d\"> ä¸­è¾“å…¥ï¼š</span></p><card type=\"inline\" name=\"codeblock\" value=\"data:%7B%22mode%22%3A%22shell%22%2C%22code%22%3A%22verdaccio%22%2C%22autoWrap%22%3Afalse%2C%22heightLimit%22%3Atrue%2C%22collapsed%22%3Afalse%2C%22name%22%3A%22%22%2C%22tabSize%22%3Anull%2C%22indentWithTab%22%3Afalse%2C%22lightLines%22%3A%5B%5D%2C%22foldLines%22%3A%5B%5D%2C%22theme%22%3A%22One%20Dark%20Pro%22%2C%22__spacing%22%3A%22both%22%2C%22id%22%3A%22Ha0Mi%22%2C%22margin%22%3A%7B%22top%22%3Atrue%2C%22bottom%22%3Atrue%7D%7D\"></card><p data-lake-id=\"u5dc97380\" id=\"u5dc97380\"><span data-lake-id=\"ucd9c15a8\" id=\"ucd9c15a8\">å³å¯é€šè¿‡ </span><code data-lake-id=\"uee0c0e8c\" id=\"uee0c0e8c\"><span data-lake-id=\"u0df16382\" id=\"u0df16382\">localhost:4837</span></code><span data-lake-id=\"u7c6fdde0\" id=\"u7c6fdde0\"> è®¿é—®æ‚¨çš„æœ¬åœ°ä»£ç† </span><code data-lake-id=\"u74deeba6\" id=\"u74deeba6\"><span data-lake-id=\"u975077df\" id=\"u975077df\">npm</span></code><span data-lake-id=\"u84315d41\" id=\"u84315d41\"> ä»“åº“ï¼Œåˆ«å¿˜äº†åœ¨æ‚¨çš„é¡¹ç›®æ ¹ç›®å½•åˆ›å»º </span><code data-lake-id=\"u964acb0c\" id=\"u964acb0c\"><span data-lake-id=\"u47500181\" id=\"u47500181\">.npmrc</span></code><span data-lake-id=\"u95d715a0\" id=\"u95d715a0\"> æ–‡ä»¶ï¼Œå¹¶åœ¨æ–‡ä»¶ä¸­å°† </span><code data-lake-id=\"uc5145ba6\" id=\"uc5145ba6\"><span data-lake-id=\"u9b374dbc\" id=\"u9b374dbc\">npm</span></code><span data-lake-id=\"u34c73978\" id=\"u34c73978\"> ä»“åº“åœ°å€æ”¹å†™ä¸ºæ‚¨çš„æœ¬åœ°ä»£ç†åœ°å€ï¼š</span></p><card type=\"inline\" name=\"codeblock\" value=\"data:%7B%22mode%22%3A%22shell%22%2C%22code%22%3A%22registry%3D%5C%22http%3A%2F%2Flocalhost%3A4873%2F%5C%22%22%2C%22autoWrap%22%3Afalse%2C%22heightLimit%22%3Atrue%2C%22collapsed%22%3Afalse%2C%22name%22%3A%22%22%2C%22tabSize%22%3Anull%2C%22indentWithTab%22%3Afalse%2C%22lightLines%22%3A%5B%5D%2C%22foldLines%22%3A%5B%5D%2C%22theme%22%3A%22One%20Dark%20Pro%22%2C%22__spacing%22%3A%22both%22%2C%22id%22%3A%22tHFHj%22%2C%22margin%22%3A%7B%22top%22%3Atrue%2C%22bottom%22%3Atrue%7D%7D\"></card><p data-lake-id=\"ucf137b08\" id=\"ucf137b08\"><span data-lake-id=\"ub2b96da2\" id=\"ub2b96da2\">å¤§åŠŸå‘Šæˆ ğŸ™Œï¼æ¯å½“æ‚¨æ‰§è¡Œ </span><code data-lake-id=\"ufdf45c57\" id=\"ufdf45c57\"><span data-lake-id=\"ucce1fb3e\" id=\"ucce1fb3e\">lerna publish</span></code><span data-lake-id=\"u77cfe6e1\" id=\"u77cfe6e1\"> æ—¶ï¼Œå­é¡¹ç›®æ‰€æ„å»ºæˆçš„ </span><code data-lake-id=\"ue5c4934e\" id=\"ue5c4934e\"><span data-lake-id=\"ud7031021\" id=\"ud7031021\">package</span></code><span data-lake-id=\"ue790c455\" id=\"ue790c455\"> å°†ä¼šå‘å¸ƒåœ¨æœ¬åœ° </span><code data-lake-id=\"u513c1de0\" id=\"u513c1de0\"><span data-lake-id=\"u7d6519ba\" id=\"u7d6519ba\">npm</span></code><span data-lake-id=\"uccc24d8e\" id=\"uccc24d8e\"> ä»“åº“ä¸­ï¼Œè€Œå½“æ‚¨æ‰§è¡Œ </span><code data-lake-id=\"uaa676f1d\" id=\"uaa676f1d\"><span data-lake-id=\"ua95c265c\" id=\"ua95c265c\">lerna bootstrap</span></code><span data-lake-id=\"ufbcce91b\" id=\"ufbcce91b\"> æ—¶ï¼Œ</span><code data-lake-id=\"u06e814e0\" id=\"u06e814e0\"><span data-lake-id=\"u3552a049\" id=\"u3552a049\">Verdaccio</span></code><span data-lake-id=\"u2979393b\" id=\"u2979393b\"> å°†ä¼šæ”¾è¡Œï¼Œè®©æ‚¨æˆåŠŸä»è¿œç¨‹ </span><code data-lake-id=\"u4a2cc03c\" id=\"u4a2cc03c\"><span data-lake-id=\"u33cf32b3\" id=\"u33cf32b3\">npm</span></code><span data-lake-id=\"u2fe402dd\" id=\"u2fe402dd\"> ä»“åº“ä¸­æ‹‰å–ç›¸åº”çš„ä»£ç ã€‚</span></p><h3 data-lake-id=\"iwmes\" id=\"iwmes\"><span data-lake-id=\"u581f39d5\" id=\"u581f39d5\">6. æ ¼å¼åŒ– commit ç®¡ç†</span></h3><p data-lake-id=\"u3950e952\" id=\"u3950e952\"><span data-lake-id=\"u81563063\" id=\"u81563063\">è‡³æ­¤ï¼Œæˆ‘ä»¬å·²ç»æŒæ¡äº†ç»„ç»‡ä¸€ä¸ªé¡¹ç›®çº§ </span><code data-lake-id=\"ubad05abd\" id=\"ubad05abd\"><span data-lake-id=\"ud9cd3250\" id=\"ud9cd3250\">monorepo</span></code><span data-lake-id=\"ua6826f63\" id=\"ua6826f63\"> ä»“åº“çš„æ‰€æœ‰å‰æ²¿æŠ€å·§ï¼Œæœ€åï¼Œè®©æˆ‘ä»¬çœ‹çœ‹æœ€åä¸€ä¸ªå¯ä»¥ä¼˜åŒ–çš„åœ°æ–¹ï¼šä»£ç æäº¤æ—¶ï¼Œçº¦æŸ </span><code data-lake-id=\"uc2ab8f70\" id=\"uc2ab8f70\"><span data-lake-id=\"u06d0901c\" id=\"u06d0901c\">commit</span></code><span data-lake-id=\"ufba30c22\" id=\"ufba30c22\"> ä¿¡æ¯ã€‚</span></p><p data-lake-id=\"u43c1bb9b\" id=\"u43c1bb9b\"><span data-lake-id=\"u9c6dc5b4\" id=\"u9c6dc5b4\">â€‹</span><br></p><p data-lake-id=\"u20f94032\" id=\"u20f94032\"><span data-lake-id=\"u88934c42\" id=\"u88934c42\">ä¸€ä¸ª </span><code data-lake-id=\"u9bac3391\" id=\"u9bac3391\"><span data-lake-id=\"u931168fc\" id=\"u931168fc\">monorepo</span></code><span data-lake-id=\"u24c0b0a1\" id=\"u24c0b0a1\"> ä»“åº“å¯èƒ½è¢«ä¸åŒçš„å¼€å‘è€…æäº¤ä¸åŒå­é¡¹ç›®çš„ä»£ç ï¼Œå¦‚æœæ²¡æœ‰è§„èŒƒåŒ–çš„ </span><code data-lake-id=\"u00913250\" id=\"u00913250\"><span data-lake-id=\"u2d7efd8c\" id=\"u2d7efd8c\">commit</span></code><span data-lake-id=\"u81bff1ff\" id=\"u81bff1ff\"> ä¿¡æ¯ï¼Œåœ¨æ•…éšœæ’æŸ¥æˆ–ç‰ˆæœ¬å›æ»šæ—¶æ¯«æ— æ„å¤–ä¼šé­é‡ç¾éš¾ã€‚å› æ­¤ï¼Œåƒä¸‡ä¸è¦å°çœ‹ </span><code data-lake-id=\"u62513a60\" id=\"u62513a60\"><span data-lake-id=\"u8c8939f6\" id=\"u8c8939f6\">commit</span></code><span data-lake-id=\"u162e6642\" id=\"u162e6642\"> ä¿¡æ¯æ ¼å¼åŒ–çš„é‡è¦æ€§ï¼ˆå½“ç„¶ï¼ŒåŒæ ·é‡è¦çš„è¿˜æœ‰ä»£ç æ³¨é‡Šï¼ï¼‰ã€‚</span></p><p data-lake-id=\"u0f6d9481\" id=\"u0f6d9481\"><span data-lake-id=\"uf6888164\" id=\"uf6888164\">â€‹</span><br></p><p data-lake-id=\"ub83c335b\" id=\"ub83c335b\"><span data-lake-id=\"u2b020c05\" id=\"u2b020c05\">ä¸ºäº†æˆ‘ä»¬èƒ½å¤Ÿä¸€ç›®äº†ç„¶çš„è¿½è¸ªæ¯æ¬¡ä»£ç å˜æ›´çš„ä¿¡æ¯ï¼Œæˆ‘ä»¬ä½¿ç”¨ </span><a href=\"https://github.com/conventional-changelog/commitlint/#what-is-commitlint\" target=\"_blank\" data-lake-id=\"u44f1f5cd\" id=\"u44f1f5cd\"><span data-lake-id=\"u6c155042\" id=\"u6c155042\">commitlint</span></a><span data-lake-id=\"u12699166\" id=\"u12699166\"> å·¥å…·ä½œä¸ºæ ¼å¼åŒ– </span><code data-lake-id=\"ua8976370\" id=\"ua8976370\"><span data-lake-id=\"u0bf255b4\" id=\"u0bf255b4\">commit</span></code><span data-lake-id=\"u97aceaf6\" id=\"u97aceaf6\"> ä¿¡æ¯çš„ä¸äºŒä¹‹é€‰ã€‚</span></p><p data-lake-id=\"udfabd56a\" id=\"udfabd56a\"><span data-lake-id=\"u6f16f447\" id=\"u6f16f447\">â€‹</span><br></p><p data-lake-id=\"ub23f9896\" id=\"ub23f9896\"><span data-lake-id=\"uce5c7a2d\" id=\"uce5c7a2d\">é¡¾åæ€ä¹‰ï¼Œ</span><code data-lake-id=\"u51131993\" id=\"u51131993\"><span data-lake-id=\"u7800d0f5\" id=\"u7800d0f5\">commitlint</span></code><span data-lake-id=\"u5203ff6e\" id=\"u5203ff6e\"> å¯ä»¥å¸®åŠ©æˆ‘ä»¬æ£€æŸ¥æäº¤çš„ </span><code data-lake-id=\"u7722672b\" id=\"u7722672b\"><span data-lake-id=\"u6f48b656\" id=\"u6f48b656\">commit</span></code><span data-lake-id=\"u34543077\" id=\"u34543077\"> ä¿¡æ¯ï¼Œå®ƒå¼ºåˆ¶çº¦æŸæˆ‘ä»¬çš„ </span><code data-lake-id=\"u28153189\" id=\"u28153189\"><span data-lake-id=\"u696ab650\" id=\"u696ab650\">commit</span></code><span data-lake-id=\"u0a115257\" id=\"u0a115257\"> ä¿¡æ¯å¿…é¡»åœ¨å¼€å¤´é™„åŠ æŒ‡å®šç±»å‹ï¼Œç”¨äºæ ‡ç¤ºæœ¬æ¬¡æäº¤çš„å¤§è‡´æ„å›¾ï¼Œæ”¯æŒçš„ç±»å‹å…³é”®å­—æœ‰ï¼š</span></p><ul list=\"u7b02f726\"><li fid=\"udab148e1\" data-lake-id=\"u26ab9e73\" id=\"u26ab9e73\"><code data-lake-id=\"uab675aba\" id=\"uab675aba\"><span data-lake-id=\"u17d40b48\" id=\"u17d40b48\">feat</span></code><span data-lake-id=\"u0df73a16\" id=\"u0df73a16\">ï¼šè¡¨ç¤ºæ·»åŠ ä¸€ä¸ªæ–°ç‰¹æ€§ï¼›</span></li><li fid=\"udab148e1\" data-lake-id=\"u8f5d8328\" id=\"u8f5d8328\"><code data-lake-id=\"uf449fc7b\" id=\"uf449fc7b\"><span data-lake-id=\"u906705da\" id=\"u906705da\">chore</span></code><span data-lake-id=\"uf96feb40\" id=\"uf96feb40\">ï¼šè¡¨ç¤ºåšäº†ä¸€äº›ä¸ç‰¹æ€§å’Œä¿®å¤æ— å…³çš„ã€Œå®¶åŠ¡äº‹ã€ï¼›</span></li><li fid=\"udab148e1\" data-lake-id=\"ua1b40293\" id=\"ua1b40293\"><code data-lake-id=\"u7052cd39\" id=\"u7052cd39\"><span data-lake-id=\"uf8f839e6\" id=\"uf8f839e6\">fix</span></code><span data-lake-id=\"u6022e015\" id=\"u6022e015\">ï¼šè¡¨ç¤ºä¿®å¤äº†ä¸€ä¸ª </span><code data-lake-id=\"ub98c4525\" id=\"ub98c4525\"><span data-lake-id=\"u1512a4b3\" id=\"u1512a4b3\">Bug</span></code><span data-lake-id=\"uf26e5232\" id=\"uf26e5232\">ï¼›</span></li><li fid=\"udab148e1\" data-lake-id=\"ue7db7ec0\" id=\"ue7db7ec0\"><code data-lake-id=\"u0beb9cd6\" id=\"u0beb9cd6\"><span data-lake-id=\"ud71fd52e\" id=\"ud71fd52e\">refactor</span></code><span data-lake-id=\"ue92e2f47\" id=\"ue92e2f47\">ï¼šè¡¨ç¤ºæœ¬æ¬¡æäº¤æ˜¯å› ä¸ºé‡æ„äº†ä»£ç ï¼›</span></li><li fid=\"udab148e1\" data-lake-id=\"u9a4f7abc\" id=\"u9a4f7abc\"><code data-lake-id=\"u53b33b0b\" id=\"u53b33b0b\"><span data-lake-id=\"uacc5c097\" id=\"uacc5c097\">style</span></code><span data-lake-id=\"u64c3ddc7\" id=\"u64c3ddc7\">ï¼šè¡¨ç¤ºä»£ç ç¾åŒ–æˆ–æ ¼å¼åŒ–ï¼›</span></li><li fid=\"udab148e1\" data-lake-id=\"uc24c75fc\" id=\"uc24c75fc\"><span data-lake-id=\"u1bd134f3\" id=\"u1bd134f3\">...</span></li></ul><p data-lake-id=\"u896e216b\" id=\"u896e216b\"><span data-lake-id=\"u86f947ce\" id=\"u86f947ce\">â€‹</span><br></p><p data-lake-id=\"u886f7219\" id=\"u886f7219\"><span data-lake-id=\"u135b2527\" id=\"u135b2527\">æˆ‘å¼ºçƒˆå»ºè®®æ‚¨éµå¾ªè¯¥è§„èŒƒç¼–å†™æ‚¨çš„ </span><code data-lake-id=\"u27968f39\" id=\"u27968f39\"><span data-lake-id=\"u38cc6f14\" id=\"u38cc6f14\">commit</span></code><span data-lake-id=\"u6cdc039f\" id=\"u6cdc039f\"> ä¿¡æ¯ï¼Œä¸è¦å·æ‡’ï¼ŒåšæŒä¸‹å»ï¼Œæ‚¨çš„ git æ—¥å¿—å°†ä¼šæ˜¾å¾—æ•´é½ï¼Œæœ‰æ¡ç†ï¼Œå¯Œæœ‰è¡¨ç°åŠ›ï¼ŒåŒæ—¶ï¼Œæ‚¨ä¹Ÿä¼šæ”¶åˆ°åŒè¡Œçš„äº¤å£ç§°èµï¼Œäººäººéƒ½ä¼šä»¥å’Œæ‚¨è¿™æ ·ä¼˜é›…çš„å·¥ç¨‹å¸ˆåˆä½œä¸ºè£ã€‚</span></p><p data-lake-id=\"uea56f20e\" id=\"uea56f20e\"><span data-lake-id=\"u0de74706\" id=\"u0de74706\">â€‹</span><br></p><p data-lake-id=\"u557fd3ea\" id=\"u557fd3ea\"><span data-lake-id=\"ua80ae608\" id=\"ua80ae608\">é™¤äº†é™å®š </span><code data-lake-id=\"u21a72486\" id=\"u21a72486\"><span data-lake-id=\"u8a9a0984\" id=\"u8a9a0984\">commit</span></code><span data-lake-id=\"ua2e767e8\" id=\"ua2e767e8\"> ä¿¡æ¯ç±»å‹å¤–ï¼Œ</span><code data-lake-id=\"u9b3e4fd5\" id=\"u9b3e4fd5\"><span data-lake-id=\"ua3cff6f1\" id=\"ua3cff6f1\">commitlint</span></code><span data-lake-id=\"u8465607b\" id=\"u8465607b\"> è¿˜æ”¯æŒï¼ˆè™½ç„¶ä¸æ˜¯å¿…é¡»çš„ï¼‰æ˜¾ç¤ºæŒ‡å®šæˆ‘ä»¬æœ¬æ¬¡æäº¤æ‰€å¯¹åº”çš„å­é¡¹ç›®åç§°ã€‚å‡å¦‚æˆ‘ä»¬æœ‰ä¸€ä¸ªåä¸º </span><code data-lake-id=\"u46c10ca8\" id=\"u46c10ca8\"><span data-lake-id=\"udbd013d5\" id=\"udbd013d5\">@mono/project1</span></code><span data-lake-id=\"u350d476e\" id=\"u350d476e\"> çš„å­é¡¹ç›®ï¼Œæˆ‘ä»¬é’ˆå¯¹è¯¥é¡¹ç›®æäº¤çš„ </span><code data-lake-id=\"u033528b5\" id=\"u033528b5\"><span data-lake-id=\"uf64d899e\" id=\"uf64d899e\">commit</span></code><span data-lake-id=\"u5434e2e6\" id=\"u5434e2e6\"> ä¿¡æ¯å¯ä»¥å†™ä¸ºï¼š</span></p><card type=\"inline\" name=\"codeblock\" value=\"data:%7B%22mode%22%3A%22git%22%2C%22code%22%3A%22git%20commit%20-m%20%5C%22feat(project1)%3A%20add%20a%20attractive%20button%5C%22%20%23%20%E6%B3%A8%E6%84%8F%EF%BC%8C%E6%88%91%E4%BB%AC%E7%9C%81%E7%95%A5%E4%BA%86%20%40mono%20%E7%9A%84%E9%A1%B9%E7%9B%AE%E5%89%8D%E7%BC%80%22%2C%22autoWrap%22%3Afalse%2C%22heightLimit%22%3Atrue%2C%22collapsed%22%3Afalse%2C%22name%22%3A%22%22%2C%22tabSize%22%3Anull%2C%22indentWithTab%22%3Afalse%2C%22lightLines%22%3A%5B%5D%2C%22foldLines%22%3A%5B%5D%2C%22theme%22%3A%22One%20Dark%20Pro%22%2C%22__spacing%22%3A%22both%22%2C%22id%22%3A%22mS363%22%2C%22margin%22%3A%7B%22top%22%3Atrue%2C%22bottom%22%3Atrue%7D%7D\"></card><p data-lake-id=\"u33f250b2\" id=\"u33f250b2\"><span data-lake-id=\"u39ee78d7\" id=\"u39ee78d7\">æ¯«æ— ç–‘é—®ï¼Œè¿™å°†ä¼šä½¿æˆ‘ä»¬çš„ </span><code data-lake-id=\"u8d39e761\" id=\"u8d39e761\"><span data-lake-id=\"u7e73f30a\" id=\"u7e73f30a\">commit</span></code><span data-lake-id=\"u597630bd\" id=\"u597630bd\"> ä¿¡æ¯æ›´å…·è¡¨ç°åŠ›ã€‚</span></p><p data-lake-id=\"u1142642d\" id=\"u1142642d\"><span data-lake-id=\"u00d85ab4\" id=\"u00d85ab4\">â€‹</span><br></p><p data-lake-id=\"uff98ac97\" id=\"uff98ac97\"><span data-lake-id=\"u69aed614\" id=\"u69aed614\">æˆ‘ä»¬å¯ä»¥é€šè¿‡ä¸‹é¢çš„å‘½ä»¤å®‰è£… </span><code data-lake-id=\"u6c379d0d\" id=\"u6c379d0d\"><span data-lake-id=\"ufe56aa7c\" id=\"ufe56aa7c\">commitlint</span></code><span data-lake-id=\"ub8f35156\" id=\"ub8f35156\"> ä»¥åŠå‘¨è¾¹ä¾èµ–ï¼š</span></p><card type=\"inline\" name=\"codeblock\" value=\"data:%7B%22mode%22%3A%22shell%22%2C%22code%22%3A%22npm%20i%20-D%20%40commitlint%2Fcli%20%40commitlint%2Fconfig-conventional%20%40commitlint%2Fconfig-lerna-scopes%20commitlint%20husky%20lerna-changelog%22%2C%22autoWrap%22%3Afalse%2C%22heightLimit%22%3Atrue%2C%22collapsed%22%3Afalse%2C%22name%22%3A%22%22%2C%22tabSize%22%3Anull%2C%22indentWithTab%22%3Afalse%2C%22lightLines%22%3A%5B%5D%2C%22foldLines%22%3A%5B%5D%2C%22theme%22%3A%22One%20Dark%20Pro%22%2C%22__spacing%22%3A%22both%22%2C%22id%22%3A%22RkIa0%22%2C%22margin%22%3A%7B%22top%22%3Atrue%2C%22bottom%22%3Atrue%7D%7D\"></card><p data-lake-id=\"ua6fc73f1\" id=\"ua6fc73f1\"><span data-lake-id=\"u602e0852\" id=\"u602e0852\">æ³¨æ„åˆ°äº†å—ï¼Ÿæˆ‘å·å·å®‰è£…äº† </span><a href=\"https://www.npmjs.com/package/husky\" target=\"_blank\" data-lake-id=\"u34a95f1f\" id=\"u34a95f1f\"><span data-lake-id=\"u236da9b2\" id=\"u236da9b2\">husky</span></a><span data-lake-id=\"u997d1eca\" id=\"u997d1eca\">ï¼Œå®ƒèƒ½å¤Ÿå¸®åŠ©æˆ‘ä»¬åœ¨æäº¤ </span><code data-lake-id=\"u810cd935\" id=\"u810cd935\"><span data-lake-id=\"ua9d317f0\" id=\"ua9d317f0\">commit</span></code><span data-lake-id=\"ua98fe343\" id=\"ua98fe343\"> ä¿¡æ¯æ—¶è‡ªåŠ¨è¿è¡Œ </span><code data-lake-id=\"u15700044\" id=\"u15700044\"><span data-lake-id=\"uca7fd45e\" id=\"uca7fd45e\">commitlint</span></code><span data-lake-id=\"u5ffffbab\" id=\"u5ffffbab\"> è¿›è¡Œæ£€æŸ¥ï¼Œä½†åœ¨è¿™ä¹‹å‰ï¼Œæˆ‘ä»¬éœ€è¦å†åœ¨æ ¹ç›®å½•ä¸‹çš„ </span><code data-lake-id=\"uad4c2104\" id=\"uad4c2104\"><span data-lake-id=\"u8c580867\" id=\"u8c580867\">package.json</span></code><span data-lake-id=\"u72fa236b\" id=\"u72fa236b\"> æ–‡ä»¶é‡ŒåŠ ç‚¹æ–™ï¼Œåƒè¿™æ ·ï¼š</span></p><card type=\"inline\" name=\"codeblock\" value=\"data:%7B%22mode%22%3A%22json%22%2C%22code%22%3A%22%7B%5Cn%20...%5Cn%20%5C%22husky%5C%22%3A%20%7B%5Cn%20%20%20%20%5C%22hooks%5C%22%3A%20%7B%5Cn%20%20%20%20%20%20%5C%22commit-msg%5C%22%3A%20%5C%22commitlint%20-E%20HUSKY_GIT_PARAMS%5C%22%5Cn%20%20%20%20%7D%5Cn%20%20%7D%5Cn%20...%5Cn%7D%22%2C%22autoWrap%22%3Afalse%2C%22heightLimit%22%3Atrue%2C%22collapsed%22%3Afalse%2C%22name%22%3A%22%22%2C%22tabSize%22%3Anull%2C%22indentWithTab%22%3Afalse%2C%22lightLines%22%3A%5B%5D%2C%22foldLines%22%3A%5B%5D%2C%22theme%22%3A%22One%20Dark%20Pro%22%2C%22__spacing%22%3A%22both%22%2C%22id%22%3A%22jzcnb%22%2C%22margin%22%3A%7B%22top%22%3Atrue%2C%22bottom%22%3Atrue%7D%7D\"></card><p data-lake-id=\"ucb1bc6e7\" id=\"ucb1bc6e7\"><span data-lake-id=\"u75a9374a\" id=\"u75a9374a\">ä¸ºäº†èƒ½å¤Ÿè®© </span><code data-lake-id=\"u10dcb718\" id=\"u10dcb718\"><span data-lake-id=\"ueb94a3a5\" id=\"ueb94a3a5\">commitlint</span></code><span data-lake-id=\"u84d1702c\" id=\"u84d1702c\"> æ„ŸçŸ¥æˆ‘ä»¬çš„å­é¡¹ç›®åç§°ï¼Œæˆ‘ä»¬è¿˜éœ€åœ¨é¡¹ç›®æ ¹ç›®å½•ä¸­å¢åŠ  </span><code data-lake-id=\"ua710abb0\" id=\"ua710abb0\"><span data-lake-id=\"u2cc9cec6\" id=\"u2cc9cec6\">commitlint.config.js</span></code><span data-lake-id=\"ub96831c9\" id=\"ub96831c9\"> æ–‡ä»¶ï¼Œå¹¶è®¾ç½®æ–‡ä»¶å†…å®¹ä¸ºï¼š</span></p><card type=\"inline\" name=\"codeblock\" value=\"data:%7B%22mode%22%3A%22javascript%22%2C%22code%22%3A%22module.exports%20%3D%20%7B%5Cn%20%20extends%3A%20%5B%5Cn%20%20%20%20%5C%22%40commitlint%2Fconfig-conventional%5C%22%2C%5Cn%20%20%20%20%5C%22%40commitlint%2Fconfig-lerna-scopes%5C%22%2C%5Cn%20%20%5D%2C%5Cn%7D%3B%22%2C%22autoWrap%22%3Afalse%2C%22heightLimit%22%3Atrue%2C%22collapsed%22%3Afalse%2C%22name%22%3A%22%22%2C%22tabSize%22%3Anull%2C%22indentWithTab%22%3Afalse%2C%22lightLines%22%3A%5B%5D%2C%22foldLines%22%3A%5B%5D%2C%22theme%22%3A%22One%20Dark%20Pro%22%2C%22__spacing%22%3A%22both%22%2C%22id%22%3A%22cPxqv%22%2C%22margin%22%3A%7B%22top%22%3Atrue%2C%22bottom%22%3Atrue%7D%7D\"></card><p data-lake-id=\"uaafcda09\" id=\"uaafcda09\"><span data-lake-id=\"u0709ea10\" id=\"u0709ea10\">è‡³æ­¤ï¼Œæˆ‘ä»¬ç»Ÿä¸€å¹¶è§„èŒƒåŒ–äº† </span><code data-lake-id=\"u6f624d5b\" id=\"u6f624d5b\"><span data-lake-id=\"uc4e7ad05\" id=\"uc4e7ad05\">monorepo</span></code><span data-lake-id=\"u87a29266\" id=\"u87a29266\"> é¡¹ç›®çš„ </span><code data-lake-id=\"u7d0d6105\" id=\"u7d0d6105\"><span data-lake-id=\"u71adea85\" id=\"u71adea85\">commit</span></code><span data-lake-id=\"u53eef623\" id=\"u53eef623\"> ä¿¡æ¯ï¼Œç»ˆäºæ•´ä¸ª </span><code data-lake-id=\"u6cf66f2a\" id=\"u6cf66f2a\"><span data-lake-id=\"ua8154aff\" id=\"ua8154aff\">monorepo</span></code><span data-lake-id=\"ucda6fc78\" id=\"ucda6fc78\"> å·¥ç¨‹åŒ–çš„æœ€åä¸€å—æ‹¼å›¾è¢«æˆ‘ä»¬æ‹¼ä¸Šäº†ï¼</span></p><p data-lake-id=\"u76a2a263\" id=\"u76a2a263\"><span data-lake-id=\"u144eb853\" id=\"u144eb853\">ï¼ˆé¡ºä¾¿ä¸€æï¼Œæ‚¨å¯ä»¥é€šè¿‡åœ¨å‘½ä»¤è¡Œæ‰§è¡Œ </span><code data-lake-id=\"u92212ec6\" id=\"u92212ec6\"><span data-lake-id=\"uebc2ce2c\" id=\"uebc2ce2c\">echo &quot;build(project1): change something&quot; | npx commitlint</span></code><span data-lake-id=\"u2114bc23\" id=\"u2114bc23\"> å‘½ä»¤å³å¯éªŒè¯æ‚¨çš„ </span><code data-lake-id=\"u2e63527f\" id=\"u2e63527f\"><span data-lake-id=\"u09edc290\" id=\"u09edc290\">commit</span></code><span data-lake-id=\"u45fb9ca8\" id=\"u45fb9ca8\"> ä¿¡æ¯æ˜¯å¦é€šè¿‡ </span><code data-lake-id=\"u6fb0832a\" id=\"u6fb0832a\"><span data-lake-id=\"u9989d717\" id=\"u9989d717\">commitlint</span></code><span data-lake-id=\"u52b5d5aa\" id=\"u52b5d5aa\"> çš„æ£€æŸ¥ã€‚ï¼‰</span></p>",
  "body_draft_lake": "",
  "public": 0,
  "status": 1,
  "view_status": 0,
  "read_status": 1,
  "likes_count": 0,
  "comments_count": 0,
  "content_updated_at": "2022-05-09T16:14:37.000Z",
  "deleted_at": null,
  "created_at": "2022-04-04T11:33:56.000Z",
  "updated_at": "2022-05-09T16:14:38.000Z",
  "published_at": "2022-05-09T16:14:37.000Z",
  "first_published_at": "2022-04-04T11:33:56.374Z",
  "word_count": 6761,
  "cover": "https://cdn.nlark.com/yuque/0/2022/png/732231/1648745861879-4f0cfeac-98d9-4bb6-976c-ce3d58870495.png",
  "description": "å¤§å‹é¡¹ç›®ç®¡ç†  MonorepoèƒŒæ™¯ä¸€ä¸ªä½“ç³»åºå¤§çš„ä»£ç åº“æ‹†åˆ†æˆå¤šä¸ªå•ç‹¬çš„å…·æœ‰ç‹¬ç«‹ç‰ˆæœ¬çš„ packageï¼Œå¯¹äºå¼€å‘å®é™…çš„ä»£ç å…±äº«éå¸¸æœ‰ç”¨ã€‚æ•°é‡è¾ƒå°‘çš„æ—¶å€™ï¼Œå¤šä¸ªä»“åº“ç»´æŠ¤ä¸ä¼šæœ‰å¤ªå¤§é—®é¢˜ï¼Œä½†æ˜¯å½“ç‹¬ç«‹ package æ•°é‡è¶Šæ¥è¶Šå¤šçš„æ—¶å€™ï¼Œå°±ä¼šæš´éœ²å‡ºå¾ˆå¤šå¼€å‘å›°æ‰°çš„é—®é¢˜ï¼šè·¨è¶Šå¾ˆå¤šä»£ç å­˜å‚¨åº“ï¼Œä¿®æ”¹ä»£ç å¾ˆéº»çƒ¦i...",
  "custom_description": null,
  "hits": 0,
  "_serializer": "v2.doc_detail"
}