{
  "id": 72212183,
  "slug": "fvfmxc",
  "title": "preload、prefetch、preconnect 以及 dns-prefetch",
  "book_id": 26225124,
  "book": {
    "id": 26225124,
    "type": "Book",
    "slug": "mxunh7",
    "name": "八股文 eight-part essay writing",
    "user_id": 732231,
    "description": "前端八股文",
    "creator_id": 732231,
    "public": 0,
    "items_count": 239,
    "likes_count": 0,
    "watches_count": 1,
    "content_updated_at": "2023-11-11T18:15:57.023Z",
    "updated_at": "2023-11-11T18:15:57.000Z",
    "created_at": "2022-04-04T11:31:45.000Z",
    "namespace": "wcywxq/mxunh7",
    "user": {
      "id": 732231,
      "type": "User",
      "login": "wcywxq",
      "name": "magic",
      "description": null,
      "avatar_url": "https://cdn.nlark.com/yuque/0/2020/png/732231/1606968271774-avatar/886ad88b-d2cc-4c9e-a674-f70eb51a679c.png",
      "books_count": 18,
      "public_books_count": 0,
      "followers_count": 0,
      "following_count": 0,
      "created_at": "2020-01-08T14:21:31.000Z",
      "updated_at": "2023-11-13T09:32:35.000Z",
      "_serializer": "v2.user"
    },
    "_serializer": "v2.book"
  },
  "user_id": 732231,
  "creator": {
    "id": 732231,
    "type": "User",
    "login": "wcywxq",
    "name": "magic",
    "description": null,
    "avatar_url": "https://cdn.nlark.com/yuque/0/2020/png/732231/1606968271774-avatar/886ad88b-d2cc-4c9e-a674-f70eb51a679c.png",
    "books_count": 18,
    "public_books_count": 0,
    "followers_count": 0,
    "following_count": 0,
    "created_at": "2020-01-08T14:21:31.000Z",
    "updated_at": "2023-11-13T09:32:35.000Z",
    "_serializer": "v2.user"
  },
  "format": "lake",
  "body": "`<link>` 是一种 html 标签，用于加载外部资源。最常见的用法，就是加载 css 样式文件，写法如下：\n```html\n<link rel='stylesheet' href='./index.css'>\n```\n\n- rel 属性是 \"关系\" 的意思，它的值 stylesheet 表示使用的是样式表\n- href 表示资源的地址，当前 html 文件通过这个地址来加载内容\n\n但 link 的功能不仅限于此，它也可以控制资源的下载优先级、提前和指定域名进行连接。\n:::info\n总结：\n\n1. preload：提高资源加载优先级，适用于提前加载字体、语言包等场景。\n2. prefetch：降低资源加载优先级，在下载空闲时再下载缓存起来，适用于提前资源提前加载以提高加载速度的场景\n3. preconnect：预先和目标域名进行连接，包括 dns 查询、tcp、http(s) 连接\n4. dns-prefetch：预先查询好目标域名的 ip\n:::\n<a name=\"voh6Z\"></a>\n## preload\n```html\n<link rel='preload' href='./main.css' as='style'>\n```\npreload，作用是将对应资源的下载优先级提升为最高。preload 负责提高下载优先级，并将其下载好，但不负责将资源嵌入到页面，需要自行找到合适的地方将其进行显示嵌入。同时 preload 也不会影响资源的执行顺序，如果有多个资源都使用了 preload，那么谁先设置 preload 谁就先下载，as 属性是必填的，不同类型文件对应的值也不同。\n:::info\n**使用场景：**\n\n- 有字体的 css 先加载，防止字体突变\n- 按需加载语言包的语言包 js 文件最先加载\n:::\n<a name=\"dl4IE\"></a>\n## prefetch\n```html\n<link rel='prefetch' href='lib/jquery.min.js' as='script'>\n```\n对于设置了 prefetch 的资源，浏览器会认为这个资源目前不会用到，但可能下个页面会用到，于是会将对应资源的下载优先级降为最低 Lowest。<br />在其他资源加载好了之后，下载队列就会进入空闲状态，此时该资源才被下载缓存起来。<br />如果进入的下一个页面使用了这个资源，将会在 network 面板上看到 prefetch cache。<br />![image.png](https://cdn.nlark.com/yuque/0/2022/png/732231/1647495479371-f4e3b244-94eb-4791-8b72-c2e45099b5b3.png#clientId=u06940638-28e1-4&from=paste&height=245&id=u65505d69&originHeight=245&originWidth=1304&originalType=binary&ratio=1&size=130578&status=done&style=none&taskId=u4e04df03-4049-46e4-8c2f-935461ba83c&width=1304)\n:::info\n使用场景：\n\n- 工具类官网首页介绍工具用法时，将会提前加载好真正的工具页面所需要的一些资源，等用户点击进行跳转。从而提高工具页面的加载速度，改善用户体验。\n:::\n<a name=\"x1EhE\"></a>\n## preconnect\n```html\n<link rel='preconnect' href='https://cdn-s1.somecdnsite.com'>\n```\npreconnect 的作用是提前和目标服务器进行链接。这个连接过程包括：dns 查询得到 ip、tcp 的三次握手、http/https 连接。因为过程比较繁琐，因此我们可以提前做这个连接操作，节省100～200ms，在网络不好或者网络波动时，效果会更好。<br />![image.png](https://cdn.nlark.com/yuque/0/2022/png/732231/1647495746488-cc18b92b-c5c8-4b1c-9a65-2e3120e9f9f5.png#clientId=u06940638-28e1-4&from=paste&height=247&id=uca019f1a&originHeight=247&originWidth=1304&originalType=binary&ratio=1&size=53087&status=done&style=none&taskId=uf45f228a-8d0e-4910-9c64-3a8b20ea76a&width=1304)\n:::info\n使用场景：\n\n- 常用的 cdn 资源所在的域名提前进行连接\n- 视频不播放时，在用户点击播放前，提前连接对应域名\n:::\n<a name=\"aUMHo\"></a>\n## dns-prefetch\n```html\n<link rel='dns-prefetch' href='https://cdn-s1.somecdnsite.com'>\n```\ndns-prefetch 是预先通过 dns 查询得到指定域名对应的 ip，在真正请求该域名下资源时，可以省略掉 dns 查询这一步骤。dns-prefetch 是 preconnect 更细粒度的版本。\n:::danger\n注意：preconnect 不能使用过多，使用过多会阻塞正常的请求，因此可以配合适量的 dns-prefetch，减少时间损耗\n:::\n:::info\n使用场景：\n\n- 常用的 cdn 资源所在的域名提前进行连接\n- 视频不播放时，在用户点击播放前，提前连接对应域名\n:::\n",
  "body_draft": "",
  "body_html": "<!doctype html><p data-lake-id=\"u0242ce0e\"><code><span>&lt;link&gt;</span></code><span> 是一种 html 标签，用于加载外部资源。最常见的用法，就是加载 css 样式文件，写法如下：</span></p><pre data-lang=\"html\"><code>&lt;link rel='stylesheet' href='./index.css'&gt;</code></pre><ul><li><span>rel 属性是 &quot;关系&quot; 的意思，它的值 stylesheet 表示使用的是样式表</span></li><li><span>href 表示资源的地址，当前 html 文件通过这个地址来加载内容</span></li></ul><p data-lake-id=\"u8171d105\"><span>但 link 的功能不仅限于此，它也可以控制资源的下载优先级、提前和指定域名进行连接。</span></p><blockquote class=\"lake-alert lake-alert-info\"><p data-lake-id=\"u7e30b838\"><span>总结：</span></p><ol><li><span>preload：提高资源加载优先级，适用于提前加载字体、语言包等场景。</span></li><li><span>prefetch：降低资源加载优先级，在下载空闲时再下载缓存起来，适用于提前资源提前加载以提高加载速度的场景</span></li><li><span>preconnect：预先和目标域名进行连接，包括 dns 查询、tcp、http(s) 连接</span></li><li><span>dns-prefetch：预先查询好目标域名的 ip</span></li></ol></blockquote><h2 id=\"voh6Z\"><span>preload</span></h2><pre data-lang=\"html\"><code>&lt;link rel='preload' href='./main.css' as='style'&gt;</code></pre><p data-lake-id=\"u8cde3e84\" style=\"text-indent: 2em;\"><span>preload，作用是将对应资源的下载优先级提升为最高。preload 负责提高下载优先级，并将其下载好，但不负责将资源嵌入到页面，需要自行找到合适的地方将其进行显示嵌入。同时 preload 也不会影响资源的执行顺序，如果有多个资源都使用了 preload，那么谁先设置 preload 谁就先下载，as 属性是必填的，不同类型文件对应的值也不同。</span></p><blockquote class=\"lake-alert lake-alert-info\"><p data-lake-id=\"ud6e3fc16\"><strong><span>使用场景：</span></strong></p><ul><li><span>有字体的 css 先加载，防止字体突变</span></li><li><span>按需加载语言包的语言包 js 文件最先加载</span></li></ul></blockquote><h2 id=\"dl4IE\"><span>prefetch</span></h2><pre data-lang=\"html\"><code>&lt;link rel='prefetch' href='lib/jquery.min.js' as='script'&gt;</code></pre><p data-lake-id=\"u1e8af2e0\" style=\"text-indent: 2em;\"><span>对于设置了 prefetch 的资源，浏览器会认为这个资源目前不会用到，但可能下个页面会用到，于是会将对应资源的下载优先级降为最低 Lowest。</span></p><p data-lake-id=\"ueae4dab6\" style=\"text-indent: 2em;\"><span>在其他资源加载好了之后，下载队列就会进入空闲状态，此时该资源才被下载缓存起来。</span></p><p data-lake-id=\"u82460fd1\" style=\"text-indent: 2em;\"><span>如果进入的下一个页面使用了这个资源，将会在 network 面板上看到 prefetch cache。</span></p><p data-lake-id=\"uc3d2d8d4\"><img alt=\"image.png\" src=\"https://cdn.nlark.com/yuque/0/2022/png/732231/1647495479371-f4e3b244-94eb-4791-8b72-c2e45099b5b3.png#clientId=u06940638-28e1-4&amp;from=paste&amp;height=245&amp;id=u65505d69&amp;margin=%5Bobject%20Object%5D&amp;name=image.png&amp;originHeight=245&amp;originWidth=1304&amp;originalType=binary&amp;ratio=1&amp;size=130578&amp;status=done&amp;style=none&amp;taskId=u4e04df03-4049-46e4-8c2f-935461ba83c&amp;width=1304\" style=\"max-width: 600px; width: 1304px;\" /></p><blockquote class=\"lake-alert lake-alert-info\"><p data-lake-id=\"u5788889d\"><span>使用场景：</span></p><ul><li><span>工具类官网首页介绍工具用法时，将会提前加载好真正的工具页面所需要的一些资源，等用户点击进行跳转。从而提高工具页面的加载速度，改善用户体验。</span></li></ul></blockquote><h2 id=\"x1EhE\"><span>preconnect</span></h2><pre data-lang=\"html\"><code>&lt;link rel='preconnect' href='https://cdn-s1.somecdnsite.com'&gt;</code></pre><p data-lake-id=\"u523fd2f9\" style=\"text-indent: 2em;\"><span>preconnect 的作用是提前和目标服务器进行链接。这个连接过程包括：dns 查询得到 ip、tcp 的三次握手、http/https 连接。因为过程比较繁琐，因此我们可以提前做这个连接操作，节省100～200ms，在网络不好或者网络波动时，效果会更好。</span></p><p data-lake-id=\"u383dd6ed\"><img alt=\"image.png\" src=\"https://cdn.nlark.com/yuque/0/2022/png/732231/1647495746488-cc18b92b-c5c8-4b1c-9a65-2e3120e9f9f5.png#clientId=u06940638-28e1-4&amp;from=paste&amp;height=247&amp;id=uca019f1a&amp;margin=%5Bobject%20Object%5D&amp;name=image.png&amp;originHeight=247&amp;originWidth=1304&amp;originalType=binary&amp;ratio=1&amp;size=53087&amp;status=done&amp;style=none&amp;taskId=uf45f228a-8d0e-4910-9c64-3a8b20ea76a&amp;width=1304\" style=\"max-width: 600px; width: 1304px;\" /></p><blockquote class=\"lake-alert lake-alert-info\"><p data-lake-id=\"ue3458ebc\"><span>使用场景：</span></p><ul><li><span>常用的 cdn 资源所在的域名提前进行连接</span></li><li><span>视频不播放时，在用户点击播放前，提前连接对应域名</span></li></ul></blockquote><h2 id=\"aUMHo\"><span>dns-prefetch</span></h2><pre data-lang=\"html\"><code>&lt;link rel='dns-prefetch' href='https://cdn-s1.somecdnsite.com'&gt;</code></pre><p data-lake-id=\"u2af9de88\"><span>dns-prefetch 是预先通过 dns 查询得到指定域名对应的 ip，在真正请求该域名下资源时，可以省略掉 dns 查询这一步骤。dns-prefetch 是 preconnect 更细粒度的版本。</span></p><blockquote class=\"lake-alert lake-alert-danger\"><p data-lake-id=\"u39ac0430\"><span>注意：preconnect 不能使用过多，使用过多会阻塞正常的请求，因此可以配合适量的 dns-prefetch，减少时间损耗</span></p></blockquote><blockquote class=\"lake-alert lake-alert-info\"><p data-lake-id=\"u6de4a0b5\"><span>使用场景：</span></p><ul><li><span>常用的 cdn 资源所在的域名提前进行连接</span></li><li><span>视频不播放时，在用户点击播放前，提前连接对应域名</span></li></ul></blockquote>",
  "body_lake": "<!doctype lake><meta name=\"doc-version\" content=\"1\" /><meta name=\"typography\" content=\"classic\" /><meta name=\"viewport\" content=\"adapt\" /><p data-lake-id=\"u0242ce0e\" id=\"u0242ce0e\"><code data-lake-id=\"ua87c064b\" id=\"ua87c064b\"><span data-lake-id=\"u7e75f3c4\" id=\"u7e75f3c4\">&lt;link&gt;</span></code><span data-lake-id=\"u976abd47\" id=\"u976abd47\"> 是一种 html 标签，用于加载外部资源。最常见的用法，就是加载 css 样式文件，写法如下：</span></p><card type=\"inline\" name=\"codeblock\" value=\"data:%7B%22mode%22%3A%22html%22%2C%22code%22%3A%22%3Clink%20rel%3D'stylesheet'%20href%3D'.%2Findex.css'%3E%22%2C%22autoWrap%22%3Afalse%2C%22theme%22%3A%22default%22%2C%22__spacing%22%3A%22both%22%2C%22heightLimit%22%3Atrue%2C%22id%22%3A%22Jsi51%22%2C%22margin%22%3A%7B%22top%22%3Atrue%2C%22bottom%22%3Atrue%7D%7D\"></card><ul list=\"ub36886a0\"><li fid=\"u38cfee33\" data-lake-id=\"u3d55009e\" id=\"u3d55009e\"><span data-lake-id=\"u2133e82b\" id=\"u2133e82b\">rel 属性是 &quot;关系&quot; 的意思，它的值 stylesheet 表示使用的是样式表</span></li><li fid=\"u38cfee33\" data-lake-id=\"u9090a610\" id=\"u9090a610\"><span data-lake-id=\"u2ad4e01a\" id=\"u2ad4e01a\">href 表示资源的地址，当前 html 文件通过这个地址来加载内容</span></li></ul><p data-lake-id=\"u8171d105\" id=\"u8171d105\"><span data-lake-id=\"ufb1dc3b8\" id=\"ufb1dc3b8\">但 link 的功能不仅限于此，它也可以控制资源的下载优先级、提前和指定域名进行连接。</span></p><blockquote data-lake-id=\"u0871a03b\" id=\"u0871a03b\" class=\"lake-alert lake-alert-info\"><p data-lake-id=\"u7e30b838\" id=\"u7e30b838\"><span data-lake-id=\"u2d82b882\" id=\"u2d82b882\">总结：</span></p><ol list=\"ucb4b5849\"><li fid=\"u05e7614d\" data-lake-id=\"u57e16f24\" id=\"u57e16f24\"><span data-lake-id=\"u2f2d30af\" id=\"u2f2d30af\">preload：提高资源加载优先级，适用于提前加载字体、语言包等场景。</span></li><li fid=\"u05e7614d\" data-lake-id=\"u229d3ca7\" id=\"u229d3ca7\"><span data-lake-id=\"uc13139b0\" id=\"uc13139b0\">prefetch：降低资源加载优先级，在下载空闲时再下载缓存起来，适用于提前资源提前加载以提高加载速度的场景</span></li><li fid=\"u05e7614d\" data-lake-id=\"u57271ffd\" id=\"u57271ffd\"><span data-lake-id=\"u35196f10\" id=\"u35196f10\">preconnect：预先和目标域名进行连接，包括 dns 查询、tcp、http(s) 连接</span></li><li fid=\"u05e7614d\" data-lake-id=\"ub443d104\" id=\"ub443d104\"><span data-lake-id=\"u5f057cb3\" id=\"u5f057cb3\">dns-prefetch：预先查询好目标域名的 ip</span></li></ol></blockquote><h2 data-lake-id=\"voh6Z\" id=\"voh6Z\"><span data-lake-id=\"u1bc56cfe\" id=\"u1bc56cfe\">preload</span></h2><card type=\"inline\" name=\"codeblock\" value=\"data:%7B%22mode%22%3A%22html%22%2C%22code%22%3A%22%3Clink%20rel%3D'preload'%20href%3D'.%2Fmain.css'%20as%3D'style'%3E%22%2C%22autoWrap%22%3Afalse%2C%22theme%22%3A%22default%22%2C%22__spacing%22%3A%22both%22%2C%22heightLimit%22%3Atrue%2C%22id%22%3A%22o5IsR%22%2C%22margin%22%3A%7B%22top%22%3Atrue%2C%22bottom%22%3Atrue%7D%7D\"></card><p data-lake-id=\"u8cde3e84\" id=\"u8cde3e84\" style=\"text-indent: 2em\"><span data-lake-id=\"u1540adbb\" id=\"u1540adbb\">preload，作用是将对应资源的下载优先级提升为最高。preload 负责提高下载优先级，并将其下载好，但不负责将资源嵌入到页面，需要自行找到合适的地方将其进行显示嵌入。同时 preload 也不会影响资源的执行顺序，如果有多个资源都使用了 preload，那么谁先设置 preload 谁就先下载，as 属性是必填的，不同类型文件对应的值也不同。</span></p><blockquote data-lake-id=\"ud4c45484\" id=\"ud4c45484\" class=\"lake-alert lake-alert-info\"><p data-lake-id=\"ud6e3fc16\" id=\"ud6e3fc16\"><strong><span data-lake-id=\"uaab4159d\" id=\"uaab4159d\">使用场景：</span></strong></p><ul list=\"ub1fd3a96\"><li fid=\"u6b81bf6f\" data-lake-id=\"u31d566c4\" id=\"u31d566c4\"><span data-lake-id=\"u28349d9e\" id=\"u28349d9e\">有字体的 css 先加载，防止字体突变</span></li><li fid=\"u6b81bf6f\" data-lake-id=\"u5653fe41\" id=\"u5653fe41\"><span data-lake-id=\"uf09b53c8\" id=\"uf09b53c8\">按需加载语言包的语言包 js 文件最先加载</span></li></ul></blockquote><h2 data-lake-id=\"dl4IE\" id=\"dl4IE\"><span data-lake-id=\"u8adbc811\" id=\"u8adbc811\">prefetch</span></h2><card type=\"inline\" name=\"codeblock\" value=\"data:%7B%22mode%22%3A%22html%22%2C%22code%22%3A%22%3Clink%20rel%3D'prefetch'%20href%3D'lib%2Fjquery.min.js'%20as%3D'script'%3E%22%2C%22autoWrap%22%3Afalse%2C%22theme%22%3A%22default%22%2C%22__spacing%22%3A%22both%22%2C%22heightLimit%22%3Atrue%2C%22id%22%3A%22J5tA1%22%2C%22margin%22%3A%7B%22top%22%3Atrue%2C%22bottom%22%3Atrue%7D%7D\"></card><p data-lake-id=\"u1e8af2e0\" id=\"u1e8af2e0\" style=\"text-indent: 2em\"><span data-lake-id=\"u9c5539b2\" id=\"u9c5539b2\">对于设置了 prefetch 的资源，浏览器会认为这个资源目前不会用到，但可能下个页面会用到，于是会将对应资源的下载优先级降为最低 Lowest。</span></p><p data-lake-id=\"ueae4dab6\" id=\"ueae4dab6\" style=\"text-indent: 2em\"><span data-lake-id=\"u93cd9094\" id=\"u93cd9094\">在其他资源加载好了之后，下载队列就会进入空闲状态，此时该资源才被下载缓存起来。</span></p><p data-lake-id=\"u82460fd1\" id=\"u82460fd1\" style=\"text-indent: 2em\"><span data-lake-id=\"u8a758303\" id=\"u8a758303\">如果进入的下一个页面使用了这个资源，将会在 network 面板上看到 prefetch cache。</span></p><p data-lake-id=\"uc3d2d8d4\" id=\"uc3d2d8d4\"><card type=\"inline\" name=\"image\" value=\"data:%7B%22src%22%3A%22https%3A%2F%2Fcdn.nlark.com%2Fyuque%2F0%2F2022%2Fpng%2F732231%2F1647495479371-f4e3b244-94eb-4791-8b72-c2e45099b5b3.png%22%2C%22taskId%22%3A%22u4e04df03-4049-46e4-8c2f-935461ba83c%22%2C%22clientId%22%3A%22u06940638-28e1-4%22%2C%22originalType%22%3A%22binary%22%2C%22width%22%3A1304%2C%22height%22%3A245%2C%22linkTarget%22%3A%22_blank%22%2C%22name%22%3A%22image.png%22%2C%22size%22%3A130578%2C%22from%22%3A%22paste%22%2C%22originWidth%22%3A1304%2C%22originHeight%22%3A245%2C%22ratio%22%3A1%2C%22status%22%3A%22done%22%2C%22style%22%3A%22none%22%2C%22search%22%3A%22WATERFALL%20NAME%20TIME%20PRIORITY%20INITIATOR%20SIZE%20OTHER%20SECOND.HTML%202.2KB%20HIGHEST%204%20MS%20%40%E7%A8%80%E5%9C%9F%E6%8E%98%E9%87%91%E6%8A%80%E6%9C%AF%E7%A4%BE%E5%8C%BA%20HIGH%20JQUERYMIN.JS%20(PREFETCH%20CACHE)%205MS%20SECOND.HTML%22%2C%22ocrLocations%22%3A%5B%7B%22x%22%3A1118.1771%2C%22y%22%3A135.13744%2C%22width%22%3A84.20179999999982%2C%22height%22%3A20.27081000000001%2C%22text%22%3A%22WATERFALL%22%7D%2C%7B%22x%22%3A0.06695013%2C%22y%22%3A135.76971%2C%22width%22%3A57.321249869999995%2C%22height%22%3A18.994100000000003%2C%22text%22%3A%22NAME%22%7D%2C%7B%22x%22%3A813.8916%2C%22y%22%3A135.88928%2C%22width%22%3A48.95830000000001%2C%22height%22%3A19.772549999999995%2C%22text%22%3A%22TIME%22%7D%2C%7B%22x%22%3A970.14954%2C%22y%22%3A136.06967%2C%22width%22%3A68.66446000000008%2C%22height%22%3A21.4272%2C%22text%22%3A%22PRIORITY%22%7D%2C%7B%22x%22%3A313.9717%2C%22y%22%3A136.42012%2C%22width%22%3A72.02690000000001%2C%22height%22%3A19.467579999999998%2C%22text%22%3A%22INITIATOR%22%7D%2C%7B%22x%22%3A607.0798%2C%22y%22%3A136.74634%2C%22width%22%3A42.00229999999999%2C%22height%22%3A18.130059999999986%2C%22text%22%3A%22SIZE%22%7D%2C%7B%22x%22%3A314.68274%2C%22y%22%3A178.09306%2C%22width%22%3A52.83525999999995%2C%22height%22%3A19.81765999999999%2C%22text%22%3A%22OTHER%22%7D%2C%7B%22x%22%3A34.558704%2C%22y%22%3A179.03835%2C%22width%22%3A120.31055599999999%2C%22height%22%3A19.61784%2C%22text%22%3A%22SECOND.HTML%22%7D%2C%7B%22x%22%3A740.19543%2C%22y%22%3A179.00229%2C%22width%22%3A59.73766999999998%2C%22height%22%3A19.01015000000001%2C%22text%22%3A%222.2KB%22%7D%2C%7B%22x%22%3A971.29926%2C%22y%22%3A179.36432%2C%22width%22%3A74.53253999999993%2C%22height%22%3A19.484499999999997%2C%22text%22%3A%22HIGHEST%22%7D%2C%7B%22x%22%3A908.0024%2C%22y%22%3A180.13443%2C%22width%22%3A50.26909999999998%2C%22height%22%3A18.57219999999998%2C%22text%22%3A%224%20MS%22%7D%2C%7B%22x%22%3A1137.7382%2C%22y%22%3A211.73413%2C%22width%22%3A150.9018000000001%2C%22height%22%3A25.28415000000001%2C%22text%22%3A%22%40%E7%A8%80%E5%9C%9F%E6%8E%98%E9%87%91%E6%8A%80%E6%9C%AF%E7%A4%BE%E5%8C%BA%22%7D%2C%7B%22x%22%3A969.93066%2C%22y%22%3A215.05547%2C%22width%22%3A46.79731000000004%2C%22height%22%3A21.390029999999996%2C%22text%22%3A%22HIGH%22%7D%2C%7B%22x%22%3A34.259327%2C%22y%22%3A213.81046%2C%22width%22%3A122.492293%2C%22height%22%3A24.44435999999999%2C%22text%22%3A%22JQUERYMIN.JS%22%7D%2C%7B%22x%22%3A649.4075%2C%22y%22%3A215.44374%2C%22width%22%3A151.71079999999995%2C%22height%22%3A21.87166000000002%2C%22text%22%3A%22(PREFETCH%20CACHE)%22%7D%2C%7B%22x%22%3A907.59595%2C%22y%22%3A215.5929%2C%22width%22%3A51.68151999999998%2C%22height%22%3A19.730070000000012%2C%22text%22%3A%225MS%22%7D%2C%7B%22x%22%3A313.64038%2C%22y%22%3A216.6328%2C%22width%22%3A117.55007999999998%2C%22height%22%3A18.252499999999998%2C%22text%22%3A%22SECOND.HTML%22%7D%5D%2C%22id%22%3A%22u65505d69%22%2C%22margin%22%3A%7B%22top%22%3Atrue%2C%22bottom%22%3Atrue%7D%7D\"></card></p><blockquote data-lake-id=\"ufb7e3235\" id=\"ufb7e3235\" class=\"lake-alert lake-alert-info\"><p data-lake-id=\"u5788889d\" id=\"u5788889d\"><span data-lake-id=\"u206b6001\" id=\"u206b6001\">使用场景：</span></p><ul list=\"u41655bb2\"><li fid=\"u3e17ecbe\" data-lake-id=\"u19e2da09\" id=\"u19e2da09\"><span data-lake-id=\"ubb83e8c2\" id=\"ubb83e8c2\">工具类官网首页介绍工具用法时，将会提前加载好真正的工具页面所需要的一些资源，等用户点击进行跳转。从而提高工具页面的加载速度，改善用户体验。</span></li></ul></blockquote><h2 data-lake-id=\"x1EhE\" id=\"x1EhE\"><span data-lake-id=\"uefb5b733\" id=\"uefb5b733\">preconnect</span></h2><card type=\"inline\" name=\"codeblock\" value=\"data:%7B%22mode%22%3A%22html%22%2C%22code%22%3A%22%3Clink%20rel%3D'preconnect'%20href%3D'https%3A%2F%2Fcdn-s1.somecdnsite.com'%3E%22%2C%22autoWrap%22%3Afalse%2C%22theme%22%3A%22default%22%2C%22__spacing%22%3A%22both%22%2C%22heightLimit%22%3Atrue%2C%22id%22%3A%22GYWxg%22%2C%22margin%22%3A%7B%22top%22%3Atrue%2C%22bottom%22%3Atrue%7D%7D\"></card><p data-lake-id=\"u523fd2f9\" id=\"u523fd2f9\" style=\"text-indent: 2em\"><span data-lake-id=\"u92d7ac0e\" id=\"u92d7ac0e\">preconnect 的作用是提前和目标服务器进行链接。这个连接过程包括：dns 查询得到 ip、tcp 的三次握手、http/https 连接。因为过程比较繁琐，因此我们可以提前做这个连接操作，节省100～200ms，在网络不好或者网络波动时，效果会更好。</span></p><p data-lake-id=\"u383dd6ed\" id=\"u383dd6ed\"><card type=\"inline\" name=\"image\" value=\"data:%7B%22src%22%3A%22https%3A%2F%2Fcdn.nlark.com%2Fyuque%2F0%2F2022%2Fpng%2F732231%2F1647495746488-cc18b92b-c5c8-4b1c-9a65-2e3120e9f9f5.png%22%2C%22taskId%22%3A%22uf45f228a-8d0e-4910-9c64-3a8b20ea76a%22%2C%22clientId%22%3A%22u06940638-28e1-4%22%2C%22originalType%22%3A%22binary%22%2C%22width%22%3A1304%2C%22height%22%3A247%2C%22linkTarget%22%3A%22_blank%22%2C%22name%22%3A%22image.png%22%2C%22size%22%3A53087%2C%22from%22%3A%22paste%22%2C%22originWidth%22%3A1304%2C%22originHeight%22%3A247%2C%22ratio%22%3A1%2C%22status%22%3A%22done%22%2C%22style%22%3A%22none%22%2C%22search%22%3A%22CONNECTION%20START%20DURATION%20STALLED%200.88%20MS%200.25MS%20PROXY%20NEGOTIATION%2019.25MS%20DNS%20LOOKUP%20INITIAL%20CONNECTION%20206.75MS%20SSL%20%40%E7%A8%80%E5%9C%9F%E6%8D%AE20535MS%22%2C%22ocrLocations%22%3A%5B%7B%22x%22%3A4.403021%2C%22y%22%3A13.642096%2C%22width%22%3A158.809839%2C%22height%22%3A20.649460999999995%2C%22text%22%3A%22CONNECTION%20START%22%7D%2C%7B%22x%22%3A1194.1211%2C%22y%22%3A14.72187%2C%22width%22%3A103.22079999999983%2C%22height%22%3A19.488986999999998%2C%22text%22%3A%22DURATION%22%7D%2C%7B%22x%22%3A25.640734%2C%22y%22%3A53.730614%2C%22width%22%3A64.52474600000001%2C%22height%22%3A19.68152599999999%2C%22text%22%3A%22STALLED%22%7D%2C%7B%22x%22%3A1222.1163%2C%22y%22%3A54.481953%2C%22width%22%3A75.63940000000002%2C%22height%22%3A18.767837000000007%2C%22text%22%3A%220.88%20MS%22%7D%2C%7B%22x%22%3A1220.071%2C%22y%22%3A92.1526%2C%22width%22%3A77.10340000000019%2C%22height%22%3A20.605499999999992%2C%22text%22%3A%220.25MS%22%7D%2C%7B%22x%22%3A27.082146%2C%22y%22%3A92.58528%2C%22width%22%3A158.73719400000002%2C%22height%22%3A20.643020000000007%2C%22text%22%3A%22PROXY%20NEGOTIATION%22%7D%2C%7B%22x%22%3A1211.9177%2C%22y%22%3A131.23277%2C%22width%22%3A84.15689999999995%2C%22height%22%3A18.76343%2C%22text%22%3A%2219.25MS%22%7D%2C%7B%22x%22%3A26.21243%2C%22y%22%3A131.29424%2C%22width%22%3A117.52761%2C%22height%22%3A22.06074000000001%2C%22text%22%3A%22DNS%20LOOKUP%22%7D%2C%7B%22x%22%3A25.268618%2C%22y%22%3A169.5756%2C%22width%22%3A155.489622%2C%22height%22%3A20.80247%2C%22text%22%3A%22INITIAL%20CONNECTION%22%7D%2C%7B%22x%22%3A1199.1273%2C%22y%22%3A170.11765%2C%22width%22%3A98.6096%2C%22height%22%3A19.381079999999997%2C%22text%22%3A%22206.75MS%22%7D%2C%7B%22x%22%3A24.156975%2C%22y%22%3A209.0016%2C%22width%22%3A40.93083899999999%2C%22height%22%3A20.059330000000017%2C%22text%22%3A%22SSL%22%7D%2C%7B%22x%22%3A1136.8739%2C%22y%22%3A212.31732%2C%22width%22%3A160.76499999999987%2C%22height%22%3A23.662890000000004%2C%22text%22%3A%22%40%E7%A8%80%E5%9C%9F%E6%8D%AE20535MS%22%7D%5D%2C%22id%22%3A%22uca019f1a%22%2C%22margin%22%3A%7B%22top%22%3Atrue%2C%22bottom%22%3Atrue%7D%7D\"></card></p><blockquote data-lake-id=\"u08962bd7\" id=\"u08962bd7\" class=\"lake-alert lake-alert-info\"><p data-lake-id=\"ue3458ebc\" id=\"ue3458ebc\"><span data-lake-id=\"u9ece0d8a\" id=\"u9ece0d8a\">使用场景：</span></p><ul list=\"u1741994f\"><li fid=\"u7bc23ac9\" data-lake-id=\"ub9e31016\" id=\"ub9e31016\"><span data-lake-id=\"ud0a7d8b9\" id=\"ud0a7d8b9\">常用的 cdn 资源所在的域名提前进行连接</span></li><li fid=\"u7bc23ac9\" data-lake-id=\"u8d1fa90a\" id=\"u8d1fa90a\"><span data-lake-id=\"u15f30154\" id=\"u15f30154\">视频不播放时，在用户点击播放前，提前连接对应域名</span></li></ul></blockquote><h2 data-lake-id=\"aUMHo\" id=\"aUMHo\"><span data-lake-id=\"u9502198a\" id=\"u9502198a\">dns-prefetch</span></h2><card type=\"inline\" name=\"codeblock\" value=\"data:%7B%22mode%22%3A%22html%22%2C%22code%22%3A%22%3Clink%20rel%3D'dns-prefetch'%20href%3D'https%3A%2F%2Fcdn-s1.somecdnsite.com'%3E%22%2C%22autoWrap%22%3Afalse%2C%22theme%22%3A%22default%22%2C%22__spacing%22%3A%22both%22%2C%22heightLimit%22%3Atrue%2C%22id%22%3A%22xE23t%22%2C%22margin%22%3A%7B%22top%22%3Atrue%2C%22bottom%22%3Atrue%7D%7D\"></card><p data-lake-id=\"u2af9de88\" id=\"u2af9de88\"><span data-lake-id=\"u57d17f9f\" id=\"u57d17f9f\">dns-prefetch 是预先通过 dns 查询得到指定域名对应的 ip，在真正请求该域名下资源时，可以省略掉 dns 查询这一步骤。dns-prefetch 是 preconnect 更细粒度的版本。</span></p><blockquote data-lake-id=\"u4f56a53b\" id=\"u4f56a53b\" class=\"lake-alert lake-alert-danger\"><p data-lake-id=\"u39ac0430\" id=\"u39ac0430\"><span data-lake-id=\"u79f51463\" id=\"u79f51463\">注意：preconnect 不能使用过多，使用过多会阻塞正常的请求，因此可以配合适量的 dns-prefetch，减少时间损耗</span></p></blockquote><blockquote data-lake-id=\"u688e8427\" id=\"u688e8427\" class=\"lake-alert lake-alert-info\"><p data-lake-id=\"u6de4a0b5\" id=\"u6de4a0b5\"><span data-lake-id=\"uaaca728b\" id=\"uaaca728b\">使用场景：</span></p><ul list=\"u50513fc6\"><li fid=\"u7bc23ac9\" data-lake-id=\"u46165b07\" id=\"u46165b07\"><span data-lake-id=\"ufc1ee1a0\" id=\"ufc1ee1a0\">常用的 cdn 资源所在的域名提前进行连接</span></li><li fid=\"u7bc23ac9\" data-lake-id=\"u2cc6aeaf\" id=\"u2cc6aeaf\"><span data-lake-id=\"uce843586\" id=\"uce843586\">视频不播放时，在用户点击播放前，提前连接对应域名</span></li></ul></blockquote>",
  "body_draft_lake": "",
  "public": 0,
  "status": 1,
  "view_status": 0,
  "read_status": 1,
  "likes_count": 0,
  "comments_count": 0,
  "content_updated_at": "2022-04-04T11:33:30.000Z",
  "deleted_at": null,
  "created_at": "2022-04-04T11:33:30.000Z",
  "updated_at": "2022-05-10T15:12:36.000Z",
  "published_at": "2022-04-04T11:33:30.000Z",
  "first_published_at": "2022-04-04T11:33:29.836Z",
  "word_count": 924,
  "cover": "https://cdn.nlark.com/yuque/0/2022/png/732231/1647495479371-f4e3b244-94eb-4791-8b72-c2e45099b5b3.png",
  "description": "<link> 是一种 html 标签，用于加载外部资源。最常见的用法，就是加载 css 样式文件，写法如下：<link rel='stylesheet' href='./index.css'>rel 属性是 \"关系\" 的意思，它的值 stylesheet 表示使用的是样式表href 表示资源的...",
  "custom_description": null,
  "hits": 0,
  "_serializer": "v2.doc_detail"
}