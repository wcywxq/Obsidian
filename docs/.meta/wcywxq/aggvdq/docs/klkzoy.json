{
  "id": 66948082,
  "slug": "klkzoy",
  "title": "介绍",
  "book_id": 24987782,
  "book": {
    "id": 24987782,
    "type": "Book",
    "slug": "aggvdq",
    "name": "项目梳理",
    "user_id": 732231,
    "description": "用来梳理一些项目的内容",
    "creator_id": 732231,
    "public": 0,
    "items_count": 23,
    "likes_count": 0,
    "watches_count": 1,
    "content_updated_at": "2022-12-25T07:59:52.340Z",
    "updated_at": "2023-11-07T15:52:14.000Z",
    "created_at": "2022-03-03T15:06:25.000Z",
    "namespace": "wcywxq/aggvdq",
    "user": {
      "id": 732231,
      "type": "User",
      "login": "wcywxq",
      "name": "magic",
      "description": null,
      "avatar_url": "https://cdn.nlark.com/yuque/0/2020/png/732231/1606968271774-avatar/886ad88b-d2cc-4c9e-a674-f70eb51a679c.png",
      "books_count": 18,
      "public_books_count": 0,
      "followers_count": 0,
      "following_count": 0,
      "created_at": "2020-01-08T14:21:31.000Z",
      "updated_at": "2023-11-13T09:32:35.000Z",
      "_serializer": "v2.user"
    },
    "_serializer": "v2.book"
  },
  "user_id": 732231,
  "creator": {
    "id": 732231,
    "type": "User",
    "login": "wcywxq",
    "name": "magic",
    "description": null,
    "avatar_url": "https://cdn.nlark.com/yuque/0/2020/png/732231/1606968271774-avatar/886ad88b-d2cc-4c9e-a674-f70eb51a679c.png",
    "books_count": 18,
    "public_books_count": 0,
    "followers_count": 0,
    "following_count": 0,
    "created_at": "2020-01-08T14:21:31.000Z",
    "updated_at": "2023-11-13T09:32:35.000Z",
    "_serializer": "v2.user"
  },
  "format": "lake",
  "body": "目前小程序业务的上线部署流程中除了 CI 流程以外，其余步骤基本都靠人工手动操作，效率低下且无法追溯。为此，团队自驱设计开发了小程序上线平台，将除提审和发布之外的全部手工操作流程(版本管理、代码上传、体验码生成、代码包存储、sourceMap 存储等)进行了自动化封装，并和已有的 CI 流程串联起来，闭环小程序业务的完整上线生命周期\n<a name=\"mT6Ed\"></a>\n## 首页\n\n- 展示接入的小程序项目的基本信息，包括项目地址、渠道路径、流水线地址、上线分支等\n- 展示当前项目的所有上线单列表，对应的上线单在不同权限下可进行查看、编辑和删除等操作\n- 新建上线单的时候，自动获取最近已上线的版本号，同时更新上线单状态\n- 另外，在编辑上线单的时候，如果想要取消某个渠道的发布，需要判定该渠道是否已上线，如果未上线即可以取消，已上线则不能取消，因此会增加一个字段作为标识。\n<a name=\"d9teV\"></a>\n## 上线单\n\n- 展示基本信息，包括 rd 值班人、qa 值班人，是否需要业务方协同回归\n- 展示当前上线单需求列表，其中需求项对应的 rd 和 qa 的状态确认功能需做权限校验\n- 创建、编辑、删除当前上线单需求\n- 展示当前上线单所有的业务协同方列表，包含业务方信息、rd 和 qa 对接人需要签字确认做权限校验\n- 创建上线单后可以自定义是否发出通知，包含上线单填写通知、需求确认通知、业务方签字提醒通知，这些通知内容是在配置中心设置的\n<a name=\"HiYQi\"></a>\n## patch\n\n- 新建 patch，此时小程序版本号需要做推算，即取所有上线的 patch(不区分渠道)中的最大的 patch 版本 +1，这里渠道如果上线则默认不可选，只做信息展示\n- 发起上线将会根据配置的渠道来做相应的信息切换，每个渠道下将展示当前 patch 包所对应的代码相关的信息和体验版二维码等，其中如果当前存在体验版二维码，则当前 patch 带 *\n- 发起上线的所有渠道都会包含的流程\n   - 自动：拉取代码、OE构建、代码上传、生成 soureMap\n   - 手动：版本提审\n   - 手动：版本发布\n- 发起上线的所有渠道都支持一键回滚的功能，回滚后将变更为版本提审的状态，同时需要记录相关日志信息\n<a name=\"ufgNx\"></a>\n## 配置中心\n\n- 快速接入：包含项目信息配置、小程序信息配置\n- 分组管理：配置用户权限、用户搜索、删除等功能，添加是与 git 权限做关联的，这是 oe 系统的事情\n- 小程序信息管理：更新小程序信息，已上线的渠道配置将无法改变\n- 消息通知群信息配置：包括群的名字和 token，以及新增和删除\n- 通知消息模块配置：配置上线单通知、rd & qa check 通知、业务方签字信息通知、业务方信息配置、自动订阅通知等群消息通知配置\n- 系统参数管理：用于整个系统的参数变量配置\n",
  "body_draft": "",
  "body_html": "<!doctype html><div class=\"lake-content\" typography=\"classic\"><p id=\"ua8ce7583\" class=\"ne-p\"><span class=\"ne-text\">目前小程序业务的上线部署流程中除了 CI 流程以外，其余步骤基本都靠人工手动操作，效率低下且无法追溯。为此，团队自驱设计开发了小程序上线平台，将除提审和发布之外的全部手工操作流程(版本管理、代码上传、体验码生成、代码包存储、sourceMap 存储等)进行了自动化封装，并和已有的 CI 流程串联起来，闭环小程序业务的完整上线生命周期</span></p><h2 id=\"mT6Ed\"><span class=\"ne-text\">首页</span></h2><p id=\"uf17836d7\" class=\"ne-p\"><br></p><ul class=\"ne-ul\"><li id=\"ucbea64f7\"><span class=\"ne-text\">展示接入的小程序项目的基本信息，包括项目地址、渠道路径、流水线地址、上线分支等</span></li><li id=\"u6d517af5\"><span class=\"ne-text\">展示当前项目的所有上线单列表，对应的上线单在不同权限下可进行查看、编辑和删除等操作</span></li><li id=\"ubb763e18\"><span class=\"ne-text\">新建上线单的时候，自动获取最近已上线的版本号，同时更新上线单状态</span></li><li id=\"ud8dfd1b3\"><span class=\"ne-text\">另外，在编辑上线单的时候，如果想要取消某个渠道的发布，需要判定该渠道是否已上线，如果未上线即可以取消，已上线则不能取消，因此会增加一个字段作为标识。</span></li></ul><h2 id=\"d9teV\"><span class=\"ne-text\">上线单</span></h2><p id=\"u9d888032\" class=\"ne-p\"><br></p><ul class=\"ne-ul\"><li id=\"ub79c9c8f\"><span class=\"ne-text\">展示基本信息，包括 rd 值班人、qa 值班人，是否需要业务方协同回归</span></li><li id=\"u8f2b5ec0\"><span class=\"ne-text\">展示当前上线单需求列表，其中需求项对应的 rd 和 qa 的状态确认功能需做权限校验</span></li><li id=\"udd964948\"><span class=\"ne-text\">创建、编辑、删除当前上线单需求</span></li><li id=\"u46db783c\"><span class=\"ne-text\">展示当前上线单所有的业务协同方列表，包含业务方信息、rd 和 qa 对接人需要签字确认做权限校验</span></li><li id=\"u70cb9310\"><span class=\"ne-text\">创建上线单后可以自定义是否发出通知，包含上线单填写通知、需求确认通知、业务方签字提醒通知，这些通知内容是在配置中心设置的</span></li></ul><h2 id=\"HiYQi\"><span class=\"ne-text\">patch</span></h2><p id=\"ub5258948\" class=\"ne-p\"><br></p><ul class=\"ne-ul\"><li id=\"u93abe042\"><span class=\"ne-text\">新建 patch，此时小程序版本号需要做推算，即取所有上线的 patch(不区分渠道)中的最大的 patch 版本 +1，这里渠道如果上线则默认不可选，只做信息展示</span></li><li id=\"u1f7386f3\"><span class=\"ne-text\">发起上线将会根据配置的渠道来做相应的信息切换，每个渠道下将展示当前 patch 包所对应的代码相关的信息和体验版二维码等，其中如果当前存在体验版二维码，则当前 patch 带 *</span></li><li id=\"ufb83f531\"><span class=\"ne-text\">发起上线的所有渠道都会包含的流程</span></li></ul><ul class=\"ne-list-wrap\"><ul ne-level=\"1\" class=\"ne-ul\"><li id=\"ufe1a6249\"><span class=\"ne-text\">自动：拉取代码、OE构建、代码上传、生成 soureMap</span></li><li id=\"uaa09925d\"><span class=\"ne-text\">手动：版本提审</span></li><li id=\"uc60f49f9\"><span class=\"ne-text\">手动：版本发布</span></li></ul></ul><ul class=\"ne-ul\"><li id=\"u828e1aca\"><span class=\"ne-text\">发起上线的所有渠道都支持一键回滚的功能，回滚后将变更为版本提审的状态，同时需要记录相关日志信息</span></li></ul><h2 id=\"ufgNx\"><span class=\"ne-text\">配置中心</span></h2><p id=\"ue7db0585\" class=\"ne-p\"><br></p><ul class=\"ne-ul\"><li id=\"ud546642c\"><span class=\"ne-text\">快速接入：包含项目信息配置、小程序信息配置</span></li><li id=\"u561a183c\"><span class=\"ne-text\">分组管理：配置用户权限、用户搜索、删除等功能，添加是与 git 权限做关联的，这是 oe 系统的事情</span></li><li id=\"u4b498f78\"><span class=\"ne-text\">小程序信息管理：更新小程序信息，已上线的渠道配置将无法改变</span></li><li id=\"u41cdb16e\"><span class=\"ne-text\">消息通知群信息配置：包括群的名字和 token，以及新增和删除</span></li><li id=\"u2b03e4b1\"><span class=\"ne-text\">通知消息模块配置：配置上线单通知、rd &amp; qa check 通知、业务方签字信息通知、业务方信息配置、自动订阅通知等群消息通知配置</span></li><li id=\"u396eb13a\"><span class=\"ne-text\">系统参数管理：用于整个系统的参数变量配置</span></li></ul></div>",
  "body_lake": "<!doctype lake><meta name=\"doc-version\" content=\"1\" /><meta name=\"typography\" content=\"classic\" /><meta name=\"viewport\" content=\"fixed\" /><p data-lake-id=\"ua8ce7583\" id=\"ua8ce7583\"><span data-lake-id=\"u8f703ee2\" id=\"u8f703ee2\">目前小程序业务的上线部署流程中除了 CI 流程以外，其余步骤基本都靠人工手动操作，效率低下且无法追溯。为此，团队自驱设计开发了小程序上线平台，将除提审和发布之外的全部手工操作流程(版本管理、代码上传、体验码生成、代码包存储、sourceMap 存储等)进行了自动化封装，并和已有的 CI 流程串联起来，闭环小程序业务的完整上线生命周期</span></p><h2 data-lake-id=\"mT6Ed\" id=\"mT6Ed\"><span data-lake-id=\"u0f3ecbce\" id=\"u0f3ecbce\">首页</span></h2><p data-lake-id=\"uf17836d7\" id=\"uf17836d7\"><br></p><ul list=\"ub98068f4\"><li fid=\"u7ed44504\" data-lake-id=\"ucbea64f7\" id=\"ucbea64f7\"><span data-lake-id=\"ua3b6b1dd\" id=\"ua3b6b1dd\">展示接入的小程序项目的基本信息，包括项目地址、渠道路径、流水线地址、上线分支等</span></li><li fid=\"u7ed44504\" data-lake-id=\"u6d517af5\" id=\"u6d517af5\"><span data-lake-id=\"u47dffbfb\" id=\"u47dffbfb\">展示当前项目的所有上线单列表，对应的上线单在不同权限下可进行查看、编辑和删除等操作</span></li><li fid=\"u7ed44504\" data-lake-id=\"ubb763e18\" id=\"ubb763e18\"><span data-lake-id=\"u7ab60ed2\" id=\"u7ab60ed2\">新建上线单的时候，自动获取最近已上线的版本号，同时更新上线单状态</span></li><li fid=\"u7ed44504\" data-lake-id=\"ud8dfd1b3\" id=\"ud8dfd1b3\"><span data-lake-id=\"u895daadb\" id=\"u895daadb\">另外，在编辑上线单的时候，如果想要取消某个渠道的发布，需要判定该渠道是否已上线，如果未上线即可以取消，已上线则不能取消，因此会增加一个字段作为标识。</span></li></ul><h2 data-lake-id=\"d9teV\" id=\"d9teV\"><span data-lake-id=\"ue8cdc57b\" id=\"ue8cdc57b\">上线单</span></h2><p data-lake-id=\"u9d888032\" id=\"u9d888032\"><br></p><ul list=\"uad7d6401\"><li fid=\"ud0d1f795\" data-lake-id=\"ub79c9c8f\" id=\"ub79c9c8f\"><span data-lake-id=\"u0e81757d\" id=\"u0e81757d\">展示基本信息，包括 rd 值班人、qa 值班人，是否需要业务方协同回归</span></li><li fid=\"ud0d1f795\" data-lake-id=\"u8f2b5ec0\" id=\"u8f2b5ec0\"><span data-lake-id=\"u777d67e7\" id=\"u777d67e7\">展示当前上线单需求列表，其中需求项对应的 rd 和 qa 的状态确认功能需做权限校验</span></li><li fid=\"ud0d1f795\" data-lake-id=\"udd964948\" id=\"udd964948\"><span data-lake-id=\"u7c33bf5c\" id=\"u7c33bf5c\">创建、编辑、删除当前上线单需求</span></li><li fid=\"ud0d1f795\" data-lake-id=\"u46db783c\" id=\"u46db783c\"><span data-lake-id=\"u496157a0\" id=\"u496157a0\">展示当前上线单所有的业务协同方列表，包含业务方信息、rd 和 qa 对接人需要签字确认做权限校验</span></li><li fid=\"ud0d1f795\" data-lake-id=\"u70cb9310\" id=\"u70cb9310\"><span data-lake-id=\"u51bfe763\" id=\"u51bfe763\">创建上线单后可以自定义是否发出通知，包含上线单填写通知、需求确认通知、业务方签字提醒通知，这些通知内容是在配置中心设置的</span></li></ul><h2 data-lake-id=\"HiYQi\" id=\"HiYQi\"><span data-lake-id=\"u275077f7\" id=\"u275077f7\">patch</span></h2><p data-lake-id=\"ub5258948\" id=\"ub5258948\"><br></p><ul list=\"uae56eceb\"><li fid=\"u80c8200e\" data-lake-id=\"u93abe042\" id=\"u93abe042\"><span data-lake-id=\"ua874c90b\" id=\"ua874c90b\">新建 patch，此时小程序版本号需要做推算，即取所有上线的 patch(不区分渠道)中的最大的 patch 版本 +1，这里渠道如果上线则默认不可选，只做信息展示</span></li><li fid=\"u80c8200e\" data-lake-id=\"u1f7386f3\" id=\"u1f7386f3\"><span data-lake-id=\"u449bcc3a\" id=\"u449bcc3a\">发起上线将会根据配置的渠道来做相应的信息切换，每个渠道下将展示当前 patch 包所对应的代码相关的信息和体验版二维码等，其中如果当前存在体验版二维码，则当前 patch 带 *</span></li><li fid=\"u80c8200e\" data-lake-id=\"ufb83f531\" id=\"ufb83f531\"><span data-lake-id=\"uc5525698\" id=\"uc5525698\">发起上线的所有渠道都会包含的流程</span></li></ul><ul list=\"uae56eceb\" data-lake-indent=\"1\"><li fid=\"u80c8200e\" data-lake-id=\"ufe1a6249\" id=\"ufe1a6249\"><span data-lake-id=\"u8df9f0ab\" id=\"u8df9f0ab\">自动：拉取代码、OE构建、代码上传、生成 soureMap</span></li><li fid=\"u80c8200e\" data-lake-id=\"uaa09925d\" id=\"uaa09925d\"><span data-lake-id=\"u90197f0e\" id=\"u90197f0e\">手动：版本提审</span></li><li fid=\"u80c8200e\" data-lake-id=\"uc60f49f9\" id=\"uc60f49f9\"><span data-lake-id=\"ud5bd7fda\" id=\"ud5bd7fda\">手动：版本发布</span></li></ul><ul list=\"uae56eceb\" start=\"4\"><li fid=\"u80c8200e\" data-lake-id=\"u828e1aca\" id=\"u828e1aca\"><span data-lake-id=\"u34d692fa\" id=\"u34d692fa\">发起上线的所有渠道都支持一键回滚的功能，回滚后将变更为版本提审的状态，同时需要记录相关日志信息</span></li></ul><h2 data-lake-id=\"ufgNx\" id=\"ufgNx\"><span data-lake-id=\"u7d2cda5f\" id=\"u7d2cda5f\">配置中心</span></h2><p data-lake-id=\"ue7db0585\" id=\"ue7db0585\"><br></p><ul list=\"u12c38acd\"><li fid=\"u8223bc88\" data-lake-id=\"ud546642c\" id=\"ud546642c\"><span data-lake-id=\"u27609b66\" id=\"u27609b66\">快速接入：包含项目信息配置、小程序信息配置</span></li><li fid=\"u8223bc88\" data-lake-id=\"u561a183c\" id=\"u561a183c\"><span data-lake-id=\"ua7f078ff\" id=\"ua7f078ff\">分组管理：配置用户权限、用户搜索、删除等功能，添加是与 git 权限做关联的，这是 oe 系统的事情</span></li><li fid=\"u8223bc88\" data-lake-id=\"u4b498f78\" id=\"u4b498f78\"><span data-lake-id=\"u92882e40\" id=\"u92882e40\">小程序信息管理：更新小程序信息，已上线的渠道配置将无法改变</span></li><li fid=\"u8223bc88\" data-lake-id=\"u41cdb16e\" id=\"u41cdb16e\"><span data-lake-id=\"ub2ecea60\" id=\"ub2ecea60\">消息通知群信息配置：包括群的名字和 token，以及新增和删除</span></li><li fid=\"u8223bc88\" data-lake-id=\"u2b03e4b1\" id=\"u2b03e4b1\"><span data-lake-id=\"udfdf0728\" id=\"udfdf0728\">通知消息模块配置：配置上线单通知、rd &amp; qa check 通知、业务方签字信息通知、业务方信息配置、自动订阅通知等群消息通知配置</span></li><li fid=\"u8223bc88\" data-lake-id=\"u396eb13a\" id=\"u396eb13a\"><span data-lake-id=\"u5b0940f3\" id=\"u5b0940f3\">系统参数管理：用于整个系统的参数变量配置</span></li></ul>",
  "body_draft_lake": "",
  "public": 0,
  "status": 1,
  "view_status": 0,
  "read_status": 1,
  "likes_count": 0,
  "comments_count": 0,
  "content_updated_at": "2022-04-26T17:07:19.000Z",
  "deleted_at": null,
  "created_at": "2022-02-17T13:54:25.000Z",
  "updated_at": "2022-04-26T17:07:19.000Z",
  "published_at": "2022-04-26T17:07:19.000Z",
  "first_published_at": "2022-02-20T15:56:53.000Z",
  "word_count": 963,
  "cover": null,
  "description": "目前小程序业务的上线部署流程中除了 CI 流程以外，其余步骤基本都靠人工手动操作，效率低下且无法追溯。为此，团队自驱设计开发了小程序上线平台，将除提审和发布之外的全部手工操作流程(版本管理、代码上传、体验码生成、代码包存储、sourceMap 存储等)进行了自动化封装，并和已有的 CI 流程串...",
  "custom_description": null,
  "hits": 0,
  "_serializer": "v2.doc_detail"
}