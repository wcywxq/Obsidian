---
title: 长列表性能优化
url: https://www.yuque.com/wcywxq/aggvdq/gkfqwb
---

- [长列表性能优化](https://juejin.cn/post/6979865534166728711)
  - 高度固定：通过计算每项 item 和高度 size
  - 高度不固定：页面加载完毕后，对数据数组里每一项的 height、top 和 bottom 的值做缓存。然后利用二分法进行查找，根据页面的滚动距离 scrollTop 对应于缓存数组中的哪一项的 bottom。使用二分法的目的是因为后面会根据真实 dom 重新计算每一项的 height、top 和 bottom。在页面更新后，通过 Element.getBoundingClientRect() 获取真实高度，更新缓存数组中的数据，实现更新滚动条高度
