{
  "id": 81938260,
  "slug": "nzrear",
  "title": "polyfill",
  "description": "// Composited file - DO NOT EDIT //---------------------------------------------------------------------- // // ECMAScript 5 Polyfills // //-------...",
  "cover": "",
  "user_id": 732231,
  "book_id": 24987782,
  "last_editor_id": 732231,
  "format": "lake",
  "body_draft": "<!doctype html><div class=\"lake-content\" typography=\"classic\"><pre data-language=\"javascript\" id=\"aMPFW\" class=\"ne-codeblock language-javascript\">// Composited file - DO NOT EDIT\n//----------------------------------------------------------------------\n//\n// ECMAScript 5 Polyfills\n//\n//----------------------------------------------------------------------\n\n//----------------------------------------------------------------------\n// ES5 15.2 Object Objects\n//----------------------------------------------------------------------\n\n//\n// ES5 15.2.3 Properties of the Object Constructor\n//\n\n// ES5 15.2.3.2 Object.getPrototypeOf ( O )\n// From http://ejohn.org/blog/objectgetprototypeof/\n// NOTE: won't work for typical function T() {}; T.prototype = {}; new T; case\n// since the constructor property is destroyed.\nif (!Object.getPrototypeOf) {\n  Object.getPrototypeOf = function (o) {\n    if (o !== Object(o)) { throw TypeError(&quot;Object.getPrototypeOf called on non-object&quot;); }\n    return o.__proto__ || o.constructor.prototype || Object.prototype;\n  };\n}\n\n//    // ES5 15.2.3.3 Object.getOwnPropertyDescriptor ( O, P )\n//    if (typeof Object.getOwnPropertyDescriptor !== &quot;function&quot;) {\n//        Object.getOwnPropertyDescriptor = function (o, name) {\n//            if (o !== Object(o)) { throw TypeError(); }\n//            if (o.hasOwnProperty(name)) {\n//                return {\n//                    value: o[name],\n//                    enumerable: true,\n//                    writable: true,\n//                    configurable: true\n//                };\n//            }\n//        };\n//    }\n\n// ES5 15.2.3.4 Object.getOwnPropertyNames ( O )\nif (typeof Object.getOwnPropertyNames !== &quot;function&quot;) {\n  Object.getOwnPropertyNames = function (o) {\n    if (o !== Object(o)) { throw TypeError(&quot;Object.getOwnPropertyNames called on non-object&quot;); }\n    var props = [], p;\n    for (p in o) {\n      if (Object.prototype.hasOwnProperty.call(o, p)) {\n        props.push(p);\n      }\n    }\n    return props;\n  };\n}\n\n// ES5 15.2.3.5 Object.create ( O [, Properties] )\nif (typeof Object.create !== &quot;function&quot;) {\n  Object.create = function (prototype, properties) {\n    if (typeof prototype !== &quot;object&quot;) { throw TypeError(); }\n    function Ctor() {}\n    Ctor.prototype = prototype;\n    var o = new Ctor();\n    if (prototype) { o.constructor = Ctor; }\n    if (properties !== undefined) {\n      if (properties !== Object(properties)) { throw TypeError(); }\n      Object.defineProperties(o, properties);\n    }\n    return o;\n  };\n}\n\n// ES 15.2.3.6 Object.defineProperty ( O, P, Attributes )\n// Partial support for most common case - getters, setters, and values\n(function() {\n  if (!Object.defineProperty ||\n      !(function () { try { Object.defineProperty({}, 'x', {}); return true; } catch (e) { return false; } } ())) {\n    var orig = Object.defineProperty;\n    Object.defineProperty = function (o, prop, desc) {\n      // In IE8 try built-in implementation for defining properties on DOM prototypes.\n      if (orig) { try { return orig(o, prop, desc); } catch (e) {} }\n\n      if (o !== Object(o)) { throw TypeError(&quot;Object.defineProperty called on non-object&quot;); }\n      if (Object.prototype.__defineGetter__ &amp;&amp; ('get' in desc)) {\n        Object.prototype.__defineGetter__.call(o, prop, desc.get);\n      }\n      if (Object.prototype.__defineSetter__ &amp;&amp; ('set' in desc)) {\n        Object.prototype.__defineSetter__.call(o, prop, desc.set);\n      }\n      if ('value' in desc) {\n        o[prop] = desc.value;\n      }\n      return o;\n    };\n  }\n}());\n\n// ES 15.2.3.7 Object.defineProperties ( O, Properties )\nif (typeof Object.defineProperties !== &quot;function&quot;) {\n  Object.defineProperties = function (o, properties) {\n    if (o !== Object(o)) { throw TypeError(&quot;Object.defineProperties called on non-object&quot;); }\n    var name;\n    for (name in properties) {\n      if (Object.prototype.hasOwnProperty.call(properties, name)) {\n        Object.defineProperty(o, name, properties[name]);\n      }\n    }\n    return o;\n  };\n}\n\n\n// ES5 15.2.3.14 Object.keys ( O )\n// https://developer.mozilla.org/en/JavaScript/Reference/Global_Objects/Object/keys\nif (!Object.keys) {\n  Object.keys = function (o) {\n    if (o !== Object(o)) { throw TypeError('Object.keys called on non-object'); }\n    var ret = [], p;\n    for (p in o) {\n      if (Object.prototype.hasOwnProperty.call(o, p)) {\n        ret.push(p);\n      }\n    }\n    return ret;\n  };\n}\n\n//----------------------------------------------------------------------\n// ES5 15.3 Function Objects\n//----------------------------------------------------------------------\n\n//\n// ES5 15.3.4 Properties of the Function Prototype Object\n//\n\n// ES5 15.3.4.5 Function.prototype.bind ( thisArg [, arg1 [, arg2, ... ]] )\n// https://developer.mozilla.org/en/JavaScript/Reference/Global_Objects/Function/bind\nif (!Function.prototype.bind) {\n  Function.prototype.bind = function (o) {\n    if (typeof this !== 'function') { throw TypeError(&quot;Bind must be called on a function&quot;); }\n\n    var args = Array.prototype.slice.call(arguments, 1),\n        self = this,\n        nop = function() {},\n        bound = function () {\n          return self.apply(this instanceof nop ? this : o,\n                            args.concat(Array.prototype.slice.call(arguments)));\n        };\n\n    if (this.prototype)\n      nop.prototype = this.prototype;\n    bound.prototype = new nop();\n    return bound;\n  };\n}\n\n\n//----------------------------------------------------------------------\n// ES5 15.4 Array Objects\n//----------------------------------------------------------------------\n\n//\n// ES5 15.4.3 Properties of the Array Constructor\n//\n\n\n// ES5 15.4.3.2 Array.isArray ( arg )\n// https://developer.mozilla.org/en/JavaScript/Reference/Global_Objects/Array/isArray\nArray.isArray = Array.isArray || function (o) { return Boolean(o &amp;&amp; Object.prototype.toString.call(Object(o)) === '[object Array]'); };\n\n\n//\n// ES5 15.4.4 Properties of the Array Prototype Object\n//\n\n// ES5 15.4.4.14 Array.prototype.indexOf ( searchElement [ , fromIndex ] )\n// From https://developer.mozilla.org/en/JavaScript/Reference/Global_Objects/Array/indexOf\nif (!Array.prototype.indexOf) {\n  Array.prototype.indexOf = function (searchElement /*, fromIndex */) {\n    if (this === void 0 || this === null) { throw TypeError(); }\n\n    var t = Object(this);\n    var len = t.length &gt;&gt;&gt; 0;\n    if (len === 0) { return -1; }\n\n    var n = 0;\n    if (arguments.length &gt; 0) {\n      n = Number(arguments[1]);\n      if (isNaN(n)) {\n        n = 0;\n      } else if (n !== 0 &amp;&amp; n !== (1 / 0) &amp;&amp; n !== -(1 / 0)) {\n        n = (n &gt; 0 || -1) * Math.floor(Math.abs(n));\n      }\n    }\n\n    if (n &gt;= len) { return -1; }\n\n    var k = n &gt;= 0 ? n : Math.max(len - Math.abs(n), 0);\n\n    for (; k &lt; len; k++) {\n      if (k in t &amp;&amp; t[k] === searchElement) {\n        return k;\n      }\n    }\n    return -1;\n  };\n}\n\n// ES5 15.4.4.15 Array.prototype.lastIndexOf ( searchElement [ , fromIndex ] )\n// From https://developer.mozilla.org/en/JavaScript/Reference/Global_Objects/Array/lastIndexOf\nif (!Array.prototype.lastIndexOf) {\n  Array.prototype.lastIndexOf = function (searchElement /*, fromIndex*/) {\n    if (this === void 0 || this === null) { throw TypeError(); }\n\n    var t = Object(this);\n    var len = t.length &gt;&gt;&gt; 0;\n    if (len === 0) { return -1; }\n\n    var n = len;\n    if (arguments.length &gt; 1) {\n      n = Number(arguments[1]);\n      if (n !== n) {\n        n = 0;\n      } else if (n !== 0 &amp;&amp; n !== (1 / 0) &amp;&amp; n !== -(1 / 0)) {\n        n = (n &gt; 0 || -1) * Math.floor(Math.abs(n));\n      }\n    }\n\n    var k = n &gt;= 0 ? Math.min(n, len - 1) : len - Math.abs(n);\n\n    for (; k &gt;= 0; k--) {\n      if (k in t &amp;&amp; t[k] === searchElement) {\n        return k;\n      }\n    }\n    return -1;\n  };\n}\n\n// ES5 15.4.4.16 Array.prototype.every ( callbackfn [ , thisArg ] )\n// From https://developer.mozilla.org/en/JavaScript/Reference/Global_Objects/Array/every\nif (!Array.prototype.every) {\n  Array.prototype.every = function (fun /*, thisp */) {\n    if (this === void 0 || this === null) { throw TypeError(); }\n\n    var t = Object(this);\n    var len = t.length &gt;&gt;&gt; 0;\n    if (typeof fun !== &quot;function&quot;) { throw TypeError(); }\n\n    var thisp = arguments[1], i;\n    for (i = 0; i &lt; len; i++) {\n      if (i in t &amp;&amp; !fun.call(thisp, t[i], i, t)) {\n        return false;\n      }\n    }\n\n    return true;\n  };\n}\n\n// ES5 15.4.4.17 Array.prototype.some ( callbackfn [ , thisArg ] )\n// From https://developer.mozilla.org/en/JavaScript/Reference/Global_Objects/Array/some\nif (!Array.prototype.some) {\n  Array.prototype.some = function (fun /*, thisp */) {\n    if (this === void 0 || this === null) { throw TypeError(); }\n\n    var t = Object(this);\n    var len = t.length &gt;&gt;&gt; 0;\n    if (typeof fun !== &quot;function&quot;) { throw TypeError(); }\n\n    var thisp = arguments[1], i;\n    for (i = 0; i &lt; len; i++) {\n      if (i in t &amp;&amp; fun.call(thisp, t[i], i, t)) {\n        return true;\n      }\n    }\n\n    return false;\n  };\n}\n\n// ES5 15.4.4.18 Array.prototype.forEach ( callbackfn [ , thisArg ] )\n// From https://developer.mozilla.org/en/JavaScript/Reference/Global_Objects/Array/forEach\nif (!Array.prototype.forEach) {\n  Array.prototype.forEach = function (fun /*, thisp */) {\n    if (this === void 0 || this === null) { throw TypeError(); }\n\n    var t = Object(this);\n    var len = t.length &gt;&gt;&gt; 0;\n    if (typeof fun !== &quot;function&quot;) { throw TypeError(); }\n\n    var thisp = arguments[1], i;\n    for (i = 0; i &lt; len; i++) {\n      if (i in t) {\n        fun.call(thisp, t[i], i, t);\n      }\n    }\n  };\n}\n\n\n// ES5 15.4.4.19 Array.prototype.map ( callbackfn [ , thisArg ] )\n// From https://developer.mozilla.org/en/JavaScript/Reference/Global_Objects/Array/Map\nif (!Array.prototype.map) {\n  Array.prototype.map = function (fun /*, thisp */) {\n    if (this === void 0 || this === null) { throw TypeError(); }\n\n    var t = Object(this);\n    var len = t.length &gt;&gt;&gt; 0;\n    if (typeof fun !== &quot;function&quot;) { throw TypeError(); }\n\n    var res = []; res.length = len;\n    var thisp = arguments[1], i;\n    for (i = 0; i &lt; len; i++) {\n      if (i in t) {\n        res[i] = fun.call(thisp, t[i], i, t);\n      }\n    }\n\n    return res;\n  };\n}\n\n// ES5 15.4.4.20 Array.prototype.filter ( callbackfn [ , thisArg ] )\n// From https://developer.mozilla.org/en/JavaScript/Reference/Global_Objects/Array/Filter\nif (!Array.prototype.filter) {\n  Array.prototype.filter = function (fun /*, thisp */) {\n    if (this === void 0 || this === null) { throw TypeError(); }\n\n    var t = Object(this);\n    var len = t.length &gt;&gt;&gt; 0;\n    if (typeof fun !== &quot;function&quot;) { throw TypeError(); }\n\n    var res = [];\n    var thisp = arguments[1], i;\n    for (i = 0; i &lt; len; i++) {\n      if (i in t) {\n        var val = t[i]; // in case fun mutates this\n        if (fun.call(thisp, val, i, t)) {\n          res.push(val);\n        }\n      }\n    }\n\n    return res;\n  };\n}\n\n\n// ES5 15.4.4.21 Array.prototype.reduce ( callbackfn [ , initialValue ] )\n// From https://developer.mozilla.org/en/JavaScript/Reference/Global_Objects/Array/Reduce\nif (!Array.prototype.reduce) {\n  Array.prototype.reduce = function (fun /*, initialValue */) {\n    if (this === void 0 || this === null) { throw TypeError(); }\n\n    var t = Object(this);\n    var len = t.length &gt;&gt;&gt; 0;\n    if (typeof fun !== &quot;function&quot;) { throw TypeError(); }\n\n    // no value to return if no initial value and an empty array\n    if (len === 0 &amp;&amp; arguments.length === 1) { throw TypeError(); }\n\n    var k = 0;\n    var accumulator;\n    if (arguments.length &gt;= 2) {\n      accumulator = arguments[1];\n    } else {\n      do {\n        if (k in t) {\n          accumulator = t[k++];\n          break;\n        }\n\n        // if array contains no values, no initial value to return\n        if (++k &gt;= len) { throw TypeError(); }\n      }\n      while (true);\n    }\n\n    while (k &lt; len) {\n      if (k in t) {\n        accumulator = fun.call(undefined, accumulator, t[k], k, t);\n      }\n      k++;\n    }\n\n    return accumulator;\n  };\n}\n\n\n// ES5 15.4.4.22 Array.prototype.reduceRight ( callbackfn [, initialValue ] )\n// From https://developer.mozilla.org/en/JavaScript/Reference/Global_Objects/Array/ReduceRight\nif (!Array.prototype.reduceRight) {\n  Array.prototype.reduceRight = function (callbackfn /*, initialValue */) {\n    if (this === void 0 || this === null) { throw TypeError(); }\n\n    var t = Object(this);\n    var len = t.length &gt;&gt;&gt; 0;\n    if (typeof callbackfn !== &quot;function&quot;) { throw TypeError(); }\n\n    // no value to return if no initial value, empty array\n    if (len === 0 &amp;&amp; arguments.length === 1) { throw TypeError(); }\n\n    var k = len - 1;\n    var accumulator;\n    if (arguments.length &gt;= 2) {\n      accumulator = arguments[1];\n    } else {\n      do {\n        if (k in this) {\n          accumulator = this[k--];\n          break;\n        }\n\n        // if array contains no values, no initial value to return\n        if (--k &lt; 0) { throw TypeError(); }\n      }\n      while (true);\n    }\n\n    while (k &gt;= 0) {\n      if (k in t) {\n        accumulator = callbackfn.call(undefined, accumulator, t[k], k, t);\n      }\n      k--;\n    }\n\n    return accumulator;\n  };\n}\n\n\n//----------------------------------------------------------------------\n// ES5 15.5 String Objects\n//----------------------------------------------------------------------\n\n//\n// ES5 15.5.4 Properties of the String Prototype Object\n//\n\n\n// ES5 15.5.4.20 String.prototype.trim()\nif (!String.prototype.trim) {\n  String.prototype.trim = function () {\n    return String(this).replace(/^\\s+/, '').replace(/\\s+$/, '');\n  };\n}\n\n\n\n//----------------------------------------------------------------------\n// ES5 15.9 Date Objects\n//----------------------------------------------------------------------\n\n\n//\n// ES 15.9.4 Properties of the Date Constructor\n//\n\n// ES5 15.9.4.4 Date.now ( )\n// From https://developer.mozilla.org/en/Core_JavaScript_1.5_Reference/Global_Objects/Date/now\nif (!Date.now) {\n  Date.now = function now() {\n    return Number(new Date());\n  };\n}\n\n\n//\n// ES5 15.9.5 Properties of the Date Prototype Object\n//\n\n// ES5 15.9.4.43 Date.prototype.toISOString ( )\n// Inspired by http://www.json.org/json2.js\nif (!Date.prototype.toISOString) {\n  Date.prototype.toISOString = function () {\n    function pad2(n) { return ('00' + n).slice(-2); }\n    function pad3(n) { return ('000' + n).slice(-3); }\n\n    return this.getUTCFullYear() + '-' +\n      pad2(this.getUTCMonth() + 1) + '-' +\n      pad2(this.getUTCDate()) + 'T' +\n      pad2(this.getUTCHours()) + ':' +\n      pad2(this.getUTCMinutes()) + ':' +\n      pad2(this.getUTCSeconds()) + '.' +\n      pad3(this.getUTCMilliseconds()) + 'Z';\n  };\n}\n//----------------------------------------------------------------------\n//\n// ECMAScript 2015 Polyfills\n//\n//----------------------------------------------------------------------\n\n(function (global) {\n  &quot;use strict&quot;;\n\n  // Set this to always override native implementations, for testing\n  // the polyfill in browsers with partial/full ES2015 support.\n  var OVERRIDE_NATIVE_FOR_TESTING = false;\n\n  var undefined = (void 0); // Paranoia\n\n  // Helpers\n\n  function strict(o) {\n    return o === global ? undefined : o;\n  }\n\n  function isSymbol(s) {\n    return (typeof s === 'symbol') || ('Symbol' in global &amp;&amp; s instanceof global.Symbol);\n  }\n\n  function getPropertyDescriptor(target, name) {\n    var desc = Object.getOwnPropertyDescriptor(target, name);\n    var proto = Object.getPrototypeOf(target);\n    while (!desc &amp;&amp; proto) {\n      desc = Object.getOwnPropertyDescriptor(proto, name);\n      proto = Object.getPrototypeOf(proto);\n    }\n    return desc;\n  }\n\n  var enqueue = (function(nativePromise, nativeSetImmediate) {\n    if (nativePromise)\n      return function(job) { nativePromise.resolve().then(function() { job(); }); };\n    if (nativeSetImmediate)\n      return function(job) { nativeSetImmediate(job); };\n    return function(job) { setTimeout(job, 0); };\n  }(global['Promise'], global['setImmediate']));\n\n  function define(o, p, v, override) {\n    if (p in o &amp;&amp; !override &amp;&amp; !OVERRIDE_NATIVE_FOR_TESTING)\n      return;\n\n    if (typeof v === 'function') {\n      // Sanity check that functions are appropriately named (where possible)\n      console.assert(isSymbol(p) || !('name' in v) || v.name === p || v.name === p + '_', 'Expected function name &quot;' + p.toString() + '&quot;, was &quot;' + v.name + '&quot;');\n      Object.defineProperty(o, p, {\n        value: v,\n        configurable: true,\n        enumerable: false,\n        writable: true\n      });\n    } else {\n      Object.defineProperty(o, p, {\n        value: v,\n        configurable: false,\n        enumerable: false,\n        writable: false\n      });\n    }\n  }\n\n  function set_internal(o, p, v) {\n    Object.defineProperty(o, p, {\n      value: v,\n      configurable: false,\n      enumerable: false,\n      writable: true\n    });\n  }\n\n  // Snapshot intrinsic functions\n  var $isNaN = global.isNaN,\n      $parseInt = global.parseInt,\n      $parseFloat = global.parseFloat;\n\n  var E = Math.E,\n      LOG10E = Math.LOG10E,\n      LOG2E = Math.LOG2E,\n      abs = Math.abs,\n      ceil = Math.ceil,\n      exp = Math.exp,\n      floor = Math.floor,\n      log = Math.log,\n      max = Math.max,\n      min = Math.min,\n      pow = Math.pow,\n      random = Math.random,\n      sqrt = Math.sqrt;\n\n  var orig_match = String.prototype.match,\n      orig_replace = String.prototype.replace,\n      orig_search = String.prototype.search,\n      orig_split = String.prototype.split;\n\n  // These are used for implementing the polyfills, but not exported.\n\n  // Inspired by https://gist.github.com/1638059\n  /** @constructor */\n  function EphemeronTable() {\n    var secretKey = ObjectCreate(null);\n\n    function conceal(o) {\n      var oValueOf = o.valueOf, secrets = ObjectCreate(null);\n      Object.defineProperty(o, 'valueOf', {\n          value: (function(secretKey) {\n            return function (k) {\n              return (k === secretKey) ? secrets : oValueOf.apply(o, arguments);\n            };\n          }(secretKey)),\n        configurable: true,\n        writeable: true,\n        enumerable: false\n        });\n      return secrets;\n    }\n\n    function reveal(o) {\n      var v = typeof o.valueOf === 'function' &amp;&amp; o.valueOf(secretKey);\n      return v === o ? null : v;\n    }\n\n    return {\n      clear: function() {\n        secretKey = ObjectCreate(null);\n      },\n      remove: function(key) {\n        var secrets = reveal(key);\n        if (secrets &amp;&amp; HasOwnProperty(secrets, 'value')) {\n          delete secrets.value;\n          return true;\n        }\n        return false;\n      },\n      get: function(key, defaultValue) {\n        var secrets = reveal(key);\n        return (secrets &amp;&amp; HasOwnProperty(secrets, 'value')) ? secrets.value : defaultValue;\n      },\n      has: function(key) {\n        var secrets = reveal(key);\n        return Boolean(secrets &amp;&amp; HasOwnProperty(secrets, 'value'));\n      },\n      set: function(key, value) {\n        var secrets = reveal(key) || conceal(key);\n        secrets.value = value;\n      }\n    };\n  }\n\n  var empty = Object.create(null);\n\n  //----------------------------------------------------------------------\n  //\n  // ECMAScript 2015\n  // http://www.ecma-international.org/ecma-262/6.0/\n  //\n  //----------------------------------------------------------------------\n\n  // ---------------------------------------\n  // 19.4 Symbol Objects\n  // ---------------------------------------\n\n  // NOTE: Symbols are defined here - out of spec order - since we need the\n  // properties and prototype to be populated for other polyfills.\n\n  // NOTE: Not secure, nor is obj[$$symbol] hidden from Object.keys()\n\n  var symbolForKey;\n  (function() {\n    var secret = Object.create(null);\n    var symbolMap = {};\n    symbolForKey = function(k) {\n      return symbolMap[k];\n    };\n\n    var GlobalSymbolRegistry = [];\n\n    function unique(bits) {\n      return Array(bits + 1).join('x').replace(/x/g, function() {\n        return random() &lt; 0.5 ? '\\u200C' : '\\u200D'; // JWNJ / ZWJ\n      });\n    }\n\n    // 19.4.1 The Symbol Constructor\n    // 19.4.1.1 Symbol ( description=undefined )\n    function Symbol(description) {\n      if (!(this instanceof Symbol)) return new Symbol(description, secret);\n      if (this instanceof Symbol &amp;&amp; arguments[1] !== secret) throw TypeError();\n\n      var descString = description === undefined ? undefined : String(description);\n\n      set_internal(this, '[[SymbolData]]', unique(128));\n      set_internal(this, '[[Description]]', descString);\n\n      symbolMap[this] = this;\n      return this;\n    }\n\n    if (!('Symbol' in global) || OVERRIDE_NATIVE_FOR_TESTING)\n      global.Symbol = Symbol;\n\n    // 19.4.2 Properties of the Symbol Constructor\n\n    // 19.4.2.1 Symbol.for (key)\n    define(Symbol, 'for', function for_(key) {\n      var stringKey = String(key);\n      for (var i = 0; i &lt; GlobalSymbolRegistry.length; ++i) {\n        var e = GlobalSymbolRegistry[i];\n        if (SameValue(e['[[key]]'], stringKey)) return e['[[symbol]]'];\n      }\n      var newSymbol = Symbol(key);\n      GlobalSymbolRegistry.push({'[[key]]': stringKey, '[[symbol]]': newSymbol});\n      return newSymbol;\n    });\n\n    // 19.4.2.2 Symbol.hasInstance\n    // 19.4.2.3 Symbol.isConcatSpreadable\n\n    // 19.4.2.4 Symbol.iterator\n    define(global.Symbol, 'iterator', global.Symbol('Symbol.iterator'));\n\n    // 19.4.2.5 Symbol.keyFor (sym)\n    define(Symbol, 'keyFor', function keyFor(sym) {\n      if (!(sym instanceof Symbol)) throw TypeError();\n      for (var i = 0; i &lt; GlobalSymbolRegistry.length; ++i) {\n        var e = GlobalSymbolRegistry[i];\n        if (SameValue(e['[[symbol]]'], sym)) return e['[[key]]'];\n      }\n      return undefined;\n    });\n\n    // 19.4.2.6 Symbol.match\n    define(global.Symbol, 'match', global.Symbol('Symbol.match'));\n\n    // 19.4.2.7 Symbol.prototype\n\n    // 19.4.2.8 Symbol.replace\n    define(global.Symbol, 'replace', global.Symbol('Symbol.replace'));\n\n    // 19.4.2.9 Symbol.search\n    define(global.Symbol, 'search', global.Symbol('Symbol.search'));\n\n    // 19.4.2.10 Symbol.species\n\n    // 19.4.2.11 Symbol.search\n    define(global.Symbol, 'split', global.Symbol('Symbol.split'));\n\n    // 19.4.2.12 Symbol.toPrimitive\n\n    // 19.4.2.13 Symbol.toStringTag\n    define(global.Symbol, 'toStringTag', global.Symbol('Symbol.toStringTag'));\n\n    // 19.4.2.14 Symbol.unscopables\n\n    // 19.4.3 Properties of the Symbol Prototype Object\n    // 19.4.3.1 Symbol.prototype.constructor\n\n    // 19.4.3.2 Symbol.prototype.toString ( )\n    Object.defineProperty(Symbol.prototype, 'toString', {\n      value: function toString() {\n        var s = strict(this);\n        var desc = s['[[Description]]'];\n        return 'Symbol(' + (desc === undefined ? '' : desc) + s['[[SymbolData]]'] + ')';\n      },\n      configurable: true, writeable: true, enumerable: false });\n\n    // 19.4.3.3 Symbol.prototype.valueOf ( )\n    Object.defineProperty(Symbol.prototype, 'valueOf', {\n      value: function valueOf() {\n        // To prevent automatic string conversion:\n        throw TypeError();\n\n        // Spec has approximately the following:\n        //var s = strict(this);\n        //if (Type(s) === 'symbol') return s;\n        //if (Type(s) !== 'object') throw TypeError();\n        //if (!('[[SymbolData]]' in s)) throw TypeError();\n        //return s['[[SymbolData]]'];\n      },\n      configurable: true, writeable: true, enumerable: false });\n\n    // 19.4.3.4 Symbol.prototype [ @@toStringTag ]\n    // (Done later to polyfill partial implementations)\n\n    // 19.4.4 Properties of Symbol Instances\n  }());\n\n  console.assert(typeof global.Symbol() === 'symbol' || symbolForKey(String(global.Symbol('x'))) !== undefined);\n\n  // Defined here so that other prototypes can reference it\n  // 25.1.2 The %IteratorPrototype% Object\n  var $IteratorPrototype$ = {};\n\n  //----------------------------------------\n  // 6 ECMAScript Data Types and Values\n  //----------------------------------------\n\n  // 6.1 ECMAScript Language Types\n\n  // &quot;Type(x)&quot; is used as shorthand for &quot;the type of x&quot;...\n  function Type(v) {\n    switch (typeof v) {\n    case 'undefined': return 'undefined';\n    case 'boolean': return 'boolean';\n    case 'number': return 'number';\n    case 'string': return 'string';\n    case 'symbol': return 'symbol';\n    default:\n      if (v === null) return 'null';\n      if (v instanceof global.Symbol) return 'symbol';\n      return 'object';\n    }\n  }\n\n  // 6.1.5.1 Well-Known Symbols\n  var $$iterator = global.Symbol.iterator,\n      $$match = global.Symbol.match,\n      $$replace = global.Symbol.replace,\n      $$search = global.Symbol.search,\n      $$split = global.Symbol.split,\n      $$toStringTag = global.Symbol.toStringTag;\n\n  //----------------------------------------\n  // 7 Abstract Operations\n  //----------------------------------------\n\n  //----------------------------------------\n  // 7.1 Type Conversion\n  //----------------------------------------\n\n  // 7.1.1 ToPrimitive ( input [, PreferredType] )\n  // just use valueOf()\n\n  // 7.1.2 ToBoolean ( argument )\n  // just use Boolean()\n\n  // 7.1.3 ToNumber ( argument )\n  // just use Number()\n\n  // 7.1.4 ToInteger ( argument )\n  function ToInteger(n) {\n    n = Number(n);\n    if ($isNaN(n)) return 0;\n    if (n === 0 || n === Infinity || n === -Infinity) return n;\n    return ((n &lt; 0) ? -1 : 1) * floor(abs(n));\n  }\n\n  // 7.1.5 ToInt32 ( argument )\n  function ToInt32(v) { return v &gt;&gt; 0; }\n\n  // 7.1.6 ToUint32 ( argument )\n  function ToUint32(v) { return v &gt;&gt;&gt; 0; }\n\n  // 7.1.7 ToInt16 ( argument )\n  function ToInt16(v) { return (v &lt;&lt; 16) &gt;&gt; 16; }\n\n  // 7.1.8 ToUint16 ( argument )\n  function ToUint16(v) { return v &amp; 0xFFFF; }\n\n  // 7.1.9 ToInt8 ( argument )\n  function ToInt8(v) { return (v &lt;&lt; 24) &gt;&gt; 24; }\n\n  // 7.1.10 ToUint8 ( argument )\n  function ToUint8(v) { return v &amp; 0xFF; }\n\n  // 7.1.11 ToUint8Clamp ( argument )\n  function ToUint8Clamp(argument) {\n    var number = Number(argument);\n    if ($isNaN(number)) return 0;\n    if (number &lt;= 0) return 0;\n    if (number &gt;= 255) return 255;\n    var f = floor(number);\n    if ((f + 0.5) &lt; number) return f + 1;\n    if (number &lt; (f + 0.5)) return f;\n    if (f % 2) return f + 1;\n    return f;\n  }\n\n  // 7.1.12 ToString ( argument )\n  // just use String()\n\n  // 7.1.13 ToObject ( argument )\n  function ToObject(v) {\n    if (v === null || v === undefined) throw TypeError();\n    return Object(v);\n  }\n\n  // 7.1.14 ToPropertyKey ( argument )\n  function ToPropertyKey(v) {\n    return String(v);\n  }\n\n  // 7.1.15 ToLength ( argument )\n  function ToLength(v) {\n    var len = ToInteger(v);\n    if (len &lt;= 0) return 0;\n    if (len === Infinity) return 0x20000000000000 - 1; // 2^53-1\n    return min(len, 0x20000000000000 - 1); // 2^53-1\n  }\n\n  // 7.1.16 CanonicalNumericIndexString ( argument )\n\n  //----------------------------------------\n  // 7.2 Testing and Comparison Operations\n  //----------------------------------------\n\n  // 7.2.1 RequireObjectCoercible ( argument )\n  // 7.2.2 IsArray ( argument )\n\n  // 7.2.3 IsCallable ( argument )\n  function IsCallable(o) { return typeof o === 'function'; }\n\n  // 7.2.4 IsConstructor ( argument )\n  function IsConstructor(o) {\n    // Hacks for Safari 7 TypedArray XXXConstructor objects\n    if (/Constructor/.test(Object.prototype.toString.call(o))) return true;\n    if (/Function/.test(Object.prototype.toString.call(o))) return true;\n    // TODO: Can this be improved on?\n    return typeof o === 'function';\n  }\n\n  // 7.2.5 IsExtensible (O)\n  // 7.2.6 IsInteger ( argument )\n\n  // 7.2.7 IsPropertyKey ( argument )\n  function IsPropertyKey(argument) {\n    if (Type(argument) === 'string') return true;\n    if (Type(argument) === 'symbol') return true;\n    return false;\n  }\n\n  // 7.2.8 IsRegExp ( argument )\n\n  // 7.2.9 SameValue(x, y)\n  function SameValue(x, y) {\n    if (typeof x !== typeof y) return false;\n    switch (typeof x) {\n    case 'undefined':\n      return true;\n    case 'number':\n      if (x !== x &amp;&amp; y !== y) return true;\n      if (x === 0 &amp;&amp; y === 0) return 1/x === 1/y;\n      return x === y;\n    case 'boolean':\n    case 'string':\n    case 'object':\n    default:\n      return x === y;\n    }\n  }\n\n  // 7.2.10 SameValueZero(x, y)\n  function SameValueZero(x, y) {\n    if (typeof x !== typeof y) return false;\n    switch (typeof x) {\n    case 'undefined':\n      return true;\n    case 'number':\n      if (x !== x &amp;&amp; y !== y) return true;\n      return x === y;\n    case 'boolean':\n    case 'string':\n    case 'object':\n    default:\n      return x === y;\n    }\n  }\n\n  //----------------------------------------\n  // 7.3 Operations on Objects\n  //----------------------------------------\n\n  // 7.3.1 Get (O, P)\n  // - just use o.p or o[p]\n\n  // 7.3.2 GetV (V, P)\n  function GetV(v, p) {\n    var o = ToObject(v);\n    return o[p];\n  }\n\n  // 7.3.3 Set (O, P, V, Throw)\n  // - just use o.p = v or o[p] = v\n\n\n\n\n  // 7.3.9 GetMethod (O, P)\n  function GetMethod(o, p) {\n    var func = GetV(o, p);\n    if (func === undefined || func === null) return undefined;\n    if (!IsCallable(func)) throw TypeError();\n    return func;\n  }\n\n  // 7.3.10 HasProperty (O, P)\n  function HasProperty(o, p) {\n    while (o) {\n      if (Object.prototype.hasOwnProperty.call(o, p)) return true;\n      if (Type(o) !== 'object') return false;\n      var op = Object.getPrototypeOf(o);\n      if (op === o) return false; // IE8 has self-referential prototypes\n      o = op;\n    }\n    return false;\n  }\n\n  // 7.3.11 HasOwnProperty (O, P)\n  function HasOwnProperty(o, p) {\n    return Object.prototype.hasOwnProperty.call(o, p);\n  }\n\n  //----------------------------------------\n  // 7.4 Operations on Iterator Objects\n  //----------------------------------------\n\n  // 7.4.1 GetIterator ( obj, method )\n  function GetIterator(obj, method) {\n    if (arguments.length &lt; 2)\n      method = GetMethod(obj, $$iterator);\n    var iterator = method.call(obj);\n    if (Type(iterator) !== 'object') throw TypeError();\n    return iterator;\n  }\n\n  // 7.4.2 IteratorNext ( iterator, value )\n  function IteratorNext(iterator, value) {\n    if (arguments.length &lt; 2)\n      var result = iterator.next();\n    else\n      result = iterator.next(value);\n    if (Type(result) !== 'object') throw TypeError();\n    return result;\n  }\n\n  // 7.4.3 IteratorComplete ( iterResult )\n  function IteratorComplete(iterResult) {\n    console.assert(Type(iterResult) === 'object');\n    return Boolean(iterResult.done);\n  }\n\n  // 7.4.4 IteratorValue ( iterResult )\n  function IteratorValue(iterResult) {\n    console.assert(Type(iterResult) === 'object');\n    return iterResult.value;\n  }\n\n  // 7.4.5 IteratorStep ( iterator )\n  function IteratorStep( iterator, value ) {\n    var result = IteratorNext(iterator, value);\n    var done = result['done'];\n    if (Boolean(done) === true) return false;\n    return result;\n  }\n\n  // 7.4.6 IteratorClose( iterator, completion )\n  function IteratorClose( iterator, completion ) {\n    console.assert(Type(iterator) === 'object');\n    var _return = GetMethod(iterator, 'return');\n    if (_return === undefined) return completion;\n    try {\n      var innerResult = _return[iterator]();\n    } catch (result) {\n      // TODO: If completion.[[type]] is throw, return completion\n      return result;\n    }\n    if (Type(innerResult) !== 'object') throw TypeError();\n    return completion;\n  }\n\n  // 7.4.7 CreateIterResultObject (value, done)\n  function CreateIterResultObject(value, done) {\n    console.assert(Type(done) === 'boolean');\n    var obj = {};\n    obj[&quot;value&quot;] = value;\n    obj[&quot;done&quot;] = done;\n    return obj;\n  }\n\n  // 7.4.8 CreateListIterator (list)\n  // 7.4.8.1 ListIterator next( )\n\n  //----------------------------------------\n  // 8 Executable Code and Execution Contexts\n  //----------------------------------------\n\n  //----------------------------------------\n  // 8.4 Jobs and Job Queues\n  //----------------------------------------\n\n  // 8.4.1 EnqueueJob ( queueName, job, arguments)\n  function EnqueueJob(queueName, job, args) {\n    var fn = function() { job.apply(undefined, args); };\n    enqueue(fn);\n  }\n\n  // 8.4.2 NextJob result\n  function NextJob(result) {\n    // no-op\n  }\n\n  //----------------------------------------\n  // 9 Ordinary and Exotic Objects Behaviors\n  //----------------------------------------\n\n  // 9.1.11 [[Enumerate]] ()\n  function Enumerate(obj) {\n    var e = [];\n    if (Object(obj) !== obj) return e;\n    var visited = new Set;\n    while (obj !== null) {\n      Object.getOwnPropertyNames(obj).forEach(function(name) {\n        if (!visited.has(name)) {\n          var desc = Object.getOwnPropertyDescriptor(obj, name);\n          if (desc) {\n            visited.add(name);\n            if (desc.enumerable) e.push(name);\n          }\n        }\n      });\n      obj = Object.getPrototypeOf(obj);\n    }\n    return e[$$iterator]();\n  }\n\n  // 9.1.12 [[OwnPropertyKeys]] ( )\n  function OwnPropertyKeys(o) {\n    return Object.getOwnPropertyNames(o);\n  }\n\n  // 9.1.13 ObjectCreate(proto, internalSlotsList)\n  function ObjectCreate(proto, internalSlotsList) {\n    return Object.create(proto, internalSlotsList);\n  }\n\n  // ---------------------------------------\n  // 19 Fundamental Objects\n  // ---------------------------------------\n\n  // ---------------------------------------\n  // 19.1 Object Objects\n  // ---------------------------------------\n\n  // 19.1.1 The Object Constructor\n  // 19.1.1.1 Object ( [ value ] )\n  // 19.1.2 Properties of the Object Constructor\n  // 19.1.2.1 Object.assign ( target, ...sources )\n  define(\n    Object, 'assign',\n    function assign(target, /*...*/sources) {\n      var to = ToObject(target);\n      if (arguments.length &lt; 2) return to;\n\n      var sourcesIndex = 1;\n      while (sourcesIndex &lt; arguments.length) {\n        var nextSource = arguments[sourcesIndex++];\n        if (nextSource === undefined || nextSource === null) {\n          var keys = [];\n        } else {\n          var from = ToObject(nextSource);\n          keys = OwnPropertyKeys(from);\n        }\n        for (var keysIndex = 0; keysIndex &lt; keys.length; ++keysIndex) {\n          var nextKey = keys[keysIndex];\n          var desc = Object.getOwnPropertyDescriptor(from, nextKey);\n          if (desc !== undefined &amp;&amp; desc.enumerable) {\n            var propValue = from[nextKey];\n            to[nextKey] = propValue;\n          }\n        }\n      }\n      return to;\n    });\n\n  // 19.1.2.2 Object.create ( O [ , Properties ] )\n  // 19.1.2.3 Object.defineProperties ( O, Properties )\n  // 19.1.2.4 Object.defineProperty ( O, P, Attributes )\n  // 19.1.2.5 Object.freeze ( O )\n  // 19.1.2.6 Object.getOwnPropertyDescriptor ( O, P )\n\n  (function() {\n    var nativeSymbols = (typeof global.Symbol() === 'symbol'),\n        $getOwnPropertyNames = Object.getOwnPropertyNames,\n        $keys = Object.keys,\n        $window_names = (typeof window === 'object' ? $getOwnPropertyNames(window) : []);\n\n    function isStringKey(k) { return !symbolForKey(k); }\n\n    // 19.1.2.7 Object.getOwnPropertyNames ( O )\n    define(\n      Object, 'getOwnPropertyNames',\n      function getOwnPropertyNames(o) {\n        if (Object.prototype.toString.call(o) === '[object Window]') {\n          // Workaround for cross-realm calling by IE itself.\n          // https://github.com/inexorabletash/polyfill/issues/96\n          try {\n            return $getOwnPropertyNames(o).filter(isStringKey);\n          } catch (_) {\n            return $window_names.slice();\n          }\n        }\n        return $getOwnPropertyNames(o).filter(isStringKey);\n      }, !nativeSymbols);\n\n    // 19.1.2.8 Object.getOwnPropertySymbols ( O )\n    define(\n      Object, 'getOwnPropertySymbols',\n      function getOwnPropertySymbols(o) {\n        return $getOwnPropertyNames(o).filter(symbolForKey).map(symbolForKey);\n      }, !nativeSymbols);\n\n    // 19.1.2.14 Object.keys ( O )\n    define(\n      Object, 'keys',\n      function keys(o) {\n        return $keys(o).filter(isStringKey);\n      }, !nativeSymbols);\n  }());\n\n  // 19.1.2.9 Object.getPrototypeOf ( O )\n  // 19.1.2.10 Object.is ( value1, value2 )\n  define(\n    Object, 'is',\n    function is(value1, value2) {\n      return SameValue(value1, value2);\n    });\n\n  // 19.1.2.11 Object.isExtensible ( O )\n  // 19.1.2.12 Object.isFrozen ( O )\n  // 19.1.2.13 Object.isSealed ( O )\n\n  // 19.1.2.14 Object.keys ( O )\n  // see above\n\n  // 19.1.2.15 Object.preventExtensions ( O )\n  // 19.1.2.16 Object.prototype\n  // 19.1.2.17 Object.seal ( O )\n\n  // 19.1.2.18 Object.setPrototypeOf ( O, proto )\n  define(\n    Object, 'setPrototypeOf',\n    function setPrototypeOf(o, proto) {\n      if (Type(o) !== 'object') throw TypeError();\n      if (Type(proto) !== 'object' &amp;&amp; Type(proto) !== 'null') throw TypeError();\n      o.__proto__ = proto;\n      return o;\n    }\n  );\n\n  // 19.1.3 Properties of the Object Prototype Object\n  // 19.1.3.1 Object.prototype.constructor\n  // 19.1.3.2 Object.prototype.hasOwnProperty ( V )\n  // 19.1.3.3 Object.prototype.isPrototypeOf ( V )\n  // 19.1.3.4 Object.prototype.propertyIsEnumerable ( V )\n  // 19.1.3.5 Object.prototype.toLocaleString ( [ reserved1 [ , reserved2 ] ] )\n  // 19.1.3.6 Object.prototype.toString ( )\n  var o_p_ts = Object.prototype.toString;\n  define(Object.prototype, 'toString',\n       function() {\n         var o = strict(this);\n         if (o === Object(o) &amp;&amp; $$toStringTag in o) {\n           return '[object ' + o[$$toStringTag] + ']';\n         }\n         return o_p_ts.apply(o, arguments);\n       });\n\n  // 19.1.3.7 Object.prototype.valueOf ( )\n  // 19.1.4 Properties of Object Instances\n\n  // ---------------------------------------\n  // 19.2 Function Objects\n  // ---------------------------------------\n\n  // 19.2.1 The Function Constructor\n  // 19.2.1.1 Function ( p1, p2, â€¦ , pn, body )\n  // 19.2.2 Properties of the Function Constructor\n  // 19.2.2.1 Function.length\n  // 19.2.2.2 Function.prototype\n  // 19.2.3 Properties of the Function Prototype Object\n  // 19.2.3.1 Function.prototype.apply ( thisArg, argArray )\n  // 19.2.3.2 Function.prototype.bind ( thisArg , ...args)\n  // 19.2.3.3 Function.prototype.call (thisArg , ...args)\n  // 19.2.3.4 Function.prototype.constructor\n  // 19.2.3.5 Function.prototype.toString ( )\n  // 19.2.3.6 Function.prototype[@@hasInstance] ( V )\n  // 19.2.4 Function Instances\n  // 19.2.4.1 length\n  // 19.2.4.2 name\n  // 19.2.4.3 prototype\n\n  // (No polyfillable changes from ES5)\n\n  // ---------------------------------------\n  // 19.3 Boolean Objects\n  // ---------------------------------------\n\n  // 19.3.1 The Boolean Constructor\n  // 19.3.1.1 Boolean ( value )\n  // 19.3.2 Properties of the Boolean Constructor\n  // 19.3.2.1 Boolean.prototype\n  // 19.3.3 Properties of the Boolean Prototype Object\n  // 19.3.3.1 Boolean.prototype.constructor\n  // 19.3.3.2 Boolean.prototype.toString ( )\n  // 19.3.3.3 Boolean.prototype.valueOf ( )\n  // 19.3.4 Properties of Boolean Instances\n\n  // (No polyfillable changes from ES5)\n\n  // ---------------------------------------\n  // 19.4 Symbol Objects\n  // ---------------------------------------\n\n  // Moved earlier in this script, so that other polyfills can depend on them.\n\n  // 19.4.3.4 Symbol.prototype [ @@toStringTag ]\n  define(global.Symbol.prototype, global.Symbol.toStringTag, 'Symbol');\n\n  // ---------------------------------------\n  // 19.5 Error Objects\n  // ---------------------------------------\n\n  // 19.5.1 The Error Constructor\n  // 19.5.1.1 Error ( message )\n  // 19.5.1.2 new Error( ...argumentsList )\n  // 19.5.2 Properties of the Error Constructor\n  // 19.5.2.1 Error.prototype\n  // 19.5.3 Properties of the Error Prototype Object\n  // 19.5.3.1 Error.prototype.constructor\n  // 19.5.3.2 Error.prototype.message\n  // 19.5.3.3 Error.prototype.name\n  // 19.5.3.4 Error.prototype.toString ( )\n  // 19.5.4 Properties of Error Instances\n  // 19.5.5 Native Error Types Used in This Standard\n  // 19.5.5.1 EvalError\n  // 19.5.5.2 RangeError\n  // 19.5.5.3 ReferenceError\n  // 19.5.5.4 SyntaxError\n  // 19.5.5.5 TypeError\n  // 19.5.5.6 URIError\n  // 19.5.6 NativeError Object Structure\n  // 19.5.6.1 NativeError Constructors\n  // 19.5.6.1.1 NativeError ( message )\n  // 19.5.6.1.2 new NativeError ( ...argumentsList )\n  // 19.5.6.2 Properties of the NativeError Constructors\n  // 19.5.6.2.1 NativeError.prototype\n  // 19.5.6.3 Properties of the NativeError Prototype Objects\n  // 19.5.6.4 Properties of NativeError Instances\n\n  // (No polyfillable changes from ES5)\n\n  // ---------------------------------------\n  // 20 Numbers and Dates\n  // ---------------------------------------\n\n  // ---------------------------------------\n  // 20.1 Number Objects\n  // ---------------------------------------\n\n  // 20.1.1 The Number Constructor\n  // 20.1.1.1 Number ( [ value ] )\n  // 20.1.1.2 new Number ( ...argumentsList )\n  // 20.1.2 Properties of the Number Constructor\n\n  // 20.1.2.1 Number.EPSILON\n  define(\n    Number, 'EPSILON',\n    (function () {\n      var next, result;\n      for (next = 1; 1 + next !== 1; next = next / 2)\n        result = next;\n      return result;\n    }()));\n\n  // 20.1.2.2 Number.isFinite ( number )\n  define(\n    Number, 'isFinite',\n    function isFinite(number) {\n      if (Type(number) !== 'number') return false;\n      if (number !== number || number === +Infinity || number === -Infinity) return false;\n      return true;\n    });\n\n  // 20.1.2.3 Number.isInteger ( number )\n  define(\n    Number, 'isInteger',\n    function isInteger(number) {\n      if (Type(number) !== 'number') return false;\n      if (number !== number || number === +Infinity || number === -Infinity) return false;\n      var integer = ToInteger(number);\n      if (integer !== number) return false;\n      return true;\n    });\n\n  // 20.1.2.4 Number.isNaN ( number )\n  define(\n    Number, 'isNaN',\n    function isNaN(number) {\n      if (Type(number) !== 'number') return false;\n      if (number !== number) return true;\n      return false;\n    });\n\n  // 20.1.2.5 Number.isSafeInteger ( number )\n  define(\n    Number, 'isSafeInteger',\n    function isSafeInteger(number) {\n      if (Type(number) !== 'number') return false;\n      if (number !== number || number === +Infinity || number === -Infinity) return false;\n      var integer = ToInteger(number);\n      if (integer !== number) return false;\n      if (abs(integer) &lt;= (0x20000000000000 - 1)) // 2^53-1\n        return true;\n      return false;\n    });\n\n  // 20.1.2.6 Number.MAX_SAFE_INTEGER\n  define(\n    Number, 'MAX_SAFE_INTEGER',\n    9007199254740991); // 2^53-1\n\n  // 20.1.2.7 Number.MAX_VALUE\n\n  // 20.1.2.8 Number.MIN_SAFE_INTEGER\n  define(\n    Number, 'MIN_SAFE_INTEGER',\n    -9007199254740991); // -2^53+1\n\n  // 20.1.2.9 Number.MIN_VALUE\n  // 20.1.2.10 Number.NaN\n  // 20.1.2.11 Number.NEGATIVE_INFINITY\n\n  // 20.1.2.12 Number.parseFloat ( string )\n  define(Number, 'parseFloat', $parseFloat);\n\n  // 20.1.2.13 Number.parseInt ( string, radix )\n  define(Number, 'parseInt', $parseInt);\n\n  // 20.1.2.14 Number.POSITIVE_INFINITY\n  // 20.1.2.15 Number.prototype\n\n  // 20.1.3 Properties of the Number Prototype Object\n  // 20.1.3.1 Number.prototype.constructor\n  // 20.1.3.2 Number.prototype.toExponential ( fractionDigits )\n  // 20.1.3.3 Number.prototype.toFixed ( fractionDigits )\n  // 20.1.3.4 Number.prototype.toLocaleString( [ reserved1 [ , reserved2 ] ])\n  // 20.1.3.5 Number.prototype.toPrecision ( precision )\n  // 20.1.3.6 Number.prototype.toString ( [ radix ] )\n  // 20.1.3.7 Number.prototype.valueOf ( )\n  // 20.1.4 Properties of Number Instances\n\n  // ---------------------------------------\n  // 20.2 The Math Object\n  // ---------------------------------------\n\n  // 20.2.1 Value Properties of the Math Object\n  // 20.2.1.1 Math.E\n  // 20.2.1.2 Math.LN10\n  // 20.2.1.3 Math.LN2\n  // 20.2.1.4 Math.LOG10E\n  // 20.2.1.5 Math.LOG2E\n  // 20.2.1.6 Math.PI\n  // 20.2.1.7 Math.SQRT1_2\n  // 20.2.1.8 Math.SQRT2\n\n  // 20.2.1.9 Math [ @@toStringTag ]\n  define(Math, $$toStringTag, 'Math');\n\n  // 20.2.2 Function Properties of the Math Object\n  // 20.2.2.1 Math.abs ( x )\n  // 20.2.2.2 Math.acos ( x )\n\n  // 20.2.2.3 Math.acosh(x)\n  define(\n    Math, 'acosh',\n    function acosh(x) {\n      x = Number(x);\n      return log(x + sqrt(x * x - 1));\n    });\n\n  // 20.2.2.4 Math.asin ( x )\n\n  // 20.2.2.5 Math.asinh( x )\n  define(\n    Math, 'asinh',\n    function asinh(x) {\n      x = Number(x);\n      if (SameValue(x, -0)) {\n        return x;\n      }\n      var s = sqrt(x * x + 1);\n      return (s === -x) ? log(0) : log(x + s);\n    });\n\n  // 20.2.2.6 Math.atan ( x )\n\n  // 20.2.2.7 Math.atanh( x )\n  define(\n    Math, 'atanh',\n    function atanh(x) {\n      x = Number(x);\n      return (x === 0) ? x : log((1 + x) / (1 - x)) / 2;\n    });\n\n  // 20.2.2.8 Math.atan2 ( y, x )\n\n  // 20.2.2.9 Math.cbrt ( x )\n  define(\n    Math, 'cbrt',\n    function cbrt(x) {\n      x = Number(x);\n      if ($isNaN(x/x)) {\n        return x;\n      }\n      var r = pow(abs(x), 1/3);\n      var t = x/r/r;\n      return r + (r * (t-r) / (2*r + t));\n    });\n\n  // 20.2.2.10 Math.ceil ( x )\n\n  // 20.2.2.11 Math.clz32 ( x )\n  define(\n    Math, 'clz32',\n    function clz32(x) {\n      function clz8(x) {\n        return (x &amp; 0xf0) ? (x &amp; 0x80 ? 0 : x &amp; 0x40 ? 1 : x &amp; 0x20 ? 2 : 3) :\n        (x &amp; 0x08 ? 4 : x &amp; 0x04 ? 5 : x &amp; 0x02 ? 6 : x &amp; 0x01 ? 7 : 8);\n      }\n      x = ToUint32(x);\n      return x &amp; 0xff000000 ? clz8(x &gt;&gt; 24) :\n        x &amp; 0xff0000 ? clz8(x &gt;&gt; 16) + 8 :\n        x &amp; 0xff00 ? clz8(x &gt;&gt; 8) + 16 : clz8(x) + 24;\n    });\n\n\n\n  // 20.2.2.12 Math.cos ( x )\n\n  // 20.2.2.13 Math.cosh ( x )\n  define(\n    Math, 'cosh',\n    function cosh(x) {\n      x = Number(x);\n      return (pow(E, x) + pow(E, -x)) / 2;\n    });\n\n  // 20.2.2.14 Math.exp ( x )\n\n  // 20.2.2.15 Math.expm1 ( x )\n  define(\n    Math, 'expm1',\n    function expm1(x) {\n      x = Number(x);\n      // from: http://www.johndcook.com/cpp_log1p.html\n      if (SameValue(x, -0)) {\n        return -0;\n      } else if (abs(x) &lt; 1e-5) {\n        return x + 0.5 * x * x; // two terms of Taylor expansion\n      } else {\n        return exp(x) - 1;\n      }\n    });\n\n  // 20.2.2.16 Math.floor ( x )\n\n  // 20.2.2.17 Math.fround ( x )\n  define(\n    Math, 'fround',\n    function fround(x) {\n      if ($isNaN(x)) {\n        return NaN;\n      }\n      if (1/x === +Infinity || 1/x === -Infinity || x === +Infinity || x === -Infinity) {\n        return x;\n      }\n      return (new Float32Array([x]))[0];\n    });\n\n  // 20.2.2.18 Math.hypot ( value1 [, value2 [ ... ] ] )\n  define(\n    Math, 'hypot',\n    function hypot() {\n      var values = [];\n      var m = 0, sawNaN = false;\n      for (var i = 0; i &lt; arguments.length; ++i) {\n        var n = abs(Number(arguments[i]));\n        if (n === Infinity) return n;\n        if (n !== n) sawNaN = true;\n        if (n &gt; m) m = n;\n        values[i] = n;\n      }\n      if (sawNaN) return NaN;\n      if (m === 0) return +0;\n      var sum = +0;\n      for (i = 0; i &lt; values.length; ++i) {\n        var r = values[i] / m;\n        sum = sum + r * r;\n      }\n      return m * sqrt(sum);\n    });\n\n  // 20.2.2.19 Math.imul ( x, y )\n  define(\n    Math, 'imul',\n    function imul(x, y) {\n      var a = ToUint32(x);\n      var b = ToUint32(y);\n      // (slow but accurate)\n      var ah  = (a &gt;&gt;&gt; 16) &amp; 0xffff;\n      var al = a &amp; 0xffff;\n      var bh  = (b &gt;&gt;&gt; 16) &amp; 0xffff;\n      var bl = b &amp; 0xffff;\n      return ((al * bl) + (((ah * bl + al * bh) &lt;&lt; 16) &gt;&gt;&gt; 0)|0);\n    }, ('imul' in Math &amp;&amp; Math.imul(1, 0x80000000) === 0) // Safari 7 bug\n  );\n\n  // 20.2.2.20 Math.log ( x )\n\n  // 20.2.2.21 Math.log1p ( x )\n  define(\n    Math, 'log1p',\n    function log1p(x) {\n      x = Number(x);\n      // from: http://www.johndcook.com/cpp_expm1.html\n      if (x &lt; -1) {\n        return NaN;\n      } else if (SameValue(x, -0)) {\n        return -0;\n      } else if (abs(x) &gt; 1e-4) {\n        return log(1 + x);\n      } else {\n        return (-0.5 * x + 1) * x;\n      }\n    });\n\n  // 20.2.2.22 Math.log10 ( x )\n  define(\n    Math, 'log10',\n    function log10(x) {\n      x = Number(x);\n      return log(x) * LOG10E;\n    });\n\n  // 20.2.2.23 Math.log2 ( x )\n  define(\n    Math, 'log2',\n    function log2(x) {\n      x = Number(x);\n      return log(x) * LOG2E;\n    });\n\n  // 20.2.2.24 Math.max ( value1, value2 , ...values )\n  // 20.2.2.25 Math.min ( value1, value2 , ...values )\n  // 20.2.2.26 Math.pow ( x, y )\n  // 20.2.2.27 Math.random ( )\n  // 20.2.2.28 Math.round ( x )\n\n  // 20.2.2.29 Math.sign(x)\n  define(\n    Math, 'sign',\n    function sign(x) {\n      x = Number(x);\n      return x &lt; 0 ? -1 : x &gt; 0 ? 1 : x;\n    });\n\n  // 20.2.2.30 Math.sin ( x )\n\n  // 20.2.2.31 Math.sinh( x )\n  define(\n    Math, 'sinh',\n    function sinh(x) {\n      x = Number(x);\n      return SameValue(x, -0) ? x : (pow(E, x) - pow(E, -x)) / 2;\n    });\n\n  // 20.2.2.32 Math.sqrt ( x )\n  // 20.2.2.33 Math.tan ( x )\n\n  // 20.2.2.34 Math.tanh ( x )\n  define(\n    Math, 'tanh',\n    function tanh(x) {\n      x = Number(x);\n      var n = pow(E, 2 * x) - 1,\n          d = pow(E, 2 * x) + 1;\n      if (SameValue(x, -0))\n        return x;\n      return (n === d) ? 1 : n / d; // Handle Infinity/Infinity\n    });\n\n  // 20.2.2.35 Math.trunc ( x )\n  define(\n    Math, 'trunc',\n    function trunc(x) {\n      x = Number(x);\n      return $isNaN(x) ? NaN :\n        x &lt; 0 ? ceil(x) : floor(x);\n    });\n\n  // ---------------------------------------\n  // 20.3 Date Objects\n  // ---------------------------------------\n\n  // 20.3.1 Overview of Date Objects and Definitions of Abstract Operations\n  // 20.3.1.1 Time Values and Time Range\n  // 20.3.1.2 Day Number and Time within Day\n  // 20.3.1.3 Year Number\n  // 20.3.1.4 Month Number\n  // 20.3.1.5 Date Number\n  // 20.3.1.6 Week Day\n  // 20.3.1.7 Local Time Zone Adjustment\n  // 20.3.1.8 Daylight Saving Time Adjustment\n  // 20.3.1.9 Local Time\n  // 20.3.1.10 Hours, Minutes, Second, and Milliseconds\n  // 20.3.1.11 MakeTime (hour, min, sec, ms)\n  // 20.3.1.12 MakeDay (year, month, date)\n  // 20.3.1.13 MakeDate (day, time)\n  // 20.3.1.14 TimeClip (time)\n  // 20.3.1.15 Date Time String Format\n  // 20.3.1.15.1 Extended years\n  // 20.3.2 The Date Constructor\n  // 20.3.2.1 Date ( year, month [, date [ , hours [ , minutes [ , seconds [ , ms ] ] ] ] ] )\n  // 20.3.2.2 Date ( value )\n  // 20.3.2.3 Date ( )\n  // 20.3.3 Properties of the Date Constructor\n  // 20.3.3.1 Date.now ( )\n  // 20.3.3.2 Date.parse (string)\n  // 20.3.3.3 Date.prototype\n  // 20.3.3.4 Date.UTC ( year, month [ , date [ , hours [ , minutes [ , seconds [ , ms ] ] ] ] ] )\n  // 20.3.4 Properties of the Date Prototype Object\n  // 20.3.4.1 Date.prototype.constructor\n  // 20.3.4.2 Date.prototype.getDate ( )\n  // 20.3.4.3 Date.prototype.getDay ( )\n  // 20.3.4.4 Date.prototype.getFullYear ( )\n  // 20.3.4.5 Date.prototype.getHours ( )\n  // 20.3.4.6 Date.prototype.getMilliseconds ( )\n  // 20.3.4.7 Date.prototype.getMinutes ( )\n  // 20.3.4.8 Date.prototype.getMonth ( )\n  // 20.3.4.9 Date.prototype.getSeconds ( )\n  // 20.3.4.10 Date.prototype.getTime ( )\n  // 20.3.4.11 Date.prototype.getTimezoneOffset ( )\n  // 20.3.4.12 Date.prototype.getUTCDate ( )\n  // 20.3.4.13 Date.prototype.getUTCDay ( )\n  // 20.3.4.14 Date.prototype.getUTCFullYear ( )\n  // 20.3.4.15 Date.prototype.getUTCHours ( )\n  // 20.3.4.16 Date.prototype.getUTCMilliseconds ( )\n  // 20.3.4.17 Date.prototype.getUTCMinutes ( )\n  // 20.3.4.18 Date.prototype.getUTCMonth ( )\n  // 20.3.4.19 Date.prototype.getUTCSeconds ( )\n  // 20.3.4.20 Date.prototype.setDate ( date )\n  // 20.3.4.21 Date.prototype.setFullYear ( year [ , month [ , date ] ] )\n  // 20.3.4.22 Date.prototype.setHours ( hour [ , min [ , sec [ , ms ] ] ] )\n  // 20.3.4.23 Date.prototype.setMilliseconds ( ms )\n  // 20.3.4.24 Date.prototype.setMinutes ( min [ , sec [ , ms ] ] )\n  // 20.3.4.25 Date.prototype.setMonth ( month [ , date ] )\n  // 20.3.4.26 Date.prototype.setSeconds ( sec [ , ms ] )\n  // 20.3.4.27 Date.prototype.setTime ( time )\n  // 20.3.4.28 Date.prototype.setUTCDate ( date )\n  // 20.3.4.29 Date.prototype.setUTCFullYear ( year [ , month [ , date ] ] )\n  // 20.3.4.30 Date.prototype.setUTCHours ( hour [ , min [ , sec [ , ms ] ] ] )\n  // 20.3.4.31 Date.prototype.setUTCMilliseconds ( ms )\n  // 20.3.4.32 Date.prototype.setUTCMinutes ( min [ , sec [, ms ] ] )\n  // 20.3.4.33 Date.prototype.setUTCMonth ( month [ , date ] )\n  // 20.3.4.34 Date.prototype.setUTCSeconds ( sec [ , ms ] )\n  // 20.3.4.35 Date.prototype.toDateString ( )\n  // 20.3.4.36 Date.prototype.toISOString ( )\n  // 20.3.4.37 Date.prototype.toJSON ( key )\n  // 20.3.4.38 Date.prototype.toLocaleDateString ( [ reserved1 [ , reserved2 ] ] )\n  // 20.3.4.39 Date.prototype.toLocaleString ( [ reserved1 [ , reserved2 ] ] )\n  // 20.3.4.40 Date.prototype.toLocaleTimeString ( [ reserved1 [ , reserved2 ] ] )\n  // 20.3.4.41 Date.prototype.toString ( )\n  // 20.3.4.42 Date.prototype.toTimeString ( )\n  // 20.3.4.43 Date.prototype.toUTCString ( )\n  // 20.3.4.44 Date.prototype.valueOf ( )\n  // 20.3.4.45 Date.prototype [ @@toPrimitive ] ( hint )\n  // 20.3.5 Properties of Date Instances\n\n  // (No polyfillable changes from ES5)\n\n  // ---------------------------------------\n  // 21 Text Processing\n  // ---------------------------------------\n\n  var string_regexp_dispatch = (function() {\n    var faux = {}, secret = Symbol();\n    faux[Symbol.match] = function() { return secret; };\n    return (&quot;&quot;).match(faux) === secret;\n  }());\n\n  // 21.1 String Objects\n  // 21.1.1 The String Constructor\n  // 21.1.1.1 String ( value )\n  // 21.1.2 Properties of the String Constructor\n  // 21.1.2.1 String.fromCharCode ( ...codeUnits )\n\n  // 21.1.2.2 String.fromCodePoint ( ...codePoints )\n  define(\n    String, 'fromCodePoint',\n    function fromCodePoint(/*...codePoints*/) {\n      var codePoints = arguments,\n          length = codePoints.length,\n          elements = [],\n          nextIndex = 0;\n      while (nextIndex &lt; length) {\n        var next = codePoints[nextIndex];\n        var nextCP = Number(next);\n        if (!SameValue(nextCP, ToInteger(nextCP)) ||\n            nextCP &lt; 0 || nextCP &gt; 0x10FFFF) {\n          throw RangeError('Invalid code point ' + nextCP);\n        }\n        if (nextCP &lt; 0x10000) {\n          elements.push(String.fromCharCode(nextCP));\n        } else {\n          nextCP -= 0x10000;\n          elements.push(String.fromCharCode((nextCP &gt;&gt; 10) + 0xD800));\n          elements.push(String.fromCharCode((nextCP % 0x400) + 0xDC00));\n        }\n        nextIndex += 1;\n      }\n      return elements.join('');\n    });\n\n  // 21.1.2.3 String.prototype\n\n  // 21.1.2.4 String.raw ( template , ...substitutions )\n  define(\n    String, 'raw',\n    function raw(template /*, ...substitutions*/) {\n      var substitutions = [].slice.call(arguments, 1);\n\n      var cooked = Object(template);\n      var rawValue = cooked['raw'];\n      var raw = Object(rawValue);\n      var len = raw['length'];\n      var literalSegments = ToLength(len);\n      if (literalSegments &lt;= 0) return '';\n      var stringElements = [];\n      var nextIndex = 0;\n      while (true) {\n        var next = raw[nextIndex];\n        var nextSeg = String(next);\n        stringElements.push(nextSeg);\n        if (nextIndex + 1 === literalSegments)\n          return stringElements.join('');\n        next = substitutions[nextIndex];\n        var nextSub = String(next);\n        stringElements.push(nextSub);\n        nextIndex = nextIndex + 1;\n      }\n    });\n\n  // See https://githib.com/inexorabletash/uate for a more useful version.\n\n  // 21.1.3 Properties of the String Prototype Object\n  // 21.1.3.1 String.prototype.charAt ( pos )\n  // 21.1.3.2 String.prototype.charCodeAt ( pos )\n\n  // 21.1.3.3 String.prototype.codePointAt ( pos )\n  define(\n    String.prototype, 'codePointAt',\n    function codePointAt(pos) {\n      var o = strict(this);\n      var s = String(o);\n      var position = ToInteger(pos);\n      var size = s.length;\n      if (position &lt; 0 || position &gt;= size) return undefined;\n      var first = s.charCodeAt(position);\n      if (first &lt; 0xD800 || first &gt; 0xDBFF || position + 1 === size) return first;\n      var second = s.charCodeAt(position + 1);\n      if (second &lt; 0xDC00 || second &gt; 0xDFFF) return first;\n      return ((first - 0xD800) * 1024) + (second - 0xDC00) + 0x10000;\n    });\n\n  // 21.1.3.4 String.prototype.concat ( ...args )\n  // 21.1.3.5 String.prototype.constructor\n\n  // 21.1.3.6 String.prototype.endsWith ( searchString [ , endPosition] )\n  define(\n    String.prototype, 'endsWith',\n    function endsWith(searchString) {\n      var endPosition = arguments[1];\n\n      var o = strict(this);\n      var s = String(o);\n      var searchStr = String(searchString);\n      var len = s.length;\n      var pos = (endPosition === undefined) ? len : ToInteger(endPosition);\n      var end = min(max(pos, 0), len);\n      var searchLength = searchStr.length;\n      var start = end - searchLength;\n      if (start &lt; 0) return false;\n      if (s.substring(start, start + searchLength) === searchStr) return true;\n      return false;\n    });\n\n  // 21.1.3.7 String.prototype.includes ( searchString [ , position ] )\n  define(\n    String.prototype, 'includes',\n    function includes(searchString) {\n      var position = arguments[1];\n\n      var o = strict(this);\n      var s = String(o);\n      var searchStr = String(searchString);\n      var pos = ToInteger(position);\n      var len = s.length;\n      var start = min(max(pos, 0), len);\n      return s.indexOf(searchStr, start) !== -1;\n    });\n\n  // 21.1.3.8 String.prototype.indexOf ( searchString [ , position ] )\n  // 21.1.3.9 String.prototype.lastIndexOf ( searchString [ , position ] )\n  // 21.1.3.10 String.prototype.localeCompare ( that [, reserved1 [ , reserved2 ] ] )\n  // 21.1.3.11 String.prototype.match ( regexp )\n  define(\n    String.prototype, 'match',\n    function match(regexp) {\n      var o = strict(this);\n      var s = String(o);\n      if (HasProperty(regexp, $$match)) var rx = regexp;\n      else rx = new RegExp(regexp);\n      return rx[$$match](s);\n    }, !string_regexp_dispatch);\n\n  // 21.1.3.12 String.prototype.normalize ( [ form ] )\n\n  // Not practical due to table sizes; if needed, pull in:\n  // https://github.com/walling/unorm/\n\n  // 21.1.3.13 String.prototype.repeat ( count )\n  define(\n    String.prototype, 'repeat',\n    function repeat(count) {\n      var o = strict(this);\n      var s = String(o);\n      var n = ToInteger(count);\n      if (n &lt; 0) throw RangeError();\n      if (n === Infinity) throw RangeError();\n      var t = new Array(n + 1).join(s);\n      return t;\n    });\n\n  // 21.1.3.14 String.prototype.replace (searchValue, replaceValue )\n  define(\n    String.prototype, 'replace',\n    function replace(searchValue, replaceValue) {\n      var o = strict(this);\n      if (HasProperty(searchValue, $$replace))\n        return searchValue[$$replace](o, replaceValue);\n      return orig_replace.call(o, searchValue, replaceValue);\n    }, !string_regexp_dispatch);\n\n  // 21.1.3.15 String.prototype.search ( regexp )\n  define(\n    String.prototype, 'search',\n    function search(regexp) {\n      var o = strict(this);\n      var string = String(o);\n      if (HasProperty(regexp, $$search)) var rx = regexp;\n      else rx = new RegExp(regexp);\n      return rx[$$search](string);\n    }, !string_regexp_dispatch);\n\n  // 21.1.3.16 String.prototype.slice ( start, end )\n  // 21.1.3.17 String.prototype.split ( separator, limit )\n  define(\n    String.prototype, 'split',\n    function split(separator, limit) {\n      var o = strict(this);\n      if (HasProperty(separator, $$split))\n        return separator[$$split](o, limit);\n      return orig_split.call(o, separator, limit);\n    }, !string_regexp_dispatch);\n\n  // 21.1.3.18 String.prototype.startsWith ( searchString [, position ] )\n  define(\n    String.prototype, 'startsWith',\n    function startsWith(searchString) {\n      var position = arguments[1];\n\n      var o = strict(this);\n      var s = String(o);\n      var searchStr = String(searchString);\n      var pos = ToInteger(position);\n      var len = s.length;\n      var start = min(max(pos, 0), len);\n      var searchLength = searchStr.length;\n      if (searchLength + start &gt; len) return false;\n      if (s.substring(start, start + searchLength) === searchStr) return true;\n      return false;\n    });\n\n  // 21.1.3.19 String.prototype.substring ( start, end )\n  // 21.1.3.20 String.prototype.toLocaleLowerCase ( [ reserved1 [ , reserved2 ] ] )\n  // 21.1.3.21 String.prototype.toLocaleUpperCase ([ reserved1 [ , reserved2 ] ] )\n  // 21.1.3.22 String.prototype.toLowerCase ( )\n  // 21.1.3.23 String.prototype.toString ( )\n  // 21.1.3.24 String.prototype.toUpperCase ( )\n  // 21.1.3.25 String.prototype.trim ( )\n  // 21.1.3.26 String.prototype.valueOf ( )\n\n  // 21.1.3.27 String.prototype [ @@iterator ]( )\n  define(\n    String.prototype, $$iterator,\n    function entries() {\n      return CreateStringIterator(this, 'value');\n    });\n\n  // 21.1.4 Properties of String Instances\n  // 21.1.4.1 length\n\n  // 21.1.5 String Iterator Objects\n  /** @constructor */\n  function StringIterator() {}\n\n  // 21.1.5.1 CreateStringIterator Abstract Operation\n  function CreateStringIterator(string, kind) {\n    var s = String(string);\n    var iterator = new StringIterator;\n    set_internal(iterator, '[[IteratedString]]', s);\n    set_internal(iterator, '[[StringIteratorNextIndex]]', 0);\n    set_internal(iterator, '[[StringIterationKind]]', kind);\n    return iterator;\n  }\n\n  // 21.1.5.2 The %StringIteratorPrototype% Object\n  var $StringIteratorPrototype$ = Object.create($IteratorPrototype$);\n  StringIterator.prototype = $StringIteratorPrototype$;\n\n  // 21.1.5.2.1 %StringIteratorPrototype%.next ( )\n  define(\n    $StringIteratorPrototype$, 'next',\n    function next() {\n      var o = ToObject(this);\n      var s = String(o['[[IteratedString]]']),\n          index = o['[[StringIteratorNextIndex]]'],\n          len = s.length;\n      if (index &gt;= len) {\n        set_internal(o, '[[StringIteratorNextIndex]]', Infinity);\n        return CreateIterResultObject(undefined, true);\n      }\n      var cp = s.codePointAt(index);\n      set_internal(o, '[[StringIteratorNextIndex]]', index + (cp &gt; 0xFFFF ? 2 : 1));\n      return CreateIterResultObject(String.fromCodePoint(cp), false);\n    });\n\n  // 21.1.5.2.2 %StringIteratorPrototype% [ @@toStringTag ]\n  define($StringIteratorPrototype$, $$toStringTag, 'String Iterator');\n\n  // 21.1.5.3 Properties of String Iterator Instances\n\n  // ---------------------------------------\n  // 21.2 RegExp (Regular Expression) Objects\n  // ---------------------------------------\n\n  // 21.2.1 Patterns\n  // 21.2.2 Pattern Semantics\n  // 21.2.2.1 Notation\n  // 21.2.2.2 Pattern\n  // 21.2.2.3 Disjunction\n  // 21.2.2.4 Alternative\n  // 21.2.2.5 Term\n  // 21.2.2.6 Assertion\n  // 21.2.2.7 Quantifier\n  // 21.2.2.8 Atom\n  // 21.2.2.9 AtomEscape\n  // 21.2.2.10 CharacterEscape\n  // 21.2.2.11 DecimalEscape\n  // 21.2.2.12 CharacterClassEscape\n  // 21.2.2.13 CharacterClass\n  // 21.2.2.14 ClassRanges\n  // 21.2.2.15 NonemptyClassRanges\n  // 21.2.2.16 NonemptyClassRangesNoDash\n  // 21.2.2.17 ClassAtom\n  // 21.2.2.18 ClassAtomNoDash\n  // 21.2.2.19 ClassEscape\n  // 21.2.3 The RegExp Constructor\n  // 21.2.3.1 RegExp ( pattern, flags )\n  // 21.2.3.2 new RegExp( ...argumentsList )\n  // 21.2.3.3 Abstract Operations for the RegExp Constructor\n  // 21.2.4 Properties of the RegExp Constructor\n  // 21.2.4.1 RegExp.prototype\n  // 21.2.5 Properties of the RegExp Prototype Object\n  // 21.2.5.1 RegExp.prototype.constructor\n  // 21.2.5.2 RegExp.prototype.exec ( string )\n\n  // 21.2.5.3 get RegExp.prototype.flags\n  if (!('flags' in RegExp.prototype)) {\n    Object.defineProperty(\n      RegExp.prototype, 'flags', {\n        get: function() {\n          var s = String(this);\n          return s.substring(s.lastIndexOf('/') + 1);\n        }\n      });\n  }\n\n  // 21.2.5.4 get RegExp.prototype.global\n  // 21.2.5.5 get RegExp.prototype.ignoreCase\n\n  // 21.2.5.6 RegExp.prototype [ @@match ] ( string )\n  define(RegExp.prototype, $$match, function(string) {\n    var o = strict(this);\n    return orig_match.call(string, o);\n  });\n\n  // 21.2.5.7 get RegExp.prototype.multiline\n\n  // 21.2.5.8 RegExp.prototype [ @@replace ] ( string, replaceValue )\n  define(RegExp.prototype, $$replace, function(string, replaceValue) {\n    var o = strict(this);\n    return orig_replace.call(string, o, replaceValue);\n  });\n\n  // 21.2.5.9 RegExp.prototype [ @@search ] ( string )\n  define(RegExp.prototype, $$search, function(string) {\n    var o = strict(this);\n    return orig_search.call(string, o);\n  });\n\n  // 21.2.5.10 get RegExp.prototype.source\n\n  // 21.2.5.11 RegExp.prototype [ @@split ] ( string, limit )\n  define(RegExp.prototype, $$split, function(string, limit) {\n    var o = strict(this);\n    return orig_split.call(string, o, limit);\n  });\n\n  // 21.2.5.12 get RegExp.prototype.sticky\n  // 21.2.5.13 RegExp.prototype.test( S )\n  // 21.2.5.14 RegExp.prototype.toString ( )\n  // 21.2.5.15 get RegExp.prototype.unicode\n\n  // 21.2.6 Properties of RegExp Instances\n  // 21.2.6.1 lastIndex\n\n  // (No polyfillable changes from ES5)\n\n  // ---------------------------------------\n  // 22 Indexed Collections\n  // ---------------------------------------\n\n  // ---------------------------------------\n  // 22.1 Array Objects\n  // ---------------------------------------\n\n  // 22.1.1 The Array Constructor\n  // 22.1.1.1 Array ( )\n  // 22.1.1.2 Array (len)\n  // 22.1.1.3 Array (...items )\n\n  // 22.1.2 Properties of the Array Constructor\n\n  // 22.1.2.1 Array.from ( items [ , mapfn [ , thisArg ] ] )\n  define(\n    Array, 'from',\n    function from(items) {\n      var mapfn = arguments[1];\n      var thisArg = arguments[2];\n\n      var c = strict(this);\n      if (mapfn === undefined) {\n        var mapping = false;\n      } else {\n        if (!IsCallable(mapfn)) throw TypeError();\n        var t = thisArg;\n        mapping = true;\n      }\n      var usingIterator = GetMethod(items, $$iterator);\n      if (usingIterator !== undefined) {\n         if (IsConstructor(c)) {\n          var a = new c();\n        } else {\n          a = new Array(0);\n        }\n        var iterator = GetIterator(items, usingIterator);\n        var k = 0;\n        while (true) {\n          var next = IteratorStep(iterator);\n          if (next === false) {\n            a.length = k;\n            return a;\n          }\n          var nextValue = IteratorValue(next);\n          if (mapping)\n            var mappedValue = mapfn.call(t, nextValue);\n          else\n            mappedValue = nextValue;\n          a[k] = mappedValue;\n          k += 1;\n        }\n      }\n      var arrayLike = ToObject(items);\n      var lenValue = arrayLike.length;\n      var len = ToLength(lenValue);\n      if (IsConstructor(c)) {\n        a = new c(len);\n      } else {\n        a = new Array(len);\n      }\n      k = 0;\n      while (k &lt; len) {\n        var kValue = arrayLike[k];\n        if (mapping)\n          mappedValue = mapfn.call(t, kValue, k);\n        else\n          mappedValue = kValue;\n        a[k] = mappedValue;\n        k += 1;\n      }\n      a.length = len;\n      return a;\n    });\n\n  // 22.1.2.2 Array.isArray ( arg )\n\n  // 22.1.2.3 Array.of ( ...items )\n  define(\n    Array, 'of',\n    function of() {\n      var items = arguments;\n\n      var lenValue = items.length;\n      var len = ToUint32(lenValue);\n      var c = strict(this), a;\n      if (IsConstructor(c)) {\n        a = new c(len);\n        a = ToObject(a);\n      } else {\n        a = new Array(len);\n      }\n      var k = 0;\n      while (k &lt; len) {\n        a[k] = items[k];\n        k += 1;\n      }\n      a.length = len;\n      return a;\n    });\n\n  // 22.1.2.4 Array.prototype\n  // 22.1.2.5 get Array [ @@species ]\n  // 22.1.3 Properties of the Array Prototype Object\n  // 22.1.3.1 Array.prototype.concat ( ...arguments )\n  // 22.1.3.1.1 Runtime Semantics: IsConcatSpreadable ( O )\n  // 22.1.3.2 Array.prototype.constructor\n  // 22.1.3.3 Array.prototype.copyWithin (target, start [ , end ] )\n  define(\n    Array.prototype, 'copyWithin',\n    function copyWithin(target, start/*, end*/) {\n      var end = arguments[2];\n\n      var o = ToObject(this);\n      var lenVal = o.length;\n      var len = ToLength(lenVal);\n      len = max(len, 0);\n      var relativeTarget = ToInteger(target);\n      var to;\n      if (relativeTarget &lt; 0)\n        to = max(len + relativeTarget, 0);\n      else\n        to = min(relativeTarget, len);\n      var relativeStart = ToInteger(start);\n      var from;\n      if (relativeStart &lt; 0)\n        from = max(len + relativeStart, 0);\n      else\n        from = min(relativeStart, len);\n      var relativeEnd;\n      if (end === undefined)\n        relativeEnd = len;\n      else\n        relativeEnd = ToInteger(end);\n      var final;\n      if (relativeEnd &lt; 0)\n        final = max(len + relativeEnd, 0);\n      else\n        final = min(relativeEnd, len);\n      var count = min(final - from, len - to);\n      var direction;\n      if (from &lt; to &amp;&amp; to &lt; from + count) {\n        direction = -1;\n        from = from + count - 1;\n        to = to + count - 1;\n      } else {\n        direction = 1;\n      }\n      while (count &gt; 0) {\n        var fromKey = String(from);\n        var toKey = String(to);\n        var fromPresent = HasProperty(o, fromKey);\n        if (fromPresent) {\n          var fromVal = o[fromKey];\n          o[toKey] = fromVal;\n        } else {\n          delete o[toKey];\n        }\n        from = from + direction;\n        to = to + direction;\n        count = count - 1;\n      }\n      return o;\n    });\n\n  // 22.1.3.4 Array.prototype.entries ( )\n  var nativeArrayIteratorMethods =\n        ('entries' in Array.prototype &amp;&amp; 'next' in [].entries());\n\n  define(\n    Array.prototype, 'entries',\n    function entries() {\n      return CreateArrayIterator(this, 'key+value');\n    }, !nativeArrayIteratorMethods);\n\n  // 22.1.3.5 Array.prototype.every ( callbackfn [ , thisArg] )\n\n  // 22.1.3.6 Array.prototype.fill (value [ , start [ , end ] ] )\n  define(\n    Array.prototype, 'fill',\n    function fill(value/*, start, end*/) {\n      var start = arguments[1],\n          end = arguments[2];\n\n      var o = ToObject(this);\n      var lenVal = o.length;\n      var len = ToLength(lenVal);\n      len = max(len, 0);\n      var relativeStart = ToInteger(start);\n      var k;\n      if (relativeStart &lt; 0)\n        k = max((len + relativeStart), 0);\n      else\n        k = min(relativeStart, len);\n      var relativeEnd;\n      if (end === undefined)\n        relativeEnd = len;\n      else\n        relativeEnd = ToInteger(end);\n      var final;\n      if (relativeEnd &lt; 0)\n        final = max((len + relativeEnd), 0);\n      else\n        final = min(relativeEnd, len);\n      while (k &lt; final) {\n        var pk = String(k);\n        o[pk] = value;\n        k += 1;\n      }\n      return o;\n    });\n\n  // 22.1.3.7 Array.prototype.filter ( callbackfn [ , thisArg ] )\n\n  // 22.1.3.8 Array.prototype.find ( predicate [ , thisArg ] )\n  define(\n    Array.prototype, 'find',\n    function find(predicate) {\n      var o = ToObject(this);\n      var lenValue = o.length;\n      var len = ToInteger(lenValue);\n      if (!IsCallable(predicate)) throw TypeError();\n      var t = arguments.length &gt; 1 ? arguments[1] : undefined;\n      var k = 0;\n      while (k &lt; len) {\n        var pk = String(k);\n        var kPresent = HasProperty(o, pk);\n        if (kPresent) {\n          var kValue = o[pk];\n          var testResult = predicate.call(t, kValue, k, o);\n          if (Boolean(testResult)) {\n            return kValue;\n          }\n        }\n        ++k;\n      }\n      return undefined;\n    });\n\n  // 22.1.3.9 Array.prototype.findIndex ( predicate [ , thisArg ] )\n  define(\n    Array.prototype, 'findIndex',\n    function findIndex(predicate) {\n      var o = ToObject(this);\n      var lenValue = o.length;\n      var len = ToLength(lenValue);\n      if (!IsCallable(predicate)) throw TypeError();\n      var t = arguments.length &gt; 1 ? arguments[1] : undefined;\n      var k = 0;\n      while (k &lt; len) {\n        var pk = String(k);\n        var kPresent = HasProperty(o, pk);\n        if (kPresent) {\n          var kValue = o[pk];\n          var testResult = predicate.call(t, kValue, k, o);\n          if (Boolean(testResult)) {\n            return k;\n          }\n        }\n        ++k;\n      }\n      return -1;\n    });\n\n  // 22.1.3.10 Array.prototype.forEach ( callbackfn [ , thisArg ] )\n  // 22.1.3.11 Array.prototype.indexOf ( searchElement [ , fromIndex ] )\n  // 22.1.3.12 Array.prototype.join (separator)\n\n  // 22.1.3.13 Array.prototype.keys ( )\n  define(\n    Array.prototype, 'keys',\n    function keys() {\n      return CreateArrayIterator(this, 'key');\n    }, !nativeArrayIteratorMethods);\n\n  // 22.1.3.14 Array.prototype.lastIndexOf ( searchElement [ , fromIndex ] )\n  // 22.1.3.15 Array.prototype.map ( callbackfn [ , thisArg ] )\n  // 22.1.3.16 Array.prototype.pop ( )\n  // 22.1.3.17 Array.prototype.push ( ...items )\n  // 22.1.3.18 Array.prototype.reduce ( callbackfn [ , initialValue ] )\n  // 22.1.3.19 Array.prototype.reduceRight ( callbackfn [ , initialValue ] )\n  // 22.1.3.20 Array.prototype.reverse ( )\n  // 22.1.3.21 Array.prototype.shift ( )\n  // 22.1.3.22 Array.prototype.slice (start, end)\n  // 22.1.3.23 Array.prototype.some ( callbackfn [ , thisArg ] )\n  // 22.1.3.24 Array.prototype.sort (comparefn)\n  // 22.1.3.25 Array.prototype.splice (start, deleteCount , ...items )\n  // 22.1.3.26 Array.prototype.toLocaleString ( [ reserved1 [ , reserved2 ] ] )\n  // 22.1.3.27 Array.prototype.toString ( )\n  // 22.1.3.28 Array.prototype.unshift ( ...items )\n\n  // 22.1.3.29 Array.prototype.values ( )\n  define(\n    Array.prototype, 'values',\n    function values() {\n      return CreateArrayIterator(this, 'value');\n    }, !nativeArrayIteratorMethods);\n\n  // 22.1.3.30 Array.prototype [ @@iterator ] ( )\n  define(\n    Array.prototype, $$iterator,\n    Array.prototype.values\n    );\n\n  // 22.1.3.31 Array.prototype [ @@unscopables ]\n  // 22.1.4 Properties of Array Instances\n  // 22.1.4.1 length\n\n  // 22.1.5 Array Iterator Objects\n  function ArrayIterator() {}\n\n  // 22.1.5.1 CreateArrayIterator Abstract Operation\n  function CreateArrayIterator(array, kind) {\n    var o = ToObject(array);\n    var iterator = new ArrayIterator;\n    set_internal(iterator, '[[IteratedObject]]', o);\n    set_internal(iterator, '[[ArrayIteratorNextIndex]]', 0);\n    set_internal(iterator, '[[ArrayIterationKind]]', kind);\n    return iterator;\n  }\n\n  // 22.1.5.2 The %ArrayIteratorPrototype% Object\n  var $ArrayIteratorPrototype$ = Object.create($IteratorPrototype$);\n  ArrayIterator.prototype = $ArrayIteratorPrototype$;\n\n  // 22.1.5.2.1 %ArrayIteratorPrototype%. next( )\n  define(\n    $ArrayIteratorPrototype$, 'next',\n    function next() {\n      var o = strict(this);\n      if (Type(o) !== 'object') throw TypeError();\n      var a = o['[[IteratedObject]]'],\n          index = o['[[ArrayIteratorNextIndex]]'],\n          itemKind = o['[[ArrayIterationKind]]'],\n          lenValue = a.length,\n          len = ToUint32(lenValue),\n          elementKey,\n          elementValue;\n      if (itemKind.indexOf('sparse') !== -1) {\n        var found = false;\n        while (!found &amp;&amp; index &lt; len) {\n          elementKey = String(index);\n          found = HasProperty(a, elementKey);\n          if (!found) {\n            index += 1;\n          }\n        }\n      }\n      if (index &gt;= len) {\n        set_internal(o, '[[ArrayIteratorNextIndex]]', Infinity);\n        return CreateIterResultObject(undefined, true);\n      }\n      elementKey = index;\n      set_internal(o, '[[ArrayIteratorNextIndex]]', index + 1);\n      if (itemKind.indexOf('value') !== -1)\n        elementValue = a[elementKey];\n      if (itemKind.indexOf('key+value') !== -1)\n        return CreateIterResultObject([elementKey, elementValue], false);\n      if (itemKind.indexOf('key') !== -1)\n        return CreateIterResultObject(elementKey, false);\n      if (itemKind === 'value')\n        return CreateIterResultObject(elementValue, false);\n      throw Error('Internal error');\n    });\n\n  // 22.1.5.2.2 %ArrayIteratorPrototype% [ @@toStringTag ]\n  define($ArrayIteratorPrototype$, $$toStringTag, 'Array Iterator');\n\n  // 22.1.5.3 Properties of Array Iterator Instances\n\n\n  // ---------------------------------------\n  // 22.2 TypedArray Objects\n  // ---------------------------------------\n\n  // See typedarray.js for TypedArray polyfill\n\n  ['Int8Array', 'Uint8Array', 'Uint8ClampedArray',\n   'Int16Array', 'Uint16Array',\n   'Int32Array', 'Uint32Array',\n   'Float32Array', 'Float64Array'].forEach(function ($TypedArrayName$) {\n     if (!($TypedArrayName$ in global))\n       return;\n     var $TypedArray$ = global[$TypedArrayName$];\n\n     // 22.2.1 The %TypedArray% Intrinsic Object\n     // 22.2.1.1 %TypedArray% ( length )\n     // 22.2.1.2 %TypedArray% ( typedArray )\n     // 22.2.1.3 %TypedArray% ( object )\n     // 22.2.1.4 %TypedArray% ( buffer [ , byteOffset [ , length ] ] )\n     // 22.2.1.5 %TypedArray% ( all other argument combinations )\n     // 22.2.2 Properties of the %TypedArray% Intrinsic Object\n\n     // 22.2.2.1 %TypedArray%.from ( source [ , mapfn [ , thisArg ] ] )\n     define(\n       $TypedArray$, 'from',\n       function from(source) {\n         var mapfn = arguments[1];\n         var thisArg = arguments[2];\n\n         var c = strict(this);\n         if (!IsConstructor(c)) throw TypeError();\n         if (mapfn === undefined) {\n           var mapping = false;\n         } else {\n           if (IsCallable(mapfn)) throw TypeError();\n           var t = thisArg;\n           mapping = true;\n         }\n         var usingIterator = GetMethod(source, $$iterator);\n         if (usingIterator !== undefined) {\n           var iterator = GetIterator(source, usingIterator);\n           var values = [];\n           var next = true;\n           while (next !== false) {\n             next = IteratorStep(iterator);\n             if (next !== false) {\n               var nextValue = IteratorValue(next);\n               values.push(nextValue);\n             }\n           }\n           var len = values.length;\n           var newObj = new c(len);\n           var k = 0;\n           while (k &lt; len) {\n             var kValue = values.shift();\n             if (mapping) {\n               var mappedValue = mapfn.call(t, kValue);\n             } else {\n               mappedValue = kValue;\n             }\n             newObj[k] = mappedValue;\n             ++k;\n           }\n           console.assert(values.length === 0);\n           return newObj;\n         }\n         var arrayLike = ToObject(source);\n         var lenValue = arrayLike.length;\n         len = ToLength(lenValue);\n         newObj = new c(len);\n         k = 0;\n         while (k &lt; len) {\n           kValue = arrayLike[k];\n           if (mapping) {\n             mappedValue = mapfn.call(t, kValue, k);\n           } else {\n             mappedValue = kValue;\n           }\n           newObj[k] = mappedValue;\n           ++k;\n         }\n         return newObj;\n       });\n\n     // 22.2.2.2 %TypedArray%.of ( ...items )\n     define(\n       $TypedArray$, 'of',\n       function of() {\n         var items = arguments;\n\n         var len = items.length;\n         var c = strict(this);\n         var newObj = new c(len);\n         var k = 0;\n         while (k &lt; len) {\n           newObj[k] = items[k];\n           ++k;\n         }\n         return newObj;\n       });\n\n     // 22.2.2.3 %TypedArray%.prototype\n     // 22.2.2.4 get %TypedArray% [ @@species ]\n     // 22.2.3 Properties of the %TypedArrayPrototype% Object\n     // 22.2.3.1 get %TypedArray%.prototype.buffer\n     // 22.2.3.2 get %TypedArray%.prototype.byteLength\n     // 22.2.3.3 get %TypedArray%.prototype.byteOffset\n     // 22.2.3.4 %TypedArray%.prototype.constructor\n\n     // 22.2.3.5 %TypedArray%.prototype.copyWithin (target, start [, end ] )\n     define($TypedArray$.prototype, 'copyWithin', Array.prototype.copyWithin);\n\n     // 22.2.3.6 %TypedArray%.prototype.entries ( )\n     define($TypedArray$.prototype, 'entries', Array.prototype.entries);\n\n     // 22.2.3.7 %TypedArray%.prototype.every ( callbackfn [ , thisArg ] )\n     define($TypedArray$.prototype, 'every', Array.prototype.every);\n\n     // 22.2.3.8 %TypedArray%.prototype.fill (value [ , start [ , end ] ] )\n     define(\n       $TypedArray$.prototype, 'fill',\n       //Array.prototype.fill // Doesn't work in Safari 7\n       function fill(value/*, start, end*/) {\n         var start = arguments[1],\n             end = arguments[2];\n\n         var o = ToObject(this);\n         var lenVal = o.length;\n         var len = ToLength(lenVal);\n         len = max(len, 0);\n         var relativeStart = ToInteger(start);\n         var k;\n         if (relativeStart &lt; 0) k = max((len + relativeStart), 0);\n         else k = min(relativeStart, len);\n         var relativeEnd;\n         if (end === undefined) relativeEnd = len;\n         else relativeEnd = ToInteger(end);\n         var final;\n         if (relativeEnd &lt; 0) final = max((len + relativeEnd), 0);\n         else final = min(relativeEnd, len);\n         while (k &lt; final) {\n           var pk = String(k);\n           o[pk] = value;\n           k += 1;\n         }\n         return o;\n       });\n\n     // 22.2.3.9 %TypedArray%.prototype.filter ( callbackfn [ , thisArg ] )\n     define(\n       $TypedArray$.prototype, 'filter',\n       function filter(callbackfn) {\n         var thisArg = arguments[1];\n\n         var o = ToObject(this);\n         var lenVal = o.length;\n         var len = ToLength(lenVal);\n         if (!IsCallable(callbackfn)) throw TypeError();\n         var t = thisArg;\n         var c = o.constructor;\n         var kept = [];\n         var k = 0;\n         var captured = 0;\n         while (k &lt; len) {\n           var kValue = o[k];\n           var selected = callbackfn.call(t, kValue, k, o);\n           if (selected) {\n             kept.push(kValue);\n             ++captured;\n           }\n           ++k;\n         }\n         var a = new c(captured);\n         var n = 0;\n         for (var i = 0; i &lt; kept.length; ++i) {\n           var e = kept[i];\n           a[n] = e;\n           ++n;\n         }\n         return a;\n       });\n\n     // 22.2.3.10 %TypedArray%.prototype.find (predicate [ , thisArg ] )\n     define($TypedArray$.prototype, 'find', Array.prototype.find);\n\n     // 22.2.3.11 %TypedArray%.prototype.findIndex ( predicate [ , thisArg ] )\n     define($TypedArray$.prototype, 'findIndex', Array.prototype.findIndex);\n\n     // 22.2.3.12 %TypedArray%.prototype.forEach ( callbackfn [ , thisArg ] )\n     define($TypedArray$.prototype, 'forEach', Array.prototype.forEach);\n\n     // 22.2.3.13 %TypedArray%.prototype.indexOf (searchElement [ , fromIndex ] )\n     define($TypedArray$.prototype, 'indexOf', Array.prototype.indexOf);\n\n     // 22.2.3.14 %TypedArray%.prototype.join ( separator )\n     define($TypedArray$.prototype, 'join', Array.prototype.join);\n\n     // 22.2.3.15 %TypedArray%.prototype.keys ( )\n     define($TypedArray$.prototype, 'keys', Array.prototype.keys);\n\n     // 22.2.3.16 %TypedArray%.prototype.lastIndexOf ( searchElement [ , fromIndex ] )\n     define($TypedArray$.prototype, 'lastIndexOf', Array.prototype.lastIndexOf);\n\n     // 22.2.3.17 get %TypedArray%.prototype.length\n\n     // 22.2.3.18 %TypedArray%.prototype.map ( callbackfn [ , thisArg ] )\n     define(\n       $TypedArray$.prototype, 'map',\n       function map(callbackfn) {\n         var thisArg = arguments[1];\n\n         var o = ToObject(this);\n         var lenValue = o.length;\n         var len = ToLength(lenValue);\n         if (!IsCallable(callbackfn)) throw TypeError();\n         var t = thisArg;\n         var a = undefined;\n         var c = o.constructor;\n         if (IsConstructor(c))\n           a = new c(len);\n         if (a === undefined)\n           a = new Array(len);\n         var k = 0;\n         while (k &lt; len) {\n           var kPresent = HasProperty(o, k);\n           if (kPresent) {\n             var kValue = o[k];\n             var mappedValue = callbackfn.call(t, kValue, k, o);\n             a[k] = mappedValue;\n           }\n           ++k;\n         }\n         return a;\n       });\n\n     // 22.2.3.19 %TypedArray%.prototype.reduce ( callbackfn [, initialValue] )\n     define($TypedArray$.prototype, 'reduce', Array.prototype.reduce);\n\n     // 22.2.3.20 %TypedArray%.prototype.reduceRight ( callbackfn [, initialValue] )\n     define($TypedArray$.prototype, 'reduceRight', Array.prototype.reduceRight);\n\n     // 22.2.3.21 %TypedArray%.prototype.reverse ( )\n     define($TypedArray$.prototype, 'reverse', Array.prototype.reverse);\n\n     // 22.2.3.22 %TypedArray%.prototype.set ( overloaded [ , offset ])\n     // 22.2.3.22.1 %TypedArray%.prototype.set (array [ , offset ] )\n     // 22.2.3.22.2 %TypedArray%.prototype.set(typedArray [, offset ] )\n\n     // 22.2.3.23 %TypedArray%.prototype.slice ( start, end )\n     define(\n       $TypedArray$.prototype, 'slice',\n       function slice(start, end) {\n         var o = ToObject(this);\n         var lenVal = o.length;\n         var len = ToLength(lenVal);\n         var relativeStart = ToInteger(start);\n         var k = (relativeStart &lt; 0) ? max(len + relativeStart, 0) : min(relativeStart, len);\n         var relativeEnd = (end === undefined) ? len : ToInteger(end);\n         var final = (relativeEnd &lt; 0) ? max(len + relativeEnd, 0) : min(relativeEnd, len);\n         var count = final - k;\n         var c = o.constructor;\n         if (IsConstructor(c)) {\n           var a = new c(count);\n         } else {\n           throw TypeError();\n         }\n         var n = 0;\n         while (k &lt; final) {\n           var kValue = o[k];\n           a[n] = kValue;\n           ++k;\n           ++n;\n         }\n         return a;\n       });\n\n     // 22.2.3.24 %TypedArray%.prototype.some ( callbackfn [ , thisArg ] )\n     define($TypedArray$.prototype, 'some', Array.prototype.some);\n\n     // 22.2.3.25 %TypedArray%.prototype.sort ( comparefn )\n     define(\n       $TypedArray$.prototype, 'sort',\n       function sort() {\n         var comparefn = arguments[0];\n\n         function sortCompare(x, y) {\n           console.assert(Type(x) === 'number' &amp;&amp; Type(y) === 'number');\n           if (x !== x &amp;&amp; y !== y) return +0;\n           if (x !== x) return 1;\n           if (y !== y) return -1;\n           if (comparefn !== undefined) {\n             return comparefn(x, y);\n           }\n           if (x &lt; y) return -1;\n           if (x &gt; y) return 1;\n           return +0;\n         }\n         return Array.prototype.sort.call(this, sortCompare);\n       });\n\n     // 22.2.3.26 %TypedArray%.prototype.subarray( [ begin [ , end ] ] )\n     // 22.2.3.27 %TypedArray%.prototype.toLocaleString ([ reserved1 [ , reserved2 ] ])\n     // 22.2.3.28 %TypedArray%.prototype.toString ( )\n\n     // 22.2.3.29 %TypedArray%.prototype.values ( )\n     define($TypedArray$.prototype, 'values', Array.prototype.values);\n\n     // 22.2.3.30 %TypedArray%.prototype [ @@iterator ] ( )\n     define(\n       $TypedArray$.prototype, $$iterator,\n       $TypedArray$.prototype.values\n     );\n\n     // 22.2.3.31 get %TypedArray%.prototype [ @@toStringTag ]\n     define($TypedArray$.prototype, $$toStringTag, $TypedArrayName$);\n\n     // 22.2.4 The TypedArray Constructors\n     // 22.2.4.1TypedArray( ... argumentsList)\n     // 22.2.5 Properties of the TypedArray Constructors\n     // 22.2.5.1 TypedArray.BYTES_PER_ELEMENT\n     // 22.2.5.2 TypedArray.prototype\n     // 22.2.6 Properties of TypedArray Prototype Objects\n     // 22.2.6.1 TypedArray.prototype.BYTES_PER_ELEMENT\n     // 22.2.6.2 TypedArray.prototype.constructor\n     // 22.2.7 Properties of TypedArray Instances\n   });\n\n  // ---------------------------------------\n  // 23 Keyed Collection\n  // ---------------------------------------\n\n  // ---------------------------------------\n  // 23.1 Map Objects\n  // ---------------------------------------\n\n  (function() {\n    // 23.1.1 The Map Constructor\n\n    // 23.1.1.1 Map ( [ iterable ] )\n    /** @constructor */\n    function Map(/*iterable*/) {\n      var map = strict(this);\n      var iterable = arguments[0];\n\n      if (Type(map) !== 'object') throw TypeError();\n      if ('[[MapData]]' in map) throw TypeError();\n\n      if (iterable !== undefined) {\n        var adder = map['set'];\n        if (!IsCallable(adder)) throw TypeError();\n        var iter = GetIterator(ToObject(iterable));\n      }\n      set_internal(map, '[[MapData]]', { keys: [], values: [] });\n      if (iter === undefined) return map;\n      while (true) {\n        var next = IteratorStep(iter);\n        if (next === false)\n          return map;\n        var nextItem = IteratorValue(next);\n        if (Type(nextItem) !== 'object') throw TypeError();\n        var k = nextItem[0];\n        var v = nextItem[1];\n        adder.call(map, k, v);\n      }\n\n      return map;\n    }\n\n    if (!('Map' in global) || OVERRIDE_NATIVE_FOR_TESTING ||\n        (function() { try { new global.Map([]); return false; } catch (_) { return true; } }()) ||\n        (function() { try { return !new global.Map().entries().next; } catch (_) { return true; } }()) ||\n        (new global.Map([['a', 1]]).size !== 1))\n      global.Map = Map;\n\n\n    function MapDataIndexOf(mapData, key) {\n      var i;\n      if (key === key) return mapData.keys.indexOf(key);\n      // Slow case for NaN\n      for (i = 0; i &lt; mapData.keys.length; i += 1)\n        if (SameValueZero(mapData.keys[i], key)) return i;\n      return -1;\n    }\n\n    // 23.1.1.2 new Map ( ... argumentsList )\n    // 23.1.2 Properties of the Map Constructor\n    // 23.1.2.1 Map.prototype\n    var $MapPrototype$ = {};\n    Map.prototype = $MapPrototype$;\n\n    // 23.1.2.2 get Map [ @@species ]\n\n    // 23.1.3 Properties of the Map Prototype Object\n    // 23.1.3.1 Map.prototype.clear ()\n    define(\n      Map.prototype, 'clear',\n      function clear() {\n        var m = strict(this);\n        if (Type(m) !== 'object') throw TypeError();\n        if (!('[[MapData]]' in m)) throw TypeError();\n        if (m['[[MapData]]'] === undefined) throw TypeError();\n        var entries = m['[[MapData]]'];\n        entries.keys.length = 0;\n        entries.values.length = 0;\n        return undefined;\n      });\n\n    // 23.1.3.2 Map.prototype.constructor\n\n    // 23.1.3.3 Map.prototype.delete ( key )\n    define(\n      Map.prototype, 'delete',\n      function delete_(key) {\n        var m = strict(this);\n        if (Type(m) !== 'object') throw TypeError();\n        if (!('[[MapData]]' in m)) throw TypeError();\n        if (m['[[MapData]]'] === undefined) throw TypeError();\n        var entries = m['[[MapData]]'];\n        var i = MapDataIndexOf(entries, key);\n        if (i &lt; 0) return false;\n        entries.keys[i] = empty;\n        entries.values[i] = empty;\n        return true;\n      });\n\n    // 23.1.3.4 Map.prototype.entries ( )\n    define(\n      Map.prototype, 'entries',\n      function entries() {\n        var m = strict(this);\n        if (Type(m) !== 'object') throw TypeError();\n        return CreateMapIterator(m, 'key+value');\n      });\n\n    // 23.1.3.5 Map.prototype.forEach ( callbackfn [ , thisArg ] )\n    define(\n      Map.prototype, 'forEach',\n      function forEach(callbackfn /*, thisArg*/) {\n        var thisArg = arguments[1];\n\n        var m = strict(this);\n        if (Type(m) !== 'object') throw TypeError();\n        if (!('[[MapData]]' in m)) throw TypeError();\n        if (m['[[MapData]]'] === undefined) throw TypeError();\n        var entries = m['[[MapData]]'];\n\n        if (!IsCallable(callbackfn)) {\n          throw TypeError('First argument to forEach is not callable.');\n        }\n        for (var i = 0; i &lt; entries.keys.length; ++i) {\n          if (entries.keys[i] !== empty) {\n            callbackfn.call(thisArg, entries.values[i], entries.keys[i], m);\n          }\n        }\n        return undefined;\n      });\n\n    // 23.1.3.6 Map.prototype.get ( key )\n    define(\n      Map.prototype, 'get',\n      function get(key) {\n        var m = strict(this);\n        if (Type(m) !== 'object') throw TypeError();\n        if (!('[[MapData]]' in m)) throw TypeError();\n        if (m['[[MapData]]'] === undefined) throw TypeError();\n        var entries = m['[[MapData]]'];\n        var i = MapDataIndexOf(entries, key);\n        if (i &gt;= 0) return entries.values[i];\n        return undefined;\n      });\n\n    // 23.1.3.7 Map.prototype.has ( key )\n    define(\n      Map.prototype, 'has',\n      function has(key) {\n        var m = strict(this);\n        if (Type(m) !== 'object') throw TypeError();\n        if (!('[[MapData]]' in m)) throw TypeError();\n        if (m['[[MapData]]'] === undefined) throw TypeError();\n        var entries = m['[[MapData]]'];\n        if (MapDataIndexOf(entries, key) &gt;= 0) return true;\n        return false;\n      });\n\n    // 23.1.3.8 Map.prototype.keys ( )\n    define(\n      Map.prototype, 'keys',\n      function keys() {\n        var m = strict(this);\n        if (Type(m) !== 'object') throw TypeError();\n        return CreateMapIterator(m, 'key');\n      });\n\n    // 23.1.3.9 Map.prototype.set ( key , value )\n    define(\n      Map.prototype, 'set',\n      function set(key, value) {\n        var m = strict(this);\n        if (Type(m) !== 'object') throw TypeError();\n        if (!('[[MapData]]' in m)) throw TypeError();\n        if (m['[[MapData]]'] === undefined) throw TypeError();\n        var entries = m['[[MapData]]'];\n        var i = MapDataIndexOf(entries, key);\n        if (i &lt; 0) i = entries.keys.length;\n        if (SameValue(key, -0)) key = 0;\n        entries.keys[i] = key;\n        entries.values[i] = value;\n        return m;\n      });\n\n    // 23.1.3.10 get Map.prototype.size\n    Object.defineProperty(\n      Map.prototype, 'size', {\n        get: function() {\n          var m = strict(this);\n          if (Type(m) !== 'object') throw TypeError();\n          if (!('[[MapData]]' in m)) throw TypeError();\n          if (m['[[MapData]]'] === undefined) throw TypeError();\n          var entries = m['[[MapData]]'];\n          var count = 0;\n          for (var i = 0; i &lt; entries.keys.length; ++i) {\n            if (entries.keys[i] !== empty)\n              count = count + 1;\n          }\n          return count;\n        }\n      });\n\n    // 23.1.3.11 Map.prototype.values ( )\n    define(\n      Map.prototype, 'values',\n      function values() {\n        var m = strict(this);\n        if (Type(m) !== 'object') throw TypeError();\n        return CreateMapIterator(m, 'value');\n      });\n\n    // 23.1.3.12 Map.prototype [ @@iterator ]( )\n    define(\n      Map.prototype, $$iterator,\n      function() {\n        var m = strict(this);\n        if (Type(m) !== 'object') throw TypeError();\n        return CreateMapIterator(m, 'key+value');\n      });\n\n    // 23.1.3.13 Map.prototype [ @@toStringTag ]\n    define(global.Map.prototype, $$toStringTag, 'Map');\n\n    // 23.1.4 Properties of Map Instances\n    // 23.1.5 Map Iterator Objects\n\n    /** @constructor */\n    function MapIterator() {}\n\n    // 23.1.5.1 CreateMapIterator Abstract Operation\n    function CreateMapIterator(map, kind) {\n      if (Type(map) !== 'object') throw TypeError();\n      if (!('[[MapData]]' in map)) throw TypeError();\n      if (map['[[MapData]]'] === undefined) throw TypeError();\n      var iterator = new MapIterator;\n      set_internal(iterator, '[[Map]]', map);\n      set_internal(iterator, '[[MapNextIndex]]', 0);\n      set_internal(iterator, '[[MapIterationKind]]', kind);\n      return iterator;\n    }\n\n    // 23.1.5.2 The %MapIteratorPrototype% Object\n    var $MapIteratorPrototype$ = Object.create($IteratorPrototype$);\n    MapIterator.prototype = $MapIteratorPrototype$;\n\n    // 23.1.5.2.1 %MapIteratorPrototype%.next ( )\n    define(\n      $MapIteratorPrototype$, 'next',\n      function next() {\n        var o = strict(this);\n        if (Type(o) !== 'object') throw TypeError();\n        var m = o['[[Map]]'],\n            index = o['[[MapNextIndex]]'],\n            itemKind = o['[[MapIterationKind]]'],\n            entries = m['[[MapData]]'];\n        while (index &lt; entries.keys.length) {\n          var e = {key: entries.keys[index], value: entries.values[index]};\n          index = index += 1;\n          set_internal(o, '[[MapNextIndex]]', index);\n          if (e.key !== empty) {\n            if (itemKind === 'key') {\n              return CreateIterResultObject(e.key, false);\n            } else if (itemKind === 'value') {\n              return CreateIterResultObject(e.value, false);\n            } else {\n              return CreateIterResultObject([e.key, e.value], false);\n            }\n          }\n        }\n        return CreateIterResultObject(undefined, true);\n      });\n\n    // 23.1.5.2.2 %MapIteratorPrototype% [ @@toStringTag ]\n    define($MapIteratorPrototype$, $$toStringTag, 'Map Iterator');\n\n    // 23.1.5.3 Properties of Map Iterator Instances\n  }());\n\n  // ---------------------------------------\n  // 23.2 Set Objects\n  // ---------------------------------------\n\n  (function() {\n    // 23.2.1 The Set Constructor\n    // 23.2.1.1 Set ( [ iterable ] )\n\n    /** @constructor */\n    function Set(/*iterable*/) {\n      var set = strict(this);\n      var iterable = arguments[0];\n\n      if (Type(set) !== 'object') throw TypeError();\n      if ('[[SetData]]' in set) throw TypeError();\n\n      if (iterable !== undefined) {\n        var adder = set['add'];\n        if (!IsCallable(adder)) throw TypeError();\n        var iter = GetIterator(ToObject(iterable));\n      }\n      set_internal(set, '[[SetData]]', []);\n      if (iter === undefined) return set;\n      while (true) {\n        var next = IteratorStep(iter);\n        if (next === false)\n          return set;\n        var nextValue = IteratorValue(next);\n        adder.call(set, nextValue);\n      }\n\n      return set;\n    }\n\n    if (!('Set' in global) || OVERRIDE_NATIVE_FOR_TESTING ||\n        (function() { try { return !new global.Set().entries().next; } catch (_) { return true; } }()) ||\n        (new global.Set([1]).size !== 1))\n      global.Set = Set;\n\n    function SetDataIndexOf(setData, key) {\n      var i;\n      if (key === key)\n        return setData.indexOf(key);\n      // Slow case for NaN\n      for (i = 0; i &lt; setData.length; i += 1)\n        if (SameValueZero(setData[i], key)) return i;\n      return -1;\n    }\n\n    // 23.2.1.2 new Set ( ...argumentsList )\n    // 23.2.2 Properties of the Set Constructor\n\n    // 23.2.2.1 Set.prototype\n    var $SetPrototype$ =  {};\n    Set.prototype = $SetPrototype$;\n\n    // 23.2.2.2 get Set [ @@species ]\n    // 23.2.3 Properties of the Set Prototype Object\n\n    // 23.2.3.1 Set.prototype.add (value )\n    define(\n      Set.prototype, 'add',\n      function add(value) {\n        var s = strict(this);\n        if (Type(s) !== 'object') throw TypeError();\n        if (!('[[SetData]]' in s)) throw TypeError();\n        if (s['[[SetData]]'] === undefined) throw TypeError();\n        if (SameValue(value, -0)) value = 0;\n        var entries = s['[[SetData]]'];\n        var i = SetDataIndexOf(entries, value);\n        if (i &lt; 0) i = s['[[SetData]]'].length;\n        s['[[SetData]]'][i] = value;\n\n        return s;\n      });\n\n    // 23.2.3.2 Set.prototype.clear ()\n    define(\n      Set.prototype, 'clear',\n      function clear() {\n        var s = strict(this);\n        if (Type(s) !== 'object') throw TypeError();\n        if (!('[[SetData]]' in s)) throw TypeError();\n        if (s['[[SetData]]'] === undefined) throw TypeError();\n        var entries = s['[[SetData]]'];\n        entries.length = 0;\n        return undefined;\n      });\n\n    // 23.2.3.3 Set.prototype.constructor\n    // 23.2.3.4 Set.prototype.delete ( value )\n    define(\n      Set.prototype, 'delete',\n      function delete_(value) {\n        var s = strict(this);\n        if (Type(s) !== 'object') throw TypeError();\n        if (!('[[SetData]]' in s)) throw TypeError();\n        if (s['[[SetData]]'] === undefined) throw TypeError();\n        var entries = s['[[SetData]]'];\n        var i = SetDataIndexOf(entries, value);\n        if (i &lt; 0) return false;\n        entries[i] = empty;\n        return true;\n      });\n\n    // 23.2.3.5 Set.prototype.entries ( )\n    define(\n      Set.prototype, 'entries',\n      function entries() {\n        var s = strict(this);\n        if (Type(s) !== 'object') throw TypeError();\n        return CreateSetIterator(s, 'key+value');\n      });\n\n    // 23.2.3.6 Set.prototype.forEach ( callbackfn [ , thisArg ] )\n    define(\n      Set.prototype, 'forEach',\n      function forEach(callbackfn/*, thisArg*/) {\n        var thisArg = arguments[1];\n\n        var s = strict(this);\n        if (Type(s) !== 'object') throw TypeError();\n        if (!('[[SetData]]' in s)) throw TypeError();\n        if (s['[[SetData]]'] === undefined) throw TypeError();\n        var entries = s['[[SetData]]'];\n\n        if (!IsCallable(callbackfn)) {\n          throw TypeError('First argument to forEach is not callable.');\n        }\n        for (var i = 0; i &lt; entries.length; ++i) {\n          if (entries[i] !== empty) {\n            callbackfn.call(thisArg, entries[i], entries[i], s);\n          }\n        }\n      });\n\n    // 23.2.3.7 Set.prototype.has ( value )\n    define(\n      Set.prototype, 'has',\n      function has(key) {\n        var s = strict(this);\n        if (Type(s) !== 'object') throw TypeError();\n        if (!('[[SetData]]' in s)) throw TypeError();\n        if (s['[[SetData]]'] === undefined) throw TypeError();\n        var entries = s['[[SetData]]'];\n        return SetDataIndexOf(entries, key) !== -1;\n      });\n\n    // 23.2.3.8 Set.prototype.keys ( )\n    // See Set.prototype.values\n\n    // 23.2.3.9 get Set.prototype.size\n    Object.defineProperty(\n      Set.prototype, 'size', {\n        get: function() {\n          var s = strict(this);\n          if (Type(s) !== 'object') throw TypeError();\n          if (!('[[SetData]]' in s)) throw TypeError();\n          if (s['[[SetData]]'] === undefined) throw TypeError();\n          var entries = s['[[SetData]]'];\n          var count = 0;\n          for (var i = 0; i &lt; entries.length; ++i) {\n            if (entries[i] !== empty)\n              count = count + 1;\n          }\n          return count;\n        }\n      });\n\n    // 23.2.3.10 Set.prototype.values ( )\n    define(\n      Set.prototype, 'values',\n      function values() {\n        var s = strict(this);\n        if (Type(s) !== 'object') throw TypeError();\n        return CreateSetIterator(s, 'value');\n      });\n    // NOTE: function name is still 'values':\n    Set.prototype.keys = Set.prototype.values;\n\n    // 23.2.3.11 Set.prototype [@@iterator ] ( )\n    define(\n      Set.prototype, $$iterator,\n      function() {\n        var s = strict(this);\n        if (Type(s) !== 'object') throw TypeError();\n        return CreateSetIterator(s);\n      });\n\n    // 23.2.3.12 Set.prototype [ @@toStringTag ]\n    define(global.Set.prototype, $$toStringTag, 'Set');\n\n    // 23.2.4 Properties of Set Instances\n    // 23.2.5 Set Iterator Objects\n    /** @constructor */\n    function SetIterator() {}\n\n    // 23.2.5.1 CreateSetIterator Abstract Operation\n    function CreateSetIterator(set, kind) {\n      if (Type(set) !== 'object') throw TypeError();\n      if (!('[[SetData]]' in set)) throw TypeError();\n      if (set['[[SetData]]'] === undefined) throw TypeError();\n      var iterator = new SetIterator;\n      set_internal(iterator, '[[IteratedSet]]', set);\n      set_internal(iterator, '[[SetNextIndex]]', 0);\n      set_internal(iterator, '[[SetIterationKind]]', kind);\n      return iterator;\n    }\n\n    // 23.2.5.2 The %SetIteratorPrototype% Object\n    var $SetIteratorPrototype$ = Object.create($IteratorPrototype$);\n    SetIterator.prototype = $SetIteratorPrototype$;\n\n    // 23.2.5.2.1 %SetIteratorPrototype%.next( )\n    define(\n      $SetIteratorPrototype$, 'next',\n      function next() {\n        var o = strict(this);\n        if (Type(o) !== 'object') throw TypeError();\n        var s = o['[[IteratedSet]]'],\n            index = o['[[SetNextIndex]]'],\n            itemKind = o['[[SetIterationKind]]'],\n            entries = s['[[SetData]]'];\n        while (index &lt; entries.length) {\n          var e = entries[index];\n          index = index += 1;\n          set_internal(o, '[[SetNextIndex]]', index);\n          if (e !== empty) {\n            if (itemKind === 'key+value')\n              return CreateIterResultObject([e, e], false);\n            return CreateIterResultObject(e, false);\n          }\n        }\n        return CreateIterResultObject(undefined, true);\n      });\n\n    // 23.2.5.2.2 %SetIteratorPrototype% [ @@toStringTag ]\n    define($SetIteratorPrototype$, $$toStringTag, 'Set Iterator');\n\n    // 23.2.5.3 Properties of Set Iterator Instances\n\n  }());\n\n  // ---------------------------------------\n  // 23.3 WeakMap Objects\n  // ---------------------------------------\n\n  (function() {\n    // 23.3.1 The WeakMap Constructor\n    // 23.3.1.1 WeakMap ( [ iterable ] )\n    /** @constructor */\n    function WeakMap(/*iterable*/) {\n      var map = strict(this);\n      var iterable = arguments[0];\n\n      if (Type(map) !== 'object') throw TypeError();\n      if ('[[WeakMapData]]' in map) throw TypeError();\n\n      if (iterable !== undefined) {\n        var adder = map['set'];\n        if (!IsCallable(adder)) throw TypeError();\n        var iter = GetIterator(ToObject(iterable));\n      }\n      set_internal(map, '[[WeakMapData]]', new EphemeronTable);\n      if (iter === undefined) return map;\n      while (true) {\n        var next = IteratorStep(iter);\n        if (next === false)\n          return map;\n        var nextValue = IteratorValue(next);\n        if (Type(nextValue) !== 'object') throw TypeError();\n        var k = nextValue[0];\n        var v = nextValue[1];\n        adder.call(map, k, v);\n      }\n\n      return map;\n    }\n\n    if (!('WeakMap' in global) || OVERRIDE_NATIVE_FOR_TESTING)\n      global.WeakMap = WeakMap;\n\n    // 23.3.2 Properties of the WeakMap Constructor\n    // 23.3.2.1 WeakMap.prototype\n    var $WeakMapPrototype$ = {};\n    WeakMap.prototype = $WeakMapPrototype$;\n\n\n\n   // 23.3.2.2 WeakMap[ @@create ] ( )\n    // 23.3.3 Properties of the WeakMap Prototype Object\n\n    // 23.3.3.1 WeakMap.prototype.constructor\n\n    // 23.3.3.2 WeakMap.prototype.delete ( key )\n    define(\n      WeakMap.prototype, 'delete',\n      function delete_(key) {\n        var M = strict(this);\n        if (Type(M) !== 'object') throw TypeError();\n        if (M['[[WeakMapData]]'] === undefined) throw TypeError();\n        if (Type(key) !== 'object') throw TypeError('Expected object');\n        return M['[[WeakMapData]]'].remove(key);\n      });\n\n    // 23.3.3.3 WeakMap.prototype.get ( key )\n    define(\n      WeakMap.prototype, 'get',\n      function get(key, defaultValue) {\n        var M = strict(this);\n        if (Type(M) !== 'object') throw TypeError();\n        if (M['[[WeakMapData]]'] === undefined) throw TypeError();\n        if (Type(key) !== 'object') throw TypeError('Expected object');\n        return M['[[WeakMapData]]'].get(key, defaultValue);\n      });\n\n    // 23.3.3.4 WeakMap.prototype.has ( key )\n    define(\n      WeakMap.prototype, 'has',\n      function has(key) {\n        var M = strict(this);\n        if (Type(M) !== 'object') throw TypeError();\n        if (M['[[WeakMapData]]'] === undefined) throw TypeError();\n        if (Type(key) !== 'object') throw TypeError('Expected object');\n        return M['[[WeakMapData]]'].has(key);\n      });\n\n    // 23.3.3.5 WeakMap.prototype.set ( key , value )\n    define(\n      WeakMap.prototype, 'set',\n      function set(key, value) {\n        var M = strict(this);\n        if (Type(M) !== 'object') throw TypeError();\n        if (M['[[WeakMapData]]'] === undefined) throw TypeError();\n        if (Type(key) !== 'object') throw TypeError('Expected object');\n        M['[[WeakMapData]]'].set(key, value);\n        return M;\n      });\n\n    // 23.3.3.6 WeakMap.prototype [ @@toStringTag ]\n    define(global.WeakMap.prototype, $$toStringTag, 'WeakMap');\n\n    // 23.3.4 Properties of WeakMap Instances\n\n    // Polyfills for incomplete native implementations:\n    (function() {\n      var wm = new global.WeakMap();\n      var orig = global.WeakMap.prototype.set;\n      define(global.WeakMap.prototype, 'set', function set() {\n        orig.apply(this, arguments);\n        return this;\n      }, wm.set({}, 0) !== wm);\n    }());\n  }());\n\n  // ---------------------------------------\n  // 23.4 WeakSet Objects\n  // ---------------------------------------\n\n  (function() {\n    // 23.4.1 The WeakSet Constructor\n    // 23.4.1.1 WeakSet ( [ iterable ] )\n    /** @constructor */\n    function WeakSet(/*iterable*/) {\n      var set = strict(this);\n      var iterable = arguments[0];\n\n      if (Type(set) !== 'object') throw TypeError();\n      if ('[[WeakSetData]]' in set) throw TypeError();\n\n      if (iterable !== undefined) {\n        var adder = set['add'];\n        if (!IsCallable(adder)) throw TypeError();\n        var iter = GetIterator(ToObject(iterable));\n      }\n      set_internal(set, '[[WeakSetData]]', new EphemeronTable);\n      if (iter === undefined) return set;\n      while (true) {\n        var next = IteratorStep(iter);\n        if (next === false)\n          return set;\n        var nextValue = IteratorValue(next);\n        adder.call(set, nextValue);\n      }\n\n      return set;\n    }\n\n    if (!('WeakSet' in global) || OVERRIDE_NATIVE_FOR_TESTING)\n      global.WeakSet = WeakSet;\n\n    // 23.4.2 Properties of the WeakSet Constructor\n    // 23.4.2.1 WeakSet.prototype\n    var $WeakSetPrototype$ = {};\n    WeakSet.prototype = $WeakSetPrototype$;\n\n    // 23.4.3 Properties of the WeakSet Prototype Object\n    // 23.4.3.1 WeakSet.prototype.add (value )\n    define(\n      WeakSet.prototype, 'add',\n      function add(value) {\n        var S = strict(this);\n        if (Type(S) !== 'object') throw TypeError();\n        if (S['[[WeakSetData]]'] === undefined) throw TypeError();\n        if (Type(value) !== 'object') throw TypeError('Expected object');\n        S['[[WeakSetData]]'].set(value, true);\n        return S;\n      });\n\n    // 23.4.3.2 WeakSet.prototype.constructor\n    // 23.4.3.3 WeakSet.prototype.delete ( value )\n    define(\n      WeakSet.prototype, 'delete',\n      function delete_(value) {\n        var S = strict(this);\n        if (Type(S) !== 'object') throw TypeError();\n        if (S['[[WeakSetData]]'] === undefined) throw TypeError();\n        if (Type(value) !== 'object') throw TypeError('Expected object');\n        return S['[[WeakSetData]]'].remove(value);\n      });\n\n    // 23.4.3.4 WeakSet.prototype.has ( value )\n    define(\n      WeakSet.prototype, 'has',\n      function has(key) {\n        var S = strict(this);\n        if (Type(S) !== 'object') throw TypeError();\n        if (S['[[WeakSetData]]'] === undefined) throw TypeError();\n        if (Type(key) !== 'object') throw TypeError('Expected object');\n        return S['[[WeakSetData]]'].has(key);\n      });\n\n    // 23.4.3.5 WeakSet.prototype [ @@toStringTag ]\n    define(global.WeakSet.prototype, $$toStringTag, 'WeakSet');\n\n    // 23.4.4 Properties of WeakSet Instances\n\n    // Polyfills for incomplete native implementations:\n    (function() {\n      var ws = new global.WeakSet();\n      var orig = global.WeakSet.prototype.add;\n      define(global.WeakSet.prototype, 'add', function add() {\n        orig.apply(this, arguments);\n        return this;\n      }, ws.add({}) !== ws);\n    }());\n  }());\n\n  // ---------------------------------------\n  // 24 Structured Data\n  // ---------------------------------------\n\n  // ---------------------------------------\n  // 24.1 ArrayBuffer Objects\n  // ---------------------------------------\n\n  // See typedarray.js for TypedArray polyfill\n\n  (function() {\n    if (!('ArrayBuffer' in global))\n      return;\n\n    // 24.1.1 Abstract Operations For ArrayBuffer Objects\n    // 24.1.1.1 AllocateArrayBuffer( constructor, byteLength )\n    // 24.1.1.2 IsDetachedBuffer( arrayBuffer )\n    // 24.1.1.3 DetachArrayBuffer( arrayBuffer )\n    // 24.1.1.4 CloneArrayBuffer( srcBuffer, srcByteOffset [, cloneConstructor] )\n    // 24.1.1.5 GetValueFromBuffer ( arrayBuffer, byteIndex, type, isLittleEndian )\n    // 24.1.1.6 SetValueInBuffer ( arrayBuffer, byteIndex, type, value, isLittleEndian )\n    // 24.1.2 The ArrayBuffer Constructor\n    // 24.1.2.1 ArrayBuffer( length )\n    // 24.1.3 Properties of the ArrayBuffer Constructor\n\n    // 24.1.3.1 ArrayBuffer.isView ( arg )\n    define(\n      ArrayBuffer, 'isView',\n      function isView(arg) {\n        if (Type(arg) !== 'object') return false;\n        if ('buffer' in arg &amp;&amp; arg.buffer instanceof ArrayBuffer) return true;\n        return false;\n      });\n\n    // 24.1.3.2 ArrayBuffer.prototype\n    // 24.1.3.3 get ArrayBuffer [ @@species ]\n    // 24.1.4 Properties of the ArrayBuffer Prototype Object\n    // 24.1.4.1 get ArrayBuffer.prototype.byteLength\n    // 24.1.4.2 ArrayBuffer.prototype.constructor\n    // 24.1.4.3 ArrayBuffer.prototype.slice ( start , end)\n\n    // 24.1.4.4 ArrayBuffer.prototype [ @@toStringTag ]\n    define(ArrayBuffer.prototype, $$toStringTag, 'ArrayBuffer');\n\n    // 24.1.5 Properties of the ArrayBuffer Instances\n  }());\n\n  // ---------------------------------------\n  // 24.2 DataView Objects\n  // ---------------------------------------\n\n  // See typedarray.js for TypedArray polyfill\n\n  (function() {\n    if (!('DataView' in global))\n      return;\n\n    // 24.2.1 Abstract Operations For DataView Objects\n    // 24.2.1.1 GetViewValue(view, requestIndex, isLittleEndian, type)\n    // 24.2.1.2 SetViewValue(view, requestIndex, isLittleEndian, type, value)\n    // 24.2.2 The DataView Constructor\n    // 24.2.2.1 DataView (buffer [ , byteOffset [ , byteLength ] ] )\n    // 24.2.3 Properties of the DataView Constructor\n    // 24.2.3.1 DataView.prototype\n    // 24.2.4 Properties of the DataView Prototype Object\n    // 24.2.4.1 get DataView.prototype.buffer\n    // 24.2.4.2 get DataView.prototype.byteLength\n    // 24.2.4.3 get DataView.prototype.byteOffset\n    // 24.2.4.4 DataView.prototype.constructor\n    // 24.2.4.5 DataView.prototype.getFloat32 ( byteOffset [ , littleEndian ] )\n    // 24.2.4.6 DataView.prototype.getFloat64 ( byteOffset [ , littleEndian ] )\n    // 24.2.4.7 DataView.prototype.getInt8 ( byteOffset )\n    // 24.2.4.8 DataView.prototype.getInt16 ( byteOffset [ , littleEndian ] )\n    // 24.2.4.9 DataView.prototype.getInt32 ( byteOffset [ , littleEndian ] )\n    // 24.2.4.10 DataView.prototype.getUint8 ( byteOffset )\n    // 24.2.4.11 DataView.prototype.getUint16 ( byteOffset [ , littleEndian ] )\n    // 24.2.4.12 DataView.prototype.getUint32 ( byteOffset [ , littleEndian ] )\n    // 24.2.4.13 DataView.prototype.setFloat32 ( byteOffset, value [ , littleEndian ] )\n    // 24.2.4.14 DataView.prototype.setFloat64 ( byteOffset, value [ , littleEndian ] )\n    // 24.2.4.15 DataView.prototype.setInt8 ( byteOffset, value )\n    // 24.2.4.16 DataView.prototype.setInt16 ( byteOffset, value [ , littleEndian ] )\n    // 24.2.4.17 DataView.prototype.setInt32 ( byteOffset, value [ , littleEndian ] )\n    // 24.2.4.18 DataView.prototype.setUint8 ( byteOffset, value )\n    // 24.2.4.19 DataView.prototype.setUint16 ( byteOffset, value [ , littleEndian ] )\n    // 24.2.4.20 DataView.prototype.setUint32 ( byteOffset, value [ , littleEndian ] )\n\n    // 24.2.4.21 DataView.prototype[ @@toStringTag ]\n    define(DataView.prototype, $$toStringTag, 'DataView');\n\n    // 24.2.5 Properties of DataView Instances\n  }());\n\n  // ---------------------------------------\n  // 24.3 The JSON Object\n  // ---------------------------------------\n\n  // 24.3.1 JSON.parse ( text [ , reviver ] )\n  // 24.3.2 JSON.stringify ( value [ , replacer [ , space ] ] )\n  // 24.3.3 JSON [ @@toStringTag ]\n  define(JSON, $$toStringTag, 'JSON');\n\n  // ---------------------------------------\n  // 25.1 Iteration\n  // ---------------------------------------\n\n  // 25.1.1 Common Iteration Interfaces\n  // 25.1.1.1 The Iterable Interface\n  // 25.1.1.2 The Iterator Interface\n  // 25.1.1.3 The IteratorResult Interface\n\n  // 25.1.2 The %IteratorPrototype% Object\n  // Defined earlier, so other prototypes can reference it.\n  // 25.1.2.1 %IteratorPrototype% [ @@iterator ] ( )\n  define($IteratorPrototype$, $$iterator, function() {\n    return this;\n  });\n\n\n  // ---------------------------------------\n  // 25.4 Promise Objects\n  // ---------------------------------------\n\n  (function() {\n    // 25.4 Promise Objects\n\n    // 25.4.1 Promise Abstract Operations\n\n    // 25.4.1.1 PromiseCapability Records\n    // 25.4.1.1.1 IfAbruptRejectPromise ( value, capability )\n\n    function IfAbruptRejectPromise(value, capability) {\n      var rejectResult = capability['[[Reject]]'].call(undefined, value);\n      return capability['[[Promise]]'];\n    }\n\n    // 25.4.1.2 PromiseReaction Records\n\n    // 25.4.1.3 CreateResolvingFunctions ( promise )\n\n    function CreateResolvingFunctions(promise) {\n      var alreadyResolved = {'[[value]]': false};\n      var resolve = PromiseResolveFunction();\n      set_internal(resolve, '[[Promise]]',  promise);\n      set_internal(resolve, '[[AlreadyResolved]]', alreadyResolved);\n      var reject = PromiseRejectFunction();\n      set_internal(reject, '[[Promise]]', promise);\n      set_internal(reject, '[[AlreadyResolved]]', alreadyResolved);\n      return { '[[Resolve]]': resolve, '[[Reject]]': reject};\n    }\n\n    // 25.4.1.3.1 Promise Reject Functions\n\n    function PromiseRejectFunction() {\n      var F = function(reason) {\n        console.assert(Type(F['[[Promise]]']) === 'object');\n        var promise = F['[[Promise]]'];\n        var alreadyResolved = F['[[AlreadyResolved]]'];\n        if (alreadyResolved['[[value]]']) return undefined;\n        set_internal(alreadyResolved, '[[value]]', true);\n        return RejectPromise(promise, reason);\n      };\n      return F;\n    }\n\n    // 25.4.1.3.2 Promise Resolve Functions\n\n    function PromiseResolveFunction() {\n      var F = function(resolution) {\n        console.assert(Type(F['[[Promise]]']) === 'object');\n        var promise = F['[[Promise]]'];\n        var alreadyResolved = F['[[AlreadyResolved]]'];\n        if (alreadyResolved['[[value]]']) return undefined;\n        set_internal(alreadyResolved, '[[value]]', true);\n\n        if (SameValue(resolution, promise))  {\n          var selfResolutionError = TypeError();\n          return RejectPromise(promise, selfResolutionError);\n        }\n        if (Type(resolution) !== 'object')\n          return FulfillPromise(promise, resolution);\n        try {\n          var then = resolution['then'];\n        } catch(then) {\n          return RejectPromise(promise, then);\n        }\n        if (!IsCallable(then))\n          return FulfillPromise(promise, resolution);\n        EnqueueJob('PromiseJobs', PromiseResolveThenableJob, [promise, resolution, then]);\n        return undefined;\n      };\n      return F;\n    }\n\n    // 25.4.1.4 FulfillPromise ( promise, value )\n\n    function FulfillPromise(promise, value) {\n      console.assert(promise['[[PromiseState]]'] === 'pending');\n      var reactions = promise['[[PromiseFulfillReactions]]'];\n      set_internal(promise, '[[PromiseResult]]', value);\n      set_internal(promise, '[[PromiseFulfillReactions]]', undefined);\n      set_internal(promise, '[[PromiseRejectReactions]]', undefined);\n      set_internal(promise, '[[PromiseState]]', 'fulfilled');\n      return TriggerPromiseReactions(reactions, value);\n    }\n\n    // 25.4.1.5 NewPromiseCapability ( C )\n\n    function NewPromiseCapability(c) {\n      // To keep Promise hermetic, this doesn't look much like the spec.\n      return CreatePromiseCapabilityRecord(undefined, c);\n    }\n\n    // 25.4.1.5.1 CreatePromiseCapabilityRecord ( promise, constructor )\n\n    function CreatePromiseCapabilityRecord(promise, constructor) {\n      // To keep Promise hermetic, this doesn't look much like the spec.\n      console.assert(IsConstructor(constructor));\n      var promiseCapability = {};\n      set_internal(promiseCapability, '[[Promise]]', promise);\n      set_internal(promiseCapability, '[[Resolve]]', undefined);\n      set_internal(promiseCapability, '[[Reject]]', undefined);\n      var executor = GetCapabilitiesExecutor();\n      set_internal(executor, '[[Capability]]', promiseCapability);\n\n      // NOTE: Differs from spec; object is constructed here\n      var constructorResult = promise = new constructor(executor);\n      set_internal(promiseCapability, '[[Promise]]', promise);\n\n      if (!IsCallable(promiseCapability['[[Resolve]]'])) throw TypeError();\n      if (!IsCallable(promiseCapability['[[Reject]]'])) throw TypeError();\n      if (Type(constructorResult) === 'object' &amp;&amp; !SameValue(promise, constructorResult)) throw TypeError();\n      return promiseCapability;\n    }\n\n    // 25.4.1.5.2 GetCapabilitiesExecutor Functions\n\n    function GetCapabilitiesExecutor() {\n      var F = function(resolve, reject) {\n        console.assert(F['[[Capability]]']);\n        var promiseCapability = F['[[Capability]]'];\n        if (promiseCapability['[[Resolve]]'] !== undefined) throw TypeError();\n        if (promiseCapability['[[Reject]]'] !== undefined) throw TypeError();\n        set_internal(promiseCapability, '[[Resolve]]', resolve);\n        set_internal(promiseCapability, '[[Reject]]', reject);\n        return undefined;\n      };\n      return F;\n    }\n\n    // 25.4.1.6 IsPromise ( x )\n\n    function IsPromise(x) {\n      if (Type(x) !== 'object') return false;\n      if (!('[[PromiseState]]' in x)) return false;\n      if (x['[[PromiseState]]'] === undefined) return false;\n      return true;\n    }\n\n    // 25.4.1.7 RejectPromise ( promise, reason )\n\n    function RejectPromise(promise, reason) {\n      console.assert(promise['[[PromiseState]]'] === 'pending');\n      var reactions = promise['[[PromiseRejectReactions]]'];\n      set_internal(promise, '[[PromiseResult]]', reason);\n      set_internal(promise, '[[PromiseFulfillReactions]]', undefined);\n      set_internal(promise, '[[PromiseRejectReactions]]', undefined);\n      set_internal(promise, '[[PromiseState]]', 'rejected');\n      return TriggerPromiseReactions(reactions, reason);\n    }\n\n    // 25.4.1.8 TriggerPromiseReactions ( reactions, argument )\n\n    function TriggerPromiseReactions(reactions, argument) {\n      for (var i = 0, len = reactions.length; i &lt; len; ++i)\n        EnqueueJob('PromiseJobs', PromiseReactionJob, [reactions[i], argument]);\n      return undefined;\n    }\n\n    // 25.4.2 Promise Jobs\n\n    // 25.4.2.1 PromiseReactionJob ( reaction, argument )\n\n    function PromiseReactionJob(reaction, argument) {\n      var promiseCapability = reaction['[[Capabilities]]'];\n      var handler = reaction['[[Handler]]'];\n      var handlerResult, status;\n      try {\n        if (handler === 'Identity') handlerResult = argument;\n        else if (handler === 'Thrower') throw argument;\n        else handlerResult = handler.call(undefined, argument);\n      } catch (handlerResult) {\n        status = promiseCapability['[[Reject]]'].call(undefined, handlerResult);\n        NextJob(status); return;\n      }\n      status = promiseCapability['[[Resolve]]'].call(undefined, handlerResult);\n      NextJob(status);\n    }\n\n    // 25.4.2.2 PromiseResolveThenableJob ( promiseToResolve, thenable, then)\n\n    function PromiseResolveThenableJob(promiseToResolve, thenable, then) {\n      // SPEC BUG: promise vs. promiseToResolve\n      var resolvingFunctions = CreateResolvingFunctions(promiseToResolve);\n      try {\n        var thenCallResult = then.call(thenable, resolvingFunctions['[[Resolve]]'],\n                                       resolvingFunctions['[[Reject]]']);\n      } catch (thenCallResult) {\n        var status = resolvingFunctions['[[Reject]]'].call(undefined, thenCallResult);\n        NextJob(status); return;\n      }\n      NextJob(thenCallResult);\n    }\n\n    // 25.4.3 The Promise Constructor\n\n    // 25.4.3.1 Promise ( executor )\n\n    function Promise(executor) {\n      var config = { configurable: false, enumerable: false, writable: true, value: undefined };\n      Object.defineProperty(this, '[[PromiseState]]', config);\n      Object.defineProperty(this, '[[PromiseConstructor]]', config);\n      Object.defineProperty(this, '[[PromiseResult]]', config);\n      Object.defineProperty(this, '[[PromiseFulfillReactions]]', config);\n      Object.defineProperty(this, '[[PromiseRejectReactions]]', config);\n\n      var promise = this;\n      if (Type(promise) !== 'object') throw new TypeError();\n      if (!('[[PromiseState]]' in promise)) throw TypeError();\n      if (promise['[[PromiseState]]'] !== undefined) throw TypeError();\n      if (!IsCallable(executor)) throw TypeError();\n\n      set_internal(promise, '[[PromiseConstructor]]', Promise);\n\n      return InitializePromise(promise, executor);\n    }\n\n    // 25.4.3.1.1 InitializePromise ( promise, executor )\n\n    function InitializePromise(promise, executor) {\n      console.assert('[[PromiseState]]' in promise);\n      console.assert(IsCallable(executor));\n      set_internal(promise, '[[PromiseState]]', 'pending');\n      set_internal(promise, '[[PromiseFulfillReactions]]', []);\n      set_internal(promise, '[[PromiseRejectReactions]]', []);\n      var resolvingFunctions = CreateResolvingFunctions(promise);\n      try {\n        var completion = executor.call(undefined, resolvingFunctions['[[Resolve]]'],\n                                       resolvingFunctions['[[Reject]]']);\n      } catch (completion) {\n        var status = resolvingFunctions['[[Reject]]'].call(undefined, completion);\n      }\n      return promise;\n    }\n\n    // 25.4.4 Properties of the Promise Constructor\n    // 25.4.4.1 Promise.all ( iterable )\n\n    define(Promise, 'all', function all(iterable) {\n      var c = strict(this);\n      var promiseCapability = NewPromiseCapability(c);\n      try {\n        var iterator = GetIterator(iterable);\n      } catch (value) {\n        promiseCapability['[[Reject]]'].call(undefined, value);\n        return promiseCapability['[[Promise]]'];\n      }\n      var values = [];\n      var remainingElementsCount = { value: 1 };\n      var index = 0;\n      while (true) {\n        try {\n          var next = IteratorStep(iterator);\n        } catch (value) {\n          promiseCapability['[[Reject]]'].call(undefined, value);\n          return promiseCapability['[[Promise]]'];\n        }\n        if (!next) {\n          remainingElementsCount.value -= 1;\n          if (remainingElementsCount.value === 0) {\n            var resolveResult = promiseCapability['[[Resolve]]'].apply(undefined, values);\n\n\n          }\n          return promiseCapability['[[Promise]]'];\n        }\n        try {\n          var nextValue = IteratorValue(next);\n        } catch (value) {\n          promiseCapability['[[Reject]]'].call(undefined, value);\n          return promiseCapability['[[Promise]]'];\n        }\n        try {\n          var nextPromise = c.resolve(nextValue);\n        } catch (value) {\n          promiseCapability['[[Reject]]'].call(undefined, value);\n          return promiseCapability['[[Promise]]'];\n        }\n        var resolveElement = PromiseAllResolveElementFunction();\n        set_internal(resolveElement, '[[AlreadyCalled]]', { value: false });\n        set_internal(resolveElement, '[[Index]]', index);\n        set_internal(resolveElement, '[[Values]]', values);\n        set_internal(resolveElement, '[[Capabilities]]', promiseCapability);\n        set_internal(resolveElement, '[[RemainingElements]]', remainingElementsCount);\n        remainingElementsCount.value += 1;\n        try {\n          var result = nextPromise.then(resolveElement, promiseCapability['[[Reject]]']);\n        } catch (value) {\n          promiseCapability['[[Reject]]'].call(undefined, value);\n          return promiseCapability['[[Promise]]'];\n        }\n        index += 1;\n      }\n    });\n\n    // 25.4.4.1.1 Promise.all Resolve Element Functions\n\n    function PromiseAllResolveElementFunction() {\n      var F = function(x) {\n        var alreadyCalled = F['[[AlreadyCalled]]'];\n        if (alreadyCalled.value) return undefined;\n        alreadyCalled.value = true;\n        var index = F['[[Index]]'];\n        var values = F['[[Values]]'];\n        var promiseCapability = F['[[Capabilities]]'];\n        var remainingElementsCount = F['[[RemainingElements]]'];\n        try {\n          values[index] = x;\n        } catch (result) {\n          promiseCapability['[[Reject]]'].call(undefined, result);\n          return promiseCapability['[[Promise]]'];\n        }\n        remainingElementsCount.value -= 1;\n        if (remainingElementsCount.value === 0)\n          return promiseCapability['[[Resolve]]'].call(undefined, values);\n        return undefined;\n      };\n      return F;\n    }\n\n    // 25.4.4.2 Promise.prototype\n\n    Promise.prototype = {};\n\n    // 25.4.4.3 Promise.race ( iterable )\n\n    define(Promise, 'race', function race(iterable) {\n      var c = strict(this);\n      var promiseCapability = NewPromiseCapability(c);\n      try {\n        var iterator = GetIterator(iterable);\n      } catch (value) {\n        promiseCapability['[[Reject]]'].call(undefined, value);\n        return promiseCapability['[[Promise]]'];\n      }\n      while (true) {\n        try {\n          var next = IteratorStep(iterator);\n        } catch (value) {\n          promiseCapability['[[Reject]]'].call(undefined, value);\n          return promiseCapability['[[Promise]]'];\n        }\n        if (!next) return promiseCapability['[[Promise]]'];\n        try {\n          var nextValue = IteratorValue(next);\n        } catch (value) {\n          promiseCapability['[[Reject]]'].call(undefined, value);\n          return promiseCapability['[[Promise]]'];\n        }\n        try {\n          var nextPromise = c.resolve(nextValue);\n        } catch (value) {\n          promiseCapability['[[Reject]]'].call(undefined, value);\n          return promiseCapability['[[Promise]]'];\n        }\n        try {\n          nextPromise.then(promiseCapability['[[Resolve]]'], promiseCapability['[[Reject]]']);\n        } catch (value) {\n          promiseCapability['[[Reject]]'].call(undefined, value);\n          return promiseCapability['[[Promise]]'];\n        }\n      }\n    });\n\n    // 25.4.4.4 Promise.reject ( r )\n\n    define(Promise, 'reject', function reject(r) {\n      var c = strict(this);\n      var promiseCapability = NewPromiseCapability(c);\n      var rejectResult = promiseCapability['[[Reject]]'].call(undefined, r);\n      return promiseCapability['[[Promise]]'];\n    });\n\n    // 25.4.4.5 Promise.resolve ( x )\n\n    define(Promise, 'resolve', function resolve(x) {\n      var c = strict(this);\n      if (IsPromise(x)) {\n        var constructor = x['[[PromiseConstructor]]'];\n        if (SameValue(constructor, c)) return x;\n      }\n      var promiseCapability = NewPromiseCapability(c);\n      var resolveResult = promiseCapability['[[Resolve]]'].call(undefined, x);\n      return promiseCapability['[[Promise]]'];\n    });\n\n    // 25.4.4.6 Promise [ @@create ] ( )\n    // 25.4.4.6.1 AllocatePromise ( constructor )\n    // 25.4.5 Properties of the Promise Prototype Object\n    // 25.4.5.1 Promise.prototype.catch ( onRejected )\n\n    define(Promise.prototype, 'catch', function catch_(onRejected) {\n      var promise = this;\n      return promise.then(undefined, onRejected);\n    });\n\n    // 25.4.5.2 Promise.prototype.constructor\n\n    Promise.prototype.constructor = Promise;\n\n    // 25.4.5.3 Promise.prototype.then ( onFulfilled , onRejected )\n\n    define(Promise.prototype, 'then', function then(onFulfilled, onRejected) {\n      var promise = this;\n      if (!IsPromise(promise)) throw TypeError();\n      if (!IsCallable(onFulfilled)) onFulfilled = 'Identity';\n      if (!IsCallable(onRejected)) onRejected = 'Thrower';\n      var c = promise.constructor;\n      var promiseCapability = NewPromiseCapability(c);\n      var fulfillReaction = { '[[Capabilities]]': promiseCapability,\n                              '[[Handler]]': onFulfilled };\n      var rejectReaction = { '[[Capabilities]]': promiseCapability,\n                             '[[Handler]]': onRejected };\n      if (promise['[[PromiseState]]'] === 'pending') {\n        promise['[[PromiseFulfillReactions]]'].push(fulfillReaction);\n        promise['[[PromiseRejectReactions]]'].push(rejectReaction);\n      } else if (promise['[[PromiseState]]'] === 'fulfilled') {\n        var value = promise['[[PromiseResult]]'];\n        EnqueueJob('PromiseJobs', PromiseReactionJob, [fulfillReaction, value]);\n      } else if (promise['[[PromiseState]]'] === 'rejected') {\n        var reason = promise['[[PromiseResult]]'];\n        EnqueueJob('PromiseJobs', PromiseReactionJob, [rejectReaction, reason]);\n      }\n      return promiseCapability['[[Promise]]'];\n    });\n\n    // 25.4.6 Properties of Promise Instances\n\n    if (!('Promise' in global) || OVERRIDE_NATIVE_FOR_TESTING)\n      global.Promise = Promise;\n\n    // Patch early Promise.cast vs. Promise.resolve implementations\n    if ('cast' in global.Promise) global.Promise.resolve = global.Promise.cast;\n  }());\n\n  // 25.4.5.1 Promise.prototype [ @@toStringTag ]\n  define(Promise.prototype, $$toStringTag, 'Promise');\n\n  // ---------------------------------------\n  // 26 Reflection\n  // ---------------------------------------\n\n  (function() {\n    // 26.1 The Reflect Object\n    if (!('Reflect' in global) || OVERRIDE_NATIVE_FOR_TESTING)\n      global.Reflect = {};\n\n    // 26.1.1 Reflect.apply ( target, thisArgument, argumentsList )\n    define(\n      Reflect, 'apply',\n      function apply(target, thisArgument, argumentsList) {\n        if (!IsCallable(target)) throw TypeError();\n        return Function.prototype.apply.call(target, thisArgument, argumentsList);\n      });\n\n    // 26.1.2 Reflect.construct ( target, argumentsList [, newTarget] )\n    define(\n      Reflect, 'construct',\n      function construct(target, argumentsList) {\n        return __cons(target, argumentsList);\n      });\n\n    // 26.1.3 Reflect.defineProperty ( target, propertyKey, attributes )\n    define(\n      Reflect, 'defineProperty',\n      function defineProperty(target, propertyKey, attributes) {\n        try {\n          Object.defineProperty(target, propertyKey, attributes);\n          return true;\n        } catch (_) {\n          return false;\n        }\n      });\n\n    // 26.1.4 Reflect.deleteProperty ( target, propertyKey )\n    define(\n      Reflect, 'deleteProperty',\n      function deleteProperty(target,name) {\n        try {\n          delete target[name];\n          return !HasOwnProperty(target, name);\n        } catch (_) {\n          return false;\n        }\n      });\n\n    // 26.1.5 Reflect.enumerate ( target )\n    define(\n      Reflect, 'enumerate',\n      function enumerate(target) {\n        target = ToObject(target);\n        var iterator = Enumerate(target);\n        return iterator;\n      });\n\n    // 26.1.6 Reflect.get ( target, propertyKey [ , receiver ])\n    define(\n      Reflect, 'get',\n      function get(target, name, receiver) {\n        target = ToObject(target);\n        name = String(name);\n        receiver = (receiver === undefined) ? target : ToObject(receiver);\n        var desc = getPropertyDescriptor(target, name);\n        if (desc &amp;&amp; 'get' in desc)\n          return Function.prototype.call.call(desc['get'], receiver);\n        return target[name];\n      });\n\n    // 26.1.7 Reflect.getOwnPropertyDescriptor ( target, propertyKey )\n    define(\n      Reflect, 'getOwnPropertyDescriptor',\n      Object.getOwnPropertyDescriptor);\n\n    // 26.1.8 Reflect.getPrototypeOf ( target )\n    define(\n      Reflect, 'getPrototypeOf',\n      Object.getPrototypeOf);\n\n    // 26.1.9 Reflect.has ( target, propertyKey )\n    define(\n      Reflect, 'has',\n      function has(target,name) {\n        return String(name) in ToObject(target);\n      });\n\n    // 26.1.10 Reflect.isExtensible (target)\n    define(\n      Reflect, 'isExtensible',\n      Object.isExtensible);\n\n    // 26.1.11 Reflect.ownKeys ( target )\n    define(\n      Reflect, 'ownKeys',\n      function ownKeys(target) {\n        var obj = ToObject(target);\n        return Object.getOwnPropertyNames(obj);\n      });\n\n    // 26.1.12 Reflect.preventExtensions ( target )\n    define(\n      Reflect, 'preventExtensions',\n      function preventExtensions(target) {\n        try { Object.preventExtensions(target); return true; } catch (_) { return false; }\n      });\n\n    // 26.1.13 Reflect.set ( target, propertyKey, V [ , receiver ] )\n    define(\n      Reflect, 'set',\n      function set(target, name, value, receiver) {\n        target = ToObject(target);\n        name = String(name);\n        receiver = (receiver === undefined) ? target : ToObject(receiver);\n        var desc = getPropertyDescriptor(target, name);\n        try {\n          if (desc &amp;&amp; 'set' in desc)\n            Function.prototype.call.call(desc['set'], receiver, value);\n          else\n            target[name] = value;\n          return true;\n        } catch (_) {\n          return false;\n        }\n      });\n\n    // 26.1.14 Reflect.setPrototypeOf ( target, proto )\n    define(\n      Reflect, 'setPrototypeOf',\n      function setPrototypeOf(target, proto) {\n        try {\n          target.__proto__ = proto;\n          return Reflect.getPrototypeOf(target) === proto;\n        } catch(_) {\n          return false;\n        }\n      });\n\n  }());\n\n  // ---------------------------------------\n  // 26.2 Proxy Objects\n  // ---------------------------------------\n\n  // Not polyfillable.\n\n}(self));\n\n// This helper is defined outside the main scope so that the use of\n// 'eval' does not taint the scope for minifiers.\nfunction __cons(t, a) {\n  return eval('new t(' + Array.prototype.map.call(a, function(_, i) { return 'a[' + i + ']'; }).join(',') + ')');\n}\n//----------------------------------------------------------------------\n//\n// ECMAScript 2016 Polyfills\n//\n//----------------------------------------------------------------------\n\n(function (global) {\n  &quot;use strict&quot;;\n  var undefined = (void 0); // Paranoia\n\n  // Helpers\n\n  function isSymbol(s) {\n    return (typeof s === 'symbol') || ('Symbol' in global &amp;&amp; s instanceof global.Symbol);\n  }\n\n  function define(o, p, v, override) {\n    if (p in o &amp;&amp; !override)\n      return;\n\n    if (typeof v === 'function') {\n      // Sanity check that functions are appropriately named (where possible)\n      console.assert(isSymbol(p) || !('name' in v) || v.name === p || v.name === p + '_', 'Expected function name &quot;' + p.toString() + '&quot;, was &quot;' + v.name + '&quot;');\n      Object.defineProperty(o, p, {\n        value: v,\n        configurable: true,\n        enumerable: false,\n        writable: true\n      });\n    } else {\n      Object.defineProperty(o, p, {\n        value: v,\n        configurable: false,\n        enumerable: false,\n        writable: false\n      });\n    }\n  }\n\n\n  // Snapshot intrinsic functions\n  var $isNaN = global.isNaN;\n\n  var abs = Math.abs,\n      floor = Math.floor,\n      max = Math.max,\n      min = Math.min;\n\n  //----------------------------------------\n  // 7 Abstract Operations\n  //----------------------------------------\n\n  // 7.1.4\n  function ToInteger(n) {\n    n = Number(n);\n    if ($isNaN(n)) return 0;\n    if (n === 0 || n === Infinity || n === -Infinity) return n;\n    return ((n &lt; 0) ? -1 : 1) * floor(abs(n));\n  }\n\n  // 7.1.13 ToObject\n  function ToObject(v) {\n    if (v === null || v === undefined) throw TypeError();\n    return Object(v);\n  }\n\n  // 7.1.15 ToLength ( argument )\n  function ToLength(v) {\n    var len = ToInteger(v);\n    if (len &lt;= 0) {\n      return 0;\n    }\n    return min(len, 0x20000000000000 - 1); // 2^53-1\n  }\n\n  //----------------------------------------\n  // 7.2 Testing and Comparison Operations\n  //----------------------------------------\n\n  // 7.2.10 SameValueZero(x, y)\n  function SameValueZero(x, y) {\n    if (typeof x !== typeof y) return false;\n    switch (typeof x) {\n    case 'undefined':\n      return true;\n    case 'number':\n      if (x !== x &amp;&amp; y !== y) return true;\n      return x === y;\n    case 'boolean':\n    case 'string':\n    case 'object':\n    default:\n      return x === y;\n    }\n  }\n\n  //----------------------------------------------------------------------\n  //\n  // ECMAScript 2016\n  //\n  //----------------------------------------------------------------------\n\n  // https://github.com/tc39/Array.prototype.includes/\n  define(\n    Array.prototype, 'includes',\n    function includes(target) {\n      var fromIndex = arguments[1];\n\n      var o = ToObject(this);\n      var len = ToLength(o[&quot;length&quot;]);\n      if (len === 0) return false;\n      var n = ToInteger(fromIndex);\n      if (n &gt;= 0) {\n        var k = n;\n      } else {\n        k = len + n;\n        if (k &lt; 0) k = 0;\n      }\n      while (k &lt; len) {\n        var elementK = o[k];\n        if (SameValueZero(o[k], target))\n          return true;\n        k += 1;\n      }\n      return false;\n    });\n\n}(this));\n//----------------------------------------------------------------------\n//\n// ECMAScript 2017 Polyfills\n//\n//----------------------------------------------------------------------\n\n(function (global) {\n  'use strict';\n  var undefined = (void 0); // Paranoia\n\n  // Helpers\n\n  function isSymbol(s) {\n    return (typeof s === 'symbol') || ('Symbol' in global &amp;&amp; s instanceof global.Symbol);\n  }\n\n  function define(o, p, v, override) {\n    if (p in o &amp;&amp; !override)\n      return;\n\n    if (typeof v === 'function') {\n      // Sanity check that functions are appropriately named (where possible)\n      console.assert(isSymbol(p) || !('name' in v) || v.name === p || v.name === p + '_', 'Expected function name &quot;' + p.toString() + '&quot;, was &quot;' + v.name + '&quot;');\n      Object.defineProperty(o, p, {\n        value: v,\n        configurable: true,\n        enumerable: false,\n        writable: true\n      });\n    } else {\n      Object.defineProperty(o, p, {\n        value: v,\n        configurable: false,\n        enumerable: false,\n        writable: false\n      });\n    }\n  }\n\n  // Snapshot intrinsic functions\n  var $isNaN = global.isNaN;\n\n  var abs = Math.abs,\n      floor = Math.floor,\n      min = Math.min;\n\n  //----------------------------------------\n  // 7 Abstract Operations\n  //----------------------------------------\n\n  // 7.1.4\n  function ToInteger(n) {\n    n = Number(n);\n    if ($isNaN(n)) return 0;\n    if (n === 0 || n === Infinity || n === -Infinity) return n;\n    return ((n &lt; 0) ? -1 : 1) * floor(abs(n));\n  }\n\n  // 7.1.13 ToObject\n  function ToObject(v) {\n    if (v === null || v === undefined) throw TypeError();\n    return Object(v);\n  }\n\n  // 7.1.15 ToLength ( argument )\n  function ToLength(v) {\n    var len = ToInteger(v);\n    if (len &lt;= 0) {\n      return 0;\n    }\n    return min(len, 0x20000000000000 - 1); // 2^53-1\n  }\n\n  //----------------------------------------\n  // 7.3 Operations on Objects\n  //----------------------------------------\n\n  // 7.3.4\n  function CreateDataProperty(O, P, V) {\n    Object.defineProperty(O, P, {\n      value: V,\n      writable: true,\n      enumerable: true,\n      configurable: true\n    });\n  }\n\n  // 7.3.21\n  function EnumerableOwnProperties(o, kind) {\n    var ownKeys = Object.keys(o);\n    var properties = [];\n    ownKeys.forEach(function(key) {\n      var desc = Object.getOwnPropertyDescriptor(o, key);\n      if (desc &amp;&amp; desc.enumerable) {\n        if (kind === 'key') properties.push(key);\n        else {\n          var value = o[key];\n          if (kind === 'value') properties.push(value);\n          else properties.push([key, value]);\n        }\n      }\n    });\n    return properties;\n  }\n\n\n  //----------------------------------------------------------------------\n  // 19 Fundamental Objects\n  //----------------------------------------------------------------------\n\n  // 19.1 Object Objects\n  // 19.1.2 Properties of the Object Constructor\n\n  // 19.1.2.5 Object.entries\n  define(\n    Object, 'entries',\n    function entries(o) {\n      var obj = ToObject(o);\n      return EnumerableOwnProperties(obj, 'key+value');\n    });\n\n  // 19.1.2.8 Object.getOwnPropertyDescriptors ( O )\n  define(\n    Object, 'getOwnPropertyDescriptors',\n    function getOwnPropertyDescriptors(o) {\n      var obj = ToObject(o);\n      // ReturnIfAbrupt(obj)\n      var keys = Object.getOwnPropertyNames(obj);\n      // ReturnIfAbrupt(keys)\n      var descriptors = {};\n      for (var i = 0; i &lt; keys.length; ++i) {\n        var nextKey = keys[i];\n        var descriptor = Object.getOwnPropertyDescriptor(obj, nextKey);\n        // ReturnIfAbrupt(desc)\n        // ReturnIfAbrupt(descriptor)\n        CreateDataProperty(descriptors, nextKey, descriptor);\n      }\n      return descriptors;\n    });\n\n  // 19.1.2.21 Object.values\n  define(\n    Object, 'values',\n    function values(o) {\n      var obj = ToObject(o);\n      return EnumerableOwnProperties(obj, 'value');\n    });\n\n\n\n  //----------------------------------------------------------------------\n  // 21 Text Processing\n  //----------------------------------------------------------------------\n\n  // 21.1 String Objects\n  // 21.1.3 Properties of the String Prototype Object\n\n  // 21.1.3.13 String.prototype.padEnd( maxLength [ , fillString ] )\n  define(\n    String.prototype, 'padEnd',\n    function padEnd(maxLength) {\n      var fillString = arguments[1];\n\n      var o = this;\n      // ReturnIfAbrupt(o)\n      var s = String(this);\n      // ReturnIfAbrupt(s)\n      var stringLength = s.length;\n      if (fillString === undefined) var fillStr = '';\n      else fillStr = String(fillString);\n      // ReturnIfAbrupt(fillStr)\n      if (fillStr === '') fillStr = ' ';\n      var intMaxLength = ToLength(maxLength);\n      // ReturnIfAbrupt(intMaxLength)\n      if (intMaxLength &lt;= stringLength) return s;\n      var fillLen = intMaxLength - stringLength;\n      var stringFiller = '';\n      while (stringFiller.length &lt; fillLen)\n        stringFiller = stringFiller + fillStr;\n      return s + stringFiller.substring(0, fillLen);\n    });\n\n  // 21.1.3.14 String.prototype.padStart( maxLength [ , fillString ] )\n  define(\n    String.prototype, 'padStart',\n    function padStart(maxLength) {\n      var fillString = arguments[1];\n\n      var o = this;\n      // ReturnIfAbrupt(o)\n      var s = String(this);\n      // ReturnIfAbrupt(s)\n      var stringLength = s.length;\n      if (fillString === undefined) var fillStr = '';\n      else fillStr = String(fillString);\n      // ReturnIfAbrupt(fillStr)\n      if (fillStr === '') fillStr = ' ';\n      var intMaxLength = ToLength(maxLength);\n      // ReturnIfAbrupt(intMaxLength)\n      if (intMaxLength &lt;= stringLength) return s;\n      var fillLen = intMaxLength - stringLength;\n      var stringFiller = '';\n      while (stringFiller.length &lt; fillLen)\n        stringFiller = stringFiller + fillStr;\n      return stringFiller.substring(0, fillLen) + s;\n    });\n\n}(this));\n(function(global) {\n  'use strict';\n\n  if (!('window' in global &amp;&amp; 'document' in global))\n    return;\n\n  //----------------------------------------------------------------------\n  //\n  // HTML\n  // https://html.spec.whatwg.org\n  //\n  //----------------------------------------------------------------------\n\n  // document.head attribute\n  // Needed for: IE8-\n  if (!('head' in document))\n    document.head = document.getElementsByTagName('head')[0];\n\n  // Ensure correct parsing of newish elements (&quot;shiv&quot;)\n  // Needed for: IE8-\n  [\n    'abbr', 'article', 'aside', 'audio', 'bdi', 'canvas', 'data', 'datalist',\n    'details', 'dialog', 'figcaption', 'figure', 'footer', 'header', 'hgroup',\n    'main', 'mark', 'meter', 'nav', 'output', 'picture', 'progress', 'section',\n    'summary', 'template', 'time', 'video'].forEach(function(tag) {\n     document.createElement(tag);\n   });\n\n  // HTMLElement.dataset\n  // Needed for: IE10-\n  if (!('dataset' in document.createElement('span')) &amp;&amp;\n      'Element' in global &amp;&amp; Element.prototype &amp;&amp; Object.defineProperty) {\n    Object.defineProperty(Element.prototype, 'dataset', { get: function() {\n      var result = Object.create(null);\n      for (var i = 0; i &lt; this.attributes.length; ++i) {\n        var attr = this.attributes[i];\n        if (attr.specified &amp;&amp; attr.name.substring(0, 5) === 'data-') {\n          (function(element, name) {\n            var prop = name.replace(/-([a-z])/g, function(m, p) {\n              return p.toUpperCase();\n            });\n            result[prop] = element.getAttribute('data-' + name); // Read-only, for IE8-\n            Object.defineProperty(result, prop, {\n              get: function() {\n                return element.getAttribute('data-' + name);\n              },\n              set: function(value) {\n                element.setAttribute('data-' + name, value);\n              }});\n          }(this, attr.name.substring(5)));\n        }\n      }\n      return result;\n    }});\n  }\n\n  // Base64 utility methods\n  // Needed for: IE9-\n  (function() {\n    if ('atob' in global &amp;&amp; 'btoa' in global)\n      return;\n\n    var B64_ALPHABET = &quot;ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=&quot;;\n    function atob(input) {\n      input = String(input);\n      var position = 0,\n          output = [],\n          buffer = 0, bits = 0, n;\n\n      input = input.replace(/\\s/g, '');\n      if ((input.length % 4) === 0) { input = input.replace(/=+$/, ''); }\n      if ((input.length % 4) === 1) { throw Error(&quot;InvalidCharacterError&quot;); }\n      if (/[^+/0-9A-Za-z]/.test(input)) { throw Error(&quot;InvalidCharacterError&quot;); }\n\n      while (position &lt; input.length) {\n        n = B64_ALPHABET.indexOf(input.charAt(position));\n        buffer = (buffer &lt;&lt; 6) | n;\n        bits += 6;\n\n        if (bits === 24) {\n          output.push(String.fromCharCode((buffer &gt;&gt; 16) &amp; 0xFF));\n          output.push(String.fromCharCode((buffer &gt;&gt;  8) &amp; 0xFF));\n          output.push(String.fromCharCode(buffer &amp; 0xFF));\n          bits = 0;\n          buffer = 0;\n        }\n        position += 1;\n      }\n\n      if (bits === 12) {\n        buffer = buffer &gt;&gt; 4;\n        output.push(String.fromCharCode(buffer &amp; 0xFF));\n      } else if (bits === 18) {\n        buffer = buffer &gt;&gt; 2;\n        output.push(String.fromCharCode((buffer &gt;&gt; 8) &amp; 0xFF));\n        output.push(String.fromCharCode(buffer &amp; 0xFF));\n      }\n\n      return output.join('');\n    };\n\n    function btoa(input) {\n      input = String(input);\n      var position = 0,\n          out = [],\n          o1, o2, o3,\n          e1, e2, e3, e4;\n\n      if (/[^\\x00-\\xFF]/.test(input)) { throw Error(&quot;InvalidCharacterError&quot;); }\n\n      while (position &lt; input.length) {\n        o1 = input.charCodeAt(position++);\n        o2 = input.charCodeAt(position++);\n        o3 = input.charCodeAt(position++);\n\n        // 111111 112222 222233 333333\n        e1 = o1 &gt;&gt; 2;\n        e2 = ((o1 &amp; 0x3) &lt;&lt; 4) | (o2 &gt;&gt; 4);\n        e3 = ((o2 &amp; 0xf) &lt;&lt; 2) | (o3 &gt;&gt; 6);\n        e4 = o3 &amp; 0x3f;\n\n        if (position === input.length + 2) {\n          e3 = 64;\n          e4 = 64;\n        }\n        else if (position === input.length + 1) {\n          e4 = 64;\n        }\n\n        out.push(B64_ALPHABET.charAt(e1),\n                 B64_ALPHABET.charAt(e2),\n                 B64_ALPHABET.charAt(e3),\n                 B64_ALPHABET.charAt(e4));\n      }\n\n      return out.join('');\n    };\n\n    global.atob = atob;\n    global.btoa = btoa;\n  }());\n\n  // requestAnimationFrame - needed for IE9-\n  (function() {\n    if ('requestAnimationFrame' in global)\n      return;\n\n    var TARGET_FPS = 60,\n        requests = Object.create(null),\n        raf_handle = 0,\n        timeout_handle = -1;\n\n    function isVisible(element) {\n      return element.offsetWidth &gt; 0 &amp;&amp; element.offsetHeight &gt; 0;\n    }\n\n    function onFrameTimer() {\n      var cur_requests = requests;\n      requests = Object.create(null);\n      timeout_handle = -1;\n      Object.keys(cur_requests).forEach(function(id) {\n        var request = cur_requests[id];\n        if (!request.element || isVisible(request.element))\n          request.callback(Date.now());\n      });\n    }\n\n    function requestAnimationFrame(callback, element) {\n      var cb_handle = ++raf_handle;\n      requests[cb_handle] = {callback: callback, element: element};\n      if (timeout_handle === -1)\n        timeout_handle = global.setTimeout(onFrameTimer, 1000 / TARGET_FPS);\n      return cb_handle;\n    }\n\n    function cancelAnimationFrame(handle) {\n      delete requests[handle];\n      if (Object.keys(requests).length === 0) {\n        global.clearTimeout(timeout_handle);\n        timeout_handle = -1;\n      }\n    }\n\n    global.requestAnimationFrame = requestAnimationFrame;\n    global.cancelAnimationFrame = cancelAnimationFrame;\n  }());\n\n}(self));\n(function(global) {\n  'use strict';\n  if (!('window' in global &amp;&amp; 'document' in global))\n    return;\n\n  //----------------------------------------------------------------------\n  //\n  // DOM\n  // https://dom.spec.whatwg.org/\n  //\n  //----------------------------------------------------------------------\n\n  // Document.querySelectorAll method\n  // http://ajaxian.com/archives/creating-a-queryselector-for-ie-that-runs-at-native-speed\n  // Needed for: IE7-\n  if (!document.querySelectorAll) {\n    document.querySelectorAll = function(selectors) {\n      var style = document.createElement('style'), elements = [], element;\n      document.documentElement.firstChild.appendChild(style);\n      document._qsa = [];\n\n      style.styleSheet.cssText = selectors + '{x-qsa:expression(document._qsa &amp;&amp; document._qsa.push(this))}';\n      window.scrollBy(0, 0);\n      style.parentNode.removeChild(style);\n\n      while (document._qsa.length) {\n        element = document._qsa.shift();\n        element.style.removeAttribute('x-qsa');\n        elements.push(element);\n      }\n      document._qsa = null;\n      return elements;\n    };\n  }\n\n  // Document.querySelector method\n  // Needed for: IE7-\n  if (!document.querySelector) {\n    document.querySelector = function(selectors) {\n      var elements = document.querySelectorAll(selectors);\n      return (elements.length) ? elements[0] : null;\n    };\n  }\n\n  // Document.getElementsByClassName method\n  // Needed for: IE8-\n  if (!document.getElementsByClassName) {\n    document.getElementsByClassName = function(classNames) {\n      classNames = String(classNames).replace(/^|\\s+/g, '.');\n      return document.querySelectorAll(classNames);\n    };\n  }\n\n  // Node interface constants\n  // Needed for: IE8-\n  global.Node = global.Node || function() { throw TypeError(&quot;Illegal constructor&quot;); };\n  [\n    ['ELEMENT_NODE', 1],\n    ['ATTRIBUTE_NODE', 2],\n    ['TEXT_NODE', 3],\n    ['CDATA_SECTION_NODE', 4],\n    ['ENTITY_REFERENCE_NODE', 5],\n    ['ENTITY_NODE', 6],\n    ['PROCESSING_INSTRUCTION_NODE', 7],\n    ['COMMENT_NODE', 8],\n    ['DOCUMENT_NODE', 9],\n    ['DOCUMENT_TYPE_NODE', 10],\n    ['DOCUMENT_FRAGMENT_NODE', 11],\n    ['NOTATION_NODE', 12]\n  ].forEach(function(p) { if (!(p[0] in global.Node)) global.Node[p[0]] = p[1]; });\n\n  // DOMException constants\n  // Needed for: IE8-\n  global.DOMException = global.DOMException || function() { throw TypeError(&quot;Illegal constructor&quot;); };\n  [\n    ['INDEX_SIZE_ERR', 1],\n    ['DOMSTRING_SIZE_ERR', 2],\n    ['HIERARCHY_REQUEST_ERR', 3],\n    ['WRONG_DOCUMENT_ERR', 4],\n    ['INVALID_CHARACTER_ERR', 5],\n    ['NO_DATA_ALLOWED_ERR', 6],\n    ['NO_MODIFICATION_ALLOWED_ERR', 7],\n    ['NOT_FOUND_ERR', 8],\n    ['NOT_SUPPORTED_ERR', 9],\n    ['INUSE_ATTRIBUTE_ERR', 10],\n    ['INVALID_STATE_ERR', 11],\n    ['SYNTAX_ERR', 12],\n    ['INVALID_MODIFICATION_ERR', 13],\n    ['NAMESPACE_ERR', 14],\n    ['INVALID_ACCESS_ERR', 15]\n  ].forEach(function(p) { if (!(p[0] in global.DOMException)) global.DOMException[p[0]] = p[1]; });\n\n  // Event and EventTargets interfaces\n  // Needed for: IE8\n  (function(){\n    if (!('Element' in global) || Element.prototype.addEventListener || !Object.defineProperty)\n      return;\n\n    // interface Event\n\n    // PhaseType (const unsigned short)\n    Event.CAPTURING_PHASE = 1;\n    Event.AT_TARGET       = 2;\n    Event.BUBBLING_PHASE  = 3;\n\n    Object.defineProperties(Event.prototype, {\n      CAPTURING_PHASE: { get: function() { return 1; } },\n      AT_TARGET:       { get: function() { return 2; } },\n      BUBBLING_PHASE:   { get: function() { return 3; } },\n      target: {\n        get: function() {\n          return this.srcElement;\n        }},\n      currentTarget: {\n        get: function() {\n          return this._currentTarget;\n        }},\n      eventPhase: {\n        get: function() {\n          return (this.srcElement === this.currentTarget) ? Event.AT_TARGET : Event.BUBBLING_PHASE;\n        }},\n      bubbles: {\n        get: function() {\n          switch (this.type) {\n            // Mouse\n          case 'click':\n          case 'dblclick':\n          case 'mousedown':\n          case 'mouseup':\n          case 'mouseover':\n          case 'mousemove':\n          case 'mouseout':\n          case 'mousewheel':\n            // Keyboard\n          case 'keydown':\n          case 'keypress':\n          case 'keyup':\n            // Frame/Object\n          case 'resize':\n          case 'scroll':\n            // Form\n          case 'select':\n          case 'change':\n          case 'submit':\n          case 'reset':\n            return true;\n          }\n          return false;\n        }},\n      cancelable: {\n        get: function() {\n          switch (this.type) {\n            // Mouse\n          case 'click':\n          case 'dblclick':\n          case 'mousedown':\n          case 'mouseup':\n          case 'mouseover':\n          case 'mouseout':\n          case 'mousewheel':\n            // Keyboard\n          case 'keydown':\n          case 'keypress':\n          case 'keyup':\n            // Form\n          case 'submit':\n            return true;\n          }\n          return false;\n        }},\n      timeStamp: {\n        get: function() {\n          return this._timeStamp;\n        }},\n      stopPropagation: {\n        value: function() {\n          this.cancelBubble = true;\n        }},\n      preventDefault: {\n        value: function() {\n          this.returnValue = false;\n        }},\n      defaultPrevented: {\n        get: function() {\n          return this.returnValue === false;\n        }}\n    });\n\n    // interface EventTarget\n\n    function addEventListener(type, listener, useCapture) {\n      if (typeof listener !== 'function') return;\n      if (type === 'DOMContentLoaded') type = 'load';\n      var target = this;\n      var f = function(e) {\n        e._timeStamp = Date.now();\n        e._currentTarget = target;\n        listener.call(this, e);\n        e._currentTarget = null;\n      };\n      this['_' + type + listener] = f;\n      this.attachEvent('on' + type, f);\n    }\n\n    function removeEventListener(type, listener, useCapture) {\n      if (typeof listener !== 'function') return;\n      if (type === 'DOMContentLoaded') type = 'load';\n      var f = this['_' + type + listener];\n      if (f) {\n        this.detachEvent('on' + type, f);\n        this['_' + type + listener] = null;\n      }\n    }\n\n    [Window, HTMLDocument, Element].forEach(function(o) {\n      o.prototype.addEventListener = addEventListener;\n      o.prototype.removeEventListener = removeEventListener;\n    });\n  }());\n\n  // CustomEvent\n  // https://developer.mozilla.org/en-US/docs/Web/API/CustomEvent/CustomEvent\n  // Needed for: IE\n  (function () {\n    if ('CustomEvent' in global &amp;&amp; typeof global.CustomEvent === &quot;function&quot;)\n      return;\n    function CustomEvent ( event, params ) {\n      params = params || { bubbles: false, cancelable: false, detail: undefined };\n      var evt = document.createEvent( 'CustomEvent' );\n      evt.initCustomEvent( event, params.bubbles, params.cancelable, params.detail );\n      return evt;\n    }\n    CustomEvent.prototype = global.Event.prototype;\n    global.CustomEvent = CustomEvent;\n  })();\n\n  // Shim for DOM Events for IE7-\n  // http://www.quirksmode.org/blog/archives/2005/10/_and_the_winner_1.html\n  // Use addEvent(object, event, handler) instead of object.addEventListener(event, handler)\n  window.addEvent = function(obj, type, fn) {\n    if (obj.addEventListener) {\n      obj.addEventListener(type, fn, false);\n    } else if (obj.attachEvent) {\n      obj[&quot;e&quot; + type + fn] = fn;\n      obj[type + fn] = function() {\n        var e = window.event;\n        e.currentTarget = obj;\n        e.preventDefault = function() { e.returnValue = false; };\n        e.stopPropagation = function() { e.cancelBubble = true; };\n        e.target = e.srcElement;\n        e.timeStamp = Date.now();\n        obj[&quot;e&quot; + type + fn].call(this, e);\n      };\n      obj.attachEvent(&quot;on&quot; + type, obj[type + fn]);\n    }\n  };\n\n  window.removeEvent = function(obj, type, fn) {\n    if (obj.removeEventListener) {\n      obj.removeEventListener(type, fn, false);\n    } else if (obj.detachEvent) {\n      obj.detachEvent(&quot;on&quot; + type, obj[type + fn]);\n      obj[type + fn] = null;\n      obj[&quot;e&quot; + type + fn] = null;\n    }\n  };\n\n\n  function addToElementPrototype(p, f) {\n    if ('Element' in global &amp;&amp; Element.prototype &amp;&amp; Object.defineProperty) {\n      Object.defineProperty(Element.prototype, p, { get: f });\n    }\n  }\n\n  // DOMTokenList interface and Element.classList / Element.relList\n  // Needed for: IE9-\n  // Use getClassList(elem) instead of elem.classList() if IE7- support is needed\n  // Use getRelList(elem) instead of elem.relList() if IE7- support is needed\n  (function() {\n    function DOMTokenListShim(o, p) {\n      function split(s) { return s.length ? s.split(/\\s+/g) : []; }\n\n      // NOTE: This does not exactly match the spec.\n      function removeTokenFromString(token, string) {\n        var tokens = split(string),\n            index = tokens.indexOf(token);\n        if (index !== -1) {\n          tokens.splice(index, 1);\n        }\n        return tokens.join(' ');\n      }\n\n      Object.defineProperties(\n        this,\n        {\n          length: {\n            get: function() { return split(o[p]).length; }\n          },\n\n          item: {\n            value: function(idx) {\n              var tokens = split(o[p]);\n              return 0 &lt;= idx &amp;&amp; idx &lt; tokens.length ? tokens[idx] : null;\n            }\n          },\n\n          contains: {\n            value: function(token) {\n              token = String(token);\n              var tokens = split(o[p]);\n\n              return tokens.indexOf(token) !== -1;\n            }\n          },\n\n          add: {\n            value: function(/*tokens...*/) {\n              var tokens = Array.prototype.slice.call(arguments).map(String);\n              if (tokens.some(function(token) { return token.length === 0; })) {\n                throw SyntaxError();\n              }\n              if (tokens.some(function(token) { return (/\\s/).test(token); })) {\n                throw Error(&quot;InvalidCharacterError&quot;);\n              }\n\n              try {\n                var underlying_string = o[p];\n                var token_list = split(underlying_string);\n                tokens = tokens.filter(function(token) { return token_list.indexOf(token) === -1; });\n                if (tokens.length === 0) {\n                  return;\n                }\n                if (underlying_string.length !== 0 &amp;&amp; !(/\\s$/).test(underlying_string)) {\n                  underlying_string += ' ';\n                }\n                underlying_string += tokens.join(' ');\n                o[p] = underlying_string;\n              } finally {\n                var length = split(o[p]).length;\n                if (this.length !== length) { this.length = length; }\n              }\n            }\n          },\n\n          remove: {\n            value: function(/*tokens...*/) {\n              var tokens = Array.prototype.slice.call(arguments).map(String);\n              if (tokens.some(function(token) { return token.length === 0; })) {\n                throw SyntaxError();\n              }\n              if (tokens.some(function(token) { return (/\\s/).test(token); })) {\n                throw Error(&quot;InvalidCharacterError&quot;);\n              }\n\n              try {\n                var underlying_string = o[p];\n                tokens.forEach(function(token) {\n                  underlying_string = removeTokenFromString(token, underlying_string);\n                });\n                o[p] = underlying_string;\n              } finally {\n                var length = split(o[p]).length;\n                if (this.length !== length) { this.length = length; }\n              }\n            }\n          },\n\n          toggle: {\n            value: function(token/*, force*/) {\n              var force = arguments[1];\n              try {\n                token = String(token);\n                if (token.length === 0) { throw SyntaxError(); }\n                if (/\\s/.test(token)) { throw Error(&quot;InvalidCharacterError&quot;); }\n                var tokens = split(o[p]),\n                    index = tokens.indexOf(token);\n\n                if (index !== -1 &amp;&amp; (!force || force === (void 0))) {\n                  o[p] = removeTokenFromString(token, o[p]);\n                  return false;\n                }\n                if (index !== -1 &amp;&amp; force) {\n                  return true;\n                }\n                var underlying_string = o[p];\n                if (underlying_string.length !== 0 &amp;&amp; !/\\s$/.test(underlying_string)) {\n                  underlying_string += ' ';\n                }\n                underlying_string += token;\n                o[p] = underlying_string;\n                return true;\n              } finally {\n                var length = split(o[p]).length;\n                if (this.length !== length) { this.length = length; }\n              }\n            }\n          },\n\n          toString: {\n            value: function() {\n              return o[p];\n            }\n          }\n        });\n      if (!('length' in this)) {\n        // In case getters are not supported\n        this.length = split(o[p]).length;\n      } else {\n        // If they are, shim in index getters (up to 100)\n        for (var i = 0; i &lt; 100; ++i) {\n          Object.defineProperty(this, String(i), {\n            get: (function(n) { return function() { return this.item(n); }; }(i))\n          });\n        }\n      }\n    }\n\n    // HTML - https://html.spec.whatwg.org\n    // Element.classList\n    if ('classList' in document.createElement('span')) {\n      window.getClassList = function(elem) { return elem.classList; };\n    } else {\n      window.getClassList = function(elem) { return new DOMTokenListShim(elem, 'className'); };\n      addToElementPrototype('classList', function() { return new DOMTokenListShim(this, 'className'); } );\n    }\n\n    // HTML - https://html.spec.whatwg.org\n    // HTMLAnchorElement.relList\n    // HTMLLinkElement.relList\n    if ('relList' in document.createElement('link')) {\n      window.getRelList = function(elem) { return elem.relList; };\n    } else {\n      window.getRelList = function(elem) { return new DOMTokenListShim(elem, 'rel'); };\n      addToElementPrototype('relList', function() { return new DOMTokenListShim(this, 'rel'); } );\n    }\n\n    // Add second argument to native DOMTokenList.toggle() if necessary\n    (function() {\n      if (!('DOMTokenList' in global)) return;\n      var e = document.createElement('span');\n      if (!('classList' in e)) return;\n      e.classList.toggle('x', false);\n      if (!e.classList.contains('x')) return;\n      global.DOMTokenList.prototype.toggle = function toggle(token/*, force*/) {\n        var force = arguments[1];\n        if (force === undefined) {\n          var add = !this.contains(token);\n          this[add ? 'add' : 'remove'](token);\n          return add;\n        }\n        force = !!force;\n        this[force ? 'add' : 'remove'](token);\n        return force;\n      };\n    }());\n\n  }());\n\n\n  // Interface NonDocumentTypeChildNode\n  // previousElementSibling / nextElementSibling - for IE8\n\n  if (!('previousElementSibling' in document.documentElement)) {\n    addToElementPrototype('previousElementSibling', function() {\n      var n = this.previousSibling;\n      while (n &amp;&amp; n.nodeType !== Node.ELEMENT_NODE)\n        n = n.previousSibling;\n      return n;\n    });\n  }\n\n  if (!('nextElementSibling' in document.documentElement)) {\n    addToElementPrototype('nextElementSibling', function() {\n      var n = this.nextSibling;\n      while (n &amp;&amp; n.nodeType !== Node.ELEMENT_NODE)\n        n = n.nextSibling;\n      return n;\n    });\n  }\n\n\n  // Element.matches\n  // https://developer.mozilla.org/en/docs/Web/API/Element/matches\n  // Needed for: IE, Firefox 3.6, early Webkit and Opera 15.0\n  // Use msMatchesSelector(selector) for IE\n  // Use oMatchesSelector(selector) for Opera 15.0\n  // Use mozMatchesSelector(selector) for Firefox 3.6\n  // Use webkitMatchesSelector(selector) for early Webkit\n  // Use polyfill if no matches() support, but querySelectorAll() support\n  if ('Element' in global &amp;&amp; !Element.prototype.matches) {\n    if (Element.prototype.msMatchesSelector) {\n      Element.prototype.matches = Element.prototype.msMatchesSelector;\n    } else if (Element.prototype.oMatchesSelector) {\n      Element.prototype.matches = Element.prototype.oMatchesSelector;\n    } else if (Element.prototype.mozMatchesSelector) {\n      Element.prototype.matches = Element.prototype.mozMatchesSelector;\n    } else if (Element.prototype.webkitMatchesSelector) {\n      Element.prototype.matches = Element.prototype.webkitMatchesSelector;\n    } else if (document.querySelectorAll) {\n      Element.prototype.matches = function matches(selector) {\n        var matches = (this.document || this.ownerDocument).querySelectorAll(selector),\n            i = matches.length;\n        while (--i &gt;= 0 &amp;&amp; matches.item(i) !== this) {}\n        return i &gt; -1;\n      };\n    }\n  }\n\n  // Element.closest\n  // https://developer.mozilla.org/en-US/docs/Web/API/Element/closest\n  if (window.Element &amp;&amp; !Element.prototype.closest) {\n    Element.prototype.closest = function(s) {\n      var matches = (this.document || this.ownerDocument).querySelectorAll(s),\n          i,\n          el = this;\n      do {\n        i = matches.length;\n        while (--i &gt;= 0 &amp;&amp; matches.item(i) !== el) {};\n      } while ((i &lt; 0) &amp;&amp; (el = el.parentElement));\n      return el;\n    };\n  }\n\n  function mixin(o, ps) {\n    if (!o) return;\n    Object.keys(ps).forEach(function(p) {\n      if ((p in o) || (p in o.prototype)) return;\n      try {\n        Object.defineProperty(\n          o.prototype,\n          p,\n          Object.getOwnPropertyDescriptor(ps, p)\n        );\n      } catch (ex) {\n        // Throws in IE8; just copy it\n        o[p] = ps[p];\n      }\n    });\n  }\n\n  // Mixin ParentNode\n  // https://dom.spec.whatwg.org/#interface-parentnode\n\n  function convertNodesIntoANode(nodes) {\n    var node = null;\n    nodes = nodes.map(function(node) {\n      return !(node instanceof Node) ? document.createTextNode(node) : node;\n    });\n    if (nodes.length === 1) {\n      node = nodes[0];\n    } else {\n      node = document.createDocumentFragment();\n      nodes.forEach(function(n) { node.appendChild(n); });\n    }\n    return node;\n  }\n\n  var ParentNode = {\n    prepend: function(/*...nodes*/) {\n      var nodes = [].slice.call(arguments);\n      nodes = convertNodesIntoANode(nodes);\n      this.insertBefore(nodes, this.firstChild);\n    },\n    append: function(/*...nodes*/) {\n      var nodes = [].slice.call(arguments);\n      nodes = convertNodesIntoANode(nodes);\n      this.appendChild(nodes);\n    }\n  };\n\n  mixin(global.Document || global.HTMLDocument, ParentNode); // HTMLDocument for IE8\n  mixin(global.DocumentFragment, ParentNode);\n  mixin(global.Element, ParentNode);\n\n  // Attributes for IE8\n  if (!('firstElementChild' in document.documentElement)) {\n    addToElementPrototype('firstElementChild', function() {\n      for (var nodes = this.children, i = 0, l = nodes.length; i &lt; l; ++i) {\n        var n = nodes[i];\n        if (n.nodeType === Node.ELEMENT_NODE) return n;\n      }\n      return null;\n    });\n  }\n\n  if (!('lastElementChild' in document.documentElement)) {\n    addToElementPrototype('lastElementChild', function() {\n      for (var nodes = this.children, i = nodes.length - 1; i &gt;= 0; --i) {\n        var n = nodes[i];\n        if (n.nodeType === Node.ELEMENT_NODE) return n;\n      }\n      return null;\n    });\n  }\n\n  if (!('childElementCount' in document.documentElement)) {\n    addToElementPrototype('childElementCount', function() {\n      for (var c = 0, nodes = this.children, i = 0, l = nodes.length; i &lt; l; ++i) {\n        if (nodes[i].nodeType === Node.ELEMENT_NODE) ++c;\n      }\n      return c;\n    });\n  }\n\n  // Mixin ChildNode\n  // https://dom.spec.whatwg.org/#interface-childnode\n\n  var ChildNode = {\n    before: function(/*...nodes*/) {\n      var nodes = [].slice.call(arguments);\n      var parent = this.parentNode;\n      if (!parent) return;\n      var viablePreviousSibling = this.previousSibling;\n      while (nodes.indexOf(viablePreviousSibling) !== -1)\n        viablePreviousSibling = viablePreviousSibling.previousSibling;\n      var node = convertNodesIntoANode(nodes);\n      parent.insertBefore(node, viablePreviousSibling ?\n                          viablePreviousSibling.nextSibling : parent.firstChild);\n    },\n    after: function(/*...nodes*/) {\n      var nodes = [].slice.call(arguments);\n      var parent = this.parentNode;\n      if (!parent) return;\n      var viableNextSibling = this.nextSibling;\n      while (nodes.indexOf(viableNextSibling) !== -1)\n        viableNextSibling = viableNextSibling.nextSibling;\n      var node = convertNodesIntoANode(nodes);\n      parent.insertBefore(node, viableNextSibling);\n    },\n    replaceWith: function(/*...nodes*/) {\n      var nodes = [].slice.call(arguments);\n      var parent = this.parentNode;\n      if (!parent) return;\n      var viableNextSibling = this.nextSibling;\n      while (nodes.indexOf(viableNextSibling) !== -1)\n        viableNextSibling = viableNextSibling.nextSibling;\n      var node = convertNodesIntoANode(nodes);\n\n      if (this.parentNode === parent)\n        parent.replaceChild(node, this);\n      else\n        parent.insertBefore(node, viableNextSibling);\n    },\n    remove: function() {\n      if (!this.parentNode) return;\n      this.parentNode.removeChild(this);\n    }\n  };\n\n  mixin(global.DocumentType, ChildNode);\n  mixin(global.Element, ChildNode);\n  mixin(global.CharacterData, ChildNode);\n\n}(self));\n(function(global) {\n  'use strict';\n\n  if (!('window' in global &amp;&amp; 'document' in global))\n    return;\n\n  //----------------------------------------------------------------------\n  //\n  // XMLHttpRequest\n  // https://xhr.spec.whatwg.org\n  //\n  //----------------------------------------------------------------------\n\n  // XMLHttpRequest interface\n  // Needed for: IE7-\n  global.XMLHttpRequest = global.XMLHttpRequest || function() {\n    try { return new ActiveXObject(&quot;Msxml2.XMLHTTP.6.0&quot;); } catch (_) { }\n    try { return new ActiveXObject(&quot;Msxml2.XMLHTTP.3.0&quot;); } catch (_) { }\n    try { return new ActiveXObject(&quot;Msxml2.XMLHTTP&quot;); } catch (_) { }\n    throw Error(&quot;This browser does not support XMLHttpRequest.&quot;);\n  };\n\n  // XMLHttpRequest interface constants\n  // Needed for IE8-\n  [\n    ['UNSENT', 0],\n    ['OPENED', 1],\n    ['HEADERS_RECEIVED', 2],\n    ['LOADING', 3],\n    ['DONE', 4],\n  ].forEach(function(p) { if (!(p[0] in global.XMLHttpRequest)) global.XMLHttpRequest[p[0]] = p[1]; });\n\n  // FormData interface\n  // Needed for: IE9-\n  (function() {\n    if ('FormData' in global)\n      return;\n\n    function FormData(form) {\n      this._data = [];\n      if (!form) return;\n      for (var i = 0; i &lt; form.elements.length; ++i) {\n        var element = form.elements[i];\n        if (element.name !== '')\n          this.append(element.name, element.value);\n      }\n    }\n\n    FormData.prototype = {\n      append: function(name, value /*, filename */) {\n        if ('Blob' in global &amp;&amp; value instanceof global.Blob)\n          throw TypeError(&quot;Blob not supported&quot;);\n        name = String(name);\n        this._data.push([name, value]);\n      },\n\n      toString: function() {\n        return this._data.map(function(pair) {\n          return encodeURIComponent(pair[0]) + '=' + encodeURIComponent(pair[1]);\n        }).join('&amp;');\n      }\n    };\n\n    global.FormData = FormData;\n    var send = global.XMLHttpRequest.prototype.send;\n    global.XMLHttpRequest.prototype.send = function(body) {\n      if (body instanceof FormData) {\n        this.setRequestHeader('Content-Type', 'application/x-www-form-urlencoded');\n        arguments[0] = body.toString();\n      }\n      return send.apply(this, arguments);\n    };\n  }());\n\n}(self));\n(function(global) {\n  'use strict';\n\n  if (!('window' in global &amp;&amp; 'document' in global))\n    return;\n\n  //----------------------------------------------------------------------\n  //\n  // CSSOM View Module\n  // https://dev.w3.org/csswg/cssom-view/\n  //\n  //----------------------------------------------------------------------\n\n  // Fix for IE8-'s Element.getBoundingClientRect()\n  if ('TextRectangle' in global &amp;&amp; !('width' in global.TextRectangle.prototype)) {\n    Object.defineProperties(global.TextRectangle.prototype, {\n      width: { get: function() { return this.right - this.left; } },\n      height: { get: function() { return this.bottom - this.top; } }\n    });\n  }\n}(self));\n// URL Polyfill\n// Draft specification: https://url.spec.whatwg.org\n\n// Notes:\n// - Primarily useful for parsing URLs and modifying query parameters\n// - Should work in IE8+ and everything more modern, with es5.js polyfills\n\n(function (global) {\n  'use strict';\n\n  function isSequence(o) {\n    if (!o) return false;\n    if ('Symbol' in global &amp;&amp; 'iterator' in global.Symbol &amp;&amp;\n        typeof o[Symbol.iterator] === 'function') return true;\n    if (Array.isArray(o)) return true;\n    return false;\n  }\n\n  function toArray(iter) {\n    return ('from' in Array) ? Array.from(iter) : Array.prototype.slice.call(iter);\n  }\n\n  (function() {\n\n    // Browsers may have:\n    // * No global URL object\n    // * URL with static methods only - may have a dummy constructor\n    // * URL with members except searchParams\n    // * Full URL API support\n    var origURL = global.URL;\n    var nativeURL;\n    try {\n      if (origURL) {\n        nativeURL = new global.URL('http://example.com');\n        if ('searchParams' in nativeURL)\n          return;\n        if (!('href' in nativeURL))\n          nativeURL = undefined;\n      }\n    } catch (_) {}\n\n    // NOTE: Doesn't do the encoding/decoding dance\n    function urlencoded_serialize(pairs) {\n      var output = '', first = true;\n      pairs.forEach(function (pair) {\n        var name = encodeURIComponent(pair.name);\n        var value = encodeURIComponent(pair.value);\n        if (!first) output += '&amp;';\n        output += name + '=' + value;\n        first = false;\n      });\n      return output.replace(/%20/g, '+');\n    }\n\n    // NOTE: Doesn't do the encoding/decoding dance\n    function urlencoded_parse(input, isindex) {\n      var sequences = input.split('&amp;');\n      if (isindex &amp;&amp; sequences[0].indexOf('=') === -1)\n        sequences[0] = '=' + sequences[0];\n      var pairs = [];\n      sequences.forEach(function (bytes) {\n        if (bytes.length === 0) return;\n        var index = bytes.indexOf('=');\n        if (index !== -1) {\n          var name = bytes.substring(0, index);\n          var value = bytes.substring(index + 1);\n        } else {\n          name = bytes;\n          value = '';\n        }\n        name = name.replace(/\\+/g, ' ');\n        value = value.replace(/\\+/g, ' ');\n        pairs.push({ name: name, value: value });\n      });\n      var output = [];\n      pairs.forEach(function (pair) {\n        output.push({\n          name: decodeURIComponent(pair.name),\n          value: decodeURIComponent(pair.value)\n        });\n      });\n      return output;\n    }\n\n    function URLUtils(url) {\n      if (nativeURL)\n        return new origURL(url);\n      var anchor = document.createElement('a');\n      anchor.href = url;\n      return anchor;\n    }\n\n    function URLSearchParams(init) {\n      var $this = this;\n      this._list = [];\n\n      if (init === undefined || init === null) {\n        // no-op\n      } else if (init instanceof URLSearchParams) {\n        // In ES6 init would be a sequence, but special case for ES5.\n        this._list = urlencoded_parse(String(init));\n      } else if (typeof init === 'object' &amp;&amp; isSequence(init)) {\n        toArray(init).forEach(function(e) {\n          if (!isSequence(e)) throw TypeError();\n          var nv = toArray(e);\n          if (nv.length !== 2) throw TypeError();\n          $this._list.push({name: String(nv[0]), value: String(nv[1])});\n        });\n      } else if (typeof init === 'object' &amp;&amp; init) {\n        Object.keys(init).forEach(function(key) {\n          $this._list.push({name: String(key), value: String(init[key])});\n        });\n      } else {\n        init = String(init);\n        if (init.substring(0, 1) === '?')\n          init = init.substring(1);\n        this._list = urlencoded_parse(init);\n      }\n\n      this._url_object = null;\n      this._setList = function (list) { if (!updating) $this._list = list; };\n\n      var updating = false;\n      this._update_steps = function() {\n        if (updating) return;\n        updating = true;\n\n        if (!$this._url_object) return;\n\n        // Partial workaround for IE issue with 'about:'\n        if ($this._url_object.protocol === 'about:' &amp;&amp;\n            $this._url_object.pathname.indexOf('?') !== -1) {\n          $this._url_object.pathname = $this._url_object.pathname.split('?')[0];\n        }\n\n        $this._url_object.search = urlencoded_serialize($this._list);\n\n        updating = false;\n      };\n    }\n\n\n    Object.defineProperties(URLSearchParams.prototype, {\n      append: {\n        value: function (name, value) {\n          this._list.push({ name: name, value: value });\n          this._update_steps();\n        }, writable: true, enumerable: true, configurable: true\n      },\n\n      'delete': {\n        value: function (name) {\n          for (var i = 0; i &lt; this._list.length;) {\n            if (this._list[i].name === name)\n              this._list.splice(i, 1);\n            else\n              ++i;\n          }\n          this._update_steps();\n        }, writable: true, enumerable: true, configurable: true\n      },\n\n      get: {\n        value: function (name) {\n          for (var i = 0; i &lt; this._list.length; ++i) {\n            if (this._list[i].name === name)\n              return this._list[i].value;\n          }\n          return null;\n        }, writable: true, enumerable: true, configurable: true\n      },\n\n      getAll: {\n        value: function (name) {\n          var result = [];\n          for (var i = 0; i &lt; this._list.length; ++i) {\n            if (this._list[i].name === name)\n              result.push(this._list[i].value);\n          }\n          return result;\n        }, writable: true, enumerable: true, configurable: true\n      },\n\n      has: {\n        value: function (name) {\n          for (var i = 0; i &lt; this._list.length; ++i) {\n            if (this._list[i].name === name)\n              return true;\n          }\n          return false;\n        }, writable: true, enumerable: true, configurable: true\n      },\n\n      set: {\n        value: function (name, value) {\n          var found = false;\n          for (var i = 0; i &lt; this._list.length;) {\n            if (this._list[i].name === name) {\n              if (!found) {\n                this._list[i].value = value;\n                found = true;\n                ++i;\n              } else {\n                this._list.splice(i, 1);\n              }\n            } else {\n              ++i;\n            }\n          }\n\n          if (!found)\n            this._list.push({ name: name, value: value });\n\n          this._update_steps();\n        }, writable: true, enumerable: true, configurable: true\n      },\n\n      entries: {\n        value: function() { return new Iterator(this._list, 'key+value'); },\n        writable: true, enumerable: true, configurable: true\n      },\n\n      keys: {\n        value: function() { return new Iterator(this._list, 'key'); },\n        writable: true, enumerable: true, configurable: true\n      },\n\n      values: {\n        value: function() { return new Iterator(this._list, 'value'); },\n        writable: true, enumerable: true, configurable: true\n      },\n\n      forEach: {\n        value: function(callback) {\n          var thisArg = (arguments.length &gt; 1) ? arguments[1] : undefined;\n          this._list.forEach(function(pair, index) {\n            callback.call(thisArg, pair.value, pair.name);\n          });\n\n        }, writable: true, enumerable: true, configurable: true\n      },\n\n      toString: {\n        value: function () {\n          return urlencoded_serialize(this._list);\n        }, writable: true, enumerable: false, configurable: true\n      }\n    });\n\n    function Iterator(source, kind) {\n      var index = 0;\n      this['next'] = function() {\n        if (index &gt;= source.length)\n          return {done: true, value: undefined};\n        var pair = source[index++];\n        return {done: false, value:\n                kind === 'key' ? pair.name :\n                kind === 'value' ? pair.value :\n                [pair.name, pair.value]};\n      };\n    }\n\n    if ('Symbol' in global &amp;&amp; 'iterator' in global.Symbol) {\n      Object.defineProperty(URLSearchParams.prototype, global.Symbol.iterator, {\n        value: URLSearchParams.prototype.entries,\n        writable: true, enumerable: true, configurable: true});\n      Object.defineProperty(Iterator.prototype, global.Symbol.iterator, {\n        value: function() { return this; },\n        writable: true, enumerable: true, configurable: true});\n    }\n\n    function URL(url, base) {\n      if (!(this instanceof global.URL))\n        throw new TypeError(&quot;Failed to construct 'URL': Please use the 'new' operator.&quot;);\n\n      if (base) {\n        url = (function () {\n          if (nativeURL) return new origURL(url, base).href;\n          var iframe;\n          try {\n            var doc;\n            // Use another document/base tag/anchor for relative URL resolution, if possible\n            if (Object.prototype.toString.call(window.operamini) === &quot;[object OperaMini]&quot;) {\n              iframe = document.createElement('iframe');\n              iframe.style.display = 'none';\n              document.documentElement.appendChild(iframe);\n              doc = iframe.contentWindow.document;\n            } else if (document.implementation &amp;&amp; document.implementation.createHTMLDocument) {\n              doc = document.implementation.createHTMLDocument('');\n            } else if (document.implementation &amp;&amp; document.implementation.createDocument) {\n              doc = document.implementation.createDocument('http://www.w3.org/1999/xhtml', 'html', null);\n              doc.documentElement.appendChild(doc.createElement('head'));\n              doc.documentElement.appendChild(doc.createElement('body'));\n            } else if (window.ActiveXObject) {\n              doc = new window.ActiveXObject('htmlfile');\n              doc.write('&lt;head&gt;&lt;\\/head&gt;&lt;body&gt;&lt;\\/body&gt;');\n              doc.close();\n            }\n\n            if (!doc) throw Error('base not supported');\n\n            var baseTag = doc.createElement('base');\n            baseTag.href = base;\n            doc.getElementsByTagName('head')[0].appendChild(baseTag);\n            var anchor = doc.createElement('a');\n            anchor.href = url;\n            return anchor.href;\n          } finally {\n            if (iframe)\n              iframe.parentNode.removeChild(iframe);\n          }\n        }());\n      }\n\n      // An inner object implementing URLUtils (either a native URL\n      // object or an HTMLAnchorElement instance) is used to perform the\n      // URL algorithms. With full ES5 getter/setter support, return a\n      // regular object For IE8's limited getter/setter support, a\n      // different HTMLAnchorElement is returned with properties\n      // overridden\n\n      var instance = URLUtils(url || '');\n\n      // Detect for ES5 getter/setter support\n      // (an Object.defineProperties polyfill that doesn't support getters/setters may throw)\n      var ES5_GET_SET = (function() {\n        if (!('defineProperties' in Object)) return false;\n        try {\n          var obj = {};\n          Object.defineProperties(obj, { prop: { 'get': function () { return true; } } });\n          return obj.prop;\n        } catch (_) {\n          return false;\n        }\n      })();\n\n      var self = ES5_GET_SET ? this : document.createElement('a');\n\n\n\n      var query_object = new URLSearchParams(\n        instance.search ? instance.search.substring(1) : null);\n      query_object._url_object = self;\n\n      Object.defineProperties(self, {\n        href: {\n          get: function () { return instance.href; },\n          set: function (v) { instance.href = v; tidy_instance(); update_steps(); },\n          enumerable: true, configurable: true\n        },\n        origin: {\n          get: function () {\n            if ('origin' in instance) return instance.origin;\n            return this.protocol + '//' + this.host;\n          },\n          enumerable: true, configurable: true\n        },\n        protocol: {\n          get: function () { return instance.protocol; },\n          set: function (v) { instance.protocol = v; },\n          enumerable: true, configurable: true\n        },\n        username: {\n          get: function () { return instance.username; },\n          set: function (v) { instance.username = v; },\n          enumerable: true, configurable: true\n        },\n        password: {\n          get: function () { return instance.password; },\n          set: function (v) { instance.password = v; },\n          enumerable: true, configurable: true\n        },\n        host: {\n          get: function () {\n            // IE returns default port in |host|\n            var re = {'http:': /:80$/, 'https:': /:443$/, 'ftp:': /:21$/}[instance.protocol];\n            return re ? instance.host.replace(re, '') : instance.host;\n          },\n          set: function (v) { instance.host = v; },\n          enumerable: true, configurable: true\n        },\n        hostname: {\n          get: function () { return instance.hostname; },\n          set: function (v) { instance.hostname = v; },\n          enumerable: true, configurable: true\n        },\n        port: {\n          get: function () { return instance.port; },\n          set: function (v) { instance.port = v; },\n          enumerable: true, configurable: true\n        },\n        pathname: {\n          get: function () {\n            // IE does not include leading '/' in |pathname|\n            if (instance.pathname.charAt(0) !== '/') return '/' + instance.pathname;\n            return instance.pathname;\n          },\n          set: function (v) { instance.pathname = v; },\n          enumerable: true, configurable: true\n        },\n        search: {\n          get: function () { return instance.search; },\n          set: function (v) {\n            if (instance.search === v) return;\n            instance.search = v; tidy_instance(); update_steps();\n          },\n          enumerable: true, configurable: true\n        },\n        searchParams: {\n          get: function () { return query_object; },\n          enumerable: true, configurable: true\n        },\n        hash: {\n          get: function () { return instance.hash; },\n          set: function (v) { instance.hash = v; tidy_instance(); },\n          enumerable: true, configurable: true\n        },\n        toString: {\n          value: function() { return instance.toString(); },\n          enumerable: false, configurable: true\n        },\n        valueOf: {\n          value: function() { return instance.valueOf(); },\n          enumerable: false, configurable: true\n        }\n      });\n\n      function tidy_instance() {\n        var href = instance.href.replace(/#$|\\?$|\\?(?=#)/g, '');\n        if (instance.href !== href)\n          instance.href = href;\n      }\n\n      function update_steps() {\n        query_object._setList(instance.search ? urlencoded_parse(instance.search.substring(1)) : []);\n        query_object._update_steps();\n      };\n\n      return self;\n    }\n\n    if (origURL) {\n      for (var i in origURL) {\n        if (origURL.hasOwnProperty(i) &amp;&amp; typeof origURL[i] === 'function')\n          URL[i] = origURL[i];\n      }\n    }\n\n    global.URL = URL;\n    global.URLSearchParams = URLSearchParams;\n  }());\n\n  // Patch native URLSearchParams constructor to handle sequences/records\n  // if necessary.\n  (function() {\n    if (new global.URLSearchParams([['a', 1]]).get('a') === '1' &amp;&amp;\n        new global.URLSearchParams({a: 1}).get('a') === '1')\n      return;\n    var orig = global.URLSearchParams;\n    global.URLSearchParams = function(init) {\n      if (init &amp;&amp; typeof init === 'object' &amp;&amp; isSequence(init)) {\n        var o = new orig();\n        toArray(init).forEach(function(e) {\n          if (!isSequence(e)) throw TypeError();\n          var nv = toArray(e);\n          if (nv.length !== 2) throw TypeError();\n          o.append(nv[0], nv[1]);\n        });\n        return o;\n      } else if (init &amp;&amp; typeof init === 'object') {\n        o = new orig();\n        Object.keys(init).forEach(function(key) {\n          o.set(key, init[key]);\n        });\n        return o;\n      } else {\n        return new orig(init);\n      }\n    };\n  }());\n\n}(self));\n// Work-In-Progress 'prollyfill' for Fetch API\n// Standard: https://fetch.spec.whatwg.org/#fetch-api\n//\n// As usual, the intent is to produce a forward-compatible\n// subset so that code can be written using future standard\n// functionality; not every case is considered or supported.\n\n// Requires ES2015: Promise, Symbol.iterator (or polyfill)\n// Requires: URL (or polyfill)\n\n// Example:\n//   fetch('README.md')\n//     .then(function(response) { return response.text(); })\n//     .then(function(text) { alert(text); });\n\n(function(global) {\n  'use strict';\n\n  // Web IDL concepts\n\n  // https://heycam.github.io/webidl/#idl-ByteString\n  function ByteString(value) {\n    value = String(value);\n    if (value.match(/[^\\x00-\\xFF]/)) throw TypeError('Not a valid ByteString');\n    return value;\n  }\n\n  // https://heycam.github.io/webidl/#idl-USVString\n  function USVString(value) {\n    value = String(value);\n    return value.replace(\n        /([\\u0000-\\uD7FF\\uE000-\\uFFFF]|[\\uD800-\\uDBFF][\\uDC00-\\uDFFF]|[\\uD800-\\uDFFF])/g,\n      function (c) {\n        if (/^[\\uD800-\\uDFFF]$/.test(c)) return '\\uFFFD';\n        return c;\n      });\n  }\n\n  function ushort(x) { return x &amp; 0xFFFF; }\n\n  // 2 Terminology\n\n  function byteLowerCase(s) {\n    return String(s).replace(/[A-Z]/g, function(c) { return c.toLowerCase(); });\n  }\n\n  function byteUpperCase(s) {\n    return String(s).replace(/[a-z]/g, function(c) { return c.toUpperCase(); });\n  }\n\n  function byteCaseInsensitiveMatch(a, b) {\n    return byteLowerCase(a) === byteLowerCase(b);\n  }\n\n  // 2.1 HTTP\n\n  // 2.1.1 Methods\n\n  function isForbiddenMethod(m) {\n    m = byteUpperCase(m);\n    return m === 'CONNECT' || m === 'TRACE' || m === 'TRACK';\n  }\n\n  function normalizeMethod(m) {\n    var u = byteUpperCase(m);\n    if (u === 'DELETE' || u === 'GET' || u === 'HEAD' || u === 'OPTIONS' ||\n        u === 'POST' || u === 'PUT') return u;\n    return m;\n  }\n\n  function isName(s) {\n    return /^[!#$%&amp;'*+\\-.09A-Z^_`a-z|~]+$/.test(s);\n  }\n  function isValue(s) {\n    // TODO: Implement me\n    return true;\n  }\n  function isForbiddenHeaderName(n) {\n    n = String(n).toLowerCase();\n    var forbidden = {\n      'accept-charset': true,\n      'accept-encoding': true,\n      'access-control-request-headers': true,\n      'access-control-request-method': true,\n      'connection': true,\n      'content-length': true,\n      'cookie': true,\n      'cookie2': true,\n      'date': true,\n      'dnt': true,\n      'expect': true,\n      'host': true,\n      'keep-alive': true,\n      'origin': true,\n      'referer': true,\n      'te': true,\n      'trailer': true,\n      'transfer-encoding': true,\n      'upgrade': true,\n      'user-agent': true,\n      'via': true\n    };\n    return forbidden[n] || n.substring(0, 6) === 'proxy-' || n.substring(0, 4) === 'sec-';\n  }\n\n  function isForbiddenResponseHeaderName(n) {\n    n = String(n).toLowerCase();\n    var forbidden = {\n      'set-cookie': true,\n      'set-cookie2': true\n    };\n    return forbidden[n];\n  }\n\n  function isSimpleHeader(name, value) {\n    name = String(name).toLowerCase();\n    return name === 'accept' || name === 'accept-language' || name === 'content-language' ||\n      (name === 'content-type' &amp;&amp;\n       ['application/x-www-form-encoded', 'multipart/form-data', 'text/plain'].indexOf(value) !== -1);\n  }\n\n  //\n  // 5.1 Headers class\n  //\n\n  // typedef (Headers or sequence&lt;sequence&lt;ByteString&gt;&gt; or OpenEndedDictionary&lt;ByteString&gt;) HeadersInit;\n\n  // Constructor(optional HeadersInit init)\n  function Headers(init) {\n    this._guard = 'none';\n    this._headerList = [];\n    if (init) fill(this, init);\n  }\n\n  function fill(headers, init) {\n    if (init instanceof Headers) {\n      init._headerList.forEach(function(header) {\n        headers.append(header[0], header[1]);\n      });\n    } else if (Array.isArray(init)) {\n      init.forEach(function(header) {\n        if (!Array.isArray(header) || header.length !== 2) throw TypeError();\n        headers.append(header[0], header[1]);\n      });\n    } else {\n      init = Object(init);\n      Object.keys(init).forEach(function(key) {\n        headers.append(key, init[key]);\n      });\n    }\n  }\n\n  // interface Headers\n  Headers.prototype = {\n    // void append(ByteString name, ByteString value);\n    append: function append(name, value) {\n      name = ByteString(name);\n      if (!isName(name) || !isValue(value)) throw TypeError();\n      if (this._guard === 'immutable') throw TypeError();\n      else if (this._guard === 'request' &amp;&amp; isForbiddenHeaderName(name)) return;\n      else if (this._guard === 'request-no-CORS' &amp;&amp; !isSimpleHeader(name, value)) return;\n      else if (this._guard === 'response' &amp;&amp; isForbiddenResponseHeaderName(name)) return;\n\n      name = name.toLowerCase();\n      this._headerList.push([name, value]);\n    },\n\n    // void delete(ByteString name);\n    'delete': function delete_(name) {\n      name = ByteString(name);\n      if (!isName(name)) throw TypeError();\n      if (this._guard === 'immutable') throw TypeError();\n      else if (this._guard === 'request' &amp;&amp; isForbiddenHeaderName(name)) return;\n      else if (this._guard === 'request-no-CORS' &amp;&amp; !isSimpleHeader(name, 'invalid')) return;\n      else if (this._guard === 'response' &amp;&amp; isForbiddenResponseHeaderName(name)) return;\n\n      name = name.toLowerCase();\n      var index = 0;\n      while (index &lt; this._headerList.length) {\n        if (this._headerList[index][0] === name)\n          this._headerList.splice(index, 1);\n        else\n          ++index;\n      }\n    },\n\n    // ByteString? get(ByteString name);\n    get: function get(name) {\n      name = ByteString(name);\n      if (!isName(name)) throw TypeError();\n      name = name.toLowerCase();\n      for (var index = 0; index &lt; this._headerList.length; ++index) {\n        if (this._headerList[index][0] === name)\n          return this._headerList[index][1];\n      }\n      return null;\n    },\n\n    // sequence&lt;ByteString&gt; getAll(ByteString name);\n    getAll: function getAll(name) {\n      name = ByteString(name);\n      if (!isName(name)) throw TypeError();\n      name = name.toLowerCase();\n      var sequence = [];\n      for (var index = 0; index &lt; this._headerList.length; ++index) {\n        if (this._headerList[index][0] === name)\n          sequence.push(this._headerList[index][1]);\n      }\n      return sequence;\n    },\n\n    // boolean has(ByteString name);\n    has: function has(name) {\n      name = ByteString(name);\n      if (!isName(name)) throw TypeError();\n      name = name.toLowerCase();\n      for (var index = 0; index &lt; this._headerList.length; ++index) {\n        if (this._headerList[index][0] === name)\n          return true;\n      }\n      return false;\n    },\n\n    // void set(ByteString name, ByteString value);\n    set: function set(name, value) {\n      name = ByteString(name);\n      if (!isName(name) || !isValue(value)) throw TypeError();\n      if (this._guard === 'immutable') throw TypeError();\n      else if (this._guard === 'request' &amp;&amp; isForbiddenHeaderName(name)) return;\n      else if (this._guard === 'request-no-CORS' &amp;&amp; !isSimpleHeader(name, value)) return;\n      else if (this._guard === 'response' &amp;&amp; isForbiddenResponseHeaderName(name)) return;\n\n      name = name.toLowerCase();\n      for (var index = 0; index &lt; this._headerList.length; ++index) {\n        if (this._headerList[index][0] === name) {\n          this._headerList[index++][1] = value;\n          while (index &lt; this._headerList.length) {\n            if (this._headerList[index][0] === name)\n              this._headerList.splice(index, 1);\n            else\n              ++index;\n          }\n          return;\n        }\n      }\n      this._headerList.push([name, value]);\n    }\n  };\n  Headers.prototype[Symbol.iterator] = function() {\n    return new HeadersIterator(this);\n  };\n\n  function HeadersIterator(headers) {\n    this._headers = headers;\n    this._index = 0;\n  }\n  HeadersIterator.prototype = {};\n  HeadersIterator.prototype.next = function() {\n    if (this._index &gt;= this._headers._headerList.length)\n      return { value: undefined, done: true };\n    return { value: this._headers._headerList[this._index++], done: false };\n  };\n  HeadersIterator.prototype[Symbol.iterator] = function() { return this; };\n\n\n  //\n  // 5.2 Body mixin\n  //\n\n  function Body(_stream) {\n    // TODO: Handle initialization from other types\n    this._stream = _stream;\n    this.bodyUsed = false;\n  }\n\n  // interface FetchBodyStream\n  Body.prototype = {\n    // Promise&lt;ArrayBuffer&gt; arrayBuffer();\n    arrayBuffer: function() {\n      if (this.bodyUsed) return Promise.reject(TypeError());\n      this.bodyUsed = true;\n      if (this._stream instanceof ArrayBuffer) return Promise.resolve(this._stream);\n      var value = this._stream;\n      return new Promise(function(resolve, reject) {\n        var octets = unescape(encodeURIComponent(value)).split('').map(function(c) {\n          return c.charCodeAt(0);\n        });\n        resolve(new Uint8Array(octets).buffer);\n      });\n    },\n    // Promise&lt;Blob&gt; blob();\n    blob: function() {\n      if (this.bodyUsed) return Promise.reject(TypeError());\n      this.bodyUsed = true;\n      if (this._stream instanceof Blob) return Promise.resolve(this._stream);\n      return Promise.resolve(new Blob([this._stream]));\n    },\n    // Promise&lt;FormData&gt; formData();\n    formData: function() {\n      if (this.bodyUsed) return Promise.reject(TypeError());\n      this.bodyUsed = true;\n      if (this._stream instanceof FormData) return Promise.resolve(this._stream);\n      return Promise.reject(Error('Not yet implemented'));\n    },\n    // Promise&lt;JSON&gt; json();\n    json: function() {\n      if (this.bodyUsed) return Promise.reject(TypeError());\n      this.bodyUsed = true;\n      var that = this;\n      return new Promise(function(resolve, reject) {\n        resolve(JSON.parse(that._stream));\n      });\n    },\n    // Promise&lt;USVString&gt; text();\n    text: function() {\n      if (this.bodyUsed) return Promise.reject(TypeError());\n      this.bodyUsed = true;\n      return Promise.resolve(String(this._stream));\n    }\n  };\n\n  //\n  // 5.3 Request class\n  //\n\n  // typedef (Request or USVString) RequestInfo;\n\n  // Constructor(RequestInfo input, optional RequestInit init)\n  function Request(input, init) {\n    if (arguments.length &lt; 1) throw TypeError('Not enough arguments');\n\n    Body.call(this, null);\n\n    // readonly attribute ByteString method;\n    this.method = 'GET';\n\n    // readonly attribute USVString url;\n    this.url = '';\n\n    // readonly attribute Headers headers;\n    this.headers = new Headers();\n    this.headers._guard = 'request';\n\n    // readonly attribute DOMString referrer;\n    this.referrer = null; // TODO: Implement.\n\n    // readonly attribute RequestMode mode;\n    this.mode = null; // TODO: Implement.\n\n    // readonly attribute RequestCredentials credentials;\n    this.credentials = 'omit';\n\n    if (input instanceof Request) {\n      if (input.bodyUsed) throw TypeError();\n      input.bodyUsed = true;\n      this.method = input.method;\n      this.url = input.url;\n      this.headers = new Headers(input.headers);\n      this.headers._guard = input.headers._guard;\n      this.credentials = input.credentials;\n      this._stream = input._stream;\n    } else {\n      input = USVString(input);\n      this.url = String(new URL(input, self.location));\n    }\n\n    init = Object(init);\n\n    if ('method' in init) {\n      var method = ByteString(init.method);\n      if (isForbiddenMethod(method)) throw TypeError();\n      this.method = normalizeMethod(method);\n    }\n\n    if ('headers' in init) {\n      this.headers = new Headers();\n      fill(this.headers, init.headers);\n    }\n\n    if ('body' in init)\n      this._stream = init.body;\n\n    if ('credentials' in init &amp;&amp;\n        (['omit', 'same-origin', 'include'].indexOf(init.credentials) !== -1))\n      this.credentials = init.credentials;\n  }\n\n  // interface Request\n  Request.prototype = Body.prototype;\n\n  //\n  // 5.4 Response class\n  //\n\n  // Constructor(optional FetchBodyInit body, optional ResponseInit init)\n  function Response(body, init) {\n    if (arguments.length &lt; 1)\n      body = '';\n\n    this.headers = new Headers();\n    this.headers._guard = 'response';\n\n    // Internal\n    if (body instanceof XMLHttpRequest &amp;&amp; '_url' in body) {\n      var xhr = body;\n      this.type = 'basic'; // TODO: ResponseType\n      this.url = USVString(xhr._url);\n      this.status = xhr.status;\n      this.ok = 200 &lt;= this.status &amp;&amp; this.status &lt;= 299;\n      this.statusText = xhr.statusText;\n      xhr.getAllResponseHeaders()\n        .split(/\\r?\\n/)\n        .filter(function(header) { return header.length; })\n        .forEach(function(header) {\n          var i = header.indexOf(':');\n          this.headers.append(header.substring(0, i), header.substring(i + 2));\n        }, this);\n      Body.call(this, xhr.responseText);\n      return;\n    }\n\n    Body.call(this, body);\n\n    init = Object(init) || {};\n\n    // readonly attribute USVString url;\n    this.url = '';\n\n    // readonly attribute unsigned short status;\n    var status = 'status' in init ? ushort(init.status) : 200;\n    if (status &lt; 200 || status &gt; 599) throw RangeError();\n    this.status = status;\n\n    // readonly attribute boolean ok;\n    this.ok = 200 &lt;= this.status &amp;&amp; this.status &lt;= 299;\n\n    // readonly attribute ByteString statusText;\n    var statusText = 'statusText' in init ? String(init.statusText) : 'OK';\n    if (/[^\\x00-\\xFF]/.test(statusText)) throw TypeError();\n    this.statusText = statusText;\n\n    // readonly attribute Headers headers;\n    if ('headers' in init) fill(this.headers, init);\n\n    // TODO: Implement these\n    // readonly attribute ResponseType type;\n    this.type = 'basic'; // TODO: ResponseType\n  }\n\n  // interface Response\n  Response.prototype = Body.prototype;\n\n  Response.redirect = function() {\n    // TODO: Implement?\n    throw Error('Not supported');\n  };\n\n  //\n  // 5.5 Structured cloning of Headers, FetchBodyStream, Request, Response\n  //\n\n  //\n  // 5.6 Fetch method\n  //\n\n  // Promise&lt;Response&gt; fetch(RequestInfo input, optional RequestInit init);\n  function fetch(input, init) {\n    return new Promise(function(resolve, reject) {\n      var r = new Request(input, init);\n\n      var xhr = new XMLHttpRequest(), async = true;\n      xhr._url = r.url;\n\n      try { xhr.open(r.method, r.url, async); } catch (e) { throw TypeError(e.message); }\n\n      for (var iter = r.headers[Symbol.iterator](), step = iter.next();\n           !step.done; step = iter.next())\n        xhr.setRequestHeader(step.value[0], step.value[1]);\n\n      if (r.credentials === 'include')\n        xhr.withCredentials = true;\n\n      xhr.onreadystatechange = function() {\n        if (xhr.readyState !== XMLHttpRequest.DONE) return;\n        if (xhr.status === 0)\n          reject(new TypeError('Network error'));\n        else\n          resolve(new Response(xhr));\n      };\n\n      xhr.send(r._stream);\n    });\n  }\n\n  // Exported\n  if (!('fetch' in global)) {\n    global.Headers = Headers;\n    global.Request = Request;\n    global.Response = Response;\n    global.fetch = fetch;\n  }\n\n}(self));</pre></div>",
  "body": "```javascript\n// Composited file - DO NOT EDIT\n//----------------------------------------------------------------------\n//\n// ECMAScript 5 Polyfills\n//\n//----------------------------------------------------------------------\n\n//----------------------------------------------------------------------\n// ES5 15.2 Object Objects\n//----------------------------------------------------------------------\n\n//\n// ES5 15.2.3 Properties of the Object Constructor\n//\n\n// ES5 15.2.3.2 Object.getPrototypeOf ( O )\n// From http://ejohn.org/blog/objectgetprototypeof/\n// NOTE: won't work for typical function T() {}; T.prototype = {}; new T; case\n// since the constructor property is destroyed.\nif (!Object.getPrototypeOf) {\n  Object.getPrototypeOf = function (o) {\n    if (o !== Object(o)) { throw TypeError(\"Object.getPrototypeOf called on non-object\"); }\n    return o.__proto__ || o.constructor.prototype || Object.prototype;\n  };\n}\n\n//    // ES5 15.2.3.3 Object.getOwnPropertyDescriptor ( O, P )\n//    if (typeof Object.getOwnPropertyDescriptor !== \"function\") {\n//        Object.getOwnPropertyDescriptor = function (o, name) {\n//            if (o !== Object(o)) { throw TypeError(); }\n//            if (o.hasOwnProperty(name)) {\n//                return {\n//                    value: o[name],\n//                    enumerable: true,\n//                    writable: true,\n//                    configurable: true\n//                };\n//            }\n//        };\n//    }\n\n// ES5 15.2.3.4 Object.getOwnPropertyNames ( O )\nif (typeof Object.getOwnPropertyNames !== \"function\") {\n  Object.getOwnPropertyNames = function (o) {\n    if (o !== Object(o)) { throw TypeError(\"Object.getOwnPropertyNames called on non-object\"); }\n    var props = [], p;\n    for (p in o) {\n      if (Object.prototype.hasOwnProperty.call(o, p)) {\n        props.push(p);\n      }\n    }\n    return props;\n  };\n}\n\n// ES5 15.2.3.5 Object.create ( O [, Properties] )\nif (typeof Object.create !== \"function\") {\n  Object.create = function (prototype, properties) {\n    if (typeof prototype !== \"object\") { throw TypeError(); }\n    function Ctor() {}\n    Ctor.prototype = prototype;\n    var o = new Ctor();\n    if (prototype) { o.constructor = Ctor; }\n    if (properties !== undefined) {\n      if (properties !== Object(properties)) { throw TypeError(); }\n      Object.defineProperties(o, properties);\n    }\n    return o;\n  };\n}\n\n// ES 15.2.3.6 Object.defineProperty ( O, P, Attributes )\n// Partial support for most common case - getters, setters, and values\n(function() {\n  if (!Object.defineProperty ||\n      !(function () { try { Object.defineProperty({}, 'x', {}); return true; } catch (e) { return false; } } ())) {\n    var orig = Object.defineProperty;\n    Object.defineProperty = function (o, prop, desc) {\n      // In IE8 try built-in implementation for defining properties on DOM prototypes.\n      if (orig) { try { return orig(o, prop, desc); } catch (e) {} }\n\n      if (o !== Object(o)) { throw TypeError(\"Object.defineProperty called on non-object\"); }\n      if (Object.prototype.__defineGetter__ && ('get' in desc)) {\n        Object.prototype.__defineGetter__.call(o, prop, desc.get);\n      }\n      if (Object.prototype.__defineSetter__ && ('set' in desc)) {\n        Object.prototype.__defineSetter__.call(o, prop, desc.set);\n      }\n      if ('value' in desc) {\n        o[prop] = desc.value;\n      }\n      return o;\n    };\n  }\n}());\n\n// ES 15.2.3.7 Object.defineProperties ( O, Properties )\nif (typeof Object.defineProperties !== \"function\") {\n  Object.defineProperties = function (o, properties) {\n    if (o !== Object(o)) { throw TypeError(\"Object.defineProperties called on non-object\"); }\n    var name;\n    for (name in properties) {\n      if (Object.prototype.hasOwnProperty.call(properties, name)) {\n        Object.defineProperty(o, name, properties[name]);\n      }\n    }\n    return o;\n  };\n}\n\n\n// ES5 15.2.3.14 Object.keys ( O )\n// https://developer.mozilla.org/en/JavaScript/Reference/Global_Objects/Object/keys\nif (!Object.keys) {\n  Object.keys = function (o) {\n    if (o !== Object(o)) { throw TypeError('Object.keys called on non-object'); }\n    var ret = [], p;\n    for (p in o) {\n      if (Object.prototype.hasOwnProperty.call(o, p)) {\n        ret.push(p);\n      }\n    }\n    return ret;\n  };\n}\n\n//----------------------------------------------------------------------\n// ES5 15.3 Function Objects\n//----------------------------------------------------------------------\n\n//\n// ES5 15.3.4 Properties of the Function Prototype Object\n//\n\n// ES5 15.3.4.5 Function.prototype.bind ( thisArg [, arg1 [, arg2, ... ]] )\n// https://developer.mozilla.org/en/JavaScript/Reference/Global_Objects/Function/bind\nif (!Function.prototype.bind) {\n  Function.prototype.bind = function (o) {\n    if (typeof this !== 'function') { throw TypeError(\"Bind must be called on a function\"); }\n\n    var args = Array.prototype.slice.call(arguments, 1),\n        self = this,\n        nop = function() {},\n        bound = function () {\n          return self.apply(this instanceof nop ? this : o,\n                            args.concat(Array.prototype.slice.call(arguments)));\n        };\n\n    if (this.prototype)\n      nop.prototype = this.prototype;\n    bound.prototype = new nop();\n    return bound;\n  };\n}\n\n\n//----------------------------------------------------------------------\n// ES5 15.4 Array Objects\n//----------------------------------------------------------------------\n\n//\n// ES5 15.4.3 Properties of the Array Constructor\n//\n\n\n// ES5 15.4.3.2 Array.isArray ( arg )\n// https://developer.mozilla.org/en/JavaScript/Reference/Global_Objects/Array/isArray\nArray.isArray = Array.isArray || function (o) { return Boolean(o && Object.prototype.toString.call(Object(o)) === '[object Array]'); };\n\n\n//\n// ES5 15.4.4 Properties of the Array Prototype Object\n//\n\n// ES5 15.4.4.14 Array.prototype.indexOf ( searchElement [ , fromIndex ] )\n// From https://developer.mozilla.org/en/JavaScript/Reference/Global_Objects/Array/indexOf\nif (!Array.prototype.indexOf) {\n  Array.prototype.indexOf = function (searchElement /*, fromIndex */) {\n    if (this === void 0 || this === null) { throw TypeError(); }\n\n    var t = Object(this);\n    var len = t.length >>> 0;\n    if (len === 0) { return -1; }\n\n    var n = 0;\n    if (arguments.length > 0) {\n      n = Number(arguments[1]);\n      if (isNaN(n)) {\n        n = 0;\n      } else if (n !== 0 && n !== (1 / 0) && n !== -(1 / 0)) {\n        n = (n > 0 || -1) * Math.floor(Math.abs(n));\n      }\n    }\n\n    if (n >= len) { return -1; }\n\n    var k = n >= 0 ? n : Math.max(len - Math.abs(n), 0);\n\n    for (; k < len; k++) {\n      if (k in t && t[k] === searchElement) {\n        return k;\n      }\n    }\n    return -1;\n  };\n}\n\n// ES5 15.4.4.15 Array.prototype.lastIndexOf ( searchElement [ , fromIndex ] )\n// From https://developer.mozilla.org/en/JavaScript/Reference/Global_Objects/Array/lastIndexOf\nif (!Array.prototype.lastIndexOf) {\n  Array.prototype.lastIndexOf = function (searchElement /*, fromIndex*/) {\n    if (this === void 0 || this === null) { throw TypeError(); }\n\n    var t = Object(this);\n    var len = t.length >>> 0;\n    if (len === 0) { return -1; }\n\n    var n = len;\n    if (arguments.length > 1) {\n      n = Number(arguments[1]);\n      if (n !== n) {\n        n = 0;\n      } else if (n !== 0 && n !== (1 / 0) && n !== -(1 / 0)) {\n        n = (n > 0 || -1) * Math.floor(Math.abs(n));\n      }\n    }\n\n    var k = n >= 0 ? Math.min(n, len - 1) : len - Math.abs(n);\n\n    for (; k >= 0; k--) {\n      if (k in t && t[k] === searchElement) {\n        return k;\n      }\n    }\n    return -1;\n  };\n}\n\n// ES5 15.4.4.16 Array.prototype.every ( callbackfn [ , thisArg ] )\n// From https://developer.mozilla.org/en/JavaScript/Reference/Global_Objects/Array/every\nif (!Array.prototype.every) {\n  Array.prototype.every = function (fun /*, thisp */) {\n    if (this === void 0 || this === null) { throw TypeError(); }\n\n    var t = Object(this);\n    var len = t.length >>> 0;\n    if (typeof fun !== \"function\") { throw TypeError(); }\n\n    var thisp = arguments[1], i;\n    for (i = 0; i < len; i++) {\n      if (i in t && !fun.call(thisp, t[i], i, t)) {\n        return false;\n      }\n    }\n\n    return true;\n  };\n}\n\n// ES5 15.4.4.17 Array.prototype.some ( callbackfn [ , thisArg ] )\n// From https://developer.mozilla.org/en/JavaScript/Reference/Global_Objects/Array/some\nif (!Array.prototype.some) {\n  Array.prototype.some = function (fun /*, thisp */) {\n    if (this === void 0 || this === null) { throw TypeError(); }\n\n    var t = Object(this);\n    var len = t.length >>> 0;\n    if (typeof fun !== \"function\") { throw TypeError(); }\n\n    var thisp = arguments[1], i;\n    for (i = 0; i < len; i++) {\n      if (i in t && fun.call(thisp, t[i], i, t)) {\n        return true;\n      }\n    }\n\n    return false;\n  };\n}\n\n// ES5 15.4.4.18 Array.prototype.forEach ( callbackfn [ , thisArg ] )\n// From https://developer.mozilla.org/en/JavaScript/Reference/Global_Objects/Array/forEach\nif (!Array.prototype.forEach) {\n  Array.prototype.forEach = function (fun /*, thisp */) {\n    if (this === void 0 || this === null) { throw TypeError(); }\n\n    var t = Object(this);\n    var len = t.length >>> 0;\n    if (typeof fun !== \"function\") { throw TypeError(); }\n\n    var thisp = arguments[1], i;\n    for (i = 0; i < len; i++) {\n      if (i in t) {\n        fun.call(thisp, t[i], i, t);\n      }\n    }\n  };\n}\n\n\n// ES5 15.4.4.19 Array.prototype.map ( callbackfn [ , thisArg ] )\n// From https://developer.mozilla.org/en/JavaScript/Reference/Global_Objects/Array/Map\nif (!Array.prototype.map) {\n  Array.prototype.map = function (fun /*, thisp */) {\n    if (this === void 0 || this === null) { throw TypeError(); }\n\n    var t = Object(this);\n    var len = t.length >>> 0;\n    if (typeof fun !== \"function\") { throw TypeError(); }\n\n    var res = []; res.length = len;\n    var thisp = arguments[1], i;\n    for (i = 0; i < len; i++) {\n      if (i in t) {\n        res[i] = fun.call(thisp, t[i], i, t);\n      }\n    }\n\n    return res;\n  };\n}\n\n// ES5 15.4.4.20 Array.prototype.filter ( callbackfn [ , thisArg ] )\n// From https://developer.mozilla.org/en/JavaScript/Reference/Global_Objects/Array/Filter\nif (!Array.prototype.filter) {\n  Array.prototype.filter = function (fun /*, thisp */) {\n    if (this === void 0 || this === null) { throw TypeError(); }\n\n    var t = Object(this);\n    var len = t.length >>> 0;\n    if (typeof fun !== \"function\") { throw TypeError(); }\n\n    var res = [];\n    var thisp = arguments[1], i;\n    for (i = 0; i < len; i++) {\n      if (i in t) {\n        var val = t[i]; // in case fun mutates this\n        if (fun.call(thisp, val, i, t)) {\n          res.push(val);\n        }\n      }\n    }\n\n    return res;\n  };\n}\n\n\n// ES5 15.4.4.21 Array.prototype.reduce ( callbackfn [ , initialValue ] )\n// From https://developer.mozilla.org/en/JavaScript/Reference/Global_Objects/Array/Reduce\nif (!Array.prototype.reduce) {\n  Array.prototype.reduce = function (fun /*, initialValue */) {\n    if (this === void 0 || this === null) { throw TypeError(); }\n\n    var t = Object(this);\n    var len = t.length >>> 0;\n    if (typeof fun !== \"function\") { throw TypeError(); }\n\n    // no value to return if no initial value and an empty array\n    if (len === 0 && arguments.length === 1) { throw TypeError(); }\n\n    var k = 0;\n    var accumulator;\n    if (arguments.length >= 2) {\n      accumulator = arguments[1];\n    } else {\n      do {\n        if (k in t) {\n          accumulator = t[k++];\n          break;\n        }\n\n        // if array contains no values, no initial value to return\n        if (++k >= len) { throw TypeError(); }\n      }\n      while (true);\n    }\n\n    while (k < len) {\n      if (k in t) {\n        accumulator = fun.call(undefined, accumulator, t[k], k, t);\n      }\n      k++;\n    }\n\n    return accumulator;\n  };\n}\n\n\n// ES5 15.4.4.22 Array.prototype.reduceRight ( callbackfn [, initialValue ] )\n// From https://developer.mozilla.org/en/JavaScript/Reference/Global_Objects/Array/ReduceRight\nif (!Array.prototype.reduceRight) {\n  Array.prototype.reduceRight = function (callbackfn /*, initialValue */) {\n    if (this === void 0 || this === null) { throw TypeError(); }\n\n    var t = Object(this);\n    var len = t.length >>> 0;\n    if (typeof callbackfn !== \"function\") { throw TypeError(); }\n\n    // no value to return if no initial value, empty array\n    if (len === 0 && arguments.length === 1) { throw TypeError(); }\n\n    var k = len - 1;\n    var accumulator;\n    if (arguments.length >= 2) {\n      accumulator = arguments[1];\n    } else {\n      do {\n        if (k in this) {\n          accumulator = this[k--];\n          break;\n        }\n\n        // if array contains no values, no initial value to return\n        if (--k < 0) { throw TypeError(); }\n      }\n      while (true);\n    }\n\n    while (k >= 0) {\n      if (k in t) {\n        accumulator = callbackfn.call(undefined, accumulator, t[k], k, t);\n      }\n      k--;\n    }\n\n    return accumulator;\n  };\n}\n\n\n//----------------------------------------------------------------------\n// ES5 15.5 String Objects\n//----------------------------------------------------------------------\n\n//\n// ES5 15.5.4 Properties of the String Prototype Object\n//\n\n\n// ES5 15.5.4.20 String.prototype.trim()\nif (!String.prototype.trim) {\n  String.prototype.trim = function () {\n    return String(this).replace(/^\\s+/, '').replace(/\\s+$/, '');\n  };\n}\n\n\n\n//----------------------------------------------------------------------\n// ES5 15.9 Date Objects\n//----------------------------------------------------------------------\n\n\n//\n// ES 15.9.4 Properties of the Date Constructor\n//\n\n// ES5 15.9.4.4 Date.now ( )\n// From https://developer.mozilla.org/en/Core_JavaScript_1.5_Reference/Global_Objects/Date/now\nif (!Date.now) {\n  Date.now = function now() {\n    return Number(new Date());\n  };\n}\n\n\n//\n// ES5 15.9.5 Properties of the Date Prototype Object\n//\n\n// ES5 15.9.4.43 Date.prototype.toISOString ( )\n// Inspired by http://www.json.org/json2.js\nif (!Date.prototype.toISOString) {\n  Date.prototype.toISOString = function () {\n    function pad2(n) { return ('00' + n).slice(-2); }\n    function pad3(n) { return ('000' + n).slice(-3); }\n\n    return this.getUTCFullYear() + '-' +\n      pad2(this.getUTCMonth() + 1) + '-' +\n      pad2(this.getUTCDate()) + 'T' +\n      pad2(this.getUTCHours()) + ':' +\n      pad2(this.getUTCMinutes()) + ':' +\n      pad2(this.getUTCSeconds()) + '.' +\n      pad3(this.getUTCMilliseconds()) + 'Z';\n  };\n}\n//----------------------------------------------------------------------\n//\n// ECMAScript 2015 Polyfills\n//\n//----------------------------------------------------------------------\n\n(function (global) {\n  \"use strict\";\n\n  // Set this to always override native implementations, for testing\n  // the polyfill in browsers with partial/full ES2015 support.\n  var OVERRIDE_NATIVE_FOR_TESTING = false;\n\n  var undefined = (void 0); // Paranoia\n\n  // Helpers\n\n  function strict(o) {\n    return o === global ? undefined : o;\n  }\n\n  function isSymbol(s) {\n    return (typeof s === 'symbol') || ('Symbol' in global && s instanceof global.Symbol);\n  }\n\n  function getPropertyDescriptor(target, name) {\n    var desc = Object.getOwnPropertyDescriptor(target, name);\n    var proto = Object.getPrototypeOf(target);\n    while (!desc && proto) {\n      desc = Object.getOwnPropertyDescriptor(proto, name);\n      proto = Object.getPrototypeOf(proto);\n    }\n    return desc;\n  }\n\n  var enqueue = (function(nativePromise, nativeSetImmediate) {\n    if (nativePromise)\n      return function(job) { nativePromise.resolve().then(function() { job(); }); };\n    if (nativeSetImmediate)\n      return function(job) { nativeSetImmediate(job); };\n    return function(job) { setTimeout(job, 0); };\n  }(global['Promise'], global['setImmediate']));\n\n  function define(o, p, v, override) {\n    if (p in o && !override && !OVERRIDE_NATIVE_FOR_TESTING)\n      return;\n\n    if (typeof v === 'function') {\n      // Sanity check that functions are appropriately named (where possible)\n      console.assert(isSymbol(p) || !('name' in v) || v.name === p || v.name === p + '_', 'Expected function name \"' + p.toString() + '\", was \"' + v.name + '\"');\n      Object.defineProperty(o, p, {\n        value: v,\n        configurable: true,\n        enumerable: false,\n        writable: true\n      });\n    } else {\n      Object.defineProperty(o, p, {\n        value: v,\n        configurable: false,\n        enumerable: false,\n        writable: false\n      });\n    }\n  }\n\n  function set_internal(o, p, v) {\n    Object.defineProperty(o, p, {\n      value: v,\n      configurable: false,\n      enumerable: false,\n      writable: true\n    });\n  }\n\n  // Snapshot intrinsic functions\n  var $isNaN = global.isNaN,\n      $parseInt = global.parseInt,\n      $parseFloat = global.parseFloat;\n\n  var E = Math.E,\n      LOG10E = Math.LOG10E,\n      LOG2E = Math.LOG2E,\n      abs = Math.abs,\n      ceil = Math.ceil,\n      exp = Math.exp,\n      floor = Math.floor,\n      log = Math.log,\n      max = Math.max,\n      min = Math.min,\n      pow = Math.pow,\n      random = Math.random,\n      sqrt = Math.sqrt;\n\n  var orig_match = String.prototype.match,\n      orig_replace = String.prototype.replace,\n      orig_search = String.prototype.search,\n      orig_split = String.prototype.split;\n\n  // These are used for implementing the polyfills, but not exported.\n\n  // Inspired by https://gist.github.com/1638059\n  /** @constructor */\n  function EphemeronTable() {\n    var secretKey = ObjectCreate(null);\n\n    function conceal(o) {\n      var oValueOf = o.valueOf, secrets = ObjectCreate(null);\n      Object.defineProperty(o, 'valueOf', {\n          value: (function(secretKey) {\n            return function (k) {\n              return (k === secretKey) ? secrets : oValueOf.apply(o, arguments);\n            };\n          }(secretKey)),\n        configurable: true,\n        writeable: true,\n        enumerable: false\n        });\n      return secrets;\n    }\n\n    function reveal(o) {\n      var v = typeof o.valueOf === 'function' && o.valueOf(secretKey);\n      return v === o ? null : v;\n    }\n\n    return {\n      clear: function() {\n        secretKey = ObjectCreate(null);\n      },\n      remove: function(key) {\n        var secrets = reveal(key);\n        if (secrets && HasOwnProperty(secrets, 'value')) {\n          delete secrets.value;\n          return true;\n        }\n        return false;\n      },\n      get: function(key, defaultValue) {\n        var secrets = reveal(key);\n        return (secrets && HasOwnProperty(secrets, 'value')) ? secrets.value : defaultValue;\n      },\n      has: function(key) {\n        var secrets = reveal(key);\n        return Boolean(secrets && HasOwnProperty(secrets, 'value'));\n      },\n      set: function(key, value) {\n        var secrets = reveal(key) || conceal(key);\n        secrets.value = value;\n      }\n    };\n  }\n\n  var empty = Object.create(null);\n\n  //----------------------------------------------------------------------\n  //\n  // ECMAScript 2015\n  // http://www.ecma-international.org/ecma-262/6.0/\n  //\n  //----------------------------------------------------------------------\n\n  // ---------------------------------------\n  // 19.4 Symbol Objects\n  // ---------------------------------------\n\n  // NOTE: Symbols are defined here - out of spec order - since we need the\n  // properties and prototype to be populated for other polyfills.\n\n  // NOTE: Not secure, nor is obj[$$symbol] hidden from Object.keys()\n\n  var symbolForKey;\n  (function() {\n    var secret = Object.create(null);\n    var symbolMap = {};\n    symbolForKey = function(k) {\n      return symbolMap[k];\n    };\n\n    var GlobalSymbolRegistry = [];\n\n    function unique(bits) {\n      return Array(bits + 1).join('x').replace(/x/g, function() {\n        return random() < 0.5 ? '\\u200C' : '\\u200D'; // JWNJ / ZWJ\n      });\n    }\n\n    // 19.4.1 The Symbol Constructor\n    // 19.4.1.1 Symbol ( description=undefined )\n    function Symbol(description) {\n      if (!(this instanceof Symbol)) return new Symbol(description, secret);\n      if (this instanceof Symbol && arguments[1] !== secret) throw TypeError();\n\n      var descString = description === undefined ? undefined : String(description);\n\n      set_internal(this, '[[SymbolData]]', unique(128));\n      set_internal(this, '[[Description]]', descString);\n\n      symbolMap[this] = this;\n      return this;\n    }\n\n    if (!('Symbol' in global) || OVERRIDE_NATIVE_FOR_TESTING)\n      global.Symbol = Symbol;\n\n    // 19.4.2 Properties of the Symbol Constructor\n\n    // 19.4.2.1 Symbol.for (key)\n    define(Symbol, 'for', function for_(key) {\n      var stringKey = String(key);\n      for (var i = 0; i < GlobalSymbolRegistry.length; ++i) {\n        var e = GlobalSymbolRegistry[i];\n        if (SameValue(e['[[key]]'], stringKey)) return e['[[symbol]]'];\n      }\n      var newSymbol = Symbol(key);\n      GlobalSymbolRegistry.push({'[[key]]': stringKey, '[[symbol]]': newSymbol});\n      return newSymbol;\n    });\n\n    // 19.4.2.2 Symbol.hasInstance\n    // 19.4.2.3 Symbol.isConcatSpreadable\n\n    // 19.4.2.4 Symbol.iterator\n    define(global.Symbol, 'iterator', global.Symbol('Symbol.iterator'));\n\n    // 19.4.2.5 Symbol.keyFor (sym)\n    define(Symbol, 'keyFor', function keyFor(sym) {\n      if (!(sym instanceof Symbol)) throw TypeError();\n      for (var i = 0; i < GlobalSymbolRegistry.length; ++i) {\n        var e = GlobalSymbolRegistry[i];\n        if (SameValue(e['[[symbol]]'], sym)) return e['[[key]]'];\n      }\n      return undefined;\n    });\n\n    // 19.4.2.6 Symbol.match\n    define(global.Symbol, 'match', global.Symbol('Symbol.match'));\n\n    // 19.4.2.7 Symbol.prototype\n\n    // 19.4.2.8 Symbol.replace\n    define(global.Symbol, 'replace', global.Symbol('Symbol.replace'));\n\n    // 19.4.2.9 Symbol.search\n    define(global.Symbol, 'search', global.Symbol('Symbol.search'));\n\n    // 19.4.2.10 Symbol.species\n\n    // 19.4.2.11 Symbol.search\n    define(global.Symbol, 'split', global.Symbol('Symbol.split'));\n\n    // 19.4.2.12 Symbol.toPrimitive\n\n    // 19.4.2.13 Symbol.toStringTag\n    define(global.Symbol, 'toStringTag', global.Symbol('Symbol.toStringTag'));\n\n    // 19.4.2.14 Symbol.unscopables\n\n    // 19.4.3 Properties of the Symbol Prototype Object\n    // 19.4.3.1 Symbol.prototype.constructor\n\n    // 19.4.3.2 Symbol.prototype.toString ( )\n    Object.defineProperty(Symbol.prototype, 'toString', {\n      value: function toString() {\n        var s = strict(this);\n        var desc = s['[[Description]]'];\n        return 'Symbol(' + (desc === undefined ? '' : desc) + s['[[SymbolData]]'] + ')';\n      },\n      configurable: true, writeable: true, enumerable: false });\n\n    // 19.4.3.3 Symbol.prototype.valueOf ( )\n    Object.defineProperty(Symbol.prototype, 'valueOf', {\n      value: function valueOf() {\n        // To prevent automatic string conversion:\n        throw TypeError();\n\n        // Spec has approximately the following:\n        //var s = strict(this);\n        //if (Type(s) === 'symbol') return s;\n        //if (Type(s) !== 'object') throw TypeError();\n        //if (!('[[SymbolData]]' in s)) throw TypeError();\n        //return s['[[SymbolData]]'];\n      },\n      configurable: true, writeable: true, enumerable: false });\n\n    // 19.4.3.4 Symbol.prototype [ @@toStringTag ]\n    // (Done later to polyfill partial implementations)\n\n    // 19.4.4 Properties of Symbol Instances\n  }());\n\n  console.assert(typeof global.Symbol() === 'symbol' || symbolForKey(String(global.Symbol('x'))) !== undefined);\n\n  // Defined here so that other prototypes can reference it\n  // 25.1.2 The %IteratorPrototype% Object\n  var $IteratorPrototype$ = {};\n\n  //----------------------------------------\n  // 6 ECMAScript Data Types and Values\n  //----------------------------------------\n\n  // 6.1 ECMAScript Language Types\n\n  // \"Type(x)\" is used as shorthand for \"the type of x\"...\n  function Type(v) {\n    switch (typeof v) {\n    case 'undefined': return 'undefined';\n    case 'boolean': return 'boolean';\n    case 'number': return 'number';\n    case 'string': return 'string';\n    case 'symbol': return 'symbol';\n    default:\n      if (v === null) return 'null';\n      if (v instanceof global.Symbol) return 'symbol';\n      return 'object';\n    }\n  }\n\n  // 6.1.5.1 Well-Known Symbols\n  var $$iterator = global.Symbol.iterator,\n      $$match = global.Symbol.match,\n      $$replace = global.Symbol.replace,\n      $$search = global.Symbol.search,\n      $$split = global.Symbol.split,\n      $$toStringTag = global.Symbol.toStringTag;\n\n  //----------------------------------------\n  // 7 Abstract Operations\n  //----------------------------------------\n\n  //----------------------------------------\n  // 7.1 Type Conversion\n  //----------------------------------------\n\n  // 7.1.1 ToPrimitive ( input [, PreferredType] )\n  // just use valueOf()\n\n  // 7.1.2 ToBoolean ( argument )\n  // just use Boolean()\n\n  // 7.1.3 ToNumber ( argument )\n  // just use Number()\n\n  // 7.1.4 ToInteger ( argument )\n  function ToInteger(n) {\n    n = Number(n);\n    if ($isNaN(n)) return 0;\n    if (n === 0 || n === Infinity || n === -Infinity) return n;\n    return ((n < 0) ? -1 : 1) * floor(abs(n));\n  }\n\n  // 7.1.5 ToInt32 ( argument )\n  function ToInt32(v) { return v >> 0; }\n\n  // 7.1.6 ToUint32 ( argument )\n  function ToUint32(v) { return v >>> 0; }\n\n  // 7.1.7 ToInt16 ( argument )\n  function ToInt16(v) { return (v << 16) >> 16; }\n\n  // 7.1.8 ToUint16 ( argument )\n  function ToUint16(v) { return v & 0xFFFF; }\n\n  // 7.1.9 ToInt8 ( argument )\n  function ToInt8(v) { return (v << 24) >> 24; }\n\n  // 7.1.10 ToUint8 ( argument )\n  function ToUint8(v) { return v & 0xFF; }\n\n  // 7.1.11 ToUint8Clamp ( argument )\n  function ToUint8Clamp(argument) {\n    var number = Number(argument);\n    if ($isNaN(number)) return 0;\n    if (number <= 0) return 0;\n    if (number >= 255) return 255;\n    var f = floor(number);\n    if ((f + 0.5) < number) return f + 1;\n    if (number < (f + 0.5)) return f;\n    if (f % 2) return f + 1;\n    return f;\n  }\n\n  // 7.1.12 ToString ( argument )\n  // just use String()\n\n  // 7.1.13 ToObject ( argument )\n  function ToObject(v) {\n    if (v === null || v === undefined) throw TypeError();\n    return Object(v);\n  }\n\n  // 7.1.14 ToPropertyKey ( argument )\n  function ToPropertyKey(v) {\n    return String(v);\n  }\n\n  // 7.1.15 ToLength ( argument )\n  function ToLength(v) {\n    var len = ToInteger(v);\n    if (len <= 0) return 0;\n    if (len === Infinity) return 0x20000000000000 - 1; // 2^53-1\n    return min(len, 0x20000000000000 - 1); // 2^53-1\n  }\n\n  // 7.1.16 CanonicalNumericIndexString ( argument )\n\n  //----------------------------------------\n  // 7.2 Testing and Comparison Operations\n  //----------------------------------------\n\n  // 7.2.1 RequireObjectCoercible ( argument )\n  // 7.2.2 IsArray ( argument )\n\n  // 7.2.3 IsCallable ( argument )\n  function IsCallable(o) { return typeof o === 'function'; }\n\n  // 7.2.4 IsConstructor ( argument )\n  function IsConstructor(o) {\n    // Hacks for Safari 7 TypedArray XXXConstructor objects\n    if (/Constructor/.test(Object.prototype.toString.call(o))) return true;\n    if (/Function/.test(Object.prototype.toString.call(o))) return true;\n    // TODO: Can this be improved on?\n    return typeof o === 'function';\n  }\n\n  // 7.2.5 IsExtensible (O)\n  // 7.2.6 IsInteger ( argument )\n\n  // 7.2.7 IsPropertyKey ( argument )\n  function IsPropertyKey(argument) {\n    if (Type(argument) === 'string') return true;\n    if (Type(argument) === 'symbol') return true;\n    return false;\n  }\n\n  // 7.2.8 IsRegExp ( argument )\n\n  // 7.2.9 SameValue(x, y)\n  function SameValue(x, y) {\n    if (typeof x !== typeof y) return false;\n    switch (typeof x) {\n    case 'undefined':\n      return true;\n    case 'number':\n      if (x !== x && y !== y) return true;\n      if (x === 0 && y === 0) return 1/x === 1/y;\n      return x === y;\n    case 'boolean':\n    case 'string':\n    case 'object':\n    default:\n      return x === y;\n    }\n  }\n\n  // 7.2.10 SameValueZero(x, y)\n  function SameValueZero(x, y) {\n    if (typeof x !== typeof y) return false;\n    switch (typeof x) {\n    case 'undefined':\n      return true;\n    case 'number':\n      if (x !== x && y !== y) return true;\n      return x === y;\n    case 'boolean':\n    case 'string':\n    case 'object':\n    default:\n      return x === y;\n    }\n  }\n\n  //----------------------------------------\n  // 7.3 Operations on Objects\n  //----------------------------------------\n\n  // 7.3.1 Get (O, P)\n  // - just use o.p or o[p]\n\n  // 7.3.2 GetV (V, P)\n  function GetV(v, p) {\n    var o = ToObject(v);\n    return o[p];\n  }\n\n  // 7.3.3 Set (O, P, V, Throw)\n  // - just use o.p = v or o[p] = v\n\n\n\n\n  // 7.3.9 GetMethod (O, P)\n  function GetMethod(o, p) {\n    var func = GetV(o, p);\n    if (func === undefined || func === null) return undefined;\n    if (!IsCallable(func)) throw TypeError();\n    return func;\n  }\n\n  // 7.3.10 HasProperty (O, P)\n  function HasProperty(o, p) {\n    while (o) {\n      if (Object.prototype.hasOwnProperty.call(o, p)) return true;\n      if (Type(o) !== 'object') return false;\n      var op = Object.getPrototypeOf(o);\n      if (op === o) return false; // IE8 has self-referential prototypes\n      o = op;\n    }\n    return false;\n  }\n\n  // 7.3.11 HasOwnProperty (O, P)\n  function HasOwnProperty(o, p) {\n    return Object.prototype.hasOwnProperty.call(o, p);\n  }\n\n  //----------------------------------------\n  // 7.4 Operations on Iterator Objects\n  //----------------------------------------\n\n  // 7.4.1 GetIterator ( obj, method )\n  function GetIterator(obj, method) {\n    if (arguments.length < 2)\n      method = GetMethod(obj, $$iterator);\n    var iterator = method.call(obj);\n    if (Type(iterator) !== 'object') throw TypeError();\n    return iterator;\n  }\n\n  // 7.4.2 IteratorNext ( iterator, value )\n  function IteratorNext(iterator, value) {\n    if (arguments.length < 2)\n      var result = iterator.next();\n    else\n      result = iterator.next(value);\n    if (Type(result) !== 'object') throw TypeError();\n    return result;\n  }\n\n  // 7.4.3 IteratorComplete ( iterResult )\n  function IteratorComplete(iterResult) {\n    console.assert(Type(iterResult) === 'object');\n    return Boolean(iterResult.done);\n  }\n\n  // 7.4.4 IteratorValue ( iterResult )\n  function IteratorValue(iterResult) {\n    console.assert(Type(iterResult) === 'object');\n    return iterResult.value;\n  }\n\n  // 7.4.5 IteratorStep ( iterator )\n  function IteratorStep( iterator, value ) {\n    var result = IteratorNext(iterator, value);\n    var done = result['done'];\n    if (Boolean(done) === true) return false;\n    return result;\n  }\n\n  // 7.4.6 IteratorClose( iterator, completion )\n  function IteratorClose( iterator, completion ) {\n    console.assert(Type(iterator) === 'object');\n    var _return = GetMethod(iterator, 'return');\n    if (_return === undefined) return completion;\n    try {\n      var innerResult = _return[iterator]();\n    } catch (result) {\n      // TODO: If completion.[[type]] is throw, return completion\n      return result;\n    }\n    if (Type(innerResult) !== 'object') throw TypeError();\n    return completion;\n  }\n\n  // 7.4.7 CreateIterResultObject (value, done)\n  function CreateIterResultObject(value, done) {\n    console.assert(Type(done) === 'boolean');\n    var obj = {};\n    obj[\"value\"] = value;\n    obj[\"done\"] = done;\n    return obj;\n  }\n\n  // 7.4.8 CreateListIterator (list)\n  // 7.4.8.1 ListIterator next( )\n\n  //----------------------------------------\n  // 8 Executable Code and Execution Contexts\n  //----------------------------------------\n\n  //----------------------------------------\n  // 8.4 Jobs and Job Queues\n  //----------------------------------------\n\n  // 8.4.1 EnqueueJob ( queueName, job, arguments)\n  function EnqueueJob(queueName, job, args) {\n    var fn = function() { job.apply(undefined, args); };\n    enqueue(fn);\n  }\n\n  // 8.4.2 NextJob result\n  function NextJob(result) {\n    // no-op\n  }\n\n  //----------------------------------------\n  // 9 Ordinary and Exotic Objects Behaviors\n  //----------------------------------------\n\n  // 9.1.11 [[Enumerate]] ()\n  function Enumerate(obj) {\n    var e = [];\n    if (Object(obj) !== obj) return e;\n    var visited = new Set;\n    while (obj !== null) {\n      Object.getOwnPropertyNames(obj).forEach(function(name) {\n        if (!visited.has(name)) {\n          var desc = Object.getOwnPropertyDescriptor(obj, name);\n          if (desc) {\n            visited.add(name);\n            if (desc.enumerable) e.push(name);\n          }\n        }\n      });\n      obj = Object.getPrototypeOf(obj);\n    }\n    return e[$$iterator]();\n  }\n\n  // 9.1.12 [[OwnPropertyKeys]] ( )\n  function OwnPropertyKeys(o) {\n    return Object.getOwnPropertyNames(o);\n  }\n\n  // 9.1.13 ObjectCreate(proto, internalSlotsList)\n  function ObjectCreate(proto, internalSlotsList) {\n    return Object.create(proto, internalSlotsList);\n  }\n\n  // ---------------------------------------\n  // 19 Fundamental Objects\n  // ---------------------------------------\n\n  // ---------------------------------------\n  // 19.1 Object Objects\n  // ---------------------------------------\n\n  // 19.1.1 The Object Constructor\n  // 19.1.1.1 Object ( [ value ] )\n  // 19.1.2 Properties of the Object Constructor\n  // 19.1.2.1 Object.assign ( target, ...sources )\n  define(\n    Object, 'assign',\n    function assign(target, /*...*/sources) {\n      var to = ToObject(target);\n      if (arguments.length < 2) return to;\n\n      var sourcesIndex = 1;\n      while (sourcesIndex < arguments.length) {\n        var nextSource = arguments[sourcesIndex++];\n        if (nextSource === undefined || nextSource === null) {\n          var keys = [];\n        } else {\n          var from = ToObject(nextSource);\n          keys = OwnPropertyKeys(from);\n        }\n        for (var keysIndex = 0; keysIndex < keys.length; ++keysIndex) {\n          var nextKey = keys[keysIndex];\n          var desc = Object.getOwnPropertyDescriptor(from, nextKey);\n          if (desc !== undefined && desc.enumerable) {\n            var propValue = from[nextKey];\n            to[nextKey] = propValue;\n          }\n        }\n      }\n      return to;\n    });\n\n  // 19.1.2.2 Object.create ( O [ , Properties ] )\n  // 19.1.2.3 Object.defineProperties ( O, Properties )\n  // 19.1.2.4 Object.defineProperty ( O, P, Attributes )\n  // 19.1.2.5 Object.freeze ( O )\n  // 19.1.2.6 Object.getOwnPropertyDescriptor ( O, P )\n\n  (function() {\n    var nativeSymbols = (typeof global.Symbol() === 'symbol'),\n        $getOwnPropertyNames = Object.getOwnPropertyNames,\n        $keys = Object.keys,\n        $window_names = (typeof window === 'object' ? $getOwnPropertyNames(window) : []);\n\n    function isStringKey(k) { return !symbolForKey(k); }\n\n    // 19.1.2.7 Object.getOwnPropertyNames ( O )\n    define(\n      Object, 'getOwnPropertyNames',\n      function getOwnPropertyNames(o) {\n        if (Object.prototype.toString.call(o) === '[object Window]') {\n          // Workaround for cross-realm calling by IE itself.\n          // https://github.com/inexorabletash/polyfill/issues/96\n          try {\n            return $getOwnPropertyNames(o).filter(isStringKey);\n          } catch (_) {\n            return $window_names.slice();\n          }\n        }\n        return $getOwnPropertyNames(o).filter(isStringKey);\n      }, !nativeSymbols);\n\n    // 19.1.2.8 Object.getOwnPropertySymbols ( O )\n    define(\n      Object, 'getOwnPropertySymbols',\n      function getOwnPropertySymbols(o) {\n        return $getOwnPropertyNames(o).filter(symbolForKey).map(symbolForKey);\n      }, !nativeSymbols);\n\n    // 19.1.2.14 Object.keys ( O )\n    define(\n      Object, 'keys',\n      function keys(o) {\n        return $keys(o).filter(isStringKey);\n      }, !nativeSymbols);\n  }());\n\n  // 19.1.2.9 Object.getPrototypeOf ( O )\n  // 19.1.2.10 Object.is ( value1, value2 )\n  define(\n    Object, 'is',\n    function is(value1, value2) {\n      return SameValue(value1, value2);\n    });\n\n  // 19.1.2.11 Object.isExtensible ( O )\n  // 19.1.2.12 Object.isFrozen ( O )\n  // 19.1.2.13 Object.isSealed ( O )\n\n  // 19.1.2.14 Object.keys ( O )\n  // see above\n\n  // 19.1.2.15 Object.preventExtensions ( O )\n  // 19.1.2.16 Object.prototype\n  // 19.1.2.17 Object.seal ( O )\n\n  // 19.1.2.18 Object.setPrototypeOf ( O, proto )\n  define(\n    Object, 'setPrototypeOf',\n    function setPrototypeOf(o, proto) {\n      if (Type(o) !== 'object') throw TypeError();\n      if (Type(proto) !== 'object' && Type(proto) !== 'null') throw TypeError();\n      o.__proto__ = proto;\n      return o;\n    }\n  );\n\n  // 19.1.3 Properties of the Object Prototype Object\n  // 19.1.3.1 Object.prototype.constructor\n  // 19.1.3.2 Object.prototype.hasOwnProperty ( V )\n  // 19.1.3.3 Object.prototype.isPrototypeOf ( V )\n  // 19.1.3.4 Object.prototype.propertyIsEnumerable ( V )\n  // 19.1.3.5 Object.prototype.toLocaleString ( [ reserved1 [ , reserved2 ] ] )\n  // 19.1.3.6 Object.prototype.toString ( )\n  var o_p_ts = Object.prototype.toString;\n  define(Object.prototype, 'toString',\n       function() {\n         var o = strict(this);\n         if (o === Object(o) && $$toStringTag in o) {\n           return '[object ' + o[$$toStringTag] + ']';\n         }\n         return o_p_ts.apply(o, arguments);\n       });\n\n  // 19.1.3.7 Object.prototype.valueOf ( )\n  // 19.1.4 Properties of Object Instances\n\n  // ---------------------------------------\n  // 19.2 Function Objects\n  // ---------------------------------------\n\n  // 19.2.1 The Function Constructor\n  // 19.2.1.1 Function ( p1, p2, â€¦ , pn, body )\n  // 19.2.2 Properties of the Function Constructor\n  // 19.2.2.1 Function.length\n  // 19.2.2.2 Function.prototype\n  // 19.2.3 Properties of the Function Prototype Object\n  // 19.2.3.1 Function.prototype.apply ( thisArg, argArray )\n  // 19.2.3.2 Function.prototype.bind ( thisArg , ...args)\n  // 19.2.3.3 Function.prototype.call (thisArg , ...args)\n  // 19.2.3.4 Function.prototype.constructor\n  // 19.2.3.5 Function.prototype.toString ( )\n  // 19.2.3.6 Function.prototype[@@hasInstance] ( V )\n  // 19.2.4 Function Instances\n  // 19.2.4.1 length\n  // 19.2.4.2 name\n  // 19.2.4.3 prototype\n\n  // (No polyfillable changes from ES5)\n\n  // ---------------------------------------\n  // 19.3 Boolean Objects\n  // ---------------------------------------\n\n  // 19.3.1 The Boolean Constructor\n  // 19.3.1.1 Boolean ( value )\n  // 19.3.2 Properties of the Boolean Constructor\n  // 19.3.2.1 Boolean.prototype\n  // 19.3.3 Properties of the Boolean Prototype Object\n  // 19.3.3.1 Boolean.prototype.constructor\n  // 19.3.3.2 Boolean.prototype.toString ( )\n  // 19.3.3.3 Boolean.prototype.valueOf ( )\n  // 19.3.4 Properties of Boolean Instances\n\n  // (No polyfillable changes from ES5)\n\n  // ---------------------------------------\n  // 19.4 Symbol Objects\n  // ---------------------------------------\n\n  // Moved earlier in this script, so that other polyfills can depend on them.\n\n  // 19.4.3.4 Symbol.prototype [ @@toStringTag ]\n  define(global.Symbol.prototype, global.Symbol.toStringTag, 'Symbol');\n\n  // ---------------------------------------\n  // 19.5 Error Objects\n  // ---------------------------------------\n\n  // 19.5.1 The Error Constructor\n  // 19.5.1.1 Error ( message )\n  // 19.5.1.2 new Error( ...argumentsList )\n  // 19.5.2 Properties of the Error Constructor\n  // 19.5.2.1 Error.prototype\n  // 19.5.3 Properties of the Error Prototype Object\n  // 19.5.3.1 Error.prototype.constructor\n  // 19.5.3.2 Error.prototype.message\n  // 19.5.3.3 Error.prototype.name\n  // 19.5.3.4 Error.prototype.toString ( )\n  // 19.5.4 Properties of Error Instances\n  // 19.5.5 Native Error Types Used in This Standard\n  // 19.5.5.1 EvalError\n  // 19.5.5.2 RangeError\n  // 19.5.5.3 ReferenceError\n  // 19.5.5.4 SyntaxError\n  // 19.5.5.5 TypeError\n  // 19.5.5.6 URIError\n  // 19.5.6 NativeError Object Structure\n  // 19.5.6.1 NativeError Constructors\n  // 19.5.6.1.1 NativeError ( message )\n  // 19.5.6.1.2 new NativeError ( ...argumentsList )\n  // 19.5.6.2 Properties of the NativeError Constructors\n  // 19.5.6.2.1 NativeError.prototype\n  // 19.5.6.3 Properties of the NativeError Prototype Objects\n  // 19.5.6.4 Properties of NativeError Instances\n\n  // (No polyfillable changes from ES5)\n\n  // ---------------------------------------\n  // 20 Numbers and Dates\n  // ---------------------------------------\n\n  // ---------------------------------------\n  // 20.1 Number Objects\n  // ---------------------------------------\n\n  // 20.1.1 The Number Constructor\n  // 20.1.1.1 Number ( [ value ] )\n  // 20.1.1.2 new Number ( ...argumentsList )\n  // 20.1.2 Properties of the Number Constructor\n\n  // 20.1.2.1 Number.EPSILON\n  define(\n    Number, 'EPSILON',\n    (function () {\n      var next, result;\n      for (next = 1; 1 + next !== 1; next = next / 2)\n        result = next;\n      return result;\n    }()));\n\n  // 20.1.2.2 Number.isFinite ( number )\n  define(\n    Number, 'isFinite',\n    function isFinite(number) {\n      if (Type(number) !== 'number') return false;\n      if (number !== number || number === +Infinity || number === -Infinity) return false;\n      return true;\n    });\n\n  // 20.1.2.3 Number.isInteger ( number )\n  define(\n    Number, 'isInteger',\n    function isInteger(number) {\n      if (Type(number) !== 'number') return false;\n      if (number !== number || number === +Infinity || number === -Infinity) return false;\n      var integer = ToInteger(number);\n      if (integer !== number) return false;\n      return true;\n    });\n\n  // 20.1.2.4 Number.isNaN ( number )\n  define(\n    Number, 'isNaN',\n    function isNaN(number) {\n      if (Type(number) !== 'number') return false;\n      if (number !== number) return true;\n      return false;\n    });\n\n  // 20.1.2.5 Number.isSafeInteger ( number )\n  define(\n    Number, 'isSafeInteger',\n    function isSafeInteger(number) {\n      if (Type(number) !== 'number') return false;\n      if (number !== number || number === +Infinity || number === -Infinity) return false;\n      var integer = ToInteger(number);\n      if (integer !== number) return false;\n      if (abs(integer) <= (0x20000000000000 - 1)) // 2^53-1\n        return true;\n      return false;\n    });\n\n  // 20.1.2.6 Number.MAX_SAFE_INTEGER\n  define(\n    Number, 'MAX_SAFE_INTEGER',\n    9007199254740991); // 2^53-1\n\n  // 20.1.2.7 Number.MAX_VALUE\n\n  // 20.1.2.8 Number.MIN_SAFE_INTEGER\n  define(\n    Number, 'MIN_SAFE_INTEGER',\n    -9007199254740991); // -2^53+1\n\n  // 20.1.2.9 Number.MIN_VALUE\n  // 20.1.2.10 Number.NaN\n  // 20.1.2.11 Number.NEGATIVE_INFINITY\n\n  // 20.1.2.12 Number.parseFloat ( string )\n  define(Number, 'parseFloat', $parseFloat);\n\n  // 20.1.2.13 Number.parseInt ( string, radix )\n  define(Number, 'parseInt', $parseInt);\n\n  // 20.1.2.14 Number.POSITIVE_INFINITY\n  // 20.1.2.15 Number.prototype\n\n  // 20.1.3 Properties of the Number Prototype Object\n  // 20.1.3.1 Number.prototype.constructor\n  // 20.1.3.2 Number.prototype.toExponential ( fractionDigits )\n  // 20.1.3.3 Number.prototype.toFixed ( fractionDigits )\n  // 20.1.3.4 Number.prototype.toLocaleString( [ reserved1 [ , reserved2 ] ])\n  // 20.1.3.5 Number.prototype.toPrecision ( precision )\n  // 20.1.3.6 Number.prototype.toString ( [ radix ] )\n  // 20.1.3.7 Number.prototype.valueOf ( )\n  // 20.1.4 Properties of Number Instances\n\n  // ---------------------------------------\n  // 20.2 The Math Object\n  // ---------------------------------------\n\n  // 20.2.1 Value Properties of the Math Object\n  // 20.2.1.1 Math.E\n  // 20.2.1.2 Math.LN10\n  // 20.2.1.3 Math.LN2\n  // 20.2.1.4 Math.LOG10E\n  // 20.2.1.5 Math.LOG2E\n  // 20.2.1.6 Math.PI\n  // 20.2.1.7 Math.SQRT1_2\n  // 20.2.1.8 Math.SQRT2\n\n  // 20.2.1.9 Math [ @@toStringTag ]\n  define(Math, $$toStringTag, 'Math');\n\n  // 20.2.2 Function Properties of the Math Object\n  // 20.2.2.1 Math.abs ( x )\n  // 20.2.2.2 Math.acos ( x )\n\n  // 20.2.2.3 Math.acosh(x)\n  define(\n    Math, 'acosh',\n    function acosh(x) {\n      x = Number(x);\n      return log(x + sqrt(x * x - 1));\n    });\n\n  // 20.2.2.4 Math.asin ( x )\n\n  // 20.2.2.5 Math.asinh( x )\n  define(\n    Math, 'asinh',\n    function asinh(x) {\n      x = Number(x);\n      if (SameValue(x, -0)) {\n        return x;\n      }\n      var s = sqrt(x * x + 1);\n      return (s === -x) ? log(0) : log(x + s);\n    });\n\n  // 20.2.2.6 Math.atan ( x )\n\n  // 20.2.2.7 Math.atanh( x )\n  define(\n    Math, 'atanh',\n    function atanh(x) {\n      x = Number(x);\n      return (x === 0) ? x : log((1 + x) / (1 - x)) / 2;\n    });\n\n  // 20.2.2.8 Math.atan2 ( y, x )\n\n  // 20.2.2.9 Math.cbrt ( x )\n  define(\n    Math, 'cbrt',\n    function cbrt(x) {\n      x = Number(x);\n      if ($isNaN(x/x)) {\n        return x;\n      }\n      var r = pow(abs(x), 1/3);\n      var t = x/r/r;\n      return r + (r * (t-r) / (2*r + t));\n    });\n\n  // 20.2.2.10 Math.ceil ( x )\n\n  // 20.2.2.11 Math.clz32 ( x )\n  define(\n    Math, 'clz32',\n    function clz32(x) {\n      function clz8(x) {\n        return (x & 0xf0) ? (x & 0x80 ? 0 : x & 0x40 ? 1 : x & 0x20 ? 2 : 3) :\n        (x & 0x08 ? 4 : x & 0x04 ? 5 : x & 0x02 ? 6 : x & 0x01 ? 7 : 8);\n      }\n      x = ToUint32(x);\n      return x & 0xff000000 ? clz8(x >> 24) :\n        x & 0xff0000 ? clz8(x >> 16) + 8 :\n        x & 0xff00 ? clz8(x >> 8) + 16 : clz8(x) + 24;\n    });\n\n\n\n  // 20.2.2.12 Math.cos ( x )\n\n  // 20.2.2.13 Math.cosh ( x )\n  define(\n    Math, 'cosh',\n    function cosh(x) {\n      x = Number(x);\n      return (pow(E, x) + pow(E, -x)) / 2;\n    });\n\n  // 20.2.2.14 Math.exp ( x )\n\n  // 20.2.2.15 Math.expm1 ( x )\n  define(\n    Math, 'expm1',\n    function expm1(x) {\n      x = Number(x);\n      // from: http://www.johndcook.com/cpp_log1p.html\n      if (SameValue(x, -0)) {\n        return -0;\n      } else if (abs(x) < 1e-5) {\n        return x + 0.5 * x * x; // two terms of Taylor expansion\n      } else {\n        return exp(x) - 1;\n      }\n    });\n\n  // 20.2.2.16 Math.floor ( x )\n\n  // 20.2.2.17 Math.fround ( x )\n  define(\n    Math, 'fround',\n    function fround(x) {\n      if ($isNaN(x)) {\n        return NaN;\n      }\n      if (1/x === +Infinity || 1/x === -Infinity || x === +Infinity || x === -Infinity) {\n        return x;\n      }\n      return (new Float32Array([x]))[0];\n    });\n\n  // 20.2.2.18 Math.hypot ( value1 [, value2 [ ... ] ] )\n  define(\n    Math, 'hypot',\n    function hypot() {\n      var values = [];\n      var m = 0, sawNaN = false;\n      for (var i = 0; i < arguments.length; ++i) {\n        var n = abs(Number(arguments[i]));\n        if (n === Infinity) return n;\n        if (n !== n) sawNaN = true;\n        if (n > m) m = n;\n        values[i] = n;\n      }\n      if (sawNaN) return NaN;\n      if (m === 0) return +0;\n      var sum = +0;\n      for (i = 0; i < values.length; ++i) {\n        var r = values[i] / m;\n        sum = sum + r * r;\n      }\n      return m * sqrt(sum);\n    });\n\n  // 20.2.2.19 Math.imul ( x, y )\n  define(\n    Math, 'imul',\n    function imul(x, y) {\n      var a = ToUint32(x);\n      var b = ToUint32(y);\n      // (slow but accurate)\n      var ah  = (a >>> 16) & 0xffff;\n      var al = a & 0xffff;\n      var bh  = (b >>> 16) & 0xffff;\n      var bl = b & 0xffff;\n      return ((al * bl) + (((ah * bl + al * bh) << 16) >>> 0)|0);\n    }, ('imul' in Math && Math.imul(1, 0x80000000) === 0) // Safari 7 bug\n  );\n\n  // 20.2.2.20 Math.log ( x )\n\n  // 20.2.2.21 Math.log1p ( x )\n  define(\n    Math, 'log1p',\n    function log1p(x) {\n      x = Number(x);\n      // from: http://www.johndcook.com/cpp_expm1.html\n      if (x < -1) {\n        return NaN;\n      } else if (SameValue(x, -0)) {\n        return -0;\n      } else if (abs(x) > 1e-4) {\n        return log(1 + x);\n      } else {\n        return (-0.5 * x + 1) * x;\n      }\n    });\n\n  // 20.2.2.22 Math.log10 ( x )\n  define(\n    Math, 'log10',\n    function log10(x) {\n      x = Number(x);\n      return log(x) * LOG10E;\n    });\n\n  // 20.2.2.23 Math.log2 ( x )\n  define(\n    Math, 'log2',\n    function log2(x) {\n      x = Number(x);\n      return log(x) * LOG2E;\n    });\n\n  // 20.2.2.24 Math.max ( value1, value2 , ...values )\n  // 20.2.2.25 Math.min ( value1, value2 , ...values )\n  // 20.2.2.26 Math.pow ( x, y )\n  // 20.2.2.27 Math.random ( )\n  // 20.2.2.28 Math.round ( x )\n\n  // 20.2.2.29 Math.sign(x)\n  define(\n    Math, 'sign',\n    function sign(x) {\n      x = Number(x);\n      return x < 0 ? -1 : x > 0 ? 1 : x;\n    });\n\n  // 20.2.2.30 Math.sin ( x )\n\n  // 20.2.2.31 Math.sinh( x )\n  define(\n    Math, 'sinh',\n    function sinh(x) {\n      x = Number(x);\n      return SameValue(x, -0) ? x : (pow(E, x) - pow(E, -x)) / 2;\n    });\n\n  // 20.2.2.32 Math.sqrt ( x )\n  // 20.2.2.33 Math.tan ( x )\n\n  // 20.2.2.34 Math.tanh ( x )\n  define(\n    Math, 'tanh',\n    function tanh(x) {\n      x = Number(x);\n      var n = pow(E, 2 * x) - 1,\n          d = pow(E, 2 * x) + 1;\n      if (SameValue(x, -0))\n        return x;\n      return (n === d) ? 1 : n / d; // Handle Infinity/Infinity\n    });\n\n  // 20.2.2.35 Math.trunc ( x )\n  define(\n    Math, 'trunc',\n    function trunc(x) {\n      x = Number(x);\n      return $isNaN(x) ? NaN :\n        x < 0 ? ceil(x) : floor(x);\n    });\n\n  // ---------------------------------------\n  // 20.3 Date Objects\n  // ---------------------------------------\n\n  // 20.3.1 Overview of Date Objects and Definitions of Abstract Operations\n  // 20.3.1.1 Time Values and Time Range\n  // 20.3.1.2 Day Number and Time within Day\n  // 20.3.1.3 Year Number\n  // 20.3.1.4 Month Number\n  // 20.3.1.5 Date Number\n  // 20.3.1.6 Week Day\n  // 20.3.1.7 Local Time Zone Adjustment\n  // 20.3.1.8 Daylight Saving Time Adjustment\n  // 20.3.1.9 Local Time\n  // 20.3.1.10 Hours, Minutes, Second, and Milliseconds\n  // 20.3.1.11 MakeTime (hour, min, sec, ms)\n  // 20.3.1.12 MakeDay (year, month, date)\n  // 20.3.1.13 MakeDate (day, time)\n  // 20.3.1.14 TimeClip (time)\n  // 20.3.1.15 Date Time String Format\n  // 20.3.1.15.1 Extended years\n  // 20.3.2 The Date Constructor\n  // 20.3.2.1 Date ( year, month [, date [ , hours [ , minutes [ , seconds [ , ms ] ] ] ] ] )\n  // 20.3.2.2 Date ( value )\n  // 20.3.2.3 Date ( )\n  // 20.3.3 Properties of the Date Constructor\n  // 20.3.3.1 Date.now ( )\n  // 20.3.3.2 Date.parse (string)\n  // 20.3.3.3 Date.prototype\n  // 20.3.3.4 Date.UTC ( year, month [ , date [ , hours [ , minutes [ , seconds [ , ms ] ] ] ] ] )\n  // 20.3.4 Properties of the Date Prototype Object\n  // 20.3.4.1 Date.prototype.constructor\n  // 20.3.4.2 Date.prototype.getDate ( )\n  // 20.3.4.3 Date.prototype.getDay ( )\n  // 20.3.4.4 Date.prototype.getFullYear ( )\n  // 20.3.4.5 Date.prototype.getHours ( )\n  // 20.3.4.6 Date.prototype.getMilliseconds ( )\n  // 20.3.4.7 Date.prototype.getMinutes ( )\n  // 20.3.4.8 Date.prototype.getMonth ( )\n  // 20.3.4.9 Date.prototype.getSeconds ( )\n  // 20.3.4.10 Date.prototype.getTime ( )\n  // 20.3.4.11 Date.prototype.getTimezoneOffset ( )\n  // 20.3.4.12 Date.prototype.getUTCDate ( )\n  // 20.3.4.13 Date.prototype.getUTCDay ( )\n  // 20.3.4.14 Date.prototype.getUTCFullYear ( )\n  // 20.3.4.15 Date.prototype.getUTCHours ( )\n  // 20.3.4.16 Date.prototype.getUTCMilliseconds ( )\n  // 20.3.4.17 Date.prototype.getUTCMinutes ( )\n  // 20.3.4.18 Date.prototype.getUTCMonth ( )\n  // 20.3.4.19 Date.prototype.getUTCSeconds ( )\n  // 20.3.4.20 Date.prototype.setDate ( date )\n  // 20.3.4.21 Date.prototype.setFullYear ( year [ , month [ , date ] ] )\n  // 20.3.4.22 Date.prototype.setHours ( hour [ , min [ , sec [ , ms ] ] ] )\n  // 20.3.4.23 Date.prototype.setMilliseconds ( ms )\n  // 20.3.4.24 Date.prototype.setMinutes ( min [ , sec [ , ms ] ] )\n  // 20.3.4.25 Date.prototype.setMonth ( month [ , date ] )\n  // 20.3.4.26 Date.prototype.setSeconds ( sec [ , ms ] )\n  // 20.3.4.27 Date.prototype.setTime ( time )\n  // 20.3.4.28 Date.prototype.setUTCDate ( date )\n  // 20.3.4.29 Date.prototype.setUTCFullYear ( year [ , month [ , date ] ] )\n  // 20.3.4.30 Date.prototype.setUTCHours ( hour [ , min [ , sec [ , ms ] ] ] )\n  // 20.3.4.31 Date.prototype.setUTCMilliseconds ( ms )\n  // 20.3.4.32 Date.prototype.setUTCMinutes ( min [ , sec [, ms ] ] )\n  // 20.3.4.33 Date.prototype.setUTCMonth ( month [ , date ] )\n  // 20.3.4.34 Date.prototype.setUTCSeconds ( sec [ , ms ] )\n  // 20.3.4.35 Date.prototype.toDateString ( )\n  // 20.3.4.36 Date.prototype.toISOString ( )\n  // 20.3.4.37 Date.prototype.toJSON ( key )\n  // 20.3.4.38 Date.prototype.toLocaleDateString ( [ reserved1 [ , reserved2 ] ] )\n  // 20.3.4.39 Date.prototype.toLocaleString ( [ reserved1 [ , reserved2 ] ] )\n  // 20.3.4.40 Date.prototype.toLocaleTimeString ( [ reserved1 [ , reserved2 ] ] )\n  // 20.3.4.41 Date.prototype.toString ( )\n  // 20.3.4.42 Date.prototype.toTimeString ( )\n  // 20.3.4.43 Date.prototype.toUTCString ( )\n  // 20.3.4.44 Date.prototype.valueOf ( )\n  // 20.3.4.45 Date.prototype [ @@toPrimitive ] ( hint )\n  // 20.3.5 Properties of Date Instances\n\n  // (No polyfillable changes from ES5)\n\n  // ---------------------------------------\n  // 21 Text Processing\n  // ---------------------------------------\n\n  var string_regexp_dispatch = (function() {\n    var faux = {}, secret = Symbol();\n    faux[Symbol.match] = function() { return secret; };\n    return (\"\").match(faux) === secret;\n  }());\n\n  // 21.1 String Objects\n  // 21.1.1 The String Constructor\n  // 21.1.1.1 String ( value )\n  // 21.1.2 Properties of the String Constructor\n  // 21.1.2.1 String.fromCharCode ( ...codeUnits )\n\n  // 21.1.2.2 String.fromCodePoint ( ...codePoints )\n  define(\n    String, 'fromCodePoint',\n    function fromCodePoint(/*...codePoints*/) {\n      var codePoints = arguments,\n          length = codePoints.length,\n          elements = [],\n          nextIndex = 0;\n      while (nextIndex < length) {\n        var next = codePoints[nextIndex];\n        var nextCP = Number(next);\n        if (!SameValue(nextCP, ToInteger(nextCP)) ||\n            nextCP < 0 || nextCP > 0x10FFFF) {\n          throw RangeError('Invalid code point ' + nextCP);\n        }\n        if (nextCP < 0x10000) {\n          elements.push(String.fromCharCode(nextCP));\n        } else {\n          nextCP -= 0x10000;\n          elements.push(String.fromCharCode((nextCP >> 10) + 0xD800));\n          elements.push(String.fromCharCode((nextCP % 0x400) + 0xDC00));\n        }\n        nextIndex += 1;\n      }\n      return elements.join('');\n    });\n\n  // 21.1.2.3 String.prototype\n\n  // 21.1.2.4 String.raw ( template , ...substitutions )\n  define(\n    String, 'raw',\n    function raw(template /*, ...substitutions*/) {\n      var substitutions = [].slice.call(arguments, 1);\n\n      var cooked = Object(template);\n      var rawValue = cooked['raw'];\n      var raw = Object(rawValue);\n      var len = raw['length'];\n      var literalSegments = ToLength(len);\n      if (literalSegments <= 0) return '';\n      var stringElements = [];\n      var nextIndex = 0;\n      while (true) {\n        var next = raw[nextIndex];\n        var nextSeg = String(next);\n        stringElements.push(nextSeg);\n        if (nextIndex + 1 === literalSegments)\n          return stringElements.join('');\n        next = substitutions[nextIndex];\n        var nextSub = String(next);\n        stringElements.push(nextSub);\n        nextIndex = nextIndex + 1;\n      }\n    });\n\n  // See https://githib.com/inexorabletash/uate for a more useful version.\n\n  // 21.1.3 Properties of the String Prototype Object\n  // 21.1.3.1 String.prototype.charAt ( pos )\n  // 21.1.3.2 String.prototype.charCodeAt ( pos )\n\n  // 21.1.3.3 String.prototype.codePointAt ( pos )\n  define(\n    String.prototype, 'codePointAt',\n    function codePointAt(pos) {\n      var o = strict(this);\n      var s = String(o);\n      var position = ToInteger(pos);\n      var size = s.length;\n      if (position < 0 || position >= size) return undefined;\n      var first = s.charCodeAt(position);\n      if (first < 0xD800 || first > 0xDBFF || position + 1 === size) return first;\n      var second = s.charCodeAt(position + 1);\n      if (second < 0xDC00 || second > 0xDFFF) return first;\n      return ((first - 0xD800) * 1024) + (second - 0xDC00) + 0x10000;\n    });\n\n  // 21.1.3.4 String.prototype.concat ( ...args )\n  // 21.1.3.5 String.prototype.constructor\n\n  // 21.1.3.6 String.prototype.endsWith ( searchString [ , endPosition] )\n  define(\n    String.prototype, 'endsWith',\n    function endsWith(searchString) {\n      var endPosition = arguments[1];\n\n      var o = strict(this);\n      var s = String(o);\n      var searchStr = String(searchString);\n      var len = s.length;\n      var pos = (endPosition === undefined) ? len : ToInteger(endPosition);\n      var end = min(max(pos, 0), len);\n      var searchLength = searchStr.length;\n      var start = end - searchLength;\n      if (start < 0) return false;\n      if (s.substring(start, start + searchLength) === searchStr) return true;\n      return false;\n    });\n\n  // 21.1.3.7 String.prototype.includes ( searchString [ , position ] )\n  define(\n    String.prototype, 'includes',\n    function includes(searchString) {\n      var position = arguments[1];\n\n      var o = strict(this);\n      var s = String(o);\n      var searchStr = String(searchString);\n      var pos = ToInteger(position);\n      var len = s.length;\n      var start = min(max(pos, 0), len);\n      return s.indexOf(searchStr, start) !== -1;\n    });\n\n  // 21.1.3.8 String.prototype.indexOf ( searchString [ , position ] )\n  // 21.1.3.9 String.prototype.lastIndexOf ( searchString [ , position ] )\n  // 21.1.3.10 String.prototype.localeCompare ( that [, reserved1 [ , reserved2 ] ] )\n  // 21.1.3.11 String.prototype.match ( regexp )\n  define(\n    String.prototype, 'match',\n    function match(regexp) {\n      var o = strict(this);\n      var s = String(o);\n      if (HasProperty(regexp, $$match)) var rx = regexp;\n      else rx = new RegExp(regexp);\n      return rx[$$match](s);\n    }, !string_regexp_dispatch);\n\n  // 21.1.3.12 String.prototype.normalize ( [ form ] )\n\n  // Not practical due to table sizes; if needed, pull in:\n  // https://github.com/walling/unorm/\n\n  // 21.1.3.13 String.prototype.repeat ( count )\n  define(\n    String.prototype, 'repeat',\n    function repeat(count) {\n      var o = strict(this);\n      var s = String(o);\n      var n = ToInteger(count);\n      if (n < 0) throw RangeError();\n      if (n === Infinity) throw RangeError();\n      var t = new Array(n + 1).join(s);\n      return t;\n    });\n\n  // 21.1.3.14 String.prototype.replace (searchValue, replaceValue )\n  define(\n    String.prototype, 'replace',\n    function replace(searchValue, replaceValue) {\n      var o = strict(this);\n      if (HasProperty(searchValue, $$replace))\n        return searchValue[$$replace](o, replaceValue);\n      return orig_replace.call(o, searchValue, replaceValue);\n    }, !string_regexp_dispatch);\n\n  // 21.1.3.15 String.prototype.search ( regexp )\n  define(\n    String.prototype, 'search',\n    function search(regexp) {\n      var o = strict(this);\n      var string = String(o);\n      if (HasProperty(regexp, $$search)) var rx = regexp;\n      else rx = new RegExp(regexp);\n      return rx[$$search](string);\n    }, !string_regexp_dispatch);\n\n  // 21.1.3.16 String.prototype.slice ( start, end )\n  // 21.1.3.17 String.prototype.split ( separator, limit )\n  define(\n    String.prototype, 'split',\n    function split(separator, limit) {\n      var o = strict(this);\n      if (HasProperty(separator, $$split))\n        return separator[$$split](o, limit);\n      return orig_split.call(o, separator, limit);\n    }, !string_regexp_dispatch);\n\n  // 21.1.3.18 String.prototype.startsWith ( searchString [, position ] )\n  define(\n    String.prototype, 'startsWith',\n    function startsWith(searchString) {\n      var position = arguments[1];\n\n      var o = strict(this);\n      var s = String(o);\n      var searchStr = String(searchString);\n      var pos = ToInteger(position);\n      var len = s.length;\n      var start = min(max(pos, 0), len);\n      var searchLength = searchStr.length;\n      if (searchLength + start > len) return false;\n      if (s.substring(start, start + searchLength) === searchStr) return true;\n      return false;\n    });\n\n  // 21.1.3.19 String.prototype.substring ( start, end )\n  // 21.1.3.20 String.prototype.toLocaleLowerCase ( [ reserved1 [ , reserved2 ] ] )\n  // 21.1.3.21 String.prototype.toLocaleUpperCase ([ reserved1 [ , reserved2 ] ] )\n  // 21.1.3.22 String.prototype.toLowerCase ( )\n  // 21.1.3.23 String.prototype.toString ( )\n  // 21.1.3.24 String.prototype.toUpperCase ( )\n  // 21.1.3.25 String.prototype.trim ( )\n  // 21.1.3.26 String.prototype.valueOf ( )\n\n  // 21.1.3.27 String.prototype [ @@iterator ]( )\n  define(\n    String.prototype, $$iterator,\n    function entries() {\n      return CreateStringIterator(this, 'value');\n    });\n\n  // 21.1.4 Properties of String Instances\n  // 21.1.4.1 length\n\n  // 21.1.5 String Iterator Objects\n  /** @constructor */\n  function StringIterator() {}\n\n  // 21.1.5.1 CreateStringIterator Abstract Operation\n  function CreateStringIterator(string, kind) {\n    var s = String(string);\n    var iterator = new StringIterator;\n    set_internal(iterator, '[[IteratedString]]', s);\n    set_internal(iterator, '[[StringIteratorNextIndex]]', 0);\n    set_internal(iterator, '[[StringIterationKind]]', kind);\n    return iterator;\n  }\n\n  // 21.1.5.2 The %StringIteratorPrototype% Object\n  var $StringIteratorPrototype$ = Object.create($IteratorPrototype$);\n  StringIterator.prototype = $StringIteratorPrototype$;\n\n  // 21.1.5.2.1 %StringIteratorPrototype%.next ( )\n  define(\n    $StringIteratorPrototype$, 'next',\n    function next() {\n      var o = ToObject(this);\n      var s = String(o['[[IteratedString]]']),\n          index = o['[[StringIteratorNextIndex]]'],\n          len = s.length;\n      if (index >= len) {\n        set_internal(o, '[[StringIteratorNextIndex]]', Infinity);\n        return CreateIterResultObject(undefined, true);\n      }\n      var cp = s.codePointAt(index);\n      set_internal(o, '[[StringIteratorNextIndex]]', index + (cp > 0xFFFF ? 2 : 1));\n      return CreateIterResultObject(String.fromCodePoint(cp), false);\n    });\n\n  // 21.1.5.2.2 %StringIteratorPrototype% [ @@toStringTag ]\n  define($StringIteratorPrototype$, $$toStringTag, 'String Iterator');\n\n  // 21.1.5.3 Properties of String Iterator Instances\n\n  // ---------------------------------------\n  // 21.2 RegExp (Regular Expression) Objects\n  // ---------------------------------------\n\n  // 21.2.1 Patterns\n  // 21.2.2 Pattern Semantics\n  // 21.2.2.1 Notation\n  // 21.2.2.2 Pattern\n  // 21.2.2.3 Disjunction\n  // 21.2.2.4 Alternative\n  // 21.2.2.5 Term\n  // 21.2.2.6 Assertion\n  // 21.2.2.7 Quantifier\n  // 21.2.2.8 Atom\n  // 21.2.2.9 AtomEscape\n  // 21.2.2.10 CharacterEscape\n  // 21.2.2.11 DecimalEscape\n  // 21.2.2.12 CharacterClassEscape\n  // 21.2.2.13 CharacterClass\n  // 21.2.2.14 ClassRanges\n  // 21.2.2.15 NonemptyClassRanges\n  // 21.2.2.16 NonemptyClassRangesNoDash\n  // 21.2.2.17 ClassAtom\n  // 21.2.2.18 ClassAtomNoDash\n  // 21.2.2.19 ClassEscape\n  // 21.2.3 The RegExp Constructor\n  // 21.2.3.1 RegExp ( pattern, flags )\n  // 21.2.3.2 new RegExp( ...argumentsList )\n  // 21.2.3.3 Abstract Operations for the RegExp Constructor\n  // 21.2.4 Properties of the RegExp Constructor\n  // 21.2.4.1 RegExp.prototype\n  // 21.2.5 Properties of the RegExp Prototype Object\n  // 21.2.5.1 RegExp.prototype.constructor\n  // 21.2.5.2 RegExp.prototype.exec ( string )\n\n  // 21.2.5.3 get RegExp.prototype.flags\n  if (!('flags' in RegExp.prototype)) {\n    Object.defineProperty(\n      RegExp.prototype, 'flags', {\n        get: function() {\n          var s = String(this);\n          return s.substring(s.lastIndexOf('/') + 1);\n        }\n      });\n  }\n\n  // 21.2.5.4 get RegExp.prototype.global\n  // 21.2.5.5 get RegExp.prototype.ignoreCase\n\n  // 21.2.5.6 RegExp.prototype [ @@match ] ( string )\n  define(RegExp.prototype, $$match, function(string) {\n    var o = strict(this);\n    return orig_match.call(string, o);\n  });\n\n  // 21.2.5.7 get RegExp.prototype.multiline\n\n  // 21.2.5.8 RegExp.prototype [ @@replace ] ( string, replaceValue )\n  define(RegExp.prototype, $$replace, function(string, replaceValue) {\n    var o = strict(this);\n    return orig_replace.call(string, o, replaceValue);\n  });\n\n  // 21.2.5.9 RegExp.prototype [ @@search ] ( string )\n  define(RegExp.prototype, $$search, function(string) {\n    var o = strict(this);\n    return orig_search.call(string, o);\n  });\n\n  // 21.2.5.10 get RegExp.prototype.source\n\n  // 21.2.5.11 RegExp.prototype [ @@split ] ( string, limit )\n  define(RegExp.prototype, $$split, function(string, limit) {\n    var o = strict(this);\n    return orig_split.call(string, o, limit);\n  });\n\n  // 21.2.5.12 get RegExp.prototype.sticky\n  // 21.2.5.13 RegExp.prototype.test( S )\n  // 21.2.5.14 RegExp.prototype.toString ( )\n  // 21.2.5.15 get RegExp.prototype.unicode\n\n  // 21.2.6 Properties of RegExp Instances\n  // 21.2.6.1 lastIndex\n\n  // (No polyfillable changes from ES5)\n\n  // ---------------------------------------\n  // 22 Indexed Collections\n  // ---------------------------------------\n\n  // ---------------------------------------\n  // 22.1 Array Objects\n  // ---------------------------------------\n\n  // 22.1.1 The Array Constructor\n  // 22.1.1.1 Array ( )\n  // 22.1.1.2 Array (len)\n  // 22.1.1.3 Array (...items )\n\n  // 22.1.2 Properties of the Array Constructor\n\n  // 22.1.2.1 Array.from ( items [ , mapfn [ , thisArg ] ] )\n  define(\n    Array, 'from',\n    function from(items) {\n      var mapfn = arguments[1];\n      var thisArg = arguments[2];\n\n      var c = strict(this);\n      if (mapfn === undefined) {\n        var mapping = false;\n      } else {\n        if (!IsCallable(mapfn)) throw TypeError();\n        var t = thisArg;\n        mapping = true;\n      }\n      var usingIterator = GetMethod(items, $$iterator);\n      if (usingIterator !== undefined) {\n         if (IsConstructor(c)) {\n          var a = new c();\n        } else {\n          a = new Array(0);\n        }\n        var iterator = GetIterator(items, usingIterator);\n        var k = 0;\n        while (true) {\n          var next = IteratorStep(iterator);\n          if (next === false) {\n            a.length = k;\n            return a;\n          }\n          var nextValue = IteratorValue(next);\n          if (mapping)\n            var mappedValue = mapfn.call(t, nextValue);\n          else\n            mappedValue = nextValue;\n          a[k] = mappedValue;\n          k += 1;\n        }\n      }\n      var arrayLike = ToObject(items);\n      var lenValue = arrayLike.length;\n      var len = ToLength(lenValue);\n      if (IsConstructor(c)) {\n        a = new c(len);\n      } else {\n        a = new Array(len);\n      }\n      k = 0;\n      while (k < len) {\n        var kValue = arrayLike[k];\n        if (mapping)\n          mappedValue = mapfn.call(t, kValue, k);\n        else\n          mappedValue = kValue;\n        a[k] = mappedValue;\n        k += 1;\n      }\n      a.length = len;\n      return a;\n    });\n\n  // 22.1.2.2 Array.isArray ( arg )\n\n  // 22.1.2.3 Array.of ( ...items )\n  define(\n    Array, 'of',\n    function of() {\n      var items = arguments;\n\n      var lenValue = items.length;\n      var len = ToUint32(lenValue);\n      var c = strict(this), a;\n      if (IsConstructor(c)) {\n        a = new c(len);\n        a = ToObject(a);\n      } else {\n        a = new Array(len);\n      }\n      var k = 0;\n      while (k < len) {\n        a[k] = items[k];\n        k += 1;\n      }\n      a.length = len;\n      return a;\n    });\n\n  // 22.1.2.4 Array.prototype\n  // 22.1.2.5 get Array [ @@species ]\n  // 22.1.3 Properties of the Array Prototype Object\n  // 22.1.3.1 Array.prototype.concat ( ...arguments )\n  // 22.1.3.1.1 Runtime Semantics: IsConcatSpreadable ( O )\n  // 22.1.3.2 Array.prototype.constructor\n  // 22.1.3.3 Array.prototype.copyWithin (target, start [ , end ] )\n  define(\n    Array.prototype, 'copyWithin',\n    function copyWithin(target, start/*, end*/) {\n      var end = arguments[2];\n\n      var o = ToObject(this);\n      var lenVal = o.length;\n      var len = ToLength(lenVal);\n      len = max(len, 0);\n      var relativeTarget = ToInteger(target);\n      var to;\n      if (relativeTarget < 0)\n        to = max(len + relativeTarget, 0);\n      else\n        to = min(relativeTarget, len);\n      var relativeStart = ToInteger(start);\n      var from;\n      if (relativeStart < 0)\n        from = max(len + relativeStart, 0);\n      else\n        from = min(relativeStart, len);\n      var relativeEnd;\n      if (end === undefined)\n        relativeEnd = len;\n      else\n        relativeEnd = ToInteger(end);\n      var final;\n      if (relativeEnd < 0)\n        final = max(len + relativeEnd, 0);\n      else\n        final = min(relativeEnd, len);\n      var count = min(final - from, len - to);\n      var direction;\n      if (from < to && to < from + count) {\n        direction = -1;\n        from = from + count - 1;\n        to = to + count - 1;\n      } else {\n        direction = 1;\n      }\n      while (count > 0) {\n        var fromKey = String(from);\n        var toKey = String(to);\n        var fromPresent = HasProperty(o, fromKey);\n        if (fromPresent) {\n          var fromVal = o[fromKey];\n          o[toKey] = fromVal;\n        } else {\n          delete o[toKey];\n        }\n        from = from + direction;\n        to = to + direction;\n        count = count - 1;\n      }\n      return o;\n    });\n\n  // 22.1.3.4 Array.prototype.entries ( )\n  var nativeArrayIteratorMethods =\n        ('entries' in Array.prototype && 'next' in [].entries());\n\n  define(\n    Array.prototype, 'entries',\n    function entries() {\n      return CreateArrayIterator(this, 'key+value');\n    }, !nativeArrayIteratorMethods);\n\n  // 22.1.3.5 Array.prototype.every ( callbackfn [ , thisArg] )\n\n  // 22.1.3.6 Array.prototype.fill (value [ , start [ , end ] ] )\n  define(\n    Array.prototype, 'fill',\n    function fill(value/*, start, end*/) {\n      var start = arguments[1],\n          end = arguments[2];\n\n      var o = ToObject(this);\n      var lenVal = o.length;\n      var len = ToLength(lenVal);\n      len = max(len, 0);\n      var relativeStart = ToInteger(start);\n      var k;\n      if (relativeStart < 0)\n        k = max((len + relativeStart), 0);\n      else\n        k = min(relativeStart, len);\n      var relativeEnd;\n      if (end === undefined)\n        relativeEnd = len;\n      else\n        relativeEnd = ToInteger(end);\n      var final;\n      if (relativeEnd < 0)\n        final = max((len + relativeEnd), 0);\n      else\n        final = min(relativeEnd, len);\n      while (k < final) {\n        var pk = String(k);\n        o[pk] = value;\n        k += 1;\n      }\n      return o;\n    });\n\n  // 22.1.3.7 Array.prototype.filter ( callbackfn [ , thisArg ] )\n\n  // 22.1.3.8 Array.prototype.find ( predicate [ , thisArg ] )\n  define(\n    Array.prototype, 'find',\n    function find(predicate) {\n      var o = ToObject(this);\n      var lenValue = o.length;\n      var len = ToInteger(lenValue);\n      if (!IsCallable(predicate)) throw TypeError();\n      var t = arguments.length > 1 ? arguments[1] : undefined;\n      var k = 0;\n      while (k < len) {\n        var pk = String(k);\n        var kPresent = HasProperty(o, pk);\n        if (kPresent) {\n          var kValue = o[pk];\n          var testResult = predicate.call(t, kValue, k, o);\n          if (Boolean(testResult)) {\n            return kValue;\n          }\n        }\n        ++k;\n      }\n      return undefined;\n    });\n\n  // 22.1.3.9 Array.prototype.findIndex ( predicate [ , thisArg ] )\n  define(\n    Array.prototype, 'findIndex',\n    function findIndex(predicate) {\n      var o = ToObject(this);\n      var lenValue = o.length;\n      var len = ToLength(lenValue);\n      if (!IsCallable(predicate)) throw TypeError();\n      var t = arguments.length > 1 ? arguments[1] : undefined;\n      var k = 0;\n      while (k < len) {\n        var pk = String(k);\n        var kPresent = HasProperty(o, pk);\n        if (kPresent) {\n          var kValue = o[pk];\n          var testResult = predicate.call(t, kValue, k, o);\n          if (Boolean(testResult)) {\n            return k;\n          }\n        }\n        ++k;\n      }\n      return -1;\n    });\n\n  // 22.1.3.10 Array.prototype.forEach ( callbackfn [ , thisArg ] )\n  // 22.1.3.11 Array.prototype.indexOf ( searchElement [ , fromIndex ] )\n  // 22.1.3.12 Array.prototype.join (separator)\n\n  // 22.1.3.13 Array.prototype.keys ( )\n  define(\n    Array.prototype, 'keys',\n    function keys() {\n      return CreateArrayIterator(this, 'key');\n    }, !nativeArrayIteratorMethods);\n\n  // 22.1.3.14 Array.prototype.lastIndexOf ( searchElement [ , fromIndex ] )\n  // 22.1.3.15 Array.prototype.map ( callbackfn [ , thisArg ] )\n  // 22.1.3.16 Array.prototype.pop ( )\n  // 22.1.3.17 Array.prototype.push ( ...items )\n  // 22.1.3.18 Array.prototype.reduce ( callbackfn [ , initialValue ] )\n  // 22.1.3.19 Array.prototype.reduceRight ( callbackfn [ , initialValue ] )\n  // 22.1.3.20 Array.prototype.reverse ( )\n  // 22.1.3.21 Array.prototype.shift ( )\n  // 22.1.3.22 Array.prototype.slice (start, end)\n  // 22.1.3.23 Array.prototype.some ( callbackfn [ , thisArg ] )\n  // 22.1.3.24 Array.prototype.sort (comparefn)\n  // 22.1.3.25 Array.prototype.splice (start, deleteCount , ...items )\n  // 22.1.3.26 Array.prototype.toLocaleString ( [ reserved1 [ , reserved2 ] ] )\n  // 22.1.3.27 Array.prototype.toString ( )\n  // 22.1.3.28 Array.prototype.unshift ( ...items )\n\n  // 22.1.3.29 Array.prototype.values ( )\n  define(\n    Array.prototype, 'values',\n    function values() {\n      return CreateArrayIterator(this, 'value');\n    }, !nativeArrayIteratorMethods);\n\n  // 22.1.3.30 Array.prototype [ @@iterator ] ( )\n  define(\n    Array.prototype, $$iterator,\n    Array.prototype.values\n    );\n\n  // 22.1.3.31 Array.prototype [ @@unscopables ]\n  // 22.1.4 Properties of Array Instances\n  // 22.1.4.1 length\n\n  // 22.1.5 Array Iterator Objects\n  function ArrayIterator() {}\n\n  // 22.1.5.1 CreateArrayIterator Abstract Operation\n  function CreateArrayIterator(array, kind) {\n    var o = ToObject(array);\n    var iterator = new ArrayIterator;\n    set_internal(iterator, '[[IteratedObject]]', o);\n    set_internal(iterator, '[[ArrayIteratorNextIndex]]', 0);\n    set_internal(iterator, '[[ArrayIterationKind]]', kind);\n    return iterator;\n  }\n\n  // 22.1.5.2 The %ArrayIteratorPrototype% Object\n  var $ArrayIteratorPrototype$ = Object.create($IteratorPrototype$);\n  ArrayIterator.prototype = $ArrayIteratorPrototype$;\n\n  // 22.1.5.2.1 %ArrayIteratorPrototype%. next( )\n  define(\n    $ArrayIteratorPrototype$, 'next',\n    function next() {\n      var o = strict(this);\n      if (Type(o) !== 'object') throw TypeError();\n      var a = o['[[IteratedObject]]'],\n          index = o['[[ArrayIteratorNextIndex]]'],\n          itemKind = o['[[ArrayIterationKind]]'],\n          lenValue = a.length,\n          len = ToUint32(lenValue),\n          elementKey,\n          elementValue;\n      if (itemKind.indexOf('sparse') !== -1) {\n        var found = false;\n        while (!found && index < len) {\n          elementKey = String(index);\n          found = HasProperty(a, elementKey);\n          if (!found) {\n            index += 1;\n          }\n        }\n      }\n      if (index >= len) {\n        set_internal(o, '[[ArrayIteratorNextIndex]]', Infinity);\n        return CreateIterResultObject(undefined, true);\n      }\n      elementKey = index;\n      set_internal(o, '[[ArrayIteratorNextIndex]]', index + 1);\n      if (itemKind.indexOf('value') !== -1)\n        elementValue = a[elementKey];\n      if (itemKind.indexOf('key+value') !== -1)\n        return CreateIterResultObject([elementKey, elementValue], false);\n      if (itemKind.indexOf('key') !== -1)\n        return CreateIterResultObject(elementKey, false);\n      if (itemKind === 'value')\n        return CreateIterResultObject(elementValue, false);\n      throw Error('Internal error');\n    });\n\n  // 22.1.5.2.2 %ArrayIteratorPrototype% [ @@toStringTag ]\n  define($ArrayIteratorPrototype$, $$toStringTag, 'Array Iterator');\n\n  // 22.1.5.3 Properties of Array Iterator Instances\n\n\n  // ---------------------------------------\n  // 22.2 TypedArray Objects\n  // ---------------------------------------\n\n  // See typedarray.js for TypedArray polyfill\n\n  ['Int8Array', 'Uint8Array', 'Uint8ClampedArray',\n   'Int16Array', 'Uint16Array',\n   'Int32Array', 'Uint32Array',\n   'Float32Array', 'Float64Array'].forEach(function ($TypedArrayName$) {\n     if (!($TypedArrayName$ in global))\n       return;\n     var $TypedArray$ = global[$TypedArrayName$];\n\n     // 22.2.1 The %TypedArray% Intrinsic Object\n     // 22.2.1.1 %TypedArray% ( length )\n     // 22.2.1.2 %TypedArray% ( typedArray )\n     // 22.2.1.3 %TypedArray% ( object )\n     // 22.2.1.4 %TypedArray% ( buffer [ , byteOffset [ , length ] ] )\n     // 22.2.1.5 %TypedArray% ( all other argument combinations )\n     // 22.2.2 Properties of the %TypedArray% Intrinsic Object\n\n     // 22.2.2.1 %TypedArray%.from ( source [ , mapfn [ , thisArg ] ] )\n     define(\n       $TypedArray$, 'from',\n       function from(source) {\n         var mapfn = arguments[1];\n         var thisArg = arguments[2];\n\n         var c = strict(this);\n         if (!IsConstructor(c)) throw TypeError();\n         if (mapfn === undefined) {\n           var mapping = false;\n         } else {\n           if (IsCallable(mapfn)) throw TypeError();\n           var t = thisArg;\n           mapping = true;\n         }\n         var usingIterator = GetMethod(source, $$iterator);\n         if (usingIterator !== undefined) {\n           var iterator = GetIterator(source, usingIterator);\n           var values = [];\n           var next = true;\n           while (next !== false) {\n             next = IteratorStep(iterator);\n             if (next !== false) {\n               var nextValue = IteratorValue(next);\n               values.push(nextValue);\n             }\n           }\n           var len = values.length;\n           var newObj = new c(len);\n           var k = 0;\n           while (k < len) {\n             var kValue = values.shift();\n             if (mapping) {\n               var mappedValue = mapfn.call(t, kValue);\n             } else {\n               mappedValue = kValue;\n             }\n             newObj[k] = mappedValue;\n             ++k;\n           }\n           console.assert(values.length === 0);\n           return newObj;\n         }\n         var arrayLike = ToObject(source);\n         var lenValue = arrayLike.length;\n         len = ToLength(lenValue);\n         newObj = new c(len);\n         k = 0;\n         while (k < len) {\n           kValue = arrayLike[k];\n           if (mapping) {\n             mappedValue = mapfn.call(t, kValue, k);\n           } else {\n             mappedValue = kValue;\n           }\n           newObj[k] = mappedValue;\n           ++k;\n         }\n         return newObj;\n       });\n\n     // 22.2.2.2 %TypedArray%.of ( ...items )\n     define(\n       $TypedArray$, 'of',\n       function of() {\n         var items = arguments;\n\n         var len = items.length;\n         var c = strict(this);\n         var newObj = new c(len);\n         var k = 0;\n         while (k < len) {\n           newObj[k] = items[k];\n           ++k;\n         }\n         return newObj;\n       });\n\n     // 22.2.2.3 %TypedArray%.prototype\n     // 22.2.2.4 get %TypedArray% [ @@species ]\n     // 22.2.3 Properties of the %TypedArrayPrototype% Object\n     // 22.2.3.1 get %TypedArray%.prototype.buffer\n     // 22.2.3.2 get %TypedArray%.prototype.byteLength\n     // 22.2.3.3 get %TypedArray%.prototype.byteOffset\n     // 22.2.3.4 %TypedArray%.prototype.constructor\n\n     // 22.2.3.5 %TypedArray%.prototype.copyWithin (target, start [, end ] )\n     define($TypedArray$.prototype, 'copyWithin', Array.prototype.copyWithin);\n\n     // 22.2.3.6 %TypedArray%.prototype.entries ( )\n     define($TypedArray$.prototype, 'entries', Array.prototype.entries);\n\n     // 22.2.3.7 %TypedArray%.prototype.every ( callbackfn [ , thisArg ] )\n     define($TypedArray$.prototype, 'every', Array.prototype.every);\n\n     // 22.2.3.8 %TypedArray%.prototype.fill (value [ , start [ , end ] ] )\n     define(\n       $TypedArray$.prototype, 'fill',\n       //Array.prototype.fill // Doesn't work in Safari 7\n       function fill(value/*, start, end*/) {\n         var start = arguments[1],\n             end = arguments[2];\n\n         var o = ToObject(this);\n         var lenVal = o.length;\n         var len = ToLength(lenVal);\n         len = max(len, 0);\n         var relativeStart = ToInteger(start);\n         var k;\n         if (relativeStart < 0) k = max((len + relativeStart), 0);\n         else k = min(relativeStart, len);\n         var relativeEnd;\n         if (end === undefined) relativeEnd = len;\n         else relativeEnd = ToInteger(end);\n         var final;\n         if (relativeEnd < 0) final = max((len + relativeEnd), 0);\n         else final = min(relativeEnd, len);\n         while (k < final) {\n           var pk = String(k);\n           o[pk] = value;\n           k += 1;\n         }\n         return o;\n       });\n\n     // 22.2.3.9 %TypedArray%.prototype.filter ( callbackfn [ , thisArg ] )\n     define(\n       $TypedArray$.prototype, 'filter',\n       function filter(callbackfn) {\n         var thisArg = arguments[1];\n\n         var o = ToObject(this);\n         var lenVal = o.length;\n         var len = ToLength(lenVal);\n         if (!IsCallable(callbackfn)) throw TypeError();\n         var t = thisArg;\n         var c = o.constructor;\n         var kept = [];\n         var k = 0;\n         var captured = 0;\n         while (k < len) {\n           var kValue = o[k];\n           var selected = callbackfn.call(t, kValue, k, o);\n           if (selected) {\n             kept.push(kValue);\n             ++captured;\n           }\n           ++k;\n         }\n         var a = new c(captured);\n         var n = 0;\n         for (var i = 0; i < kept.length; ++i) {\n           var e = kept[i];\n           a[n] = e;\n           ++n;\n         }\n         return a;\n       });\n\n     // 22.2.3.10 %TypedArray%.prototype.find (predicate [ , thisArg ] )\n     define($TypedArray$.prototype, 'find', Array.prototype.find);\n\n     // 22.2.3.11 %TypedArray%.prototype.findIndex ( predicate [ , thisArg ] )\n     define($TypedArray$.prototype, 'findIndex', Array.prototype.findIndex);\n\n     // 22.2.3.12 %TypedArray%.prototype.forEach ( callbackfn [ , thisArg ] )\n     define($TypedArray$.prototype, 'forEach', Array.prototype.forEach);\n\n     // 22.2.3.13 %TypedArray%.prototype.indexOf (searchElement [ , fromIndex ] )\n     define($TypedArray$.prototype, 'indexOf', Array.prototype.indexOf);\n\n     // 22.2.3.14 %TypedArray%.prototype.join ( separator )\n     define($TypedArray$.prototype, 'join', Array.prototype.join);\n\n     // 22.2.3.15 %TypedArray%.prototype.keys ( )\n     define($TypedArray$.prototype, 'keys', Array.prototype.keys);\n\n     // 22.2.3.16 %TypedArray%.prototype.lastIndexOf ( searchElement [ , fromIndex ] )\n     define($TypedArray$.prototype, 'lastIndexOf', Array.prototype.lastIndexOf);\n\n     // 22.2.3.17 get %TypedArray%.prototype.length\n\n     // 22.2.3.18 %TypedArray%.prototype.map ( callbackfn [ , thisArg ] )\n     define(\n       $TypedArray$.prototype, 'map',\n       function map(callbackfn) {\n         var thisArg = arguments[1];\n\n         var o = ToObject(this);\n         var lenValue = o.length;\n         var len = ToLength(lenValue);\n         if (!IsCallable(callbackfn)) throw TypeError();\n         var t = thisArg;\n         var a = undefined;\n         var c = o.constructor;\n         if (IsConstructor(c))\n           a = new c(len);\n         if (a === undefined)\n           a = new Array(len);\n         var k = 0;\n         while (k < len) {\n           var kPresent = HasProperty(o, k);\n           if (kPresent) {\n             var kValue = o[k];\n             var mappedValue = callbackfn.call(t, kValue, k, o);\n             a[k] = mappedValue;\n           }\n           ++k;\n         }\n         return a;\n       });\n\n     // 22.2.3.19 %TypedArray%.prototype.reduce ( callbackfn [, initialValue] )\n     define($TypedArray$.prototype, 'reduce', Array.prototype.reduce);\n\n     // 22.2.3.20 %TypedArray%.prototype.reduceRight ( callbackfn [, initialValue] )\n     define($TypedArray$.prototype, 'reduceRight', Array.prototype.reduceRight);\n\n     // 22.2.3.21 %TypedArray%.prototype.reverse ( )\n     define($TypedArray$.prototype, 'reverse', Array.prototype.reverse);\n\n     // 22.2.3.22 %TypedArray%.prototype.set ( overloaded [ , offset ])\n     // 22.2.3.22.1 %TypedArray%.prototype.set (array [ , offset ] )\n     // 22.2.3.22.2 %TypedArray%.prototype.set(typedArray [, offset ] )\n\n     // 22.2.3.23 %TypedArray%.prototype.slice ( start, end )\n     define(\n       $TypedArray$.prototype, 'slice',\n       function slice(start, end) {\n         var o = ToObject(this);\n         var lenVal = o.length;\n         var len = ToLength(lenVal);\n         var relativeStart = ToInteger(start);\n         var k = (relativeStart < 0) ? max(len + relativeStart, 0) : min(relativeStart, len);\n         var relativeEnd = (end === undefined) ? len : ToInteger(end);\n         var final = (relativeEnd < 0) ? max(len + relativeEnd, 0) : min(relativeEnd, len);\n         var count = final - k;\n         var c = o.constructor;\n         if (IsConstructor(c)) {\n           var a = new c(count);\n         } else {\n           throw TypeError();\n         }\n         var n = 0;\n         while (k < final) {\n           var kValue = o[k];\n           a[n] = kValue;\n           ++k;\n           ++n;\n         }\n         return a;\n       });\n\n     // 22.2.3.24 %TypedArray%.prototype.some ( callbackfn [ , thisArg ] )\n     define($TypedArray$.prototype, 'some', Array.prototype.some);\n\n     // 22.2.3.25 %TypedArray%.prototype.sort ( comparefn )\n     define(\n       $TypedArray$.prototype, 'sort',\n       function sort() {\n         var comparefn = arguments[0];\n\n         function sortCompare(x, y) {\n           console.assert(Type(x) === 'number' && Type(y) === 'number');\n           if (x !== x && y !== y) return +0;\n           if (x !== x) return 1;\n           if (y !== y) return -1;\n           if (comparefn !== undefined) {\n             return comparefn(x, y);\n           }\n           if (x < y) return -1;\n           if (x > y) return 1;\n           return +0;\n         }\n         return Array.prototype.sort.call(this, sortCompare);\n       });\n\n     // 22.2.3.26 %TypedArray%.prototype.subarray( [ begin [ , end ] ] )\n     // 22.2.3.27 %TypedArray%.prototype.toLocaleString ([ reserved1 [ , reserved2 ] ])\n     // 22.2.3.28 %TypedArray%.prototype.toString ( )\n\n     // 22.2.3.29 %TypedArray%.prototype.values ( )\n     define($TypedArray$.prototype, 'values', Array.prototype.values);\n\n     // 22.2.3.30 %TypedArray%.prototype [ @@iterator ] ( )\n     define(\n       $TypedArray$.prototype, $$iterator,\n       $TypedArray$.prototype.values\n     );\n\n     // 22.2.3.31 get %TypedArray%.prototype [ @@toStringTag ]\n     define($TypedArray$.prototype, $$toStringTag, $TypedArrayName$);\n\n     // 22.2.4 The TypedArray Constructors\n     // 22.2.4.1TypedArray( ... argumentsList)\n     // 22.2.5 Properties of the TypedArray Constructors\n     // 22.2.5.1 TypedArray.BYTES_PER_ELEMENT\n     // 22.2.5.2 TypedArray.prototype\n     // 22.2.6 Properties of TypedArray Prototype Objects\n     // 22.2.6.1 TypedArray.prototype.BYTES_PER_ELEMENT\n     // 22.2.6.2 TypedArray.prototype.constructor\n     // 22.2.7 Properties of TypedArray Instances\n   });\n\n  // ---------------------------------------\n  // 23 Keyed Collection\n  // ---------------------------------------\n\n  // ---------------------------------------\n  // 23.1 Map Objects\n  // ---------------------------------------\n\n  (function() {\n    // 23.1.1 The Map Constructor\n\n    // 23.1.1.1 Map ( [ iterable ] )\n    /** @constructor */\n    function Map(/*iterable*/) {\n      var map = strict(this);\n      var iterable = arguments[0];\n\n      if (Type(map) !== 'object') throw TypeError();\n      if ('[[MapData]]' in map) throw TypeError();\n\n      if (iterable !== undefined) {\n        var adder = map['set'];\n        if (!IsCallable(adder)) throw TypeError();\n        var iter = GetIterator(ToObject(iterable));\n      }\n      set_internal(map, '[[MapData]]', { keys: [], values: [] });\n      if (iter === undefined) return map;\n      while (true) {\n        var next = IteratorStep(iter);\n        if (next === false)\n          return map;\n        var nextItem = IteratorValue(next);\n        if (Type(nextItem) !== 'object') throw TypeError();\n        var k = nextItem[0];\n        var v = nextItem[1];\n        adder.call(map, k, v);\n      }\n\n      return map;\n    }\n\n    if (!('Map' in global) || OVERRIDE_NATIVE_FOR_TESTING ||\n        (function() { try { new global.Map([]); return false; } catch (_) { return true; } }()) ||\n        (function() { try { return !new global.Map().entries().next; } catch (_) { return true; } }()) ||\n        (new global.Map([['a', 1]]).size !== 1))\n      global.Map = Map;\n\n\n    function MapDataIndexOf(mapData, key) {\n      var i;\n      if (key === key) return mapData.keys.indexOf(key);\n      // Slow case for NaN\n      for (i = 0; i < mapData.keys.length; i += 1)\n        if (SameValueZero(mapData.keys[i], key)) return i;\n      return -1;\n    }\n\n    // 23.1.1.2 new Map ( ... argumentsList )\n    // 23.1.2 Properties of the Map Constructor\n    // 23.1.2.1 Map.prototype\n    var $MapPrototype$ = {};\n    Map.prototype = $MapPrototype$;\n\n    // 23.1.2.2 get Map [ @@species ]\n\n    // 23.1.3 Properties of the Map Prototype Object\n    // 23.1.3.1 Map.prototype.clear ()\n    define(\n      Map.prototype, 'clear',\n      function clear() {\n        var m = strict(this);\n        if (Type(m) !== 'object') throw TypeError();\n        if (!('[[MapData]]' in m)) throw TypeError();\n        if (m['[[MapData]]'] === undefined) throw TypeError();\n        var entries = m['[[MapData]]'];\n        entries.keys.length = 0;\n        entries.values.length = 0;\n        return undefined;\n      });\n\n    // 23.1.3.2 Map.prototype.constructor\n\n    // 23.1.3.3 Map.prototype.delete ( key )\n    define(\n      Map.prototype, 'delete',\n      function delete_(key) {\n        var m = strict(this);\n        if (Type(m) !== 'object') throw TypeError();\n        if (!('[[MapData]]' in m)) throw TypeError();\n        if (m['[[MapData]]'] === undefined) throw TypeError();\n        var entries = m['[[MapData]]'];\n        var i = MapDataIndexOf(entries, key);\n        if (i < 0) return false;\n        entries.keys[i] = empty;\n        entries.values[i] = empty;\n        return true;\n      });\n\n    // 23.1.3.4 Map.prototype.entries ( )\n    define(\n      Map.prototype, 'entries',\n      function entries() {\n        var m = strict(this);\n        if (Type(m) !== 'object') throw TypeError();\n        return CreateMapIterator(m, 'key+value');\n      });\n\n    // 23.1.3.5 Map.prototype.forEach ( callbackfn [ , thisArg ] )\n    define(\n      Map.prototype, 'forEach',\n      function forEach(callbackfn /*, thisArg*/) {\n        var thisArg = arguments[1];\n\n        var m = strict(this);\n        if (Type(m) !== 'object') throw TypeError();\n        if (!('[[MapData]]' in m)) throw TypeError();\n        if (m['[[MapData]]'] === undefined) throw TypeError();\n        var entries = m['[[MapData]]'];\n\n        if (!IsCallable(callbackfn)) {\n          throw TypeError('First argument to forEach is not callable.');\n        }\n        for (var i = 0; i < entries.keys.length; ++i) {\n          if (entries.keys[i] !== empty) {\n            callbackfn.call(thisArg, entries.values[i], entries.keys[i], m);\n          }\n        }\n        return undefined;\n      });\n\n    // 23.1.3.6 Map.prototype.get ( key )\n    define(\n      Map.prototype, 'get',\n      function get(key) {\n        var m = strict(this);\n        if (Type(m) !== 'object') throw TypeError();\n        if (!('[[MapData]]' in m)) throw TypeError();\n        if (m['[[MapData]]'] === undefined) throw TypeError();\n        var entries = m['[[MapData]]'];\n        var i = MapDataIndexOf(entries, key);\n        if (i >= 0) return entries.values[i];\n        return undefined;\n      });\n\n    // 23.1.3.7 Map.prototype.has ( key )\n    define(\n      Map.prototype, 'has',\n      function has(key) {\n        var m = strict(this);\n        if (Type(m) !== 'object') throw TypeError();\n        if (!('[[MapData]]' in m)) throw TypeError();\n        if (m['[[MapData]]'] === undefined) throw TypeError();\n        var entries = m['[[MapData]]'];\n        if (MapDataIndexOf(entries, key) >= 0) return true;\n        return false;\n      });\n\n    // 23.1.3.8 Map.prototype.keys ( )\n    define(\n      Map.prototype, 'keys',\n      function keys() {\n        var m = strict(this);\n        if (Type(m) !== 'object') throw TypeError();\n        return CreateMapIterator(m, 'key');\n      });\n\n    // 23.1.3.9 Map.prototype.set ( key , value )\n    define(\n      Map.prototype, 'set',\n      function set(key, value) {\n        var m = strict(this);\n        if (Type(m) !== 'object') throw TypeError();\n        if (!('[[MapData]]' in m)) throw TypeError();\n        if (m['[[MapData]]'] === undefined) throw TypeError();\n        var entries = m['[[MapData]]'];\n        var i = MapDataIndexOf(entries, key);\n        if (i < 0) i = entries.keys.length;\n        if (SameValue(key, -0)) key = 0;\n        entries.keys[i] = key;\n        entries.values[i] = value;\n        return m;\n      });\n\n    // 23.1.3.10 get Map.prototype.size\n    Object.defineProperty(\n      Map.prototype, 'size', {\n        get: function() {\n          var m = strict(this);\n          if (Type(m) !== 'object') throw TypeError();\n          if (!('[[MapData]]' in m)) throw TypeError();\n          if (m['[[MapData]]'] === undefined) throw TypeError();\n          var entries = m['[[MapData]]'];\n          var count = 0;\n          for (var i = 0; i < entries.keys.length; ++i) {\n            if (entries.keys[i] !== empty)\n              count = count + 1;\n          }\n          return count;\n        }\n      });\n\n    // 23.1.3.11 Map.prototype.values ( )\n    define(\n      Map.prototype, 'values',\n      function values() {\n        var m = strict(this);\n        if (Type(m) !== 'object') throw TypeError();\n        return CreateMapIterator(m, 'value');\n      });\n\n    // 23.1.3.12 Map.prototype [ @@iterator ]( )\n    define(\n      Map.prototype, $$iterator,\n      function() {\n        var m = strict(this);\n        if (Type(m) !== 'object') throw TypeError();\n        return CreateMapIterator(m, 'key+value');\n      });\n\n    // 23.1.3.13 Map.prototype [ @@toStringTag ]\n    define(global.Map.prototype, $$toStringTag, 'Map');\n\n    // 23.1.4 Properties of Map Instances\n    // 23.1.5 Map Iterator Objects\n\n    /** @constructor */\n    function MapIterator() {}\n\n    // 23.1.5.1 CreateMapIterator Abstract Operation\n    function CreateMapIterator(map, kind) {\n      if (Type(map) !== 'object') throw TypeError();\n      if (!('[[MapData]]' in map)) throw TypeError();\n      if (map['[[MapData]]'] === undefined) throw TypeError();\n      var iterator = new MapIterator;\n      set_internal(iterator, '[[Map]]', map);\n      set_internal(iterator, '[[MapNextIndex]]', 0);\n      set_internal(iterator, '[[MapIterationKind]]', kind);\n      return iterator;\n    }\n\n    // 23.1.5.2 The %MapIteratorPrototype% Object\n    var $MapIteratorPrototype$ = Object.create($IteratorPrototype$);\n    MapIterator.prototype = $MapIteratorPrototype$;\n\n    // 23.1.5.2.1 %MapIteratorPrototype%.next ( )\n    define(\n      $MapIteratorPrototype$, 'next',\n      function next() {\n        var o = strict(this);\n        if (Type(o) !== 'object') throw TypeError();\n        var m = o['[[Map]]'],\n            index = o['[[MapNextIndex]]'],\n            itemKind = o['[[MapIterationKind]]'],\n            entries = m['[[MapData]]'];\n        while (index < entries.keys.length) {\n          var e = {key: entries.keys[index], value: entries.values[index]};\n          index = index += 1;\n          set_internal(o, '[[MapNextIndex]]', index);\n          if (e.key !== empty) {\n            if (itemKind === 'key') {\n              return CreateIterResultObject(e.key, false);\n            } else if (itemKind === 'value') {\n              return CreateIterResultObject(e.value, false);\n            } else {\n              return CreateIterResultObject([e.key, e.value], false);\n            }\n          }\n        }\n        return CreateIterResultObject(undefined, true);\n      });\n\n    // 23.1.5.2.2 %MapIteratorPrototype% [ @@toStringTag ]\n    define($MapIteratorPrototype$, $$toStringTag, 'Map Iterator');\n\n    // 23.1.5.3 Properties of Map Iterator Instances\n  }());\n\n  // ---------------------------------------\n  // 23.2 Set Objects\n  // ---------------------------------------\n\n  (function() {\n    // 23.2.1 The Set Constructor\n    // 23.2.1.1 Set ( [ iterable ] )\n\n    /** @constructor */\n    function Set(/*iterable*/) {\n      var set = strict(this);\n      var iterable = arguments[0];\n\n      if (Type(set) !== 'object') throw TypeError();\n      if ('[[SetData]]' in set) throw TypeError();\n\n      if (iterable !== undefined) {\n        var adder = set['add'];\n        if (!IsCallable(adder)) throw TypeError();\n        var iter = GetIterator(ToObject(iterable));\n      }\n      set_internal(set, '[[SetData]]', []);\n      if (iter === undefined) return set;\n      while (true) {\n        var next = IteratorStep(iter);\n        if (next === false)\n          return set;\n        var nextValue = IteratorValue(next);\n        adder.call(set, nextValue);\n      }\n\n      return set;\n    }\n\n    if (!('Set' in global) || OVERRIDE_NATIVE_FOR_TESTING ||\n        (function() { try { return !new global.Set().entries().next; } catch (_) { return true; } }()) ||\n        (new global.Set([1]).size !== 1))\n      global.Set = Set;\n\n    function SetDataIndexOf(setData, key) {\n      var i;\n      if (key === key)\n        return setData.indexOf(key);\n      // Slow case for NaN\n      for (i = 0; i < setData.length; i += 1)\n        if (SameValueZero(setData[i], key)) return i;\n      return -1;\n    }\n\n    // 23.2.1.2 new Set ( ...argumentsList )\n    // 23.2.2 Properties of the Set Constructor\n\n    // 23.2.2.1 Set.prototype\n    var $SetPrototype$ =  {};\n    Set.prototype = $SetPrototype$;\n\n    // 23.2.2.2 get Set [ @@species ]\n    // 23.2.3 Properties of the Set Prototype Object\n\n    // 23.2.3.1 Set.prototype.add (value )\n    define(\n      Set.prototype, 'add',\n      function add(value) {\n        var s = strict(this);\n        if (Type(s) !== 'object') throw TypeError();\n        if (!('[[SetData]]' in s)) throw TypeError();\n        if (s['[[SetData]]'] === undefined) throw TypeError();\n        if (SameValue(value, -0)) value = 0;\n        var entries = s['[[SetData]]'];\n        var i = SetDataIndexOf(entries, value);\n        if (i < 0) i = s['[[SetData]]'].length;\n        s['[[SetData]]'][i] = value;\n\n        return s;\n      });\n\n    // 23.2.3.2 Set.prototype.clear ()\n    define(\n      Set.prototype, 'clear',\n      function clear() {\n        var s = strict(this);\n        if (Type(s) !== 'object') throw TypeError();\n        if (!('[[SetData]]' in s)) throw TypeError();\n        if (s['[[SetData]]'] === undefined) throw TypeError();\n        var entries = s['[[SetData]]'];\n        entries.length = 0;\n        return undefined;\n      });\n\n    // 23.2.3.3 Set.prototype.constructor\n    // 23.2.3.4 Set.prototype.delete ( value )\n    define(\n      Set.prototype, 'delete',\n      function delete_(value) {\n        var s = strict(this);\n        if (Type(s) !== 'object') throw TypeError();\n        if (!('[[SetData]]' in s)) throw TypeError();\n        if (s['[[SetData]]'] === undefined) throw TypeError();\n        var entries = s['[[SetData]]'];\n        var i = SetDataIndexOf(entries, value);\n        if (i < 0) return false;\n        entries[i] = empty;\n        return true;\n      });\n\n    // 23.2.3.5 Set.prototype.entries ( )\n    define(\n      Set.prototype, 'entries',\n      function entries() {\n        var s = strict(this);\n        if (Type(s) !== 'object') throw TypeError();\n        return CreateSetIterator(s, 'key+value');\n      });\n\n    // 23.2.3.6 Set.prototype.forEach ( callbackfn [ , thisArg ] )\n    define(\n      Set.prototype, 'forEach',\n      function forEach(callbackfn/*, thisArg*/) {\n        var thisArg = arguments[1];\n\n        var s = strict(this);\n        if (Type(s) !== 'object') throw TypeError();\n        if (!('[[SetData]]' in s)) throw TypeError();\n        if (s['[[SetData]]'] === undefined) throw TypeError();\n        var entries = s['[[SetData]]'];\n\n        if (!IsCallable(callbackfn)) {\n          throw TypeError('First argument to forEach is not callable.');\n        }\n        for (var i = 0; i < entries.length; ++i) {\n          if (entries[i] !== empty) {\n            callbackfn.call(thisArg, entries[i], entries[i], s);\n          }\n        }\n      });\n\n    // 23.2.3.7 Set.prototype.has ( value )\n    define(\n      Set.prototype, 'has',\n      function has(key) {\n        var s = strict(this);\n        if (Type(s) !== 'object') throw TypeError();\n        if (!('[[SetData]]' in s)) throw TypeError();\n        if (s['[[SetData]]'] === undefined) throw TypeError();\n        var entries = s['[[SetData]]'];\n        return SetDataIndexOf(entries, key) !== -1;\n      });\n\n    // 23.2.3.8 Set.prototype.keys ( )\n    // See Set.prototype.values\n\n    // 23.2.3.9 get Set.prototype.size\n    Object.defineProperty(\n      Set.prototype, 'size', {\n        get: function() {\n          var s = strict(this);\n          if (Type(s) !== 'object') throw TypeError();\n          if (!('[[SetData]]' in s)) throw TypeError();\n          if (s['[[SetData]]'] === undefined) throw TypeError();\n          var entries = s['[[SetData]]'];\n          var count = 0;\n          for (var i = 0; i < entries.length; ++i) {\n            if (entries[i] !== empty)\n              count = count + 1;\n          }\n          return count;\n        }\n      });\n\n    // 23.2.3.10 Set.prototype.values ( )\n    define(\n      Set.prototype, 'values',\n      function values() {\n        var s = strict(this);\n        if (Type(s) !== 'object') throw TypeError();\n        return CreateSetIterator(s, 'value');\n      });\n    // NOTE: function name is still 'values':\n    Set.prototype.keys = Set.prototype.values;\n\n    // 23.2.3.11 Set.prototype [@@iterator ] ( )\n    define(\n      Set.prototype, $$iterator,\n      function() {\n        var s = strict(this);\n        if (Type(s) !== 'object') throw TypeError();\n        return CreateSetIterator(s);\n      });\n\n    // 23.2.3.12 Set.prototype [ @@toStringTag ]\n    define(global.Set.prototype, $$toStringTag, 'Set');\n\n    // 23.2.4 Properties of Set Instances\n    // 23.2.5 Set Iterator Objects\n    /** @constructor */\n    function SetIterator() {}\n\n    // 23.2.5.1 CreateSetIterator Abstract Operation\n    function CreateSetIterator(set, kind) {\n      if (Type(set) !== 'object') throw TypeError();\n      if (!('[[SetData]]' in set)) throw TypeError();\n      if (set['[[SetData]]'] === undefined) throw TypeError();\n      var iterator = new SetIterator;\n      set_internal(iterator, '[[IteratedSet]]', set);\n      set_internal(iterator, '[[SetNextIndex]]', 0);\n      set_internal(iterator, '[[SetIterationKind]]', kind);\n      return iterator;\n    }\n\n    // 23.2.5.2 The %SetIteratorPrototype% Object\n    var $SetIteratorPrototype$ = Object.create($IteratorPrototype$);\n    SetIterator.prototype = $SetIteratorPrototype$;\n\n    // 23.2.5.2.1 %SetIteratorPrototype%.next( )\n    define(\n      $SetIteratorPrototype$, 'next',\n      function next() {\n        var o = strict(this);\n        if (Type(o) !== 'object') throw TypeError();\n        var s = o['[[IteratedSet]]'],\n            index = o['[[SetNextIndex]]'],\n            itemKind = o['[[SetIterationKind]]'],\n            entries = s['[[SetData]]'];\n        while (index < entries.length) {\n          var e = entries[index];\n          index = index += 1;\n          set_internal(o, '[[SetNextIndex]]', index);\n          if (e !== empty) {\n            if (itemKind === 'key+value')\n              return CreateIterResultObject([e, e], false);\n            return CreateIterResultObject(e, false);\n          }\n        }\n        return CreateIterResultObject(undefined, true);\n      });\n\n    // 23.2.5.2.2 %SetIteratorPrototype% [ @@toStringTag ]\n    define($SetIteratorPrototype$, $$toStringTag, 'Set Iterator');\n\n    // 23.2.5.3 Properties of Set Iterator Instances\n\n  }());\n\n  // ---------------------------------------\n  // 23.3 WeakMap Objects\n  // ---------------------------------------\n\n  (function() {\n    // 23.3.1 The WeakMap Constructor\n    // 23.3.1.1 WeakMap ( [ iterable ] )\n    /** @constructor */\n    function WeakMap(/*iterable*/) {\n      var map = strict(this);\n      var iterable = arguments[0];\n\n      if (Type(map) !== 'object') throw TypeError();\n      if ('[[WeakMapData]]' in map) throw TypeError();\n\n      if (iterable !== undefined) {\n        var adder = map['set'];\n        if (!IsCallable(adder)) throw TypeError();\n        var iter = GetIterator(ToObject(iterable));\n      }\n      set_internal(map, '[[WeakMapData]]', new EphemeronTable);\n      if (iter === undefined) return map;\n      while (true) {\n        var next = IteratorStep(iter);\n        if (next === false)\n          return map;\n        var nextValue = IteratorValue(next);\n        if (Type(nextValue) !== 'object') throw TypeError();\n        var k = nextValue[0];\n        var v = nextValue[1];\n        adder.call(map, k, v);\n      }\n\n      return map;\n    }\n\n    if (!('WeakMap' in global) || OVERRIDE_NATIVE_FOR_TESTING)\n      global.WeakMap = WeakMap;\n\n    // 23.3.2 Properties of the WeakMap Constructor\n    // 23.3.2.1 WeakMap.prototype\n    var $WeakMapPrototype$ = {};\n    WeakMap.prototype = $WeakMapPrototype$;\n\n\n\n   // 23.3.2.2 WeakMap[ @@create ] ( )\n    // 23.3.3 Properties of the WeakMap Prototype Object\n\n    // 23.3.3.1 WeakMap.prototype.constructor\n\n    // 23.3.3.2 WeakMap.prototype.delete ( key )\n    define(\n      WeakMap.prototype, 'delete',\n      function delete_(key) {\n        var M = strict(this);\n        if (Type(M) !== 'object') throw TypeError();\n        if (M['[[WeakMapData]]'] === undefined) throw TypeError();\n        if (Type(key) !== 'object') throw TypeError('Expected object');\n        return M['[[WeakMapData]]'].remove(key);\n      });\n\n    // 23.3.3.3 WeakMap.prototype.get ( key )\n    define(\n      WeakMap.prototype, 'get',\n      function get(key, defaultValue) {\n        var M = strict(this);\n        if (Type(M) !== 'object') throw TypeError();\n        if (M['[[WeakMapData]]'] === undefined) throw TypeError();\n        if (Type(key) !== 'object') throw TypeError('Expected object');\n        return M['[[WeakMapData]]'].get(key, defaultValue);\n      });\n\n    // 23.3.3.4 WeakMap.prototype.has ( key )\n    define(\n      WeakMap.prototype, 'has',\n      function has(key) {\n        var M = strict(this);\n        if (Type(M) !== 'object') throw TypeError();\n        if (M['[[WeakMapData]]'] === undefined) throw TypeError();\n        if (Type(key) !== 'object') throw TypeError('Expected object');\n        return M['[[WeakMapData]]'].has(key);\n      });\n\n    // 23.3.3.5 WeakMap.prototype.set ( key , value )\n    define(\n      WeakMap.prototype, 'set',\n      function set(key, value) {\n        var M = strict(this);\n        if (Type(M) !== 'object') throw TypeError();\n        if (M['[[WeakMapData]]'] === undefined) throw TypeError();\n        if (Type(key) !== 'object') throw TypeError('Expected object');\n        M['[[WeakMapData]]'].set(key, value);\n        return M;\n      });\n\n    // 23.3.3.6 WeakMap.prototype [ @@toStringTag ]\n    define(global.WeakMap.prototype, $$toStringTag, 'WeakMap');\n\n    // 23.3.4 Properties of WeakMap Instances\n\n    // Polyfills for incomplete native implementations:\n    (function() {\n      var wm = new global.WeakMap();\n      var orig = global.WeakMap.prototype.set;\n      define(global.WeakMap.prototype, 'set', function set() {\n        orig.apply(this, arguments);\n        return this;\n      }, wm.set({}, 0) !== wm);\n    }());\n  }());\n\n  // ---------------------------------------\n  // 23.4 WeakSet Objects\n  // ---------------------------------------\n\n  (function() {\n    // 23.4.1 The WeakSet Constructor\n    // 23.4.1.1 WeakSet ( [ iterable ] )\n    /** @constructor */\n    function WeakSet(/*iterable*/) {\n      var set = strict(this);\n      var iterable = arguments[0];\n\n      if (Type(set) !== 'object') throw TypeError();\n      if ('[[WeakSetData]]' in set) throw TypeError();\n\n      if (iterable !== undefined) {\n        var adder = set['add'];\n        if (!IsCallable(adder)) throw TypeError();\n        var iter = GetIterator(ToObject(iterable));\n      }\n      set_internal(set, '[[WeakSetData]]', new EphemeronTable);\n      if (iter === undefined) return set;\n      while (true) {\n        var next = IteratorStep(iter);\n        if (next === false)\n          return set;\n        var nextValue = IteratorValue(next);\n        adder.call(set, nextValue);\n      }\n\n      return set;\n    }\n\n    if (!('WeakSet' in global) || OVERRIDE_NATIVE_FOR_TESTING)\n      global.WeakSet = WeakSet;\n\n    // 23.4.2 Properties of the WeakSet Constructor\n    // 23.4.2.1 WeakSet.prototype\n    var $WeakSetPrototype$ = {};\n    WeakSet.prototype = $WeakSetPrototype$;\n\n    // 23.4.3 Properties of the WeakSet Prototype Object\n    // 23.4.3.1 WeakSet.prototype.add (value )\n    define(\n      WeakSet.prototype, 'add',\n      function add(value) {\n        var S = strict(this);\n        if (Type(S) !== 'object') throw TypeError();\n        if (S['[[WeakSetData]]'] === undefined) throw TypeError();\n        if (Type(value) !== 'object') throw TypeError('Expected object');\n        S['[[WeakSetData]]'].set(value, true);\n        return S;\n      });\n\n    // 23.4.3.2 WeakSet.prototype.constructor\n    // 23.4.3.3 WeakSet.prototype.delete ( value )\n    define(\n      WeakSet.prototype, 'delete',\n      function delete_(value) {\n        var S = strict(this);\n        if (Type(S) !== 'object') throw TypeError();\n        if (S['[[WeakSetData]]'] === undefined) throw TypeError();\n        if (Type(value) !== 'object') throw TypeError('Expected object');\n        return S['[[WeakSetData]]'].remove(value);\n      });\n\n    // 23.4.3.4 WeakSet.prototype.has ( value )\n    define(\n      WeakSet.prototype, 'has',\n      function has(key) {\n        var S = strict(this);\n        if (Type(S) !== 'object') throw TypeError();\n        if (S['[[WeakSetData]]'] === undefined) throw TypeError();\n        if (Type(key) !== 'object') throw TypeError('Expected object');\n        return S['[[WeakSetData]]'].has(key);\n      });\n\n    // 23.4.3.5 WeakSet.prototype [ @@toStringTag ]\n    define(global.WeakSet.prototype, $$toStringTag, 'WeakSet');\n\n    // 23.4.4 Properties of WeakSet Instances\n\n    // Polyfills for incomplete native implementations:\n    (function() {\n      var ws = new global.WeakSet();\n      var orig = global.WeakSet.prototype.add;\n      define(global.WeakSet.prototype, 'add', function add() {\n        orig.apply(this, arguments);\n        return this;\n      }, ws.add({}) !== ws);\n    }());\n  }());\n\n  // ---------------------------------------\n  // 24 Structured Data\n  // ---------------------------------------\n\n  // ---------------------------------------\n  // 24.1 ArrayBuffer Objects\n  // ---------------------------------------\n\n  // See typedarray.js for TypedArray polyfill\n\n  (function() {\n    if (!('ArrayBuffer' in global))\n      return;\n\n    // 24.1.1 Abstract Operations For ArrayBuffer Objects\n    // 24.1.1.1 AllocateArrayBuffer( constructor, byteLength )\n    // 24.1.1.2 IsDetachedBuffer( arrayBuffer )\n    // 24.1.1.3 DetachArrayBuffer( arrayBuffer )\n    // 24.1.1.4 CloneArrayBuffer( srcBuffer, srcByteOffset [, cloneConstructor] )\n    // 24.1.1.5 GetValueFromBuffer ( arrayBuffer, byteIndex, type, isLittleEndian )\n    // 24.1.1.6 SetValueInBuffer ( arrayBuffer, byteIndex, type, value, isLittleEndian )\n    // 24.1.2 The ArrayBuffer Constructor\n    // 24.1.2.1 ArrayBuffer( length )\n    // 24.1.3 Properties of the ArrayBuffer Constructor\n\n    // 24.1.3.1 ArrayBuffer.isView ( arg )\n    define(\n      ArrayBuffer, 'isView',\n      function isView(arg) {\n        if (Type(arg) !== 'object') return false;\n        if ('buffer' in arg && arg.buffer instanceof ArrayBuffer) return true;\n        return false;\n      });\n\n    // 24.1.3.2 ArrayBuffer.prototype\n    // 24.1.3.3 get ArrayBuffer [ @@species ]\n    // 24.1.4 Properties of the ArrayBuffer Prototype Object\n    // 24.1.4.1 get ArrayBuffer.prototype.byteLength\n    // 24.1.4.2 ArrayBuffer.prototype.constructor\n    // 24.1.4.3 ArrayBuffer.prototype.slice ( start , end)\n\n    // 24.1.4.4 ArrayBuffer.prototype [ @@toStringTag ]\n    define(ArrayBuffer.prototype, $$toStringTag, 'ArrayBuffer');\n\n    // 24.1.5 Properties of the ArrayBuffer Instances\n  }());\n\n  // ---------------------------------------\n  // 24.2 DataView Objects\n  // ---------------------------------------\n\n  // See typedarray.js for TypedArray polyfill\n\n  (function() {\n    if (!('DataView' in global))\n      return;\n\n    // 24.2.1 Abstract Operations For DataView Objects\n    // 24.2.1.1 GetViewValue(view, requestIndex, isLittleEndian, type)\n    // 24.2.1.2 SetViewValue(view, requestIndex, isLittleEndian, type, value)\n    // 24.2.2 The DataView Constructor\n    // 24.2.2.1 DataView (buffer [ , byteOffset [ , byteLength ] ] )\n    // 24.2.3 Properties of the DataView Constructor\n    // 24.2.3.1 DataView.prototype\n    // 24.2.4 Properties of the DataView Prototype Object\n    // 24.2.4.1 get DataView.prototype.buffer\n    // 24.2.4.2 get DataView.prototype.byteLength\n    // 24.2.4.3 get DataView.prototype.byteOffset\n    // 24.2.4.4 DataView.prototype.constructor\n    // 24.2.4.5 DataView.prototype.getFloat32 ( byteOffset [ , littleEndian ] )\n    // 24.2.4.6 DataView.prototype.getFloat64 ( byteOffset [ , littleEndian ] )\n    // 24.2.4.7 DataView.prototype.getInt8 ( byteOffset )\n    // 24.2.4.8 DataView.prototype.getInt16 ( byteOffset [ , littleEndian ] )\n    // 24.2.4.9 DataView.prototype.getInt32 ( byteOffset [ , littleEndian ] )\n    // 24.2.4.10 DataView.prototype.getUint8 ( byteOffset )\n    // 24.2.4.11 DataView.prototype.getUint16 ( byteOffset [ , littleEndian ] )\n    // 24.2.4.12 DataView.prototype.getUint32 ( byteOffset [ , littleEndian ] )\n    // 24.2.4.13 DataView.prototype.setFloat32 ( byteOffset, value [ , littleEndian ] )\n    // 24.2.4.14 DataView.prototype.setFloat64 ( byteOffset, value [ , littleEndian ] )\n    // 24.2.4.15 DataView.prototype.setInt8 ( byteOffset, value )\n    // 24.2.4.16 DataView.prototype.setInt16 ( byteOffset, value [ , littleEndian ] )\n    // 24.2.4.17 DataView.prototype.setInt32 ( byteOffset, value [ , littleEndian ] )\n    // 24.2.4.18 DataView.prototype.setUint8 ( byteOffset, value )\n    // 24.2.4.19 DataView.prototype.setUint16 ( byteOffset, value [ , littleEndian ] )\n    // 24.2.4.20 DataView.prototype.setUint32 ( byteOffset, value [ , littleEndian ] )\n\n    // 24.2.4.21 DataView.prototype[ @@toStringTag ]\n    define(DataView.prototype, $$toStringTag, 'DataView');\n\n    // 24.2.5 Properties of DataView Instances\n  }());\n\n  // ---------------------------------------\n  // 24.3 The JSON Object\n  // ---------------------------------------\n\n  // 24.3.1 JSON.parse ( text [ , reviver ] )\n  // 24.3.2 JSON.stringify ( value [ , replacer [ , space ] ] )\n  // 24.3.3 JSON [ @@toStringTag ]\n  define(JSON, $$toStringTag, 'JSON');\n\n  // ---------------------------------------\n  // 25.1 Iteration\n  // ---------------------------------------\n\n  // 25.1.1 Common Iteration Interfaces\n  // 25.1.1.1 The Iterable Interface\n  // 25.1.1.2 The Iterator Interface\n  // 25.1.1.3 The IteratorResult Interface\n\n  // 25.1.2 The %IteratorPrototype% Object\n  // Defined earlier, so other prototypes can reference it.\n  // 25.1.2.1 %IteratorPrototype% [ @@iterator ] ( )\n  define($IteratorPrototype$, $$iterator, function() {\n    return this;\n  });\n\n\n  // ---------------------------------------\n  // 25.4 Promise Objects\n  // ---------------------------------------\n\n  (function() {\n    // 25.4 Promise Objects\n\n    // 25.4.1 Promise Abstract Operations\n\n    // 25.4.1.1 PromiseCapability Records\n    // 25.4.1.1.1 IfAbruptRejectPromise ( value, capability )\n\n    function IfAbruptRejectPromise(value, capability) {\n      var rejectResult = capability['[[Reject]]'].call(undefined, value);\n      return capability['[[Promise]]'];\n    }\n\n    // 25.4.1.2 PromiseReaction Records\n\n    // 25.4.1.3 CreateResolvingFunctions ( promise )\n\n    function CreateResolvingFunctions(promise) {\n      var alreadyResolved = {'[[value]]': false};\n      var resolve = PromiseResolveFunction();\n      set_internal(resolve, '[[Promise]]',  promise);\n      set_internal(resolve, '[[AlreadyResolved]]', alreadyResolved);\n      var reject = PromiseRejectFunction();\n      set_internal(reject, '[[Promise]]', promise);\n      set_internal(reject, '[[AlreadyResolved]]', alreadyResolved);\n      return { '[[Resolve]]': resolve, '[[Reject]]': reject};\n    }\n\n    // 25.4.1.3.1 Promise Reject Functions\n\n    function PromiseRejectFunction() {\n      var F = function(reason) {\n        console.assert(Type(F['[[Promise]]']) === 'object');\n        var promise = F['[[Promise]]'];\n        var alreadyResolved = F['[[AlreadyResolved]]'];\n        if (alreadyResolved['[[value]]']) return undefined;\n        set_internal(alreadyResolved, '[[value]]', true);\n        return RejectPromise(promise, reason);\n      };\n      return F;\n    }\n\n    // 25.4.1.3.2 Promise Resolve Functions\n\n    function PromiseResolveFunction() {\n      var F = function(resolution) {\n        console.assert(Type(F['[[Promise]]']) === 'object');\n        var promise = F['[[Promise]]'];\n        var alreadyResolved = F['[[AlreadyResolved]]'];\n        if (alreadyResolved['[[value]]']) return undefined;\n        set_internal(alreadyResolved, '[[value]]', true);\n\n        if (SameValue(resolution, promise))  {\n          var selfResolutionError = TypeError();\n          return RejectPromise(promise, selfResolutionError);\n        }\n        if (Type(resolution) !== 'object')\n          return FulfillPromise(promise, resolution);\n        try {\n          var then = resolution['then'];\n        } catch(then) {\n          return RejectPromise(promise, then);\n        }\n        if (!IsCallable(then))\n          return FulfillPromise(promise, resolution);\n        EnqueueJob('PromiseJobs', PromiseResolveThenableJob, [promise, resolution, then]);\n        return undefined;\n      };\n      return F;\n    }\n\n    // 25.4.1.4 FulfillPromise ( promise, value )\n\n    function FulfillPromise(promise, value) {\n      console.assert(promise['[[PromiseState]]'] === 'pending');\n      var reactions = promise['[[PromiseFulfillReactions]]'];\n      set_internal(promise, '[[PromiseResult]]', value);\n      set_internal(promise, '[[PromiseFulfillReactions]]', undefined);\n      set_internal(promise, '[[PromiseRejectReactions]]', undefined);\n      set_internal(promise, '[[PromiseState]]', 'fulfilled');\n      return TriggerPromiseReactions(reactions, value);\n    }\n\n    // 25.4.1.5 NewPromiseCapability ( C )\n\n    function NewPromiseCapability(c) {\n      // To keep Promise hermetic, this doesn't look much like the spec.\n      return CreatePromiseCapabilityRecord(undefined, c);\n    }\n\n    // 25.4.1.5.1 CreatePromiseCapabilityRecord ( promise, constructor )\n\n    function CreatePromiseCapabilityRecord(promise, constructor) {\n      // To keep Promise hermetic, this doesn't look much like the spec.\n      console.assert(IsConstructor(constructor));\n      var promiseCapability = {};\n      set_internal(promiseCapability, '[[Promise]]', promise);\n      set_internal(promiseCapability, '[[Resolve]]', undefined);\n      set_internal(promiseCapability, '[[Reject]]', undefined);\n      var executor = GetCapabilitiesExecutor();\n      set_internal(executor, '[[Capability]]', promiseCapability);\n\n      // NOTE: Differs from spec; object is constructed here\n      var constructorResult = promise = new constructor(executor);\n      set_internal(promiseCapability, '[[Promise]]', promise);\n\n      if (!IsCallable(promiseCapability['[[Resolve]]'])) throw TypeError();\n      if (!IsCallable(promiseCapability['[[Reject]]'])) throw TypeError();\n      if (Type(constructorResult) === 'object' && !SameValue(promise, constructorResult)) throw TypeError();\n      return promiseCapability;\n    }\n\n    // 25.4.1.5.2 GetCapabilitiesExecutor Functions\n\n    function GetCapabilitiesExecutor() {\n      var F = function(resolve, reject) {\n        console.assert(F['[[Capability]]']);\n        var promiseCapability = F['[[Capability]]'];\n        if (promiseCapability['[[Resolve]]'] !== undefined) throw TypeError();\n        if (promiseCapability['[[Reject]]'] !== undefined) throw TypeError();\n        set_internal(promiseCapability, '[[Resolve]]', resolve);\n        set_internal(promiseCapability, '[[Reject]]', reject);\n        return undefined;\n      };\n      return F;\n    }\n\n    // 25.4.1.6 IsPromise ( x )\n\n    function IsPromise(x) {\n      if (Type(x) !== 'object') return false;\n      if (!('[[PromiseState]]' in x)) return false;\n      if (x['[[PromiseState]]'] === undefined) return false;\n      return true;\n    }\n\n    // 25.4.1.7 RejectPromise ( promise, reason )\n\n    function RejectPromise(promise, reason) {\n      console.assert(promise['[[PromiseState]]'] === 'pending');\n      var reactions = promise['[[PromiseRejectReactions]]'];\n      set_internal(promise, '[[PromiseResult]]', reason);\n      set_internal(promise, '[[PromiseFulfillReactions]]', undefined);\n      set_internal(promise, '[[PromiseRejectReactions]]', undefined);\n      set_internal(promise, '[[PromiseState]]', 'rejected');\n      return TriggerPromiseReactions(reactions, reason);\n    }\n\n    // 25.4.1.8 TriggerPromiseReactions ( reactions, argument )\n\n    function TriggerPromiseReactions(reactions, argument) {\n      for (var i = 0, len = reactions.length; i < len; ++i)\n        EnqueueJob('PromiseJobs', PromiseReactionJob, [reactions[i], argument]);\n      return undefined;\n    }\n\n    // 25.4.2 Promise Jobs\n\n    // 25.4.2.1 PromiseReactionJob ( reaction, argument )\n\n    function PromiseReactionJob(reaction, argument) {\n      var promiseCapability = reaction['[[Capabilities]]'];\n      var handler = reaction['[[Handler]]'];\n      var handlerResult, status;\n      try {\n        if (handler === 'Identity') handlerResult = argument;\n        else if (handler === 'Thrower') throw argument;\n        else handlerResult = handler.call(undefined, argument);\n      } catch (handlerResult) {\n        status = promiseCapability['[[Reject]]'].call(undefined, handlerResult);\n        NextJob(status); return;\n      }\n      status = promiseCapability['[[Resolve]]'].call(undefined, handlerResult);\n      NextJob(status);\n    }\n\n    // 25.4.2.2 PromiseResolveThenableJob ( promiseToResolve, thenable, then)\n\n    function PromiseResolveThenableJob(promiseToResolve, thenable, then) {\n      // SPEC BUG: promise vs. promiseToResolve\n      var resolvingFunctions = CreateResolvingFunctions(promiseToResolve);\n      try {\n        var thenCallResult = then.call(thenable, resolvingFunctions['[[Resolve]]'],\n                                       resolvingFunctions['[[Reject]]']);\n      } catch (thenCallResult) {\n        var status = resolvingFunctions['[[Reject]]'].call(undefined, thenCallResult);\n        NextJob(status); return;\n      }\n      NextJob(thenCallResult);\n    }\n\n    // 25.4.3 The Promise Constructor\n\n    // 25.4.3.1 Promise ( executor )\n\n    function Promise(executor) {\n      var config = { configurable: false, enumerable: false, writable: true, value: undefined };\n      Object.defineProperty(this, '[[PromiseState]]', config);\n      Object.defineProperty(this, '[[PromiseConstructor]]', config);\n      Object.defineProperty(this, '[[PromiseResult]]', config);\n      Object.defineProperty(this, '[[PromiseFulfillReactions]]', config);\n      Object.defineProperty(this, '[[PromiseRejectReactions]]', config);\n\n      var promise = this;\n      if (Type(promise) !== 'object') throw new TypeError();\n      if (!('[[PromiseState]]' in promise)) throw TypeError();\n      if (promise['[[PromiseState]]'] !== undefined) throw TypeError();\n      if (!IsCallable(executor)) throw TypeError();\n\n      set_internal(promise, '[[PromiseConstructor]]', Promise);\n\n      return InitializePromise(promise, executor);\n    }\n\n    // 25.4.3.1.1 InitializePromise ( promise, executor )\n\n    function InitializePromise(promise, executor) {\n      console.assert('[[PromiseState]]' in promise);\n      console.assert(IsCallable(executor));\n      set_internal(promise, '[[PromiseState]]', 'pending');\n      set_internal(promise, '[[PromiseFulfillReactions]]', []);\n      set_internal(promise, '[[PromiseRejectReactions]]', []);\n      var resolvingFunctions = CreateResolvingFunctions(promise);\n      try {\n        var completion = executor.call(undefined, resolvingFunctions['[[Resolve]]'],\n                                       resolvingFunctions['[[Reject]]']);\n      } catch (completion) {\n        var status = resolvingFunctions['[[Reject]]'].call(undefined, completion);\n      }\n      return promise;\n    }\n\n    // 25.4.4 Properties of the Promise Constructor\n    // 25.4.4.1 Promise.all ( iterable )\n\n    define(Promise, 'all', function all(iterable) {\n      var c = strict(this);\n      var promiseCapability = NewPromiseCapability(c);\n      try {\n        var iterator = GetIterator(iterable);\n      } catch (value) {\n        promiseCapability['[[Reject]]'].call(undefined, value);\n        return promiseCapability['[[Promise]]'];\n      }\n      var values = [];\n      var remainingElementsCount = { value: 1 };\n      var index = 0;\n      while (true) {\n        try {\n          var next = IteratorStep(iterator);\n        } catch (value) {\n          promiseCapability['[[Reject]]'].call(undefined, value);\n          return promiseCapability['[[Promise]]'];\n        }\n        if (!next) {\n          remainingElementsCount.value -= 1;\n          if (remainingElementsCount.value === 0) {\n            var resolveResult = promiseCapability['[[Resolve]]'].apply(undefined, values);\n\n\n          }\n          return promiseCapability['[[Promise]]'];\n        }\n        try {\n          var nextValue = IteratorValue(next);\n        } catch (value) {\n          promiseCapability['[[Reject]]'].call(undefined, value);\n          return promiseCapability['[[Promise]]'];\n        }\n        try {\n          var nextPromise = c.resolve(nextValue);\n        } catch (value) {\n          promiseCapability['[[Reject]]'].call(undefined, value);\n          return promiseCapability['[[Promise]]'];\n        }\n        var resolveElement = PromiseAllResolveElementFunction();\n        set_internal(resolveElement, '[[AlreadyCalled]]', { value: false });\n        set_internal(resolveElement, '[[Index]]', index);\n        set_internal(resolveElement, '[[Values]]', values);\n        set_internal(resolveElement, '[[Capabilities]]', promiseCapability);\n        set_internal(resolveElement, '[[RemainingElements]]', remainingElementsCount);\n        remainingElementsCount.value += 1;\n        try {\n          var result = nextPromise.then(resolveElement, promiseCapability['[[Reject]]']);\n        } catch (value) {\n          promiseCapability['[[Reject]]'].call(undefined, value);\n          return promiseCapability['[[Promise]]'];\n        }\n        index += 1;\n      }\n    });\n\n    // 25.4.4.1.1 Promise.all Resolve Element Functions\n\n    function PromiseAllResolveElementFunction() {\n      var F = function(x) {\n        var alreadyCalled = F['[[AlreadyCalled]]'];\n        if (alreadyCalled.value) return undefined;\n        alreadyCalled.value = true;\n        var index = F['[[Index]]'];\n        var values = F['[[Values]]'];\n        var promiseCapability = F['[[Capabilities]]'];\n        var remainingElementsCount = F['[[RemainingElements]]'];\n        try {\n          values[index] = x;\n        } catch (result) {\n          promiseCapability['[[Reject]]'].call(undefined, result);\n          return promiseCapability['[[Promise]]'];\n        }\n        remainingElementsCount.value -= 1;\n        if (remainingElementsCount.value === 0)\n          return promiseCapability['[[Resolve]]'].call(undefined, values);\n        return undefined;\n      };\n      return F;\n    }\n\n    // 25.4.4.2 Promise.prototype\n\n    Promise.prototype = {};\n\n    // 25.4.4.3 Promise.race ( iterable )\n\n    define(Promise, 'race', function race(iterable) {\n      var c = strict(this);\n      var promiseCapability = NewPromiseCapability(c);\n      try {\n        var iterator = GetIterator(iterable);\n      } catch (value) {\n        promiseCapability['[[Reject]]'].call(undefined, value);\n        return promiseCapability['[[Promise]]'];\n      }\n      while (true) {\n        try {\n          var next = IteratorStep(iterator);\n        } catch (value) {\n          promiseCapability['[[Reject]]'].call(undefined, value);\n          return promiseCapability['[[Promise]]'];\n        }\n        if (!next) return promiseCapability['[[Promise]]'];\n        try {\n          var nextValue = IteratorValue(next);\n        } catch (value) {\n          promiseCapability['[[Reject]]'].call(undefined, value);\n          return promiseCapability['[[Promise]]'];\n        }\n        try {\n          var nextPromise = c.resolve(nextValue);\n        } catch (value) {\n          promiseCapability['[[Reject]]'].call(undefined, value);\n          return promiseCapability['[[Promise]]'];\n        }\n        try {\n          nextPromise.then(promiseCapability['[[Resolve]]'], promiseCapability['[[Reject]]']);\n        } catch (value) {\n          promiseCapability['[[Reject]]'].call(undefined, value);\n          return promiseCapability['[[Promise]]'];\n        }\n      }\n    });\n\n    // 25.4.4.4 Promise.reject ( r )\n\n    define(Promise, 'reject', function reject(r) {\n      var c = strict(this);\n      var promiseCapability = NewPromiseCapability(c);\n      var rejectResult = promiseCapability['[[Reject]]'].call(undefined, r);\n      return promiseCapability['[[Promise]]'];\n    });\n\n    // 25.4.4.5 Promise.resolve ( x )\n\n    define(Promise, 'resolve', function resolve(x) {\n      var c = strict(this);\n      if (IsPromise(x)) {\n        var constructor = x['[[PromiseConstructor]]'];\n        if (SameValue(constructor, c)) return x;\n      }\n      var promiseCapability = NewPromiseCapability(c);\n      var resolveResult = promiseCapability['[[Resolve]]'].call(undefined, x);\n      return promiseCapability['[[Promise]]'];\n    });\n\n    // 25.4.4.6 Promise [ @@create ] ( )\n    // 25.4.4.6.1 AllocatePromise ( constructor )\n    // 25.4.5 Properties of the Promise Prototype Object\n    // 25.4.5.1 Promise.prototype.catch ( onRejected )\n\n    define(Promise.prototype, 'catch', function catch_(onRejected) {\n      var promise = this;\n      return promise.then(undefined, onRejected);\n    });\n\n    // 25.4.5.2 Promise.prototype.constructor\n\n    Promise.prototype.constructor = Promise;\n\n    // 25.4.5.3 Promise.prototype.then ( onFulfilled , onRejected )\n\n    define(Promise.prototype, 'then', function then(onFulfilled, onRejected) {\n      var promise = this;\n      if (!IsPromise(promise)) throw TypeError();\n      if (!IsCallable(onFulfilled)) onFulfilled = 'Identity';\n      if (!IsCallable(onRejected)) onRejected = 'Thrower';\n      var c = promise.constructor;\n      var promiseCapability = NewPromiseCapability(c);\n      var fulfillReaction = { '[[Capabilities]]': promiseCapability,\n                              '[[Handler]]': onFulfilled };\n      var rejectReaction = { '[[Capabilities]]': promiseCapability,\n                             '[[Handler]]': onRejected };\n      if (promise['[[PromiseState]]'] === 'pending') {\n        promise['[[PromiseFulfillReactions]]'].push(fulfillReaction);\n        promise['[[PromiseRejectReactions]]'].push(rejectReaction);\n      } else if (promise['[[PromiseState]]'] === 'fulfilled') {\n        var value = promise['[[PromiseResult]]'];\n        EnqueueJob('PromiseJobs', PromiseReactionJob, [fulfillReaction, value]);\n      } else if (promise['[[PromiseState]]'] === 'rejected') {\n        var reason = promise['[[PromiseResult]]'];\n        EnqueueJob('PromiseJobs', PromiseReactionJob, [rejectReaction, reason]);\n      }\n      return promiseCapability['[[Promise]]'];\n    });\n\n    // 25.4.6 Properties of Promise Instances\n\n    if (!('Promise' in global) || OVERRIDE_NATIVE_FOR_TESTING)\n      global.Promise = Promise;\n\n    // Patch early Promise.cast vs. Promise.resolve implementations\n    if ('cast' in global.Promise) global.Promise.resolve = global.Promise.cast;\n  }());\n\n  // 25.4.5.1 Promise.prototype [ @@toStringTag ]\n  define(Promise.prototype, $$toStringTag, 'Promise');\n\n  // ---------------------------------------\n  // 26 Reflection\n  // ---------------------------------------\n\n  (function() {\n    // 26.1 The Reflect Object\n    if (!('Reflect' in global) || OVERRIDE_NATIVE_FOR_TESTING)\n      global.Reflect = {};\n\n    // 26.1.1 Reflect.apply ( target, thisArgument, argumentsList )\n    define(\n      Reflect, 'apply',\n      function apply(target, thisArgument, argumentsList) {\n        if (!IsCallable(target)) throw TypeError();\n        return Function.prototype.apply.call(target, thisArgument, argumentsList);\n      });\n\n    // 26.1.2 Reflect.construct ( target, argumentsList [, newTarget] )\n    define(\n      Reflect, 'construct',\n      function construct(target, argumentsList) {\n        return __cons(target, argumentsList);\n      });\n\n    // 26.1.3 Reflect.defineProperty ( target, propertyKey, attributes )\n    define(\n      Reflect, 'defineProperty',\n      function defineProperty(target, propertyKey, attributes) {\n        try {\n          Object.defineProperty(target, propertyKey, attributes);\n          return true;\n        } catch (_) {\n          return false;\n        }\n      });\n\n    // 26.1.4 Reflect.deleteProperty ( target, propertyKey )\n    define(\n      Reflect, 'deleteProperty',\n      function deleteProperty(target,name) {\n        try {\n          delete target[name];\n          return !HasOwnProperty(target, name);\n        } catch (_) {\n          return false;\n        }\n      });\n\n    // 26.1.5 Reflect.enumerate ( target )\n    define(\n      Reflect, 'enumerate',\n      function enumerate(target) {\n        target = ToObject(target);\n        var iterator = Enumerate(target);\n        return iterator;\n      });\n\n    // 26.1.6 Reflect.get ( target, propertyKey [ , receiver ])\n    define(\n      Reflect, 'get',\n      function get(target, name, receiver) {\n        target = ToObject(target);\n        name = String(name);\n        receiver = (receiver === undefined) ? target : ToObject(receiver);\n        var desc = getPropertyDescriptor(target, name);\n        if (desc && 'get' in desc)\n          return Function.prototype.call.call(desc['get'], receiver);\n        return target[name];\n      });\n\n    // 26.1.7 Reflect.getOwnPropertyDescriptor ( target, propertyKey )\n    define(\n      Reflect, 'getOwnPropertyDescriptor',\n      Object.getOwnPropertyDescriptor);\n\n    // 26.1.8 Reflect.getPrototypeOf ( target )\n    define(\n      Reflect, 'getPrototypeOf',\n      Object.getPrototypeOf);\n\n    // 26.1.9 Reflect.has ( target, propertyKey )\n    define(\n      Reflect, 'has',\n      function has(target,name) {\n        return String(name) in ToObject(target);\n      });\n\n    // 26.1.10 Reflect.isExtensible (target)\n    define(\n      Reflect, 'isExtensible',\n      Object.isExtensible);\n\n    // 26.1.11 Reflect.ownKeys ( target )\n    define(\n      Reflect, 'ownKeys',\n      function ownKeys(target) {\n        var obj = ToObject(target);\n        return Object.getOwnPropertyNames(obj);\n      });\n\n    // 26.1.12 Reflect.preventExtensions ( target )\n    define(\n      Reflect, 'preventExtensions',\n      function preventExtensions(target) {\n        try { Object.preventExtensions(target); return true; } catch (_) { return false; }\n      });\n\n    // 26.1.13 Reflect.set ( target, propertyKey, V [ , receiver ] )\n    define(\n      Reflect, 'set',\n      function set(target, name, value, receiver) {\n        target = ToObject(target);\n        name = String(name);\n        receiver = (receiver === undefined) ? target : ToObject(receiver);\n        var desc = getPropertyDescriptor(target, name);\n        try {\n          if (desc && 'set' in desc)\n            Function.prototype.call.call(desc['set'], receiver, value);\n          else\n            target[name] = value;\n          return true;\n        } catch (_) {\n          return false;\n        }\n      });\n\n    // 26.1.14 Reflect.setPrototypeOf ( target, proto )\n    define(\n      Reflect, 'setPrototypeOf',\n      function setPrototypeOf(target, proto) {\n        try {\n          target.__proto__ = proto;\n          return Reflect.getPrototypeOf(target) === proto;\n        } catch(_) {\n          return false;\n        }\n      });\n\n  }());\n\n  // ---------------------------------------\n  // 26.2 Proxy Objects\n  // ---------------------------------------\n\n  // Not polyfillable.\n\n}(self));\n\n// This helper is defined outside the main scope so that the use of\n// 'eval' does not taint the scope for minifiers.\nfunction __cons(t, a) {\n  return eval('new t(' + Array.prototype.map.call(a, function(_, i) { return 'a[' + i + ']'; }).join(',') + ')');\n}\n//----------------------------------------------------------------------\n//\n// ECMAScript 2016 Polyfills\n//\n//----------------------------------------------------------------------\n\n(function (global) {\n  \"use strict\";\n  var undefined = (void 0); // Paranoia\n\n  // Helpers\n\n  function isSymbol(s) {\n    return (typeof s === 'symbol') || ('Symbol' in global && s instanceof global.Symbol);\n  }\n\n  function define(o, p, v, override) {\n    if (p in o && !override)\n      return;\n\n    if (typeof v === 'function') {\n      // Sanity check that functions are appropriately named (where possible)\n      console.assert(isSymbol(p) || !('name' in v) || v.name === p || v.name === p + '_', 'Expected function name \"' + p.toString() + '\", was \"' + v.name + '\"');\n      Object.defineProperty(o, p, {\n        value: v,\n        configurable: true,\n        enumerable: false,\n        writable: true\n      });\n    } else {\n      Object.defineProperty(o, p, {\n        value: v,\n        configurable: false,\n        enumerable: false,\n        writable: false\n      });\n    }\n  }\n\n\n  // Snapshot intrinsic functions\n  var $isNaN = global.isNaN;\n\n  var abs = Math.abs,\n      floor = Math.floor,\n      max = Math.max,\n      min = Math.min;\n\n  //----------------------------------------\n  // 7 Abstract Operations\n  //----------------------------------------\n\n  // 7.1.4\n  function ToInteger(n) {\n    n = Number(n);\n    if ($isNaN(n)) return 0;\n    if (n === 0 || n === Infinity || n === -Infinity) return n;\n    return ((n < 0) ? -1 : 1) * floor(abs(n));\n  }\n\n  // 7.1.13 ToObject\n  function ToObject(v) {\n    if (v === null || v === undefined) throw TypeError();\n    return Object(v);\n  }\n\n  // 7.1.15 ToLength ( argument )\n  function ToLength(v) {\n    var len = ToInteger(v);\n    if (len <= 0) {\n      return 0;\n    }\n    return min(len, 0x20000000000000 - 1); // 2^53-1\n  }\n\n  //----------------------------------------\n  // 7.2 Testing and Comparison Operations\n  //----------------------------------------\n\n  // 7.2.10 SameValueZero(x, y)\n  function SameValueZero(x, y) {\n    if (typeof x !== typeof y) return false;\n    switch (typeof x) {\n    case 'undefined':\n      return true;\n    case 'number':\n      if (x !== x && y !== y) return true;\n      return x === y;\n    case 'boolean':\n    case 'string':\n    case 'object':\n    default:\n      return x === y;\n    }\n  }\n\n  //----------------------------------------------------------------------\n  //\n  // ECMAScript 2016\n  //\n  //----------------------------------------------------------------------\n\n  // https://github.com/tc39/Array.prototype.includes/\n  define(\n    Array.prototype, 'includes',\n    function includes(target) {\n      var fromIndex = arguments[1];\n\n      var o = ToObject(this);\n      var len = ToLength(o[\"length\"]);\n      if (len === 0) return false;\n      var n = ToInteger(fromIndex);\n      if (n >= 0) {\n        var k = n;\n      } else {\n        k = len + n;\n        if (k < 0) k = 0;\n      }\n      while (k < len) {\n        var elementK = o[k];\n        if (SameValueZero(o[k], target))\n          return true;\n        k += 1;\n      }\n      return false;\n    });\n\n}(this));\n//----------------------------------------------------------------------\n//\n// ECMAScript 2017 Polyfills\n//\n//----------------------------------------------------------------------\n\n(function (global) {\n  'use strict';\n  var undefined = (void 0); // Paranoia\n\n  // Helpers\n\n  function isSymbol(s) {\n    return (typeof s === 'symbol') || ('Symbol' in global && s instanceof global.Symbol);\n  }\n\n  function define(o, p, v, override) {\n    if (p in o && !override)\n      return;\n\n    if (typeof v === 'function') {\n      // Sanity check that functions are appropriately named (where possible)\n      console.assert(isSymbol(p) || !('name' in v) || v.name === p || v.name === p + '_', 'Expected function name \"' + p.toString() + '\", was \"' + v.name + '\"');\n      Object.defineProperty(o, p, {\n        value: v,\n        configurable: true,\n        enumerable: false,\n        writable: true\n      });\n    } else {\n      Object.defineProperty(o, p, {\n        value: v,\n        configurable: false,\n        enumerable: false,\n        writable: false\n      });\n    }\n  }\n\n  // Snapshot intrinsic functions\n  var $isNaN = global.isNaN;\n\n  var abs = Math.abs,\n      floor = Math.floor,\n      min = Math.min;\n\n  //----------------------------------------\n  // 7 Abstract Operations\n  //----------------------------------------\n\n  // 7.1.4\n  function ToInteger(n) {\n    n = Number(n);\n    if ($isNaN(n)) return 0;\n    if (n === 0 || n === Infinity || n === -Infinity) return n;\n    return ((n < 0) ? -1 : 1) * floor(abs(n));\n  }\n\n  // 7.1.13 ToObject\n  function ToObject(v) {\n    if (v === null || v === undefined) throw TypeError();\n    return Object(v);\n  }\n\n  // 7.1.15 ToLength ( argument )\n  function ToLength(v) {\n    var len = ToInteger(v);\n    if (len <= 0) {\n      return 0;\n    }\n    return min(len, 0x20000000000000 - 1); // 2^53-1\n  }\n\n  //----------------------------------------\n  // 7.3 Operations on Objects\n  //----------------------------------------\n\n  // 7.3.4\n  function CreateDataProperty(O, P, V) {\n    Object.defineProperty(O, P, {\n      value: V,\n      writable: true,\n      enumerable: true,\n      configurable: true\n    });\n  }\n\n  // 7.3.21\n  function EnumerableOwnProperties(o, kind) {\n    var ownKeys = Object.keys(o);\n    var properties = [];\n    ownKeys.forEach(function(key) {\n      var desc = Object.getOwnPropertyDescriptor(o, key);\n      if (desc && desc.enumerable) {\n        if (kind === 'key') properties.push(key);\n        else {\n          var value = o[key];\n          if (kind === 'value') properties.push(value);\n          else properties.push([key, value]);\n        }\n      }\n    });\n    return properties;\n  }\n\n\n  //----------------------------------------------------------------------\n  // 19 Fundamental Objects\n  //----------------------------------------------------------------------\n\n  // 19.1 Object Objects\n  // 19.1.2 Properties of the Object Constructor\n\n  // 19.1.2.5 Object.entries\n  define(\n    Object, 'entries',\n    function entries(o) {\n      var obj = ToObject(o);\n      return EnumerableOwnProperties(obj, 'key+value');\n    });\n\n  // 19.1.2.8 Object.getOwnPropertyDescriptors ( O )\n  define(\n    Object, 'getOwnPropertyDescriptors',\n    function getOwnPropertyDescriptors(o) {\n      var obj = ToObject(o);\n      // ReturnIfAbrupt(obj)\n      var keys = Object.getOwnPropertyNames(obj);\n      // ReturnIfAbrupt(keys)\n      var descriptors = {};\n      for (var i = 0; i < keys.length; ++i) {\n        var nextKey = keys[i];\n        var descriptor = Object.getOwnPropertyDescriptor(obj, nextKey);\n        // ReturnIfAbrupt(desc)\n        // ReturnIfAbrupt(descriptor)\n        CreateDataProperty(descriptors, nextKey, descriptor);\n      }\n      return descriptors;\n    });\n\n  // 19.1.2.21 Object.values\n  define(\n    Object, 'values',\n    function values(o) {\n      var obj = ToObject(o);\n      return EnumerableOwnProperties(obj, 'value');\n    });\n\n\n\n  //----------------------------------------------------------------------\n  // 21 Text Processing\n  //----------------------------------------------------------------------\n\n  // 21.1 String Objects\n  // 21.1.3 Properties of the String Prototype Object\n\n  // 21.1.3.13 String.prototype.padEnd( maxLength [ , fillString ] )\n  define(\n    String.prototype, 'padEnd',\n    function padEnd(maxLength) {\n      var fillString = arguments[1];\n\n      var o = this;\n      // ReturnIfAbrupt(o)\n      var s = String(this);\n      // ReturnIfAbrupt(s)\n      var stringLength = s.length;\n      if (fillString === undefined) var fillStr = '';\n      else fillStr = String(fillString);\n      // ReturnIfAbrupt(fillStr)\n      if (fillStr === '') fillStr = ' ';\n      var intMaxLength = ToLength(maxLength);\n      // ReturnIfAbrupt(intMaxLength)\n      if (intMaxLength <= stringLength) return s;\n      var fillLen = intMaxLength - stringLength;\n      var stringFiller = '';\n      while (stringFiller.length < fillLen)\n        stringFiller = stringFiller + fillStr;\n      return s + stringFiller.substring(0, fillLen);\n    });\n\n  // 21.1.3.14 String.prototype.padStart( maxLength [ , fillString ] )\n  define(\n    String.prototype, 'padStart',\n    function padStart(maxLength) {\n      var fillString = arguments[1];\n\n      var o = this;\n      // ReturnIfAbrupt(o)\n      var s = String(this);\n      // ReturnIfAbrupt(s)\n      var stringLength = s.length;\n      if (fillString === undefined) var fillStr = '';\n      else fillStr = String(fillString);\n      // ReturnIfAbrupt(fillStr)\n      if (fillStr === '') fillStr = ' ';\n      var intMaxLength = ToLength(maxLength);\n      // ReturnIfAbrupt(intMaxLength)\n      if (intMaxLength <= stringLength) return s;\n      var fillLen = intMaxLength - stringLength;\n      var stringFiller = '';\n      while (stringFiller.length < fillLen)\n        stringFiller = stringFiller + fillStr;\n      return stringFiller.substring(0, fillLen) + s;\n    });\n\n}(this));\n(function(global) {\n  'use strict';\n\n  if (!('window' in global && 'document' in global))\n    return;\n\n  //----------------------------------------------------------------------\n  //\n  // HTML\n  // https://html.spec.whatwg.org\n  //\n  //----------------------------------------------------------------------\n\n  // document.head attribute\n  // Needed for: IE8-\n  if (!('head' in document))\n    document.head = document.getElementsByTagName('head')[0];\n\n  // Ensure correct parsing of newish elements (\"shiv\")\n  // Needed for: IE8-\n  [\n    'abbr', 'article', 'aside', 'audio', 'bdi', 'canvas', 'data', 'datalist',\n    'details', 'dialog', 'figcaption', 'figure', 'footer', 'header', 'hgroup',\n    'main', 'mark', 'meter', 'nav', 'output', 'picture', 'progress', 'section',\n    'summary', 'template', 'time', 'video'].forEach(function(tag) {\n     document.createElement(tag);\n   });\n\n  // HTMLElement.dataset\n  // Needed for: IE10-\n  if (!('dataset' in document.createElement('span')) &&\n      'Element' in global && Element.prototype && Object.defineProperty) {\n    Object.defineProperty(Element.prototype, 'dataset', { get: function() {\n      var result = Object.create(null);\n      for (var i = 0; i < this.attributes.length; ++i) {\n        var attr = this.attributes[i];\n        if (attr.specified && attr.name.substring(0, 5) === 'data-') {\n          (function(element, name) {\n            var prop = name.replace(/-([a-z])/g, function(m, p) {\n              return p.toUpperCase();\n            });\n            result[prop] = element.getAttribute('data-' + name); // Read-only, for IE8-\n            Object.defineProperty(result, prop, {\n              get: function() {\n                return element.getAttribute('data-' + name);\n              },\n              set: function(value) {\n                element.setAttribute('data-' + name, value);\n              }});\n          }(this, attr.name.substring(5)));\n        }\n      }\n      return result;\n    }});\n  }\n\n  // Base64 utility methods\n  // Needed for: IE9-\n  (function() {\n    if ('atob' in global && 'btoa' in global)\n      return;\n\n    var B64_ALPHABET = \"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=\";\n    function atob(input) {\n      input = String(input);\n      var position = 0,\n          output = [],\n          buffer = 0, bits = 0, n;\n\n      input = input.replace(/\\s/g, '');\n      if ((input.length % 4) === 0) { input = input.replace(/=+$/, ''); }\n      if ((input.length % 4) === 1) { throw Error(\"InvalidCharacterError\"); }\n      if (/[^+/0-9A-Za-z]/.test(input)) { throw Error(\"InvalidCharacterError\"); }\n\n      while (position < input.length) {\n        n = B64_ALPHABET.indexOf(input.charAt(position));\n        buffer = (buffer << 6) | n;\n        bits += 6;\n\n        if (bits === 24) {\n          output.push(String.fromCharCode((buffer >> 16) & 0xFF));\n          output.push(String.fromCharCode((buffer >>  8) & 0xFF));\n          output.push(String.fromCharCode(buffer & 0xFF));\n          bits = 0;\n          buffer = 0;\n        }\n        position += 1;\n      }\n\n      if (bits === 12) {\n        buffer = buffer >> 4;\n        output.push(String.fromCharCode(buffer & 0xFF));\n      } else if (bits === 18) {\n        buffer = buffer >> 2;\n        output.push(String.fromCharCode((buffer >> 8) & 0xFF));\n        output.push(String.fromCharCode(buffer & 0xFF));\n      }\n\n      return output.join('');\n    };\n\n    function btoa(input) {\n      input = String(input);\n      var position = 0,\n          out = [],\n          o1, o2, o3,\n          e1, e2, e3, e4;\n\n      if (/[^\\x00-\\xFF]/.test(input)) { throw Error(\"InvalidCharacterError\"); }\n\n      while (position < input.length) {\n        o1 = input.charCodeAt(position++);\n        o2 = input.charCodeAt(position++);\n        o3 = input.charCodeAt(position++);\n\n        // 111111 112222 222233 333333\n        e1 = o1 >> 2;\n        e2 = ((o1 & 0x3) << 4) | (o2 >> 4);\n        e3 = ((o2 & 0xf) << 2) | (o3 >> 6);\n        e4 = o3 & 0x3f;\n\n        if (position === input.length + 2) {\n          e3 = 64;\n          e4 = 64;\n        }\n        else if (position === input.length + 1) {\n          e4 = 64;\n        }\n\n        out.push(B64_ALPHABET.charAt(e1),\n                 B64_ALPHABET.charAt(e2),\n                 B64_ALPHABET.charAt(e3),\n                 B64_ALPHABET.charAt(e4));\n      }\n\n      return out.join('');\n    };\n\n    global.atob = atob;\n    global.btoa = btoa;\n  }());\n\n  // requestAnimationFrame - needed for IE9-\n  (function() {\n    if ('requestAnimationFrame' in global)\n      return;\n\n    var TARGET_FPS = 60,\n        requests = Object.create(null),\n        raf_handle = 0,\n        timeout_handle = -1;\n\n    function isVisible(element) {\n      return element.offsetWidth > 0 && element.offsetHeight > 0;\n    }\n\n    function onFrameTimer() {\n      var cur_requests = requests;\n      requests = Object.create(null);\n      timeout_handle = -1;\n      Object.keys(cur_requests).forEach(function(id) {\n        var request = cur_requests[id];\n        if (!request.element || isVisible(request.element))\n          request.callback(Date.now());\n      });\n    }\n\n    function requestAnimationFrame(callback, element) {\n      var cb_handle = ++raf_handle;\n      requests[cb_handle] = {callback: callback, element: element};\n      if (timeout_handle === -1)\n        timeout_handle = global.setTimeout(onFrameTimer, 1000 / TARGET_FPS);\n      return cb_handle;\n    }\n\n    function cancelAnimationFrame(handle) {\n      delete requests[handle];\n      if (Object.keys(requests).length === 0) {\n        global.clearTimeout(timeout_handle);\n        timeout_handle = -1;\n      }\n    }\n\n    global.requestAnimationFrame = requestAnimationFrame;\n    global.cancelAnimationFrame = cancelAnimationFrame;\n  }());\n\n}(self));\n(function(global) {\n  'use strict';\n  if (!('window' in global && 'document' in global))\n    return;\n\n  //----------------------------------------------------------------------\n  //\n  // DOM\n  // https://dom.spec.whatwg.org/\n  //\n  //----------------------------------------------------------------------\n\n  // Document.querySelectorAll method\n  // http://ajaxian.com/archives/creating-a-queryselector-for-ie-that-runs-at-native-speed\n  // Needed for: IE7-\n  if (!document.querySelectorAll) {\n    document.querySelectorAll = function(selectors) {\n      var style = document.createElement('style'), elements = [], element;\n      document.documentElement.firstChild.appendChild(style);\n      document._qsa = [];\n\n      style.styleSheet.cssText = selectors + '{x-qsa:expression(document._qsa && document._qsa.push(this))}';\n      window.scrollBy(0, 0);\n      style.parentNode.removeChild(style);\n\n      while (document._qsa.length) {\n        element = document._qsa.shift();\n        element.style.removeAttribute('x-qsa');\n        elements.push(element);\n      }\n      document._qsa = null;\n      return elements;\n    };\n  }\n\n  // Document.querySelector method\n  // Needed for: IE7-\n  if (!document.querySelector) {\n    document.querySelector = function(selectors) {\n      var elements = document.querySelectorAll(selectors);\n      return (elements.length) ? elements[0] : null;\n    };\n  }\n\n  // Document.getElementsByClassName method\n  // Needed for: IE8-\n  if (!document.getElementsByClassName) {\n    document.getElementsByClassName = function(classNames) {\n      classNames = String(classNames).replace(/^|\\s+/g, '.');\n      return document.querySelectorAll(classNames);\n    };\n  }\n\n  // Node interface constants\n  // Needed for: IE8-\n  global.Node = global.Node || function() { throw TypeError(\"Illegal constructor\"); };\n  [\n    ['ELEMENT_NODE', 1],\n    ['ATTRIBUTE_NODE', 2],\n    ['TEXT_NODE', 3],\n    ['CDATA_SECTION_NODE', 4],\n    ['ENTITY_REFERENCE_NODE', 5],\n    ['ENTITY_NODE', 6],\n    ['PROCESSING_INSTRUCTION_NODE', 7],\n    ['COMMENT_NODE', 8],\n    ['DOCUMENT_NODE', 9],\n    ['DOCUMENT_TYPE_NODE', 10],\n    ['DOCUMENT_FRAGMENT_NODE', 11],\n    ['NOTATION_NODE', 12]\n  ].forEach(function(p) { if (!(p[0] in global.Node)) global.Node[p[0]] = p[1]; });\n\n  // DOMException constants\n  // Needed for: IE8-\n  global.DOMException = global.DOMException || function() { throw TypeError(\"Illegal constructor\"); };\n  [\n    ['INDEX_SIZE_ERR', 1],\n    ['DOMSTRING_SIZE_ERR', 2],\n    ['HIERARCHY_REQUEST_ERR', 3],\n    ['WRONG_DOCUMENT_ERR', 4],\n    ['INVALID_CHARACTER_ERR', 5],\n    ['NO_DATA_ALLOWED_ERR', 6],\n    ['NO_MODIFICATION_ALLOWED_ERR', 7],\n    ['NOT_FOUND_ERR', 8],\n    ['NOT_SUPPORTED_ERR', 9],\n    ['INUSE_ATTRIBUTE_ERR', 10],\n    ['INVALID_STATE_ERR', 11],\n    ['SYNTAX_ERR', 12],\n    ['INVALID_MODIFICATION_ERR', 13],\n    ['NAMESPACE_ERR', 14],\n    ['INVALID_ACCESS_ERR', 15]\n  ].forEach(function(p) { if (!(p[0] in global.DOMException)) global.DOMException[p[0]] = p[1]; });\n\n  // Event and EventTargets interfaces\n  // Needed for: IE8\n  (function(){\n    if (!('Element' in global) || Element.prototype.addEventListener || !Object.defineProperty)\n      return;\n\n    // interface Event\n\n    // PhaseType (const unsigned short)\n    Event.CAPTURING_PHASE = 1;\n    Event.AT_TARGET       = 2;\n    Event.BUBBLING_PHASE  = 3;\n\n    Object.defineProperties(Event.prototype, {\n      CAPTURING_PHASE: { get: function() { return 1; } },\n      AT_TARGET:       { get: function() { return 2; } },\n      BUBBLING_PHASE:   { get: function() { return 3; } },\n      target: {\n        get: function() {\n          return this.srcElement;\n        }},\n      currentTarget: {\n        get: function() {\n          return this._currentTarget;\n        }},\n      eventPhase: {\n        get: function() {\n          return (this.srcElement === this.currentTarget) ? Event.AT_TARGET : Event.BUBBLING_PHASE;\n        }},\n      bubbles: {\n        get: function() {\n          switch (this.type) {\n            // Mouse\n          case 'click':\n          case 'dblclick':\n          case 'mousedown':\n          case 'mouseup':\n          case 'mouseover':\n          case 'mousemove':\n          case 'mouseout':\n          case 'mousewheel':\n            // Keyboard\n          case 'keydown':\n          case 'keypress':\n          case 'keyup':\n            // Frame/Object\n          case 'resize':\n          case 'scroll':\n            // Form\n          case 'select':\n          case 'change':\n          case 'submit':\n          case 'reset':\n            return true;\n          }\n          return false;\n        }},\n      cancelable: {\n        get: function() {\n          switch (this.type) {\n            // Mouse\n          case 'click':\n          case 'dblclick':\n          case 'mousedown':\n          case 'mouseup':\n          case 'mouseover':\n          case 'mouseout':\n          case 'mousewheel':\n            // Keyboard\n          case 'keydown':\n          case 'keypress':\n          case 'keyup':\n            // Form\n          case 'submit':\n            return true;\n          }\n          return false;\n        }},\n      timeStamp: {\n        get: function() {\n          return this._timeStamp;\n        }},\n      stopPropagation: {\n        value: function() {\n          this.cancelBubble = true;\n        }},\n      preventDefault: {\n        value: function() {\n          this.returnValue = false;\n        }},\n      defaultPrevented: {\n        get: function() {\n          return this.returnValue === false;\n        }}\n    });\n\n    // interface EventTarget\n\n    function addEventListener(type, listener, useCapture) {\n      if (typeof listener !== 'function') return;\n      if (type === 'DOMContentLoaded') type = 'load';\n      var target = this;\n      var f = function(e) {\n        e._timeStamp = Date.now();\n        e._currentTarget = target;\n        listener.call(this, e);\n        e._currentTarget = null;\n      };\n      this['_' + type + listener] = f;\n      this.attachEvent('on' + type, f);\n    }\n\n    function removeEventListener(type, listener, useCapture) {\n      if (typeof listener !== 'function') return;\n      if (type === 'DOMContentLoaded') type = 'load';\n      var f = this['_' + type + listener];\n      if (f) {\n        this.detachEvent('on' + type, f);\n        this['_' + type + listener] = null;\n      }\n    }\n\n    [Window, HTMLDocument, Element].forEach(function(o) {\n      o.prototype.addEventListener = addEventListener;\n      o.prototype.removeEventListener = removeEventListener;\n    });\n  }());\n\n  // CustomEvent\n  // https://developer.mozilla.org/en-US/docs/Web/API/CustomEvent/CustomEvent\n  // Needed for: IE\n  (function () {\n    if ('CustomEvent' in global && typeof global.CustomEvent === \"function\")\n      return;\n    function CustomEvent ( event, params ) {\n      params = params || { bubbles: false, cancelable: false, detail: undefined };\n      var evt = document.createEvent( 'CustomEvent' );\n      evt.initCustomEvent( event, params.bubbles, params.cancelable, params.detail );\n      return evt;\n    }\n    CustomEvent.prototype = global.Event.prototype;\n    global.CustomEvent = CustomEvent;\n  })();\n\n  // Shim for DOM Events for IE7-\n  // http://www.quirksmode.org/blog/archives/2005/10/_and_the_winner_1.html\n  // Use addEvent(object, event, handler) instead of object.addEventListener(event, handler)\n  window.addEvent = function(obj, type, fn) {\n    if (obj.addEventListener) {\n      obj.addEventListener(type, fn, false);\n    } else if (obj.attachEvent) {\n      obj[\"e\" + type + fn] = fn;\n      obj[type + fn] = function() {\n        var e = window.event;\n        e.currentTarget = obj;\n        e.preventDefault = function() { e.returnValue = false; };\n        e.stopPropagation = function() { e.cancelBubble = true; };\n        e.target = e.srcElement;\n        e.timeStamp = Date.now();\n        obj[\"e\" + type + fn].call(this, e);\n      };\n      obj.attachEvent(\"on\" + type, obj[type + fn]);\n    }\n  };\n\n  window.removeEvent = function(obj, type, fn) {\n    if (obj.removeEventListener) {\n      obj.removeEventListener(type, fn, false);\n    } else if (obj.detachEvent) {\n      obj.detachEvent(\"on\" + type, obj[type + fn]);\n      obj[type + fn] = null;\n      obj[\"e\" + type + fn] = null;\n    }\n  };\n\n\n  function addToElementPrototype(p, f) {\n    if ('Element' in global && Element.prototype && Object.defineProperty) {\n      Object.defineProperty(Element.prototype, p, { get: f });\n    }\n  }\n\n  // DOMTokenList interface and Element.classList / Element.relList\n  // Needed for: IE9-\n  // Use getClassList(elem) instead of elem.classList() if IE7- support is needed\n  // Use getRelList(elem) instead of elem.relList() if IE7- support is needed\n  (function() {\n    function DOMTokenListShim(o, p) {\n      function split(s) { return s.length ? s.split(/\\s+/g) : []; }\n\n      // NOTE: This does not exactly match the spec.\n      function removeTokenFromString(token, string) {\n        var tokens = split(string),\n            index = tokens.indexOf(token);\n        if (index !== -1) {\n          tokens.splice(index, 1);\n        }\n        return tokens.join(' ');\n      }\n\n      Object.defineProperties(\n        this,\n        {\n          length: {\n            get: function() { return split(o[p]).length; }\n          },\n\n          item: {\n            value: function(idx) {\n              var tokens = split(o[p]);\n              return 0 <= idx && idx < tokens.length ? tokens[idx] : null;\n            }\n          },\n\n          contains: {\n            value: function(token) {\n              token = String(token);\n              var tokens = split(o[p]);\n\n              return tokens.indexOf(token) !== -1;\n            }\n          },\n\n          add: {\n            value: function(/*tokens...*/) {\n              var tokens = Array.prototype.slice.call(arguments).map(String);\n              if (tokens.some(function(token) { return token.length === 0; })) {\n                throw SyntaxError();\n              }\n              if (tokens.some(function(token) { return (/\\s/).test(token); })) {\n                throw Error(\"InvalidCharacterError\");\n              }\n\n              try {\n                var underlying_string = o[p];\n                var token_list = split(underlying_string);\n                tokens = tokens.filter(function(token) { return token_list.indexOf(token) === -1; });\n                if (tokens.length === 0) {\n                  return;\n                }\n                if (underlying_string.length !== 0 && !(/\\s$/).test(underlying_string)) {\n                  underlying_string += ' ';\n                }\n                underlying_string += tokens.join(' ');\n                o[p] = underlying_string;\n              } finally {\n                var length = split(o[p]).length;\n                if (this.length !== length) { this.length = length; }\n              }\n            }\n          },\n\n          remove: {\n            value: function(/*tokens...*/) {\n              var tokens = Array.prototype.slice.call(arguments).map(String);\n              if (tokens.some(function(token) { return token.length === 0; })) {\n                throw SyntaxError();\n              }\n              if (tokens.some(function(token) { return (/\\s/).test(token); })) {\n                throw Error(\"InvalidCharacterError\");\n              }\n\n              try {\n                var underlying_string = o[p];\n                tokens.forEach(function(token) {\n                  underlying_string = removeTokenFromString(token, underlying_string);\n                });\n                o[p] = underlying_string;\n              } finally {\n                var length = split(o[p]).length;\n                if (this.length !== length) { this.length = length; }\n              }\n            }\n          },\n\n          toggle: {\n            value: function(token/*, force*/) {\n              var force = arguments[1];\n              try {\n                token = String(token);\n                if (token.length === 0) { throw SyntaxError(); }\n                if (/\\s/.test(token)) { throw Error(\"InvalidCharacterError\"); }\n                var tokens = split(o[p]),\n                    index = tokens.indexOf(token);\n\n                if (index !== -1 && (!force || force === (void 0))) {\n                  o[p] = removeTokenFromString(token, o[p]);\n                  return false;\n                }\n                if (index !== -1 && force) {\n                  return true;\n                }\n                var underlying_string = o[p];\n                if (underlying_string.length !== 0 && !/\\s$/.test(underlying_string)) {\n                  underlying_string += ' ';\n                }\n                underlying_string += token;\n                o[p] = underlying_string;\n                return true;\n              } finally {\n                var length = split(o[p]).length;\n                if (this.length !== length) { this.length = length; }\n              }\n            }\n          },\n\n          toString: {\n            value: function() {\n              return o[p];\n            }\n          }\n        });\n      if (!('length' in this)) {\n        // In case getters are not supported\n        this.length = split(o[p]).length;\n      } else {\n        // If they are, shim in index getters (up to 100)\n        for (var i = 0; i < 100; ++i) {\n          Object.defineProperty(this, String(i), {\n            get: (function(n) { return function() { return this.item(n); }; }(i))\n          });\n        }\n      }\n    }\n\n    // HTML - https://html.spec.whatwg.org\n    // Element.classList\n    if ('classList' in document.createElement('span')) {\n      window.getClassList = function(elem) { return elem.classList; };\n    } else {\n      window.getClassList = function(elem) { return new DOMTokenListShim(elem, 'className'); };\n      addToElementPrototype('classList', function() { return new DOMTokenListShim(this, 'className'); } );\n    }\n\n    // HTML - https://html.spec.whatwg.org\n    // HTMLAnchorElement.relList\n    // HTMLLinkElement.relList\n    if ('relList' in document.createElement('link')) {\n      window.getRelList = function(elem) { return elem.relList; };\n    } else {\n      window.getRelList = function(elem) { return new DOMTokenListShim(elem, 'rel'); };\n      addToElementPrototype('relList', function() { return new DOMTokenListShim(this, 'rel'); } );\n    }\n\n    // Add second argument to native DOMTokenList.toggle() if necessary\n    (function() {\n      if (!('DOMTokenList' in global)) return;\n      var e = document.createElement('span');\n      if (!('classList' in e)) return;\n      e.classList.toggle('x', false);\n      if (!e.classList.contains('x')) return;\n      global.DOMTokenList.prototype.toggle = function toggle(token/*, force*/) {\n        var force = arguments[1];\n        if (force === undefined) {\n          var add = !this.contains(token);\n          this[add ? 'add' : 'remove'](token);\n          return add;\n        }\n        force = !!force;\n        this[force ? 'add' : 'remove'](token);\n        return force;\n      };\n    }());\n\n  }());\n\n\n  // Interface NonDocumentTypeChildNode\n  // previousElementSibling / nextElementSibling - for IE8\n\n  if (!('previousElementSibling' in document.documentElement)) {\n    addToElementPrototype('previousElementSibling', function() {\n      var n = this.previousSibling;\n      while (n && n.nodeType !== Node.ELEMENT_NODE)\n        n = n.previousSibling;\n      return n;\n    });\n  }\n\n  if (!('nextElementSibling' in document.documentElement)) {\n    addToElementPrototype('nextElementSibling', function() {\n      var n = this.nextSibling;\n      while (n && n.nodeType !== Node.ELEMENT_NODE)\n        n = n.nextSibling;\n      return n;\n    });\n  }\n\n\n  // Element.matches\n  // https://developer.mozilla.org/en/docs/Web/API/Element/matches\n  // Needed for: IE, Firefox 3.6, early Webkit and Opera 15.0\n  // Use msMatchesSelector(selector) for IE\n  // Use oMatchesSelector(selector) for Opera 15.0\n  // Use mozMatchesSelector(selector) for Firefox 3.6\n  // Use webkitMatchesSelector(selector) for early Webkit\n  // Use polyfill if no matches() support, but querySelectorAll() support\n  if ('Element' in global && !Element.prototype.matches) {\n    if (Element.prototype.msMatchesSelector) {\n      Element.prototype.matches = Element.prototype.msMatchesSelector;\n    } else if (Element.prototype.oMatchesSelector) {\n      Element.prototype.matches = Element.prototype.oMatchesSelector;\n    } else if (Element.prototype.mozMatchesSelector) {\n      Element.prototype.matches = Element.prototype.mozMatchesSelector;\n    } else if (Element.prototype.webkitMatchesSelector) {\n      Element.prototype.matches = Element.prototype.webkitMatchesSelector;\n    } else if (document.querySelectorAll) {\n      Element.prototype.matches = function matches(selector) {\n        var matches = (this.document || this.ownerDocument).querySelectorAll(selector),\n            i = matches.length;\n        while (--i >= 0 && matches.item(i) !== this) {}\n        return i > -1;\n      };\n    }\n  }\n\n  // Element.closest\n  // https://developer.mozilla.org/en-US/docs/Web/API/Element/closest\n  if (window.Element && !Element.prototype.closest) {\n    Element.prototype.closest = function(s) {\n      var matches = (this.document || this.ownerDocument).querySelectorAll(s),\n          i,\n          el = this;\n      do {\n        i = matches.length;\n        while (--i >= 0 && matches.item(i) !== el) {};\n      } while ((i < 0) && (el = el.parentElement));\n      return el;\n    };\n  }\n\n  function mixin(o, ps) {\n    if (!o) return;\n    Object.keys(ps).forEach(function(p) {\n      if ((p in o) || (p in o.prototype)) return;\n      try {\n        Object.defineProperty(\n          o.prototype,\n          p,\n          Object.getOwnPropertyDescriptor(ps, p)\n        );\n      } catch (ex) {\n        // Throws in IE8; just copy it\n        o[p] = ps[p];\n      }\n    });\n  }\n\n  // Mixin ParentNode\n  // https://dom.spec.whatwg.org/#interface-parentnode\n\n  function convertNodesIntoANode(nodes) {\n    var node = null;\n    nodes = nodes.map(function(node) {\n      return !(node instanceof Node) ? document.createTextNode(node) : node;\n    });\n    if (nodes.length === 1) {\n      node = nodes[0];\n    } else {\n      node = document.createDocumentFragment();\n      nodes.forEach(function(n) { node.appendChild(n); });\n    }\n    return node;\n  }\n\n  var ParentNode = {\n    prepend: function(/*...nodes*/) {\n      var nodes = [].slice.call(arguments);\n      nodes = convertNodesIntoANode(nodes);\n      this.insertBefore(nodes, this.firstChild);\n    },\n    append: function(/*...nodes*/) {\n      var nodes = [].slice.call(arguments);\n      nodes = convertNodesIntoANode(nodes);\n      this.appendChild(nodes);\n    }\n  };\n\n  mixin(global.Document || global.HTMLDocument, ParentNode); // HTMLDocument for IE8\n  mixin(global.DocumentFragment, ParentNode);\n  mixin(global.Element, ParentNode);\n\n  // Attributes for IE8\n  if (!('firstElementChild' in document.documentElement)) {\n    addToElementPrototype('firstElementChild', function() {\n      for (var nodes = this.children, i = 0, l = nodes.length; i < l; ++i) {\n        var n = nodes[i];\n        if (n.nodeType === Node.ELEMENT_NODE) return n;\n      }\n      return null;\n    });\n  }\n\n  if (!('lastElementChild' in document.documentElement)) {\n    addToElementPrototype('lastElementChild', function() {\n      for (var nodes = this.children, i = nodes.length - 1; i >= 0; --i) {\n        var n = nodes[i];\n        if (n.nodeType === Node.ELEMENT_NODE) return n;\n      }\n      return null;\n    });\n  }\n\n  if (!('childElementCount' in document.documentElement)) {\n    addToElementPrototype('childElementCount', function() {\n      for (var c = 0, nodes = this.children, i = 0, l = nodes.length; i < l; ++i) {\n        if (nodes[i].nodeType === Node.ELEMENT_NODE) ++c;\n      }\n      return c;\n    });\n  }\n\n  // Mixin ChildNode\n  // https://dom.spec.whatwg.org/#interface-childnode\n\n  var ChildNode = {\n    before: function(/*...nodes*/) {\n      var nodes = [].slice.call(arguments);\n      var parent = this.parentNode;\n      if (!parent) return;\n      var viablePreviousSibling = this.previousSibling;\n      while (nodes.indexOf(viablePreviousSibling) !== -1)\n        viablePreviousSibling = viablePreviousSibling.previousSibling;\n      var node = convertNodesIntoANode(nodes);\n      parent.insertBefore(node, viablePreviousSibling ?\n                          viablePreviousSibling.nextSibling : parent.firstChild);\n    },\n    after: function(/*...nodes*/) {\n      var nodes = [].slice.call(arguments);\n      var parent = this.parentNode;\n      if (!parent) return;\n      var viableNextSibling = this.nextSibling;\n      while (nodes.indexOf(viableNextSibling) !== -1)\n        viableNextSibling = viableNextSibling.nextSibling;\n      var node = convertNodesIntoANode(nodes);\n      parent.insertBefore(node, viableNextSibling);\n    },\n    replaceWith: function(/*...nodes*/) {\n      var nodes = [].slice.call(arguments);\n      var parent = this.parentNode;\n      if (!parent) return;\n      var viableNextSibling = this.nextSibling;\n      while (nodes.indexOf(viableNextSibling) !== -1)\n        viableNextSibling = viableNextSibling.nextSibling;\n      var node = convertNodesIntoANode(nodes);\n\n      if (this.parentNode === parent)\n        parent.replaceChild(node, this);\n      else\n        parent.insertBefore(node, viableNextSibling);\n    },\n    remove: function() {\n      if (!this.parentNode) return;\n      this.parentNode.removeChild(this);\n    }\n  };\n\n  mixin(global.DocumentType, ChildNode);\n  mixin(global.Element, ChildNode);\n  mixin(global.CharacterData, ChildNode);\n\n}(self));\n(function(global) {\n  'use strict';\n\n  if (!('window' in global && 'document' in global))\n    return;\n\n  //----------------------------------------------------------------------\n  //\n  // XMLHttpRequest\n  // https://xhr.spec.whatwg.org\n  //\n  //----------------------------------------------------------------------\n\n  // XMLHttpRequest interface\n  // Needed for: IE7-\n  global.XMLHttpRequest = global.XMLHttpRequest || function() {\n    try { return new ActiveXObject(\"Msxml2.XMLHTTP.6.0\"); } catch (_) { }\n    try { return new ActiveXObject(\"Msxml2.XMLHTTP.3.0\"); } catch (_) { }\n    try { return new ActiveXObject(\"Msxml2.XMLHTTP\"); } catch (_) { }\n    throw Error(\"This browser does not support XMLHttpRequest.\");\n  };\n\n  // XMLHttpRequest interface constants\n  // Needed for IE8-\n  [\n    ['UNSENT', 0],\n    ['OPENED', 1],\n    ['HEADERS_RECEIVED', 2],\n    ['LOADING', 3],\n    ['DONE', 4],\n  ].forEach(function(p) { if (!(p[0] in global.XMLHttpRequest)) global.XMLHttpRequest[p[0]] = p[1]; });\n\n  // FormData interface\n  // Needed for: IE9-\n  (function() {\n    if ('FormData' in global)\n      return;\n\n    function FormData(form) {\n      this._data = [];\n      if (!form) return;\n      for (var i = 0; i < form.elements.length; ++i) {\n        var element = form.elements[i];\n        if (element.name !== '')\n          this.append(element.name, element.value);\n      }\n    }\n\n    FormData.prototype = {\n      append: function(name, value /*, filename */) {\n        if ('Blob' in global && value instanceof global.Blob)\n          throw TypeError(\"Blob not supported\");\n        name = String(name);\n        this._data.push([name, value]);\n      },\n\n      toString: function() {\n        return this._data.map(function(pair) {\n          return encodeURIComponent(pair[0]) + '=' + encodeURIComponent(pair[1]);\n        }).join('&');\n      }\n    };\n\n    global.FormData = FormData;\n    var send = global.XMLHttpRequest.prototype.send;\n    global.XMLHttpRequest.prototype.send = function(body) {\n      if (body instanceof FormData) {\n        this.setRequestHeader('Content-Type', 'application/x-www-form-urlencoded');\n        arguments[0] = body.toString();\n      }\n      return send.apply(this, arguments);\n    };\n  }());\n\n}(self));\n(function(global) {\n  'use strict';\n\n  if (!('window' in global && 'document' in global))\n    return;\n\n  //----------------------------------------------------------------------\n  //\n  // CSSOM View Module\n  // https://dev.w3.org/csswg/cssom-view/\n  //\n  //----------------------------------------------------------------------\n\n  // Fix for IE8-'s Element.getBoundingClientRect()\n  if ('TextRectangle' in global && !('width' in global.TextRectangle.prototype)) {\n    Object.defineProperties(global.TextRectangle.prototype, {\n      width: { get: function() { return this.right - this.left; } },\n      height: { get: function() { return this.bottom - this.top; } }\n    });\n  }\n}(self));\n// URL Polyfill\n// Draft specification: https://url.spec.whatwg.org\n\n// Notes:\n// - Primarily useful for parsing URLs and modifying query parameters\n// - Should work in IE8+ and everything more modern, with es5.js polyfills\n\n(function (global) {\n  'use strict';\n\n  function isSequence(o) {\n    if (!o) return false;\n    if ('Symbol' in global && 'iterator' in global.Symbol &&\n        typeof o[Symbol.iterator] === 'function') return true;\n    if (Array.isArray(o)) return true;\n    return false;\n  }\n\n  function toArray(iter) {\n    return ('from' in Array) ? Array.from(iter) : Array.prototype.slice.call(iter);\n  }\n\n  (function() {\n\n    // Browsers may have:\n    // * No global URL object\n    // * URL with static methods only - may have a dummy constructor\n    // * URL with members except searchParams\n    // * Full URL API support\n    var origURL = global.URL;\n    var nativeURL;\n    try {\n      if (origURL) {\n        nativeURL = new global.URL('http://example.com');\n        if ('searchParams' in nativeURL)\n          return;\n        if (!('href' in nativeURL))\n          nativeURL = undefined;\n      }\n    } catch (_) {}\n\n    // NOTE: Doesn't do the encoding/decoding dance\n    function urlencoded_serialize(pairs) {\n      var output = '', first = true;\n      pairs.forEach(function (pair) {\n        var name = encodeURIComponent(pair.name);\n        var value = encodeURIComponent(pair.value);\n        if (!first) output += '&';\n        output += name + '=' + value;\n        first = false;\n      });\n      return output.replace(/%20/g, '+');\n    }\n\n    // NOTE: Doesn't do the encoding/decoding dance\n    function urlencoded_parse(input, isindex) {\n      var sequences = input.split('&');\n      if (isindex && sequences[0].indexOf('=') === -1)\n        sequences[0] = '=' + sequences[0];\n      var pairs = [];\n      sequences.forEach(function (bytes) {\n        if (bytes.length === 0) return;\n        var index = bytes.indexOf('=');\n        if (index !== -1) {\n          var name = bytes.substring(0, index);\n          var value = bytes.substring(index + 1);\n        } else {\n          name = bytes;\n          value = '';\n        }\n        name = name.replace(/\\+/g, ' ');\n        value = value.replace(/\\+/g, ' ');\n        pairs.push({ name: name, value: value });\n      });\n      var output = [];\n      pairs.forEach(function (pair) {\n        output.push({\n          name: decodeURIComponent(pair.name),\n          value: decodeURIComponent(pair.value)\n        });\n      });\n      return output;\n    }\n\n    function URLUtils(url) {\n      if (nativeURL)\n        return new origURL(url);\n      var anchor = document.createElement('a');\n      anchor.href = url;\n      return anchor;\n    }\n\n    function URLSearchParams(init) {\n      var $this = this;\n      this._list = [];\n\n      if (init === undefined || init === null) {\n        // no-op\n      } else if (init instanceof URLSearchParams) {\n        // In ES6 init would be a sequence, but special case for ES5.\n        this._list = urlencoded_parse(String(init));\n      } else if (typeof init === 'object' && isSequence(init)) {\n        toArray(init).forEach(function(e) {\n          if (!isSequence(e)) throw TypeError();\n          var nv = toArray(e);\n          if (nv.length !== 2) throw TypeError();\n          $this._list.push({name: String(nv[0]), value: String(nv[1])});\n        });\n      } else if (typeof init === 'object' && init) {\n        Object.keys(init).forEach(function(key) {\n          $this._list.push({name: String(key), value: String(init[key])});\n        });\n      } else {\n        init = String(init);\n        if (init.substring(0, 1) === '?')\n          init = init.substring(1);\n        this._list = urlencoded_parse(init);\n      }\n\n      this._url_object = null;\n      this._setList = function (list) { if (!updating) $this._list = list; };\n\n      var updating = false;\n      this._update_steps = function() {\n        if (updating) return;\n        updating = true;\n\n        if (!$this._url_object) return;\n\n        // Partial workaround for IE issue with 'about:'\n        if ($this._url_object.protocol === 'about:' &&\n            $this._url_object.pathname.indexOf('?') !== -1) {\n          $this._url_object.pathname = $this._url_object.pathname.split('?')[0];\n        }\n\n        $this._url_object.search = urlencoded_serialize($this._list);\n\n        updating = false;\n      };\n    }\n\n\n    Object.defineProperties(URLSearchParams.prototype, {\n      append: {\n        value: function (name, value) {\n          this._list.push({ name: name, value: value });\n          this._update_steps();\n        }, writable: true, enumerable: true, configurable: true\n      },\n\n      'delete': {\n        value: function (name) {\n          for (var i = 0; i < this._list.length;) {\n            if (this._list[i].name === name)\n              this._list.splice(i, 1);\n            else\n              ++i;\n          }\n          this._update_steps();\n        }, writable: true, enumerable: true, configurable: true\n      },\n\n      get: {\n        value: function (name) {\n          for (var i = 0; i < this._list.length; ++i) {\n            if (this._list[i].name === name)\n              return this._list[i].value;\n          }\n          return null;\n        }, writable: true, enumerable: true, configurable: true\n      },\n\n      getAll: {\n        value: function (name) {\n          var result = [];\n          for (var i = 0; i < this._list.length; ++i) {\n            if (this._list[i].name === name)\n              result.push(this._list[i].value);\n          }\n          return result;\n        }, writable: true, enumerable: true, configurable: true\n      },\n\n      has: {\n        value: function (name) {\n          for (var i = 0; i < this._list.length; ++i) {\n            if (this._list[i].name === name)\n              return true;\n          }\n          return false;\n        }, writable: true, enumerable: true, configurable: true\n      },\n\n      set: {\n        value: function (name, value) {\n          var found = false;\n          for (var i = 0; i < this._list.length;) {\n            if (this._list[i].name === name) {\n              if (!found) {\n                this._list[i].value = value;\n                found = true;\n                ++i;\n              } else {\n                this._list.splice(i, 1);\n              }\n            } else {\n              ++i;\n            }\n          }\n\n          if (!found)\n            this._list.push({ name: name, value: value });\n\n          this._update_steps();\n        }, writable: true, enumerable: true, configurable: true\n      },\n\n      entries: {\n        value: function() { return new Iterator(this._list, 'key+value'); },\n        writable: true, enumerable: true, configurable: true\n      },\n\n      keys: {\n        value: function() { return new Iterator(this._list, 'key'); },\n        writable: true, enumerable: true, configurable: true\n      },\n\n      values: {\n        value: function() { return new Iterator(this._list, 'value'); },\n        writable: true, enumerable: true, configurable: true\n      },\n\n      forEach: {\n        value: function(callback) {\n          var thisArg = (arguments.length > 1) ? arguments[1] : undefined;\n          this._list.forEach(function(pair, index) {\n            callback.call(thisArg, pair.value, pair.name);\n          });\n\n        }, writable: true, enumerable: true, configurable: true\n      },\n\n      toString: {\n        value: function () {\n          return urlencoded_serialize(this._list);\n        }, writable: true, enumerable: false, configurable: true\n      }\n    });\n\n    function Iterator(source, kind) {\n      var index = 0;\n      this['next'] = function() {\n        if (index >= source.length)\n          return {done: true, value: undefined};\n        var pair = source[index++];\n        return {done: false, value:\n                kind === 'key' ? pair.name :\n                kind === 'value' ? pair.value :\n                [pair.name, pair.value]};\n      };\n    }\n\n    if ('Symbol' in global && 'iterator' in global.Symbol) {\n      Object.defineProperty(URLSearchParams.prototype, global.Symbol.iterator, {\n        value: URLSearchParams.prototype.entries,\n        writable: true, enumerable: true, configurable: true});\n      Object.defineProperty(Iterator.prototype, global.Symbol.iterator, {\n        value: function() { return this; },\n        writable: true, enumerable: true, configurable: true});\n    }\n\n    function URL(url, base) {\n      if (!(this instanceof global.URL))\n        throw new TypeError(\"Failed to construct 'URL': Please use the 'new' operator.\");\n\n      if (base) {\n        url = (function () {\n          if (nativeURL) return new origURL(url, base).href;\n          var iframe;\n          try {\n            var doc;\n            // Use another document/base tag/anchor for relative URL resolution, if possible\n            if (Object.prototype.toString.call(window.operamini) === \"[object OperaMini]\") {\n              iframe = document.createElement('iframe');\n              iframe.style.display = 'none';\n              document.documentElement.appendChild(iframe);\n              doc = iframe.contentWindow.document;\n            } else if (document.implementation && document.implementation.createHTMLDocument) {\n              doc = document.implementation.createHTMLDocument('');\n            } else if (document.implementation && document.implementation.createDocument) {\n              doc = document.implementation.createDocument('http://www.w3.org/1999/xhtml', 'html', null);\n              doc.documentElement.appendChild(doc.createElement('head'));\n              doc.documentElement.appendChild(doc.createElement('body'));\n            } else if (window.ActiveXObject) {\n              doc = new window.ActiveXObject('htmlfile');\n              doc.write('<head><\\/head><body><\\/body>');\n              doc.close();\n            }\n\n            if (!doc) throw Error('base not supported');\n\n            var baseTag = doc.createElement('base');\n            baseTag.href = base;\n            doc.getElementsByTagName('head')[0].appendChild(baseTag);\n            var anchor = doc.createElement('a');\n            anchor.href = url;\n            return anchor.href;\n          } finally {\n            if (iframe)\n              iframe.parentNode.removeChild(iframe);\n          }\n        }());\n      }\n\n      // An inner object implementing URLUtils (either a native URL\n      // object or an HTMLAnchorElement instance) is used to perform the\n      // URL algorithms. With full ES5 getter/setter support, return a\n      // regular object For IE8's limited getter/setter support, a\n      // different HTMLAnchorElement is returned with properties\n      // overridden\n\n      var instance = URLUtils(url || '');\n\n      // Detect for ES5 getter/setter support\n      // (an Object.defineProperties polyfill that doesn't support getters/setters may throw)\n      var ES5_GET_SET = (function() {\n        if (!('defineProperties' in Object)) return false;\n        try {\n          var obj = {};\n          Object.defineProperties(obj, { prop: { 'get': function () { return true; } } });\n          return obj.prop;\n        } catch (_) {\n          return false;\n        }\n      })();\n\n      var self = ES5_GET_SET ? this : document.createElement('a');\n\n\n\n      var query_object = new URLSearchParams(\n        instance.search ? instance.search.substring(1) : null);\n      query_object._url_object = self;\n\n      Object.defineProperties(self, {\n        href: {\n          get: function () { return instance.href; },\n          set: function (v) { instance.href = v; tidy_instance(); update_steps(); },\n          enumerable: true, configurable: true\n        },\n        origin: {\n          get: function () {\n            if ('origin' in instance) return instance.origin;\n            return this.protocol + '//' + this.host;\n          },\n          enumerable: true, configurable: true\n        },\n        protocol: {\n          get: function () { return instance.protocol; },\n          set: function (v) { instance.protocol = v; },\n          enumerable: true, configurable: true\n        },\n        username: {\n          get: function () { return instance.username; },\n          set: function (v) { instance.username = v; },\n          enumerable: true, configurable: true\n        },\n        password: {\n          get: function () { return instance.password; },\n          set: function (v) { instance.password = v; },\n          enumerable: true, configurable: true\n        },\n        host: {\n          get: function () {\n            // IE returns default port in |host|\n            var re = {'http:': /:80$/, 'https:': /:443$/, 'ftp:': /:21$/}[instance.protocol];\n            return re ? instance.host.replace(re, '') : instance.host;\n          },\n          set: function (v) { instance.host = v; },\n          enumerable: true, configurable: true\n        },\n        hostname: {\n          get: function () { return instance.hostname; },\n          set: function (v) { instance.hostname = v; },\n          enumerable: true, configurable: true\n        },\n        port: {\n          get: function () { return instance.port; },\n          set: function (v) { instance.port = v; },\n          enumerable: true, configurable: true\n        },\n        pathname: {\n          get: function () {\n            // IE does not include leading '/' in |pathname|\n            if (instance.pathname.charAt(0) !== '/') return '/' + instance.pathname;\n            return instance.pathname;\n          },\n          set: function (v) { instance.pathname = v; },\n          enumerable: true, configurable: true\n        },\n        search: {\n          get: function () { return instance.search; },\n          set: function (v) {\n            if (instance.search === v) return;\n            instance.search = v; tidy_instance(); update_steps();\n          },\n          enumerable: true, configurable: true\n        },\n        searchParams: {\n          get: function () { return query_object; },\n          enumerable: true, configurable: true\n        },\n        hash: {\n          get: function () { return instance.hash; },\n          set: function (v) { instance.hash = v; tidy_instance(); },\n          enumerable: true, configurable: true\n        },\n        toString: {\n          value: function() { return instance.toString(); },\n          enumerable: false, configurable: true\n        },\n        valueOf: {\n          value: function() { return instance.valueOf(); },\n          enumerable: false, configurable: true\n        }\n      });\n\n      function tidy_instance() {\n        var href = instance.href.replace(/#$|\\?$|\\?(?=#)/g, '');\n        if (instance.href !== href)\n          instance.href = href;\n      }\n\n      function update_steps() {\n        query_object._setList(instance.search ? urlencoded_parse(instance.search.substring(1)) : []);\n        query_object._update_steps();\n      };\n\n      return self;\n    }\n\n    if (origURL) {\n      for (var i in origURL) {\n        if (origURL.hasOwnProperty(i) && typeof origURL[i] === 'function')\n          URL[i] = origURL[i];\n      }\n    }\n\n    global.URL = URL;\n    global.URLSearchParams = URLSearchParams;\n  }());\n\n  // Patch native URLSearchParams constructor to handle sequences/records\n  // if necessary.\n  (function() {\n    if (new global.URLSearchParams([['a', 1]]).get('a') === '1' &&\n        new global.URLSearchParams({a: 1}).get('a') === '1')\n      return;\n    var orig = global.URLSearchParams;\n    global.URLSearchParams = function(init) {\n      if (init && typeof init === 'object' && isSequence(init)) {\n        var o = new orig();\n        toArray(init).forEach(function(e) {\n          if (!isSequence(e)) throw TypeError();\n          var nv = toArray(e);\n          if (nv.length !== 2) throw TypeError();\n          o.append(nv[0], nv[1]);\n        });\n        return o;\n      } else if (init && typeof init === 'object') {\n        o = new orig();\n        Object.keys(init).forEach(function(key) {\n          o.set(key, init[key]);\n        });\n        return o;\n      } else {\n        return new orig(init);\n      }\n    };\n  }());\n\n}(self));\n// Work-In-Progress 'prollyfill' for Fetch API\n// Standard: https://fetch.spec.whatwg.org/#fetch-api\n//\n// As usual, the intent is to produce a forward-compatible\n// subset so that code can be written using future standard\n// functionality; not every case is considered or supported.\n\n// Requires ES2015: Promise, Symbol.iterator (or polyfill)\n// Requires: URL (or polyfill)\n\n// Example:\n//   fetch('README.md')\n//     .then(function(response) { return response.text(); })\n//     .then(function(text) { alert(text); });\n\n(function(global) {\n  'use strict';\n\n  // Web IDL concepts\n\n  // https://heycam.github.io/webidl/#idl-ByteString\n  function ByteString(value) {\n    value = String(value);\n    if (value.match(/[^\\x00-\\xFF]/)) throw TypeError('Not a valid ByteString');\n    return value;\n  }\n\n  // https://heycam.github.io/webidl/#idl-USVString\n  function USVString(value) {\n    value = String(value);\n    return value.replace(\n        /([\\u0000-\\uD7FF\\uE000-\\uFFFF]|[\\uD800-\\uDBFF][\\uDC00-\\uDFFF]|[\\uD800-\\uDFFF])/g,\n      function (c) {\n        if (/^[\\uD800-\\uDFFF]$/.test(c)) return '\\uFFFD';\n        return c;\n      });\n  }\n\n  function ushort(x) { return x & 0xFFFF; }\n\n  // 2 Terminology\n\n  function byteLowerCase(s) {\n    return String(s).replace(/[A-Z]/g, function(c) { return c.toLowerCase(); });\n  }\n\n  function byteUpperCase(s) {\n    return String(s).replace(/[a-z]/g, function(c) { return c.toUpperCase(); });\n  }\n\n  function byteCaseInsensitiveMatch(a, b) {\n    return byteLowerCase(a) === byteLowerCase(b);\n  }\n\n  // 2.1 HTTP\n\n  // 2.1.1 Methods\n\n  function isForbiddenMethod(m) {\n    m = byteUpperCase(m);\n    return m === 'CONNECT' || m === 'TRACE' || m === 'TRACK';\n  }\n\n  function normalizeMethod(m) {\n    var u = byteUpperCase(m);\n    if (u === 'DELETE' || u === 'GET' || u === 'HEAD' || u === 'OPTIONS' ||\n        u === 'POST' || u === 'PUT') return u;\n    return m;\n  }\n\n  function isName(s) {\n    return /^[!#$%&'*+\\-.09A-Z^_`a-z|~]+$/.test(s);\n  }\n  function isValue(s) {\n    // TODO: Implement me\n    return true;\n  }\n  function isForbiddenHeaderName(n) {\n    n = String(n).toLowerCase();\n    var forbidden = {\n      'accept-charset': true,\n      'accept-encoding': true,\n      'access-control-request-headers': true,\n      'access-control-request-method': true,\n      'connection': true,\n      'content-length': true,\n      'cookie': true,\n      'cookie2': true,\n      'date': true,\n      'dnt': true,\n      'expect': true,\n      'host': true,\n      'keep-alive': true,\n      'origin': true,\n      'referer': true,\n      'te': true,\n      'trailer': true,\n      'transfer-encoding': true,\n      'upgrade': true,\n      'user-agent': true,\n      'via': true\n    };\n    return forbidden[n] || n.substring(0, 6) === 'proxy-' || n.substring(0, 4) === 'sec-';\n  }\n\n  function isForbiddenResponseHeaderName(n) {\n    n = String(n).toLowerCase();\n    var forbidden = {\n      'set-cookie': true,\n      'set-cookie2': true\n    };\n    return forbidden[n];\n  }\n\n  function isSimpleHeader(name, value) {\n    name = String(name).toLowerCase();\n    return name === 'accept' || name === 'accept-language' || name === 'content-language' ||\n      (name === 'content-type' &&\n       ['application/x-www-form-encoded', 'multipart/form-data', 'text/plain'].indexOf(value) !== -1);\n  }\n\n  //\n  // 5.1 Headers class\n  //\n\n  // typedef (Headers or sequence<sequence<ByteString>> or OpenEndedDictionary<ByteString>) HeadersInit;\n\n  // Constructor(optional HeadersInit init)\n  function Headers(init) {\n    this._guard = 'none';\n    this._headerList = [];\n    if (init) fill(this, init);\n  }\n\n  function fill(headers, init) {\n    if (init instanceof Headers) {\n      init._headerList.forEach(function(header) {\n        headers.append(header[0], header[1]);\n      });\n    } else if (Array.isArray(init)) {\n      init.forEach(function(header) {\n        if (!Array.isArray(header) || header.length !== 2) throw TypeError();\n        headers.append(header[0], header[1]);\n      });\n    } else {\n      init = Object(init);\n      Object.keys(init).forEach(function(key) {\n        headers.append(key, init[key]);\n      });\n    }\n  }\n\n  // interface Headers\n  Headers.prototype = {\n    // void append(ByteString name, ByteString value);\n    append: function append(name, value) {\n      name = ByteString(name);\n      if (!isName(name) || !isValue(value)) throw TypeError();\n      if (this._guard === 'immutable') throw TypeError();\n      else if (this._guard === 'request' && isForbiddenHeaderName(name)) return;\n      else if (this._guard === 'request-no-CORS' && !isSimpleHeader(name, value)) return;\n      else if (this._guard === 'response' && isForbiddenResponseHeaderName(name)) return;\n\n      name = name.toLowerCase();\n      this._headerList.push([name, value]);\n    },\n\n    // void delete(ByteString name);\n    'delete': function delete_(name) {\n      name = ByteString(name);\n      if (!isName(name)) throw TypeError();\n      if (this._guard === 'immutable') throw TypeError();\n      else if (this._guard === 'request' && isForbiddenHeaderName(name)) return;\n      else if (this._guard === 'request-no-CORS' && !isSimpleHeader(name, 'invalid')) return;\n      else if (this._guard === 'response' && isForbiddenResponseHeaderName(name)) return;\n\n      name = name.toLowerCase();\n      var index = 0;\n      while (index < this._headerList.length) {\n        if (this._headerList[index][0] === name)\n          this._headerList.splice(index, 1);\n        else\n          ++index;\n      }\n    },\n\n    // ByteString? get(ByteString name);\n    get: function get(name) {\n      name = ByteString(name);\n      if (!isName(name)) throw TypeError();\n      name = name.toLowerCase();\n      for (var index = 0; index < this._headerList.length; ++index) {\n        if (this._headerList[index][0] === name)\n          return this._headerList[index][1];\n      }\n      return null;\n    },\n\n    // sequence<ByteString> getAll(ByteString name);\n    getAll: function getAll(name) {\n      name = ByteString(name);\n      if (!isName(name)) throw TypeError();\n      name = name.toLowerCase();\n      var sequence = [];\n      for (var index = 0; index < this._headerList.length; ++index) {\n        if (this._headerList[index][0] === name)\n          sequence.push(this._headerList[index][1]);\n      }\n      return sequence;\n    },\n\n    // boolean has(ByteString name);\n    has: function has(name) {\n      name = ByteString(name);\n      if (!isName(name)) throw TypeError();\n      name = name.toLowerCase();\n      for (var index = 0; index < this._headerList.length; ++index) {\n        if (this._headerList[index][0] === name)\n          return true;\n      }\n      return false;\n    },\n\n    // void set(ByteString name, ByteString value);\n    set: function set(name, value) {\n      name = ByteString(name);\n      if (!isName(name) || !isValue(value)) throw TypeError();\n      if (this._guard === 'immutable') throw TypeError();\n      else if (this._guard === 'request' && isForbiddenHeaderName(name)) return;\n      else if (this._guard === 'request-no-CORS' && !isSimpleHeader(name, value)) return;\n      else if (this._guard === 'response' && isForbiddenResponseHeaderName(name)) return;\n\n      name = name.toLowerCase();\n      for (var index = 0; index < this._headerList.length; ++index) {\n        if (this._headerList[index][0] === name) {\n          this._headerList[index++][1] = value;\n          while (index < this._headerList.length) {\n            if (this._headerList[index][0] === name)\n              this._headerList.splice(index, 1);\n            else\n              ++index;\n          }\n          return;\n        }\n      }\n      this._headerList.push([name, value]);\n    }\n  };\n  Headers.prototype[Symbol.iterator] = function() {\n    return new HeadersIterator(this);\n  };\n\n  function HeadersIterator(headers) {\n    this._headers = headers;\n    this._index = 0;\n  }\n  HeadersIterator.prototype = {};\n  HeadersIterator.prototype.next = function() {\n    if (this._index >= this._headers._headerList.length)\n      return { value: undefined, done: true };\n    return { value: this._headers._headerList[this._index++], done: false };\n  };\n  HeadersIterator.prototype[Symbol.iterator] = function() { return this; };\n\n\n  //\n  // 5.2 Body mixin\n  //\n\n  function Body(_stream) {\n    // TODO: Handle initialization from other types\n    this._stream = _stream;\n    this.bodyUsed = false;\n  }\n\n  // interface FetchBodyStream\n  Body.prototype = {\n    // Promise<ArrayBuffer> arrayBuffer();\n    arrayBuffer: function() {\n      if (this.bodyUsed) return Promise.reject(TypeError());\n      this.bodyUsed = true;\n      if (this._stream instanceof ArrayBuffer) return Promise.resolve(this._stream);\n      var value = this._stream;\n      return new Promise(function(resolve, reject) {\n        var octets = unescape(encodeURIComponent(value)).split('').map(function(c) {\n          return c.charCodeAt(0);\n        });\n        resolve(new Uint8Array(octets).buffer);\n      });\n    },\n    // Promise<Blob> blob();\n    blob: function() {\n      if (this.bodyUsed) return Promise.reject(TypeError());\n      this.bodyUsed = true;\n      if (this._stream instanceof Blob) return Promise.resolve(this._stream);\n      return Promise.resolve(new Blob([this._stream]));\n    },\n    // Promise<FormData> formData();\n    formData: function() {\n      if (this.bodyUsed) return Promise.reject(TypeError());\n      this.bodyUsed = true;\n      if (this._stream instanceof FormData) return Promise.resolve(this._stream);\n      return Promise.reject(Error('Not yet implemented'));\n    },\n    // Promise<JSON> json();\n    json: function() {\n      if (this.bodyUsed) return Promise.reject(TypeError());\n      this.bodyUsed = true;\n      var that = this;\n      return new Promise(function(resolve, reject) {\n        resolve(JSON.parse(that._stream));\n      });\n    },\n    // Promise<USVString> text();\n    text: function() {\n      if (this.bodyUsed) return Promise.reject(TypeError());\n      this.bodyUsed = true;\n      return Promise.resolve(String(this._stream));\n    }\n  };\n\n  //\n  // 5.3 Request class\n  //\n\n  // typedef (Request or USVString) RequestInfo;\n\n  // Constructor(RequestInfo input, optional RequestInit init)\n  function Request(input, init) {\n    if (arguments.length < 1) throw TypeError('Not enough arguments');\n\n    Body.call(this, null);\n\n    // readonly attribute ByteString method;\n    this.method = 'GET';\n\n    // readonly attribute USVString url;\n    this.url = '';\n\n    // readonly attribute Headers headers;\n    this.headers = new Headers();\n    this.headers._guard = 'request';\n\n    // readonly attribute DOMString referrer;\n    this.referrer = null; // TODO: Implement.\n\n    // readonly attribute RequestMode mode;\n    this.mode = null; // TODO: Implement.\n\n    // readonly attribute RequestCredentials credentials;\n    this.credentials = 'omit';\n\n    if (input instanceof Request) {\n      if (input.bodyUsed) throw TypeError();\n      input.bodyUsed = true;\n      this.method = input.method;\n      this.url = input.url;\n      this.headers = new Headers(input.headers);\n      this.headers._guard = input.headers._guard;\n      this.credentials = input.credentials;\n      this._stream = input._stream;\n    } else {\n      input = USVString(input);\n      this.url = String(new URL(input, self.location));\n    }\n\n    init = Object(init);\n\n    if ('method' in init) {\n      var method = ByteString(init.method);\n      if (isForbiddenMethod(method)) throw TypeError();\n      this.method = normalizeMethod(method);\n    }\n\n    if ('headers' in init) {\n      this.headers = new Headers();\n      fill(this.headers, init.headers);\n    }\n\n    if ('body' in init)\n      this._stream = init.body;\n\n    if ('credentials' in init &&\n        (['omit', 'same-origin', 'include'].indexOf(init.credentials) !== -1))\n      this.credentials = init.credentials;\n  }\n\n  // interface Request\n  Request.prototype = Body.prototype;\n\n  //\n  // 5.4 Response class\n  //\n\n  // Constructor(optional FetchBodyInit body, optional ResponseInit init)\n  function Response(body, init) {\n    if (arguments.length < 1)\n      body = '';\n\n    this.headers = new Headers();\n    this.headers._guard = 'response';\n\n    // Internal\n    if (body instanceof XMLHttpRequest && '_url' in body) {\n      var xhr = body;\n      this.type = 'basic'; // TODO: ResponseType\n      this.url = USVString(xhr._url);\n      this.status = xhr.status;\n      this.ok = 200 <= this.status && this.status <= 299;\n      this.statusText = xhr.statusText;\n      xhr.getAllResponseHeaders()\n        .split(/\\r?\\n/)\n        .filter(function(header) { return header.length; })\n        .forEach(function(header) {\n          var i = header.indexOf(':');\n          this.headers.append(header.substring(0, i), header.substring(i + 2));\n        }, this);\n      Body.call(this, xhr.responseText);\n      return;\n    }\n\n    Body.call(this, body);\n\n    init = Object(init) || {};\n\n    // readonly attribute USVString url;\n    this.url = '';\n\n    // readonly attribute unsigned short status;\n    var status = 'status' in init ? ushort(init.status) : 200;\n    if (status < 200 || status > 599) throw RangeError();\n    this.status = status;\n\n    // readonly attribute boolean ok;\n    this.ok = 200 <= this.status && this.status <= 299;\n\n    // readonly attribute ByteString statusText;\n    var statusText = 'statusText' in init ? String(init.statusText) : 'OK';\n    if (/[^\\x00-\\xFF]/.test(statusText)) throw TypeError();\n    this.statusText = statusText;\n\n    // readonly attribute Headers headers;\n    if ('headers' in init) fill(this.headers, init);\n\n    // TODO: Implement these\n    // readonly attribute ResponseType type;\n    this.type = 'basic'; // TODO: ResponseType\n  }\n\n  // interface Response\n  Response.prototype = Body.prototype;\n\n  Response.redirect = function() {\n    // TODO: Implement?\n    throw Error('Not supported');\n  };\n\n  //\n  // 5.5 Structured cloning of Headers, FetchBodyStream, Request, Response\n  //\n\n  //\n  // 5.6 Fetch method\n  //\n\n  // Promise<Response> fetch(RequestInfo input, optional RequestInit init);\n  function fetch(input, init) {\n    return new Promise(function(resolve, reject) {\n      var r = new Request(input, init);\n\n      var xhr = new XMLHttpRequest(), async = true;\n      xhr._url = r.url;\n\n      try { xhr.open(r.method, r.url, async); } catch (e) { throw TypeError(e.message); }\n\n      for (var iter = r.headers[Symbol.iterator](), step = iter.next();\n           !step.done; step = iter.next())\n        xhr.setRequestHeader(step.value[0], step.value[1]);\n\n      if (r.credentials === 'include')\n        xhr.withCredentials = true;\n\n      xhr.onreadystatechange = function() {\n        if (xhr.readyState !== XMLHttpRequest.DONE) return;\n        if (xhr.status === 0)\n          reject(new TypeError('Network error'));\n        else\n          resolve(new Response(xhr));\n      };\n\n      xhr.send(r._stream);\n    });\n  }\n\n  // Exported\n  if (!('fetch' in global)) {\n    global.Headers = Headers;\n    global.Request = Request;\n    global.Response = Response;\n    global.fetch = fetch;\n  }\n\n}(self));\n```\n",
  "body_html": "<!doctype html><div class=\"lake-content\" typography=\"classic\"><pre data-language=\"javascript\" id=\"aMPFW\" class=\"ne-codeblock language-javascript\">// Composited file - DO NOT EDIT\n//----------------------------------------------------------------------\n//\n// ECMAScript 5 Polyfills\n//\n//----------------------------------------------------------------------\n\n//----------------------------------------------------------------------\n// ES5 15.2 Object Objects\n//----------------------------------------------------------------------\n\n//\n// ES5 15.2.3 Properties of the Object Constructor\n//\n\n// ES5 15.2.3.2 Object.getPrototypeOf ( O )\n// From http://ejohn.org/blog/objectgetprototypeof/\n// NOTE: won't work for typical function T() {}; T.prototype = {}; new T; case\n// since the constructor property is destroyed.\nif (!Object.getPrototypeOf) {\n  Object.getPrototypeOf = function (o) {\n    if (o !== Object(o)) { throw TypeError(&quot;Object.getPrototypeOf called on non-object&quot;); }\n    return o.__proto__ || o.constructor.prototype || Object.prototype;\n  };\n}\n\n//    // ES5 15.2.3.3 Object.getOwnPropertyDescriptor ( O, P )\n//    if (typeof Object.getOwnPropertyDescriptor !== &quot;function&quot;) {\n//        Object.getOwnPropertyDescriptor = function (o, name) {\n//            if (o !== Object(o)) { throw TypeError(); }\n//            if (o.hasOwnProperty(name)) {\n//                return {\n//                    value: o[name],\n//                    enumerable: true,\n//                    writable: true,\n//                    configurable: true\n//                };\n//            }\n//        };\n//    }\n\n// ES5 15.2.3.4 Object.getOwnPropertyNames ( O )\nif (typeof Object.getOwnPropertyNames !== &quot;function&quot;) {\n  Object.getOwnPropertyNames = function (o) {\n    if (o !== Object(o)) { throw TypeError(&quot;Object.getOwnPropertyNames called on non-object&quot;); }\n    var props = [], p;\n    for (p in o) {\n      if (Object.prototype.hasOwnProperty.call(o, p)) {\n        props.push(p);\n      }\n    }\n    return props;\n  };\n}\n\n// ES5 15.2.3.5 Object.create ( O [, Properties] )\nif (typeof Object.create !== &quot;function&quot;) {\n  Object.create = function (prototype, properties) {\n    if (typeof prototype !== &quot;object&quot;) { throw TypeError(); }\n    function Ctor() {}\n    Ctor.prototype = prototype;\n    var o = new Ctor();\n    if (prototype) { o.constructor = Ctor; }\n    if (properties !== undefined) {\n      if (properties !== Object(properties)) { throw TypeError(); }\n      Object.defineProperties(o, properties);\n    }\n    return o;\n  };\n}\n\n// ES 15.2.3.6 Object.defineProperty ( O, P, Attributes )\n// Partial support for most common case - getters, setters, and values\n(function() {\n  if (!Object.defineProperty ||\n      !(function () { try { Object.defineProperty({}, 'x', {}); return true; } catch (e) { return false; } } ())) {\n    var orig = Object.defineProperty;\n    Object.defineProperty = function (o, prop, desc) {\n      // In IE8 try built-in implementation for defining properties on DOM prototypes.\n      if (orig) { try { return orig(o, prop, desc); } catch (e) {} }\n\n      if (o !== Object(o)) { throw TypeError(&quot;Object.defineProperty called on non-object&quot;); }\n      if (Object.prototype.__defineGetter__ &amp;&amp; ('get' in desc)) {\n        Object.prototype.__defineGetter__.call(o, prop, desc.get);\n      }\n      if (Object.prototype.__defineSetter__ &amp;&amp; ('set' in desc)) {\n        Object.prototype.__defineSetter__.call(o, prop, desc.set);\n      }\n      if ('value' in desc) {\n        o[prop] = desc.value;\n      }\n      return o;\n    };\n  }\n}());\n\n// ES 15.2.3.7 Object.defineProperties ( O, Properties )\nif (typeof Object.defineProperties !== &quot;function&quot;) {\n  Object.defineProperties = function (o, properties) {\n    if (o !== Object(o)) { throw TypeError(&quot;Object.defineProperties called on non-object&quot;); }\n    var name;\n    for (name in properties) {\n      if (Object.prototype.hasOwnProperty.call(properties, name)) {\n        Object.defineProperty(o, name, properties[name]);\n      }\n    }\n    return o;\n  };\n}\n\n\n// ES5 15.2.3.14 Object.keys ( O )\n// https://developer.mozilla.org/en/JavaScript/Reference/Global_Objects/Object/keys\nif (!Object.keys) {\n  Object.keys = function (o) {\n    if (o !== Object(o)) { throw TypeError('Object.keys called on non-object'); }\n    var ret = [], p;\n    for (p in o) {\n      if (Object.prototype.hasOwnProperty.call(o, p)) {\n        ret.push(p);\n      }\n    }\n    return ret;\n  };\n}\n\n//----------------------------------------------------------------------\n// ES5 15.3 Function Objects\n//----------------------------------------------------------------------\n\n//\n// ES5 15.3.4 Properties of the Function Prototype Object\n//\n\n// ES5 15.3.4.5 Function.prototype.bind ( thisArg [, arg1 [, arg2, ... ]] )\n// https://developer.mozilla.org/en/JavaScript/Reference/Global_Objects/Function/bind\nif (!Function.prototype.bind) {\n  Function.prototype.bind = function (o) {\n    if (typeof this !== 'function') { throw TypeError(&quot;Bind must be called on a function&quot;); }\n\n    var args = Array.prototype.slice.call(arguments, 1),\n        self = this,\n        nop = function() {},\n        bound = function () {\n          return self.apply(this instanceof nop ? this : o,\n                            args.concat(Array.prototype.slice.call(arguments)));\n        };\n\n    if (this.prototype)\n      nop.prototype = this.prototype;\n    bound.prototype = new nop();\n    return bound;\n  };\n}\n\n\n//----------------------------------------------------------------------\n// ES5 15.4 Array Objects\n//----------------------------------------------------------------------\n\n//\n// ES5 15.4.3 Properties of the Array Constructor\n//\n\n\n// ES5 15.4.3.2 Array.isArray ( arg )\n// https://developer.mozilla.org/en/JavaScript/Reference/Global_Objects/Array/isArray\nArray.isArray = Array.isArray || function (o) { return Boolean(o &amp;&amp; Object.prototype.toString.call(Object(o)) === '[object Array]'); };\n\n\n//\n// ES5 15.4.4 Properties of the Array Prototype Object\n//\n\n// ES5 15.4.4.14 Array.prototype.indexOf ( searchElement [ , fromIndex ] )\n// From https://developer.mozilla.org/en/JavaScript/Reference/Global_Objects/Array/indexOf\nif (!Array.prototype.indexOf) {\n  Array.prototype.indexOf = function (searchElement /*, fromIndex */) {\n    if (this === void 0 || this === null) { throw TypeError(); }\n\n    var t = Object(this);\n    var len = t.length &gt;&gt;&gt; 0;\n    if (len === 0) { return -1; }\n\n    var n = 0;\n    if (arguments.length &gt; 0) {\n      n = Number(arguments[1]);\n      if (isNaN(n)) {\n        n = 0;\n      } else if (n !== 0 &amp;&amp; n !== (1 / 0) &amp;&amp; n !== -(1 / 0)) {\n        n = (n &gt; 0 || -1) * Math.floor(Math.abs(n));\n      }\n    }\n\n    if (n &gt;= len) { return -1; }\n\n    var k = n &gt;= 0 ? n : Math.max(len - Math.abs(n), 0);\n\n    for (; k &lt; len; k++) {\n      if (k in t &amp;&amp; t[k] === searchElement) {\n        return k;\n      }\n    }\n    return -1;\n  };\n}\n\n// ES5 15.4.4.15 Array.prototype.lastIndexOf ( searchElement [ , fromIndex ] )\n// From https://developer.mozilla.org/en/JavaScript/Reference/Global_Objects/Array/lastIndexOf\nif (!Array.prototype.lastIndexOf) {\n  Array.prototype.lastIndexOf = function (searchElement /*, fromIndex*/) {\n    if (this === void 0 || this === null) { throw TypeError(); }\n\n    var t = Object(this);\n    var len = t.length &gt;&gt;&gt; 0;\n    if (len === 0) { return -1; }\n\n    var n = len;\n    if (arguments.length &gt; 1) {\n      n = Number(arguments[1]);\n      if (n !== n) {\n        n = 0;\n      } else if (n !== 0 &amp;&amp; n !== (1 / 0) &amp;&amp; n !== -(1 / 0)) {\n        n = (n &gt; 0 || -1) * Math.floor(Math.abs(n));\n      }\n    }\n\n    var k = n &gt;= 0 ? Math.min(n, len - 1) : len - Math.abs(n);\n\n    for (; k &gt;= 0; k--) {\n      if (k in t &amp;&amp; t[k] === searchElement) {\n        return k;\n      }\n    }\n    return -1;\n  };\n}\n\n// ES5 15.4.4.16 Array.prototype.every ( callbackfn [ , thisArg ] )\n// From https://developer.mozilla.org/en/JavaScript/Reference/Global_Objects/Array/every\nif (!Array.prototype.every) {\n  Array.prototype.every = function (fun /*, thisp */) {\n    if (this === void 0 || this === null) { throw TypeError(); }\n\n    var t = Object(this);\n    var len = t.length &gt;&gt;&gt; 0;\n    if (typeof fun !== &quot;function&quot;) { throw TypeError(); }\n\n    var thisp = arguments[1], i;\n    for (i = 0; i &lt; len; i++) {\n      if (i in t &amp;&amp; !fun.call(thisp, t[i], i, t)) {\n        return false;\n      }\n    }\n\n    return true;\n  };\n}\n\n// ES5 15.4.4.17 Array.prototype.some ( callbackfn [ , thisArg ] )\n// From https://developer.mozilla.org/en/JavaScript/Reference/Global_Objects/Array/some\nif (!Array.prototype.some) {\n  Array.prototype.some = function (fun /*, thisp */) {\n    if (this === void 0 || this === null) { throw TypeError(); }\n\n    var t = Object(this);\n    var len = t.length &gt;&gt;&gt; 0;\n    if (typeof fun !== &quot;function&quot;) { throw TypeError(); }\n\n    var thisp = arguments[1], i;\n    for (i = 0; i &lt; len; i++) {\n      if (i in t &amp;&amp; fun.call(thisp, t[i], i, t)) {\n        return true;\n      }\n    }\n\n    return false;\n  };\n}\n\n// ES5 15.4.4.18 Array.prototype.forEach ( callbackfn [ , thisArg ] )\n// From https://developer.mozilla.org/en/JavaScript/Reference/Global_Objects/Array/forEach\nif (!Array.prototype.forEach) {\n  Array.prototype.forEach = function (fun /*, thisp */) {\n    if (this === void 0 || this === null) { throw TypeError(); }\n\n    var t = Object(this);\n    var len = t.length &gt;&gt;&gt; 0;\n    if (typeof fun !== &quot;function&quot;) { throw TypeError(); }\n\n    var thisp = arguments[1], i;\n    for (i = 0; i &lt; len; i++) {\n      if (i in t) {\n        fun.call(thisp, t[i], i, t);\n      }\n    }\n  };\n}\n\n\n// ES5 15.4.4.19 Array.prototype.map ( callbackfn [ , thisArg ] )\n// From https://developer.mozilla.org/en/JavaScript/Reference/Global_Objects/Array/Map\nif (!Array.prototype.map) {\n  Array.prototype.map = function (fun /*, thisp */) {\n    if (this === void 0 || this === null) { throw TypeError(); }\n\n    var t = Object(this);\n    var len = t.length &gt;&gt;&gt; 0;\n    if (typeof fun !== &quot;function&quot;) { throw TypeError(); }\n\n    var res = []; res.length = len;\n    var thisp = arguments[1], i;\n    for (i = 0; i &lt; len; i++) {\n      if (i in t) {\n        res[i] = fun.call(thisp, t[i], i, t);\n      }\n    }\n\n    return res;\n  };\n}\n\n// ES5 15.4.4.20 Array.prototype.filter ( callbackfn [ , thisArg ] )\n// From https://developer.mozilla.org/en/JavaScript/Reference/Global_Objects/Array/Filter\nif (!Array.prototype.filter) {\n  Array.prototype.filter = function (fun /*, thisp */) {\n    if (this === void 0 || this === null) { throw TypeError(); }\n\n    var t = Object(this);\n    var len = t.length &gt;&gt;&gt; 0;\n    if (typeof fun !== &quot;function&quot;) { throw TypeError(); }\n\n    var res = [];\n    var thisp = arguments[1], i;\n    for (i = 0; i &lt; len; i++) {\n      if (i in t) {\n        var val = t[i]; // in case fun mutates this\n        if (fun.call(thisp, val, i, t)) {\n          res.push(val);\n        }\n      }\n    }\n\n    return res;\n  };\n}\n\n\n// ES5 15.4.4.21 Array.prototype.reduce ( callbackfn [ , initialValue ] )\n// From https://developer.mozilla.org/en/JavaScript/Reference/Global_Objects/Array/Reduce\nif (!Array.prototype.reduce) {\n  Array.prototype.reduce = function (fun /*, initialValue */) {\n    if (this === void 0 || this === null) { throw TypeError(); }\n\n    var t = Object(this);\n    var len = t.length &gt;&gt;&gt; 0;\n    if (typeof fun !== &quot;function&quot;) { throw TypeError(); }\n\n    // no value to return if no initial value and an empty array\n    if (len === 0 &amp;&amp; arguments.length === 1) { throw TypeError(); }\n\n    var k = 0;\n    var accumulator;\n    if (arguments.length &gt;= 2) {\n      accumulator = arguments[1];\n    } else {\n      do {\n        if (k in t) {\n          accumulator = t[k++];\n          break;\n        }\n\n        // if array contains no values, no initial value to return\n        if (++k &gt;= len) { throw TypeError(); }\n      }\n      while (true);\n    }\n\n    while (k &lt; len) {\n      if (k in t) {\n        accumulator = fun.call(undefined, accumulator, t[k], k, t);\n      }\n      k++;\n    }\n\n    return accumulator;\n  };\n}\n\n\n// ES5 15.4.4.22 Array.prototype.reduceRight ( callbackfn [, initialValue ] )\n// From https://developer.mozilla.org/en/JavaScript/Reference/Global_Objects/Array/ReduceRight\nif (!Array.prototype.reduceRight) {\n  Array.prototype.reduceRight = function (callbackfn /*, initialValue */) {\n    if (this === void 0 || this === null) { throw TypeError(); }\n\n    var t = Object(this);\n    var len = t.length &gt;&gt;&gt; 0;\n    if (typeof callbackfn !== &quot;function&quot;) { throw TypeError(); }\n\n    // no value to return if no initial value, empty array\n    if (len === 0 &amp;&amp; arguments.length === 1) { throw TypeError(); }\n\n    var k = len - 1;\n    var accumulator;\n    if (arguments.length &gt;= 2) {\n      accumulator = arguments[1];\n    } else {\n      do {\n        if (k in this) {\n          accumulator = this[k--];\n          break;\n        }\n\n        // if array contains no values, no initial value to return\n        if (--k &lt; 0) { throw TypeError(); }\n      }\n      while (true);\n    }\n\n    while (k &gt;= 0) {\n      if (k in t) {\n        accumulator = callbackfn.call(undefined, accumulator, t[k], k, t);\n      }\n      k--;\n    }\n\n    return accumulator;\n  };\n}\n\n\n//----------------------------------------------------------------------\n// ES5 15.5 String Objects\n//----------------------------------------------------------------------\n\n//\n// ES5 15.5.4 Properties of the String Prototype Object\n//\n\n\n// ES5 15.5.4.20 String.prototype.trim()\nif (!String.prototype.trim) {\n  String.prototype.trim = function () {\n    return String(this).replace(/^\\s+/, '').replace(/\\s+$/, '');\n  };\n}\n\n\n\n//----------------------------------------------------------------------\n// ES5 15.9 Date Objects\n//----------------------------------------------------------------------\n\n\n//\n// ES 15.9.4 Properties of the Date Constructor\n//\n\n// ES5 15.9.4.4 Date.now ( )\n// From https://developer.mozilla.org/en/Core_JavaScript_1.5_Reference/Global_Objects/Date/now\nif (!Date.now) {\n  Date.now = function now() {\n    return Number(new Date());\n  };\n}\n\n\n//\n// ES5 15.9.5 Properties of the Date Prototype Object\n//\n\n// ES5 15.9.4.43 Date.prototype.toISOString ( )\n// Inspired by http://www.json.org/json2.js\nif (!Date.prototype.toISOString) {\n  Date.prototype.toISOString = function () {\n    function pad2(n) { return ('00' + n).slice(-2); }\n    function pad3(n) { return ('000' + n).slice(-3); }\n\n    return this.getUTCFullYear() + '-' +\n      pad2(this.getUTCMonth() + 1) + '-' +\n      pad2(this.getUTCDate()) + 'T' +\n      pad2(this.getUTCHours()) + ':' +\n      pad2(this.getUTCMinutes()) + ':' +\n      pad2(this.getUTCSeconds()) + '.' +\n      pad3(this.getUTCMilliseconds()) + 'Z';\n  };\n}\n//----------------------------------------------------------------------\n//\n// ECMAScript 2015 Polyfills\n//\n//----------------------------------------------------------------------\n\n(function (global) {\n  &quot;use strict&quot;;\n\n  // Set this to always override native implementations, for testing\n  // the polyfill in browsers with partial/full ES2015 support.\n  var OVERRIDE_NATIVE_FOR_TESTING = false;\n\n  var undefined = (void 0); // Paranoia\n\n  // Helpers\n\n  function strict(o) {\n    return o === global ? undefined : o;\n  }\n\n  function isSymbol(s) {\n    return (typeof s === 'symbol') || ('Symbol' in global &amp;&amp; s instanceof global.Symbol);\n  }\n\n  function getPropertyDescriptor(target, name) {\n    var desc = Object.getOwnPropertyDescriptor(target, name);\n    var proto = Object.getPrototypeOf(target);\n    while (!desc &amp;&amp; proto) {\n      desc = Object.getOwnPropertyDescriptor(proto, name);\n      proto = Object.getPrototypeOf(proto);\n    }\n    return desc;\n  }\n\n  var enqueue = (function(nativePromise, nativeSetImmediate) {\n    if (nativePromise)\n      return function(job) { nativePromise.resolve().then(function() { job(); }); };\n    if (nativeSetImmediate)\n      return function(job) { nativeSetImmediate(job); };\n    return function(job) { setTimeout(job, 0); };\n  }(global['Promise'], global['setImmediate']));\n\n  function define(o, p, v, override) {\n    if (p in o &amp;&amp; !override &amp;&amp; !OVERRIDE_NATIVE_FOR_TESTING)\n      return;\n\n    if (typeof v === 'function') {\n      // Sanity check that functions are appropriately named (where possible)\n      console.assert(isSymbol(p) || !('name' in v) || v.name === p || v.name === p + '_', 'Expected function name &quot;' + p.toString() + '&quot;, was &quot;' + v.name + '&quot;');\n      Object.defineProperty(o, p, {\n        value: v,\n        configurable: true,\n        enumerable: false,\n        writable: true\n      });\n    } else {\n      Object.defineProperty(o, p, {\n        value: v,\n        configurable: false,\n        enumerable: false,\n        writable: false\n      });\n    }\n  }\n\n  function set_internal(o, p, v) {\n    Object.defineProperty(o, p, {\n      value: v,\n      configurable: false,\n      enumerable: false,\n      writable: true\n    });\n  }\n\n  // Snapshot intrinsic functions\n  var $isNaN = global.isNaN,\n      $parseInt = global.parseInt,\n      $parseFloat = global.parseFloat;\n\n  var E = Math.E,\n      LOG10E = Math.LOG10E,\n      LOG2E = Math.LOG2E,\n      abs = Math.abs,\n      ceil = Math.ceil,\n      exp = Math.exp,\n      floor = Math.floor,\n      log = Math.log,\n      max = Math.max,\n      min = Math.min,\n      pow = Math.pow,\n      random = Math.random,\n      sqrt = Math.sqrt;\n\n  var orig_match = String.prototype.match,\n      orig_replace = String.prototype.replace,\n      orig_search = String.prototype.search,\n      orig_split = String.prototype.split;\n\n  // These are used for implementing the polyfills, but not exported.\n\n  // Inspired by https://gist.github.com/1638059\n  /** @constructor */\n  function EphemeronTable() {\n    var secretKey = ObjectCreate(null);\n\n    function conceal(o) {\n      var oValueOf = o.valueOf, secrets = ObjectCreate(null);\n      Object.defineProperty(o, 'valueOf', {\n          value: (function(secretKey) {\n            return function (k) {\n              return (k === secretKey) ? secrets : oValueOf.apply(o, arguments);\n            };\n          }(secretKey)),\n        configurable: true,\n        writeable: true,\n        enumerable: false\n        });\n      return secrets;\n    }\n\n    function reveal(o) {\n      var v = typeof o.valueOf === 'function' &amp;&amp; o.valueOf(secretKey);\n      return v === o ? null : v;\n    }\n\n    return {\n      clear: function() {\n        secretKey = ObjectCreate(null);\n      },\n      remove: function(key) {\n        var secrets = reveal(key);\n        if (secrets &amp;&amp; HasOwnProperty(secrets, 'value')) {\n          delete secrets.value;\n          return true;\n        }\n        return false;\n      },\n      get: function(key, defaultValue) {\n        var secrets = reveal(key);\n        return (secrets &amp;&amp; HasOwnProperty(secrets, 'value')) ? secrets.value : defaultValue;\n      },\n      has: function(key) {\n        var secrets = reveal(key);\n        return Boolean(secrets &amp;&amp; HasOwnProperty(secrets, 'value'));\n      },\n      set: function(key, value) {\n        var secrets = reveal(key) || conceal(key);\n        secrets.value = value;\n      }\n    };\n  }\n\n  var empty = Object.create(null);\n\n  //----------------------------------------------------------------------\n  //\n  // ECMAScript 2015\n  // http://www.ecma-international.org/ecma-262/6.0/\n  //\n  //----------------------------------------------------------------------\n\n  // ---------------------------------------\n  // 19.4 Symbol Objects\n  // ---------------------------------------\n\n  // NOTE: Symbols are defined here - out of spec order - since we need the\n  // properties and prototype to be populated for other polyfills.\n\n  // NOTE: Not secure, nor is obj[$$symbol] hidden from Object.keys()\n\n  var symbolForKey;\n  (function() {\n    var secret = Object.create(null);\n    var symbolMap = {};\n    symbolForKey = function(k) {\n      return symbolMap[k];\n    };\n\n    var GlobalSymbolRegistry = [];\n\n    function unique(bits) {\n      return Array(bits + 1).join('x').replace(/x/g, function() {\n        return random() &lt; 0.5 ? '\\u200C' : '\\u200D'; // JWNJ / ZWJ\n      });\n    }\n\n    // 19.4.1 The Symbol Constructor\n    // 19.4.1.1 Symbol ( description=undefined )\n    function Symbol(description) {\n      if (!(this instanceof Symbol)) return new Symbol(description, secret);\n      if (this instanceof Symbol &amp;&amp; arguments[1] !== secret) throw TypeError();\n\n      var descString = description === undefined ? undefined : String(description);\n\n      set_internal(this, '[[SymbolData]]', unique(128));\n      set_internal(this, '[[Description]]', descString);\n\n      symbolMap[this] = this;\n      return this;\n    }\n\n    if (!('Symbol' in global) || OVERRIDE_NATIVE_FOR_TESTING)\n      global.Symbol = Symbol;\n\n    // 19.4.2 Properties of the Symbol Constructor\n\n    // 19.4.2.1 Symbol.for (key)\n    define(Symbol, 'for', function for_(key) {\n      var stringKey = String(key);\n      for (var i = 0; i &lt; GlobalSymbolRegistry.length; ++i) {\n        var e = GlobalSymbolRegistry[i];\n        if (SameValue(e['[[key]]'], stringKey)) return e['[[symbol]]'];\n      }\n      var newSymbol = Symbol(key);\n      GlobalSymbolRegistry.push({'[[key]]': stringKey, '[[symbol]]': newSymbol});\n      return newSymbol;\n    });\n\n    // 19.4.2.2 Symbol.hasInstance\n    // 19.4.2.3 Symbol.isConcatSpreadable\n\n    // 19.4.2.4 Symbol.iterator\n    define(global.Symbol, 'iterator', global.Symbol('Symbol.iterator'));\n\n    // 19.4.2.5 Symbol.keyFor (sym)\n    define(Symbol, 'keyFor', function keyFor(sym) {\n      if (!(sym instanceof Symbol)) throw TypeError();\n      for (var i = 0; i &lt; GlobalSymbolRegistry.length; ++i) {\n        var e = GlobalSymbolRegistry[i];\n        if (SameValue(e['[[symbol]]'], sym)) return e['[[key]]'];\n      }\n      return undefined;\n    });\n\n    // 19.4.2.6 Symbol.match\n    define(global.Symbol, 'match', global.Symbol('Symbol.match'));\n\n    // 19.4.2.7 Symbol.prototype\n\n    // 19.4.2.8 Symbol.replace\n    define(global.Symbol, 'replace', global.Symbol('Symbol.replace'));\n\n    // 19.4.2.9 Symbol.search\n    define(global.Symbol, 'search', global.Symbol('Symbol.search'));\n\n    // 19.4.2.10 Symbol.species\n\n    // 19.4.2.11 Symbol.search\n    define(global.Symbol, 'split', global.Symbol('Symbol.split'));\n\n    // 19.4.2.12 Symbol.toPrimitive\n\n    // 19.4.2.13 Symbol.toStringTag\n    define(global.Symbol, 'toStringTag', global.Symbol('Symbol.toStringTag'));\n\n    // 19.4.2.14 Symbol.unscopables\n\n    // 19.4.3 Properties of the Symbol Prototype Object\n    // 19.4.3.1 Symbol.prototype.constructor\n\n    // 19.4.3.2 Symbol.prototype.toString ( )\n    Object.defineProperty(Symbol.prototype, 'toString', {\n      value: function toString() {\n        var s = strict(this);\n        var desc = s['[[Description]]'];\n        return 'Symbol(' + (desc === undefined ? '' : desc) + s['[[SymbolData]]'] + ')';\n      },\n      configurable: true, writeable: true, enumerable: false });\n\n    // 19.4.3.3 Symbol.prototype.valueOf ( )\n    Object.defineProperty(Symbol.prototype, 'valueOf', {\n      value: function valueOf() {\n        // To prevent automatic string conversion:\n        throw TypeError();\n\n        // Spec has approximately the following:\n        //var s = strict(this);\n        //if (Type(s) === 'symbol') return s;\n        //if (Type(s) !== 'object') throw TypeError();\n        //if (!('[[SymbolData]]' in s)) throw TypeError();\n        //return s['[[SymbolData]]'];\n      },\n      configurable: true, writeable: true, enumerable: false });\n\n    // 19.4.3.4 Symbol.prototype [ @@toStringTag ]\n    // (Done later to polyfill partial implementations)\n\n    // 19.4.4 Properties of Symbol Instances\n  }());\n\n  console.assert(typeof global.Symbol() === 'symbol' || symbolForKey(String(global.Symbol('x'))) !== undefined);\n\n  // Defined here so that other prototypes can reference it\n  // 25.1.2 The %IteratorPrototype% Object\n  var $IteratorPrototype$ = {};\n\n  //----------------------------------------\n  // 6 ECMAScript Data Types and Values\n  //----------------------------------------\n\n  // 6.1 ECMAScript Language Types\n\n  // &quot;Type(x)&quot; is used as shorthand for &quot;the type of x&quot;...\n  function Type(v) {\n    switch (typeof v) {\n    case 'undefined': return 'undefined';\n    case 'boolean': return 'boolean';\n    case 'number': return 'number';\n    case 'string': return 'string';\n    case 'symbol': return 'symbol';\n    default:\n      if (v === null) return 'null';\n      if (v instanceof global.Symbol) return 'symbol';\n      return 'object';\n    }\n  }\n\n  // 6.1.5.1 Well-Known Symbols\n  var $$iterator = global.Symbol.iterator,\n      $$match = global.Symbol.match,\n      $$replace = global.Symbol.replace,\n      $$search = global.Symbol.search,\n      $$split = global.Symbol.split,\n      $$toStringTag = global.Symbol.toStringTag;\n\n  //----------------------------------------\n  // 7 Abstract Operations\n  //----------------------------------------\n\n  //----------------------------------------\n  // 7.1 Type Conversion\n  //----------------------------------------\n\n  // 7.1.1 ToPrimitive ( input [, PreferredType] )\n  // just use valueOf()\n\n  // 7.1.2 ToBoolean ( argument )\n  // just use Boolean()\n\n  // 7.1.3 ToNumber ( argument )\n  // just use Number()\n\n  // 7.1.4 ToInteger ( argument )\n  function ToInteger(n) {\n    n = Number(n);\n    if ($isNaN(n)) return 0;\n    if (n === 0 || n === Infinity || n === -Infinity) return n;\n    return ((n &lt; 0) ? -1 : 1) * floor(abs(n));\n  }\n\n  // 7.1.5 ToInt32 ( argument )\n  function ToInt32(v) { return v &gt;&gt; 0; }\n\n  // 7.1.6 ToUint32 ( argument )\n  function ToUint32(v) { return v &gt;&gt;&gt; 0; }\n\n  // 7.1.7 ToInt16 ( argument )\n  function ToInt16(v) { return (v &lt;&lt; 16) &gt;&gt; 16; }\n\n  // 7.1.8 ToUint16 ( argument )\n  function ToUint16(v) { return v &amp; 0xFFFF; }\n\n  // 7.1.9 ToInt8 ( argument )\n  function ToInt8(v) { return (v &lt;&lt; 24) &gt;&gt; 24; }\n\n  // 7.1.10 ToUint8 ( argument )\n  function ToUint8(v) { return v &amp; 0xFF; }\n\n  // 7.1.11 ToUint8Clamp ( argument )\n  function ToUint8Clamp(argument) {\n    var number = Number(argument);\n    if ($isNaN(number)) return 0;\n    if (number &lt;= 0) return 0;\n    if (number &gt;= 255) return 255;\n    var f = floor(number);\n    if ((f + 0.5) &lt; number) return f + 1;\n    if (number &lt; (f + 0.5)) return f;\n    if (f % 2) return f + 1;\n    return f;\n  }\n\n  // 7.1.12 ToString ( argument )\n  // just use String()\n\n  // 7.1.13 ToObject ( argument )\n  function ToObject(v) {\n    if (v === null || v === undefined) throw TypeError();\n    return Object(v);\n  }\n\n  // 7.1.14 ToPropertyKey ( argument )\n  function ToPropertyKey(v) {\n    return String(v);\n  }\n\n  // 7.1.15 ToLength ( argument )\n  function ToLength(v) {\n    var len = ToInteger(v);\n    if (len &lt;= 0) return 0;\n    if (len === Infinity) return 0x20000000000000 - 1; // 2^53-1\n    return min(len, 0x20000000000000 - 1); // 2^53-1\n  }\n\n  // 7.1.16 CanonicalNumericIndexString ( argument )\n\n  //----------------------------------------\n  // 7.2 Testing and Comparison Operations\n  //----------------------------------------\n\n  // 7.2.1 RequireObjectCoercible ( argument )\n  // 7.2.2 IsArray ( argument )\n\n  // 7.2.3 IsCallable ( argument )\n  function IsCallable(o) { return typeof o === 'function'; }\n\n  // 7.2.4 IsConstructor ( argument )\n  function IsConstructor(o) {\n    // Hacks for Safari 7 TypedArray XXXConstructor objects\n    if (/Constructor/.test(Object.prototype.toString.call(o))) return true;\n    if (/Function/.test(Object.prototype.toString.call(o))) return true;\n    // TODO: Can this be improved on?\n    return typeof o === 'function';\n  }\n\n  // 7.2.5 IsExtensible (O)\n  // 7.2.6 IsInteger ( argument )\n\n  // 7.2.7 IsPropertyKey ( argument )\n  function IsPropertyKey(argument) {\n    if (Type(argument) === 'string') return true;\n    if (Type(argument) === 'symbol') return true;\n    return false;\n  }\n\n  // 7.2.8 IsRegExp ( argument )\n\n  // 7.2.9 SameValue(x, y)\n  function SameValue(x, y) {\n    if (typeof x !== typeof y) return false;\n    switch (typeof x) {\n    case 'undefined':\n      return true;\n    case 'number':\n      if (x !== x &amp;&amp; y !== y) return true;\n      if (x === 0 &amp;&amp; y === 0) return 1/x === 1/y;\n      return x === y;\n    case 'boolean':\n    case 'string':\n    case 'object':\n    default:\n      return x === y;\n    }\n  }\n\n  // 7.2.10 SameValueZero(x, y)\n  function SameValueZero(x, y) {\n    if (typeof x !== typeof y) return false;\n    switch (typeof x) {\n    case 'undefined':\n      return true;\n    case 'number':\n      if (x !== x &amp;&amp; y !== y) return true;\n      return x === y;\n    case 'boolean':\n    case 'string':\n    case 'object':\n    default:\n      return x === y;\n    }\n  }\n\n  //----------------------------------------\n  // 7.3 Operations on Objects\n  //----------------------------------------\n\n  // 7.3.1 Get (O, P)\n  // - just use o.p or o[p]\n\n  // 7.3.2 GetV (V, P)\n  function GetV(v, p) {\n    var o = ToObject(v);\n    return o[p];\n  }\n\n  // 7.3.3 Set (O, P, V, Throw)\n  // - just use o.p = v or o[p] = v\n\n\n\n\n  // 7.3.9 GetMethod (O, P)\n  function GetMethod(o, p) {\n    var func = GetV(o, p);\n    if (func === undefined || func === null) return undefined;\n    if (!IsCallable(func)) throw TypeError();\n    return func;\n  }\n\n  // 7.3.10 HasProperty (O, P)\n  function HasProperty(o, p) {\n    while (o) {\n      if (Object.prototype.hasOwnProperty.call(o, p)) return true;\n      if (Type(o) !== 'object') return false;\n      var op = Object.getPrototypeOf(o);\n      if (op === o) return false; // IE8 has self-referential prototypes\n      o = op;\n    }\n    return false;\n  }\n\n  // 7.3.11 HasOwnProperty (O, P)\n  function HasOwnProperty(o, p) {\n    return Object.prototype.hasOwnProperty.call(o, p);\n  }\n\n  //----------------------------------------\n  // 7.4 Operations on Iterator Objects\n  //----------------------------------------\n\n  // 7.4.1 GetIterator ( obj, method )\n  function GetIterator(obj, method) {\n    if (arguments.length &lt; 2)\n      method = GetMethod(obj, $$iterator);\n    var iterator = method.call(obj);\n    if (Type(iterator) !== 'object') throw TypeError();\n    return iterator;\n  }\n\n  // 7.4.2 IteratorNext ( iterator, value )\n  function IteratorNext(iterator, value) {\n    if (arguments.length &lt; 2)\n      var result = iterator.next();\n    else\n      result = iterator.next(value);\n    if (Type(result) !== 'object') throw TypeError();\n    return result;\n  }\n\n  // 7.4.3 IteratorComplete ( iterResult )\n  function IteratorComplete(iterResult) {\n    console.assert(Type(iterResult) === 'object');\n    return Boolean(iterResult.done);\n  }\n\n  // 7.4.4 IteratorValue ( iterResult )\n  function IteratorValue(iterResult) {\n    console.assert(Type(iterResult) === 'object');\n    return iterResult.value;\n  }\n\n  // 7.4.5 IteratorStep ( iterator )\n  function IteratorStep( iterator, value ) {\n    var result = IteratorNext(iterator, value);\n    var done = result['done'];\n    if (Boolean(done) === true) return false;\n    return result;\n  }\n\n  // 7.4.6 IteratorClose( iterator, completion )\n  function IteratorClose( iterator, completion ) {\n    console.assert(Type(iterator) === 'object');\n    var _return = GetMethod(iterator, 'return');\n    if (_return === undefined) return completion;\n    try {\n      var innerResult = _return[iterator]();\n    } catch (result) {\n      // TODO: If completion.[[type]] is throw, return completion\n      return result;\n    }\n    if (Type(innerResult) !== 'object') throw TypeError();\n    return completion;\n  }\n\n  // 7.4.7 CreateIterResultObject (value, done)\n  function CreateIterResultObject(value, done) {\n    console.assert(Type(done) === 'boolean');\n    var obj = {};\n    obj[&quot;value&quot;] = value;\n    obj[&quot;done&quot;] = done;\n    return obj;\n  }\n\n  // 7.4.8 CreateListIterator (list)\n  // 7.4.8.1 ListIterator next( )\n\n  //----------------------------------------\n  // 8 Executable Code and Execution Contexts\n  //----------------------------------------\n\n  //----------------------------------------\n  // 8.4 Jobs and Job Queues\n  //----------------------------------------\n\n  // 8.4.1 EnqueueJob ( queueName, job, arguments)\n  function EnqueueJob(queueName, job, args) {\n    var fn = function() { job.apply(undefined, args); };\n    enqueue(fn);\n  }\n\n  // 8.4.2 NextJob result\n  function NextJob(result) {\n    // no-op\n  }\n\n  //----------------------------------------\n  // 9 Ordinary and Exotic Objects Behaviors\n  //----------------------------------------\n\n  // 9.1.11 [[Enumerate]] ()\n  function Enumerate(obj) {\n    var e = [];\n    if (Object(obj) !== obj) return e;\n    var visited = new Set;\n    while (obj !== null) {\n      Object.getOwnPropertyNames(obj).forEach(function(name) {\n        if (!visited.has(name)) {\n          var desc = Object.getOwnPropertyDescriptor(obj, name);\n          if (desc) {\n            visited.add(name);\n            if (desc.enumerable) e.push(name);\n          }\n        }\n      });\n      obj = Object.getPrototypeOf(obj);\n    }\n    return e[$$iterator]();\n  }\n\n  // 9.1.12 [[OwnPropertyKeys]] ( )\n  function OwnPropertyKeys(o) {\n    return Object.getOwnPropertyNames(o);\n  }\n\n  // 9.1.13 ObjectCreate(proto, internalSlotsList)\n  function ObjectCreate(proto, internalSlotsList) {\n    return Object.create(proto, internalSlotsList);\n  }\n\n  // ---------------------------------------\n  // 19 Fundamental Objects\n  // ---------------------------------------\n\n  // ---------------------------------------\n  // 19.1 Object Objects\n  // ---------------------------------------\n\n  // 19.1.1 The Object Constructor\n  // 19.1.1.1 Object ( [ value ] )\n  // 19.1.2 Properties of the Object Constructor\n  // 19.1.2.1 Object.assign ( target, ...sources )\n  define(\n    Object, 'assign',\n    function assign(target, /*...*/sources) {\n      var to = ToObject(target);\n      if (arguments.length &lt; 2) return to;\n\n      var sourcesIndex = 1;\n      while (sourcesIndex &lt; arguments.length) {\n        var nextSource = arguments[sourcesIndex++];\n        if (nextSource === undefined || nextSource === null) {\n          var keys = [];\n        } else {\n          var from = ToObject(nextSource);\n          keys = OwnPropertyKeys(from);\n        }\n        for (var keysIndex = 0; keysIndex &lt; keys.length; ++keysIndex) {\n          var nextKey = keys[keysIndex];\n          var desc = Object.getOwnPropertyDescriptor(from, nextKey);\n          if (desc !== undefined &amp;&amp; desc.enumerable) {\n            var propValue = from[nextKey];\n            to[nextKey] = propValue;\n          }\n        }\n      }\n      return to;\n    });\n\n  // 19.1.2.2 Object.create ( O [ , Properties ] )\n  // 19.1.2.3 Object.defineProperties ( O, Properties )\n  // 19.1.2.4 Object.defineProperty ( O, P, Attributes )\n  // 19.1.2.5 Object.freeze ( O )\n  // 19.1.2.6 Object.getOwnPropertyDescriptor ( O, P )\n\n  (function() {\n    var nativeSymbols = (typeof global.Symbol() === 'symbol'),\n        $getOwnPropertyNames = Object.getOwnPropertyNames,\n        $keys = Object.keys,\n        $window_names = (typeof window === 'object' ? $getOwnPropertyNames(window) : []);\n\n    function isStringKey(k) { return !symbolForKey(k); }\n\n    // 19.1.2.7 Object.getOwnPropertyNames ( O )\n    define(\n      Object, 'getOwnPropertyNames',\n      function getOwnPropertyNames(o) {\n        if (Object.prototype.toString.call(o) === '[object Window]') {\n          // Workaround for cross-realm calling by IE itself.\n          // https://github.com/inexorabletash/polyfill/issues/96\n          try {\n            return $getOwnPropertyNames(o).filter(isStringKey);\n          } catch (_) {\n            return $window_names.slice();\n          }\n        }\n        return $getOwnPropertyNames(o).filter(isStringKey);\n      }, !nativeSymbols);\n\n    // 19.1.2.8 Object.getOwnPropertySymbols ( O )\n    define(\n      Object, 'getOwnPropertySymbols',\n      function getOwnPropertySymbols(o) {\n        return $getOwnPropertyNames(o).filter(symbolForKey).map(symbolForKey);\n      }, !nativeSymbols);\n\n    // 19.1.2.14 Object.keys ( O )\n    define(\n      Object, 'keys',\n      function keys(o) {\n        return $keys(o).filter(isStringKey);\n      }, !nativeSymbols);\n  }());\n\n  // 19.1.2.9 Object.getPrototypeOf ( O )\n  // 19.1.2.10 Object.is ( value1, value2 )\n  define(\n    Object, 'is',\n    function is(value1, value2) {\n      return SameValue(value1, value2);\n    });\n\n  // 19.1.2.11 Object.isExtensible ( O )\n  // 19.1.2.12 Object.isFrozen ( O )\n  // 19.1.2.13 Object.isSealed ( O )\n\n  // 19.1.2.14 Object.keys ( O )\n  // see above\n\n  // 19.1.2.15 Object.preventExtensions ( O )\n  // 19.1.2.16 Object.prototype\n  // 19.1.2.17 Object.seal ( O )\n\n  // 19.1.2.18 Object.setPrototypeOf ( O, proto )\n  define(\n    Object, 'setPrototypeOf',\n    function setPrototypeOf(o, proto) {\n      if (Type(o) !== 'object') throw TypeError();\n      if (Type(proto) !== 'object' &amp;&amp; Type(proto) !== 'null') throw TypeError();\n      o.__proto__ = proto;\n      return o;\n    }\n  );\n\n  // 19.1.3 Properties of the Object Prototype Object\n  // 19.1.3.1 Object.prototype.constructor\n  // 19.1.3.2 Object.prototype.hasOwnProperty ( V )\n  // 19.1.3.3 Object.prototype.isPrototypeOf ( V )\n  // 19.1.3.4 Object.prototype.propertyIsEnumerable ( V )\n  // 19.1.3.5 Object.prototype.toLocaleString ( [ reserved1 [ , reserved2 ] ] )\n  // 19.1.3.6 Object.prototype.toString ( )\n  var o_p_ts = Object.prototype.toString;\n  define(Object.prototype, 'toString',\n       function() {\n         var o = strict(this);\n         if (o === Object(o) &amp;&amp; $$toStringTag in o) {\n           return '[object ' + o[$$toStringTag] + ']';\n         }\n         return o_p_ts.apply(o, arguments);\n       });\n\n  // 19.1.3.7 Object.prototype.valueOf ( )\n  // 19.1.4 Properties of Object Instances\n\n  // ---------------------------------------\n  // 19.2 Function Objects\n  // ---------------------------------------\n\n  // 19.2.1 The Function Constructor\n  // 19.2.1.1 Function ( p1, p2, â€¦ , pn, body )\n  // 19.2.2 Properties of the Function Constructor\n  // 19.2.2.1 Function.length\n  // 19.2.2.2 Function.prototype\n  // 19.2.3 Properties of the Function Prototype Object\n  // 19.2.3.1 Function.prototype.apply ( thisArg, argArray )\n  // 19.2.3.2 Function.prototype.bind ( thisArg , ...args)\n  // 19.2.3.3 Function.prototype.call (thisArg , ...args)\n  // 19.2.3.4 Function.prototype.constructor\n  // 19.2.3.5 Function.prototype.toString ( )\n  // 19.2.3.6 Function.prototype[@@hasInstance] ( V )\n  // 19.2.4 Function Instances\n  // 19.2.4.1 length\n  // 19.2.4.2 name\n  // 19.2.4.3 prototype\n\n  // (No polyfillable changes from ES5)\n\n  // ---------------------------------------\n  // 19.3 Boolean Objects\n  // ---------------------------------------\n\n  // 19.3.1 The Boolean Constructor\n  // 19.3.1.1 Boolean ( value )\n  // 19.3.2 Properties of the Boolean Constructor\n  // 19.3.2.1 Boolean.prototype\n  // 19.3.3 Properties of the Boolean Prototype Object\n  // 19.3.3.1 Boolean.prototype.constructor\n  // 19.3.3.2 Boolean.prototype.toString ( )\n  // 19.3.3.3 Boolean.prototype.valueOf ( )\n  // 19.3.4 Properties of Boolean Instances\n\n  // (No polyfillable changes from ES5)\n\n  // ---------------------------------------\n  // 19.4 Symbol Objects\n  // ---------------------------------------\n\n  // Moved earlier in this script, so that other polyfills can depend on them.\n\n  // 19.4.3.4 Symbol.prototype [ @@toStringTag ]\n  define(global.Symbol.prototype, global.Symbol.toStringTag, 'Symbol');\n\n  // ---------------------------------------\n  // 19.5 Error Objects\n  // ---------------------------------------\n\n  // 19.5.1 The Error Constructor\n  // 19.5.1.1 Error ( message )\n  // 19.5.1.2 new Error( ...argumentsList )\n  // 19.5.2 Properties of the Error Constructor\n  // 19.5.2.1 Error.prototype\n  // 19.5.3 Properties of the Error Prototype Object\n  // 19.5.3.1 Error.prototype.constructor\n  // 19.5.3.2 Error.prototype.message\n  // 19.5.3.3 Error.prototype.name\n  // 19.5.3.4 Error.prototype.toString ( )\n  // 19.5.4 Properties of Error Instances\n  // 19.5.5 Native Error Types Used in This Standard\n  // 19.5.5.1 EvalError\n  // 19.5.5.2 RangeError\n  // 19.5.5.3 ReferenceError\n  // 19.5.5.4 SyntaxError\n  // 19.5.5.5 TypeError\n  // 19.5.5.6 URIError\n  // 19.5.6 NativeError Object Structure\n  // 19.5.6.1 NativeError Constructors\n  // 19.5.6.1.1 NativeError ( message )\n  // 19.5.6.1.2 new NativeError ( ...argumentsList )\n  // 19.5.6.2 Properties of the NativeError Constructors\n  // 19.5.6.2.1 NativeError.prototype\n  // 19.5.6.3 Properties of the NativeError Prototype Objects\n  // 19.5.6.4 Properties of NativeError Instances\n\n  // (No polyfillable changes from ES5)\n\n  // ---------------------------------------\n  // 20 Numbers and Dates\n  // ---------------------------------------\n\n  // ---------------------------------------\n  // 20.1 Number Objects\n  // ---------------------------------------\n\n  // 20.1.1 The Number Constructor\n  // 20.1.1.1 Number ( [ value ] )\n  // 20.1.1.2 new Number ( ...argumentsList )\n  // 20.1.2 Properties of the Number Constructor\n\n  // 20.1.2.1 Number.EPSILON\n  define(\n    Number, 'EPSILON',\n    (function () {\n      var next, result;\n      for (next = 1; 1 + next !== 1; next = next / 2)\n        result = next;\n      return result;\n    }()));\n\n  // 20.1.2.2 Number.isFinite ( number )\n  define(\n    Number, 'isFinite',\n    function isFinite(number) {\n      if (Type(number) !== 'number') return false;\n      if (number !== number || number === +Infinity || number === -Infinity) return false;\n      return true;\n    });\n\n  // 20.1.2.3 Number.isInteger ( number )\n  define(\n    Number, 'isInteger',\n    function isInteger(number) {\n      if (Type(number) !== 'number') return false;\n      if (number !== number || number === +Infinity || number === -Infinity) return false;\n      var integer = ToInteger(number);\n      if (integer !== number) return false;\n      return true;\n    });\n\n  // 20.1.2.4 Number.isNaN ( number )\n  define(\n    Number, 'isNaN',\n    function isNaN(number) {\n      if (Type(number) !== 'number') return false;\n      if (number !== number) return true;\n      return false;\n    });\n\n  // 20.1.2.5 Number.isSafeInteger ( number )\n  define(\n    Number, 'isSafeInteger',\n    function isSafeInteger(number) {\n      if (Type(number) !== 'number') return false;\n      if (number !== number || number === +Infinity || number === -Infinity) return false;\n      var integer = ToInteger(number);\n      if (integer !== number) return false;\n      if (abs(integer) &lt;= (0x20000000000000 - 1)) // 2^53-1\n        return true;\n      return false;\n    });\n\n  // 20.1.2.6 Number.MAX_SAFE_INTEGER\n  define(\n    Number, 'MAX_SAFE_INTEGER',\n    9007199254740991); // 2^53-1\n\n  // 20.1.2.7 Number.MAX_VALUE\n\n  // 20.1.2.8 Number.MIN_SAFE_INTEGER\n  define(\n    Number, 'MIN_SAFE_INTEGER',\n    -9007199254740991); // -2^53+1\n\n  // 20.1.2.9 Number.MIN_VALUE\n  // 20.1.2.10 Number.NaN\n  // 20.1.2.11 Number.NEGATIVE_INFINITY\n\n  // 20.1.2.12 Number.parseFloat ( string )\n  define(Number, 'parseFloat', $parseFloat);\n\n  // 20.1.2.13 Number.parseInt ( string, radix )\n  define(Number, 'parseInt', $parseInt);\n\n  // 20.1.2.14 Number.POSITIVE_INFINITY\n  // 20.1.2.15 Number.prototype\n\n  // 20.1.3 Properties of the Number Prototype Object\n  // 20.1.3.1 Number.prototype.constructor\n  // 20.1.3.2 Number.prototype.toExponential ( fractionDigits )\n  // 20.1.3.3 Number.prototype.toFixed ( fractionDigits )\n  // 20.1.3.4 Number.prototype.toLocaleString( [ reserved1 [ , reserved2 ] ])\n  // 20.1.3.5 Number.prototype.toPrecision ( precision )\n  // 20.1.3.6 Number.prototype.toString ( [ radix ] )\n  // 20.1.3.7 Number.prototype.valueOf ( )\n  // 20.1.4 Properties of Number Instances\n\n  // ---------------------------------------\n  // 20.2 The Math Object\n  // ---------------------------------------\n\n  // 20.2.1 Value Properties of the Math Object\n  // 20.2.1.1 Math.E\n  // 20.2.1.2 Math.LN10\n  // 20.2.1.3 Math.LN2\n  // 20.2.1.4 Math.LOG10E\n  // 20.2.1.5 Math.LOG2E\n  // 20.2.1.6 Math.PI\n  // 20.2.1.7 Math.SQRT1_2\n  // 20.2.1.8 Math.SQRT2\n\n  // 20.2.1.9 Math [ @@toStringTag ]\n  define(Math, $$toStringTag, 'Math');\n\n  // 20.2.2 Function Properties of the Math Object\n  // 20.2.2.1 Math.abs ( x )\n  // 20.2.2.2 Math.acos ( x )\n\n  // 20.2.2.3 Math.acosh(x)\n  define(\n    Math, 'acosh',\n    function acosh(x) {\n      x = Number(x);\n      return log(x + sqrt(x * x - 1));\n    });\n\n  // 20.2.2.4 Math.asin ( x )\n\n  // 20.2.2.5 Math.asinh( x )\n  define(\n    Math, 'asinh',\n    function asinh(x) {\n      x = Number(x);\n      if (SameValue(x, -0)) {\n        return x;\n      }\n      var s = sqrt(x * x + 1);\n      return (s === -x) ? log(0) : log(x + s);\n    });\n\n  // 20.2.2.6 Math.atan ( x )\n\n  // 20.2.2.7 Math.atanh( x )\n  define(\n    Math, 'atanh',\n    function atanh(x) {\n      x = Number(x);\n      return (x === 0) ? x : log((1 + x) / (1 - x)) / 2;\n    });\n\n  // 20.2.2.8 Math.atan2 ( y, x )\n\n  // 20.2.2.9 Math.cbrt ( x )\n  define(\n    Math, 'cbrt',\n    function cbrt(x) {\n      x = Number(x);\n      if ($isNaN(x/x)) {\n        return x;\n      }\n      var r = pow(abs(x), 1/3);\n      var t = x/r/r;\n      return r + (r * (t-r) / (2*r + t));\n    });\n\n  // 20.2.2.10 Math.ceil ( x )\n\n  // 20.2.2.11 Math.clz32 ( x )\n  define(\n    Math, 'clz32',\n    function clz32(x) {\n      function clz8(x) {\n        return (x &amp; 0xf0) ? (x &amp; 0x80 ? 0 : x &amp; 0x40 ? 1 : x &amp; 0x20 ? 2 : 3) :\n        (x &amp; 0x08 ? 4 : x &amp; 0x04 ? 5 : x &amp; 0x02 ? 6 : x &amp; 0x01 ? 7 : 8);\n      }\n      x = ToUint32(x);\n      return x &amp; 0xff000000 ? clz8(x &gt;&gt; 24) :\n        x &amp; 0xff0000 ? clz8(x &gt;&gt; 16) + 8 :\n        x &amp; 0xff00 ? clz8(x &gt;&gt; 8) + 16 : clz8(x) + 24;\n    });\n\n\n\n  // 20.2.2.12 Math.cos ( x )\n\n  // 20.2.2.13 Math.cosh ( x )\n  define(\n    Math, 'cosh',\n    function cosh(x) {\n      x = Number(x);\n      return (pow(E, x) + pow(E, -x)) / 2;\n    });\n\n  // 20.2.2.14 Math.exp ( x )\n\n  // 20.2.2.15 Math.expm1 ( x )\n  define(\n    Math, 'expm1',\n    function expm1(x) {\n      x = Number(x);\n      // from: http://www.johndcook.com/cpp_log1p.html\n      if (SameValue(x, -0)) {\n        return -0;\n      } else if (abs(x) &lt; 1e-5) {\n        return x + 0.5 * x * x; // two terms of Taylor expansion\n      } else {\n        return exp(x) - 1;\n      }\n    });\n\n  // 20.2.2.16 Math.floor ( x )\n\n  // 20.2.2.17 Math.fround ( x )\n  define(\n    Math, 'fround',\n    function fround(x) {\n      if ($isNaN(x)) {\n        return NaN;\n      }\n      if (1/x === +Infinity || 1/x === -Infinity || x === +Infinity || x === -Infinity) {\n        return x;\n      }\n      return (new Float32Array([x]))[0];\n    });\n\n  // 20.2.2.18 Math.hypot ( value1 [, value2 [ ... ] ] )\n  define(\n    Math, 'hypot',\n    function hypot() {\n      var values = [];\n      var m = 0, sawNaN = false;\n      for (var i = 0; i &lt; arguments.length; ++i) {\n        var n = abs(Number(arguments[i]));\n        if (n === Infinity) return n;\n        if (n !== n) sawNaN = true;\n        if (n &gt; m) m = n;\n        values[i] = n;\n      }\n      if (sawNaN) return NaN;\n      if (m === 0) return +0;\n      var sum = +0;\n      for (i = 0; i &lt; values.length; ++i) {\n        var r = values[i] / m;\n        sum = sum + r * r;\n      }\n      return m * sqrt(sum);\n    });\n\n  // 20.2.2.19 Math.imul ( x, y )\n  define(\n    Math, 'imul',\n    function imul(x, y) {\n      var a = ToUint32(x);\n      var b = ToUint32(y);\n      // (slow but accurate)\n      var ah  = (a &gt;&gt;&gt; 16) &amp; 0xffff;\n      var al = a &amp; 0xffff;\n      var bh  = (b &gt;&gt;&gt; 16) &amp; 0xffff;\n      var bl = b &amp; 0xffff;\n      return ((al * bl) + (((ah * bl + al * bh) &lt;&lt; 16) &gt;&gt;&gt; 0)|0);\n    }, ('imul' in Math &amp;&amp; Math.imul(1, 0x80000000) === 0) // Safari 7 bug\n  );\n\n  // 20.2.2.20 Math.log ( x )\n\n  // 20.2.2.21 Math.log1p ( x )\n  define(\n    Math, 'log1p',\n    function log1p(x) {\n      x = Number(x);\n      // from: http://www.johndcook.com/cpp_expm1.html\n      if (x &lt; -1) {\n        return NaN;\n      } else if (SameValue(x, -0)) {\n        return -0;\n      } else if (abs(x) &gt; 1e-4) {\n        return log(1 + x);\n      } else {\n        return (-0.5 * x + 1) * x;\n      }\n    });\n\n  // 20.2.2.22 Math.log10 ( x )\n  define(\n    Math, 'log10',\n    function log10(x) {\n      x = Number(x);\n      return log(x) * LOG10E;\n    });\n\n  // 20.2.2.23 Math.log2 ( x )\n  define(\n    Math, 'log2',\n    function log2(x) {\n      x = Number(x);\n      return log(x) * LOG2E;\n    });\n\n  // 20.2.2.24 Math.max ( value1, value2 , ...values )\n  // 20.2.2.25 Math.min ( value1, value2 , ...values )\n  // 20.2.2.26 Math.pow ( x, y )\n  // 20.2.2.27 Math.random ( )\n  // 20.2.2.28 Math.round ( x )\n\n  // 20.2.2.29 Math.sign(x)\n  define(\n    Math, 'sign',\n    function sign(x) {\n      x = Number(x);\n      return x &lt; 0 ? -1 : x &gt; 0 ? 1 : x;\n    });\n\n  // 20.2.2.30 Math.sin ( x )\n\n  // 20.2.2.31 Math.sinh( x )\n  define(\n    Math, 'sinh',\n    function sinh(x) {\n      x = Number(x);\n      return SameValue(x, -0) ? x : (pow(E, x) - pow(E, -x)) / 2;\n    });\n\n  // 20.2.2.32 Math.sqrt ( x )\n  // 20.2.2.33 Math.tan ( x )\n\n  // 20.2.2.34 Math.tanh ( x )\n  define(\n    Math, 'tanh',\n    function tanh(x) {\n      x = Number(x);\n      var n = pow(E, 2 * x) - 1,\n          d = pow(E, 2 * x) + 1;\n      if (SameValue(x, -0))\n        return x;\n      return (n === d) ? 1 : n / d; // Handle Infinity/Infinity\n    });\n\n  // 20.2.2.35 Math.trunc ( x )\n  define(\n    Math, 'trunc',\n    function trunc(x) {\n      x = Number(x);\n      return $isNaN(x) ? NaN :\n        x &lt; 0 ? ceil(x) : floor(x);\n    });\n\n  // ---------------------------------------\n  // 20.3 Date Objects\n  // ---------------------------------------\n\n  // 20.3.1 Overview of Date Objects and Definitions of Abstract Operations\n  // 20.3.1.1 Time Values and Time Range\n  // 20.3.1.2 Day Number and Time within Day\n  // 20.3.1.3 Year Number\n  // 20.3.1.4 Month Number\n  // 20.3.1.5 Date Number\n  // 20.3.1.6 Week Day\n  // 20.3.1.7 Local Time Zone Adjustment\n  // 20.3.1.8 Daylight Saving Time Adjustment\n  // 20.3.1.9 Local Time\n  // 20.3.1.10 Hours, Minutes, Second, and Milliseconds\n  // 20.3.1.11 MakeTime (hour, min, sec, ms)\n  // 20.3.1.12 MakeDay (year, month, date)\n  // 20.3.1.13 MakeDate (day, time)\n  // 20.3.1.14 TimeClip (time)\n  // 20.3.1.15 Date Time String Format\n  // 20.3.1.15.1 Extended years\n  // 20.3.2 The Date Constructor\n  // 20.3.2.1 Date ( year, month [, date [ , hours [ , minutes [ , seconds [ , ms ] ] ] ] ] )\n  // 20.3.2.2 Date ( value )\n  // 20.3.2.3 Date ( )\n  // 20.3.3 Properties of the Date Constructor\n  // 20.3.3.1 Date.now ( )\n  // 20.3.3.2 Date.parse (string)\n  // 20.3.3.3 Date.prototype\n  // 20.3.3.4 Date.UTC ( year, month [ , date [ , hours [ , minutes [ , seconds [ , ms ] ] ] ] ] )\n  // 20.3.4 Properties of the Date Prototype Object\n  // 20.3.4.1 Date.prototype.constructor\n  // 20.3.4.2 Date.prototype.getDate ( )\n  // 20.3.4.3 Date.prototype.getDay ( )\n  // 20.3.4.4 Date.prototype.getFullYear ( )\n  // 20.3.4.5 Date.prototype.getHours ( )\n  // 20.3.4.6 Date.prototype.getMilliseconds ( )\n  // 20.3.4.7 Date.prototype.getMinutes ( )\n  // 20.3.4.8 Date.prototype.getMonth ( )\n  // 20.3.4.9 Date.prototype.getSeconds ( )\n  // 20.3.4.10 Date.prototype.getTime ( )\n  // 20.3.4.11 Date.prototype.getTimezoneOffset ( )\n  // 20.3.4.12 Date.prototype.getUTCDate ( )\n  // 20.3.4.13 Date.prototype.getUTCDay ( )\n  // 20.3.4.14 Date.prototype.getUTCFullYear ( )\n  // 20.3.4.15 Date.prototype.getUTCHours ( )\n  // 20.3.4.16 Date.prototype.getUTCMilliseconds ( )\n  // 20.3.4.17 Date.prototype.getUTCMinutes ( )\n  // 20.3.4.18 Date.prototype.getUTCMonth ( )\n  // 20.3.4.19 Date.prototype.getUTCSeconds ( )\n  // 20.3.4.20 Date.prototype.setDate ( date )\n  // 20.3.4.21 Date.prototype.setFullYear ( year [ , month [ , date ] ] )\n  // 20.3.4.22 Date.prototype.setHours ( hour [ , min [ , sec [ , ms ] ] ] )\n  // 20.3.4.23 Date.prototype.setMilliseconds ( ms )\n  // 20.3.4.24 Date.prototype.setMinutes ( min [ , sec [ , ms ] ] )\n  // 20.3.4.25 Date.prototype.setMonth ( month [ , date ] )\n  // 20.3.4.26 Date.prototype.setSeconds ( sec [ , ms ] )\n  // 20.3.4.27 Date.prototype.setTime ( time )\n  // 20.3.4.28 Date.prototype.setUTCDate ( date )\n  // 20.3.4.29 Date.prototype.setUTCFullYear ( year [ , month [ , date ] ] )\n  // 20.3.4.30 Date.prototype.setUTCHours ( hour [ , min [ , sec [ , ms ] ] ] )\n  // 20.3.4.31 Date.prototype.setUTCMilliseconds ( ms )\n  // 20.3.4.32 Date.prototype.setUTCMinutes ( min [ , sec [, ms ] ] )\n  // 20.3.4.33 Date.prototype.setUTCMonth ( month [ , date ] )\n  // 20.3.4.34 Date.prototype.setUTCSeconds ( sec [ , ms ] )\n  // 20.3.4.35 Date.prototype.toDateString ( )\n  // 20.3.4.36 Date.prototype.toISOString ( )\n  // 20.3.4.37 Date.prototype.toJSON ( key )\n  // 20.3.4.38 Date.prototype.toLocaleDateString ( [ reserved1 [ , reserved2 ] ] )\n  // 20.3.4.39 Date.prototype.toLocaleString ( [ reserved1 [ , reserved2 ] ] )\n  // 20.3.4.40 Date.prototype.toLocaleTimeString ( [ reserved1 [ , reserved2 ] ] )\n  // 20.3.4.41 Date.prototype.toString ( )\n  // 20.3.4.42 Date.prototype.toTimeString ( )\n  // 20.3.4.43 Date.prototype.toUTCString ( )\n  // 20.3.4.44 Date.prototype.valueOf ( )\n  // 20.3.4.45 Date.prototype [ @@toPrimitive ] ( hint )\n  // 20.3.5 Properties of Date Instances\n\n  // (No polyfillable changes from ES5)\n\n  // ---------------------------------------\n  // 21 Text Processing\n  // ---------------------------------------\n\n  var string_regexp_dispatch = (function() {\n    var faux = {}, secret = Symbol();\n    faux[Symbol.match] = function() { return secret; };\n    return (&quot;&quot;).match(faux) === secret;\n  }());\n\n  // 21.1 String Objects\n  // 21.1.1 The String Constructor\n  // 21.1.1.1 String ( value )\n  // 21.1.2 Properties of the String Constructor\n  // 21.1.2.1 String.fromCharCode ( ...codeUnits )\n\n  // 21.1.2.2 String.fromCodePoint ( ...codePoints )\n  define(\n    String, 'fromCodePoint',\n    function fromCodePoint(/*...codePoints*/) {\n      var codePoints = arguments,\n          length = codePoints.length,\n          elements = [],\n          nextIndex = 0;\n      while (nextIndex &lt; length) {\n        var next = codePoints[nextIndex];\n        var nextCP = Number(next);\n        if (!SameValue(nextCP, ToInteger(nextCP)) ||\n            nextCP &lt; 0 || nextCP &gt; 0x10FFFF) {\n          throw RangeError('Invalid code point ' + nextCP);\n        }\n        if (nextCP &lt; 0x10000) {\n          elements.push(String.fromCharCode(nextCP));\n        } else {\n          nextCP -= 0x10000;\n          elements.push(String.fromCharCode((nextCP &gt;&gt; 10) + 0xD800));\n          elements.push(String.fromCharCode((nextCP % 0x400) + 0xDC00));\n        }\n        nextIndex += 1;\n      }\n      return elements.join('');\n    });\n\n  // 21.1.2.3 String.prototype\n\n  // 21.1.2.4 String.raw ( template , ...substitutions )\n  define(\n    String, 'raw',\n    function raw(template /*, ...substitutions*/) {\n      var substitutions = [].slice.call(arguments, 1);\n\n      var cooked = Object(template);\n      var rawValue = cooked['raw'];\n      var raw = Object(rawValue);\n      var len = raw['length'];\n      var literalSegments = ToLength(len);\n      if (literalSegments &lt;= 0) return '';\n      var stringElements = [];\n      var nextIndex = 0;\n      while (true) {\n        var next = raw[nextIndex];\n        var nextSeg = String(next);\n        stringElements.push(nextSeg);\n        if (nextIndex + 1 === literalSegments)\n          return stringElements.join('');\n        next = substitutions[nextIndex];\n        var nextSub = String(next);\n        stringElements.push(nextSub);\n        nextIndex = nextIndex + 1;\n      }\n    });\n\n  // See https://githib.com/inexorabletash/uate for a more useful version.\n\n  // 21.1.3 Properties of the String Prototype Object\n  // 21.1.3.1 String.prototype.charAt ( pos )\n  // 21.1.3.2 String.prototype.charCodeAt ( pos )\n\n  // 21.1.3.3 String.prototype.codePointAt ( pos )\n  define(\n    String.prototype, 'codePointAt',\n    function codePointAt(pos) {\n      var o = strict(this);\n      var s = String(o);\n      var position = ToInteger(pos);\n      var size = s.length;\n      if (position &lt; 0 || position &gt;= size) return undefined;\n      var first = s.charCodeAt(position);\n      if (first &lt; 0xD800 || first &gt; 0xDBFF || position + 1 === size) return first;\n      var second = s.charCodeAt(position + 1);\n      if (second &lt; 0xDC00 || second &gt; 0xDFFF) return first;\n      return ((first - 0xD800) * 1024) + (second - 0xDC00) + 0x10000;\n    });\n\n  // 21.1.3.4 String.prototype.concat ( ...args )\n  // 21.1.3.5 String.prototype.constructor\n\n  // 21.1.3.6 String.prototype.endsWith ( searchString [ , endPosition] )\n  define(\n    String.prototype, 'endsWith',\n    function endsWith(searchString) {\n      var endPosition = arguments[1];\n\n      var o = strict(this);\n      var s = String(o);\n      var searchStr = String(searchString);\n      var len = s.length;\n      var pos = (endPosition === undefined) ? len : ToInteger(endPosition);\n      var end = min(max(pos, 0), len);\n      var searchLength = searchStr.length;\n      var start = end - searchLength;\n      if (start &lt; 0) return false;\n      if (s.substring(start, start + searchLength) === searchStr) return true;\n      return false;\n    });\n\n  // 21.1.3.7 String.prototype.includes ( searchString [ , position ] )\n  define(\n    String.prototype, 'includes',\n    function includes(searchString) {\n      var position = arguments[1];\n\n      var o = strict(this);\n      var s = String(o);\n      var searchStr = String(searchString);\n      var pos = ToInteger(position);\n      var len = s.length;\n      var start = min(max(pos, 0), len);\n      return s.indexOf(searchStr, start) !== -1;\n    });\n\n  // 21.1.3.8 String.prototype.indexOf ( searchString [ , position ] )\n  // 21.1.3.9 String.prototype.lastIndexOf ( searchString [ , position ] )\n  // 21.1.3.10 String.prototype.localeCompare ( that [, reserved1 [ , reserved2 ] ] )\n  // 21.1.3.11 String.prototype.match ( regexp )\n  define(\n    String.prototype, 'match',\n    function match(regexp) {\n      var o = strict(this);\n      var s = String(o);\n      if (HasProperty(regexp, $$match)) var rx = regexp;\n      else rx = new RegExp(regexp);\n      return rx[$$match](s);\n    }, !string_regexp_dispatch);\n\n  // 21.1.3.12 String.prototype.normalize ( [ form ] )\n\n  // Not practical due to table sizes; if needed, pull in:\n  // https://github.com/walling/unorm/\n\n  // 21.1.3.13 String.prototype.repeat ( count )\n  define(\n    String.prototype, 'repeat',\n    function repeat(count) {\n      var o = strict(this);\n      var s = String(o);\n      var n = ToInteger(count);\n      if (n &lt; 0) throw RangeError();\n      if (n === Infinity) throw RangeError();\n      var t = new Array(n + 1).join(s);\n      return t;\n    });\n\n  // 21.1.3.14 String.prototype.replace (searchValue, replaceValue )\n  define(\n    String.prototype, 'replace',\n    function replace(searchValue, replaceValue) {\n      var o = strict(this);\n      if (HasProperty(searchValue, $$replace))\n        return searchValue[$$replace](o, replaceValue);\n      return orig_replace.call(o, searchValue, replaceValue);\n    }, !string_regexp_dispatch);\n\n  // 21.1.3.15 String.prototype.search ( regexp )\n  define(\n    String.prototype, 'search',\n    function search(regexp) {\n      var o = strict(this);\n      var string = String(o);\n      if (HasProperty(regexp, $$search)) var rx = regexp;\n      else rx = new RegExp(regexp);\n      return rx[$$search](string);\n    }, !string_regexp_dispatch);\n\n  // 21.1.3.16 String.prototype.slice ( start, end )\n  // 21.1.3.17 String.prototype.split ( separator, limit )\n  define(\n    String.prototype, 'split',\n    function split(separator, limit) {\n      var o = strict(this);\n      if (HasProperty(separator, $$split))\n        return separator[$$split](o, limit);\n      return orig_split.call(o, separator, limit);\n    }, !string_regexp_dispatch);\n\n  // 21.1.3.18 String.prototype.startsWith ( searchString [, position ] )\n  define(\n    String.prototype, 'startsWith',\n    function startsWith(searchString) {\n      var position = arguments[1];\n\n      var o = strict(this);\n      var s = String(o);\n      var searchStr = String(searchString);\n      var pos = ToInteger(position);\n      var len = s.length;\n      var start = min(max(pos, 0), len);\n      var searchLength = searchStr.length;\n      if (searchLength + start &gt; len) return false;\n      if (s.substring(start, start + searchLength) === searchStr) return true;\n      return false;\n    });\n\n  // 21.1.3.19 String.prototype.substring ( start, end )\n  // 21.1.3.20 String.prototype.toLocaleLowerCase ( [ reserved1 [ , reserved2 ] ] )\n  // 21.1.3.21 String.prototype.toLocaleUpperCase ([ reserved1 [ , reserved2 ] ] )\n  // 21.1.3.22 String.prototype.toLowerCase ( )\n  // 21.1.3.23 String.prototype.toString ( )\n  // 21.1.3.24 String.prototype.toUpperCase ( )\n  // 21.1.3.25 String.prototype.trim ( )\n  // 21.1.3.26 String.prototype.valueOf ( )\n\n  // 21.1.3.27 String.prototype [ @@iterator ]( )\n  define(\n    String.prototype, $$iterator,\n    function entries() {\n      return CreateStringIterator(this, 'value');\n    });\n\n  // 21.1.4 Properties of String Instances\n  // 21.1.4.1 length\n\n  // 21.1.5 String Iterator Objects\n  /** @constructor */\n  function StringIterator() {}\n\n  // 21.1.5.1 CreateStringIterator Abstract Operation\n  function CreateStringIterator(string, kind) {\n    var s = String(string);\n    var iterator = new StringIterator;\n    set_internal(iterator, '[[IteratedString]]', s);\n    set_internal(iterator, '[[StringIteratorNextIndex]]', 0);\n    set_internal(iterator, '[[StringIterationKind]]', kind);\n    return iterator;\n  }\n\n  // 21.1.5.2 The %StringIteratorPrototype% Object\n  var $StringIteratorPrototype$ = Object.create($IteratorPrototype$);\n  StringIterator.prototype = $StringIteratorPrototype$;\n\n  // 21.1.5.2.1 %StringIteratorPrototype%.next ( )\n  define(\n    $StringIteratorPrototype$, 'next',\n    function next() {\n      var o = ToObject(this);\n      var s = String(o['[[IteratedString]]']),\n          index = o['[[StringIteratorNextIndex]]'],\n          len = s.length;\n      if (index &gt;= len) {\n        set_internal(o, '[[StringIteratorNextIndex]]', Infinity);\n        return CreateIterResultObject(undefined, true);\n      }\n      var cp = s.codePointAt(index);\n      set_internal(o, '[[StringIteratorNextIndex]]', index + (cp &gt; 0xFFFF ? 2 : 1));\n      return CreateIterResultObject(String.fromCodePoint(cp), false);\n    });\n\n  // 21.1.5.2.2 %StringIteratorPrototype% [ @@toStringTag ]\n  define($StringIteratorPrototype$, $$toStringTag, 'String Iterator');\n\n  // 21.1.5.3 Properties of String Iterator Instances\n\n  // ---------------------------------------\n  // 21.2 RegExp (Regular Expression) Objects\n  // ---------------------------------------\n\n  // 21.2.1 Patterns\n  // 21.2.2 Pattern Semantics\n  // 21.2.2.1 Notation\n  // 21.2.2.2 Pattern\n  // 21.2.2.3 Disjunction\n  // 21.2.2.4 Alternative\n  // 21.2.2.5 Term\n  // 21.2.2.6 Assertion\n  // 21.2.2.7 Quantifier\n  // 21.2.2.8 Atom\n  // 21.2.2.9 AtomEscape\n  // 21.2.2.10 CharacterEscape\n  // 21.2.2.11 DecimalEscape\n  // 21.2.2.12 CharacterClassEscape\n  // 21.2.2.13 CharacterClass\n  // 21.2.2.14 ClassRanges\n  // 21.2.2.15 NonemptyClassRanges\n  // 21.2.2.16 NonemptyClassRangesNoDash\n  // 21.2.2.17 ClassAtom\n  // 21.2.2.18 ClassAtomNoDash\n  // 21.2.2.19 ClassEscape\n  // 21.2.3 The RegExp Constructor\n  // 21.2.3.1 RegExp ( pattern, flags )\n  // 21.2.3.2 new RegExp( ...argumentsList )\n  // 21.2.3.3 Abstract Operations for the RegExp Constructor\n  // 21.2.4 Properties of the RegExp Constructor\n  // 21.2.4.1 RegExp.prototype\n  // 21.2.5 Properties of the RegExp Prototype Object\n  // 21.2.5.1 RegExp.prototype.constructor\n  // 21.2.5.2 RegExp.prototype.exec ( string )\n\n  // 21.2.5.3 get RegExp.prototype.flags\n  if (!('flags' in RegExp.prototype)) {\n    Object.defineProperty(\n      RegExp.prototype, 'flags', {\n        get: function() {\n          var s = String(this);\n          return s.substring(s.lastIndexOf('/') + 1);\n        }\n      });\n  }\n\n  // 21.2.5.4 get RegExp.prototype.global\n  // 21.2.5.5 get RegExp.prototype.ignoreCase\n\n  // 21.2.5.6 RegExp.prototype [ @@match ] ( string )\n  define(RegExp.prototype, $$match, function(string) {\n    var o = strict(this);\n    return orig_match.call(string, o);\n  });\n\n  // 21.2.5.7 get RegExp.prototype.multiline\n\n  // 21.2.5.8 RegExp.prototype [ @@replace ] ( string, replaceValue )\n  define(RegExp.prototype, $$replace, function(string, replaceValue) {\n    var o = strict(this);\n    return orig_replace.call(string, o, replaceValue);\n  });\n\n  // 21.2.5.9 RegExp.prototype [ @@search ] ( string )\n  define(RegExp.prototype, $$search, function(string) {\n    var o = strict(this);\n    return orig_search.call(string, o);\n  });\n\n  // 21.2.5.10 get RegExp.prototype.source\n\n  // 21.2.5.11 RegExp.prototype [ @@split ] ( string, limit )\n  define(RegExp.prototype, $$split, function(string, limit) {\n    var o = strict(this);\n    return orig_split.call(string, o, limit);\n  });\n\n  // 21.2.5.12 get RegExp.prototype.sticky\n  // 21.2.5.13 RegExp.prototype.test( S )\n  // 21.2.5.14 RegExp.prototype.toString ( )\n  // 21.2.5.15 get RegExp.prototype.unicode\n\n  // 21.2.6 Properties of RegExp Instances\n  // 21.2.6.1 lastIndex\n\n  // (No polyfillable changes from ES5)\n\n  // ---------------------------------------\n  // 22 Indexed Collections\n  // ---------------------------------------\n\n  // ---------------------------------------\n  // 22.1 Array Objects\n  // ---------------------------------------\n\n  // 22.1.1 The Array Constructor\n  // 22.1.1.1 Array ( )\n  // 22.1.1.2 Array (len)\n  // 22.1.1.3 Array (...items )\n\n  // 22.1.2 Properties of the Array Constructor\n\n  // 22.1.2.1 Array.from ( items [ , mapfn [ , thisArg ] ] )\n  define(\n    Array, 'from',\n    function from(items) {\n      var mapfn = arguments[1];\n      var thisArg = arguments[2];\n\n      var c = strict(this);\n      if (mapfn === undefined) {\n        var mapping = false;\n      } else {\n        if (!IsCallable(mapfn)) throw TypeError();\n        var t = thisArg;\n        mapping = true;\n      }\n      var usingIterator = GetMethod(items, $$iterator);\n      if (usingIterator !== undefined) {\n         if (IsConstructor(c)) {\n          var a = new c();\n        } else {\n          a = new Array(0);\n        }\n        var iterator = GetIterator(items, usingIterator);\n        var k = 0;\n        while (true) {\n          var next = IteratorStep(iterator);\n          if (next === false) {\n            a.length = k;\n            return a;\n          }\n          var nextValue = IteratorValue(next);\n          if (mapping)\n            var mappedValue = mapfn.call(t, nextValue);\n          else\n            mappedValue = nextValue;\n          a[k] = mappedValue;\n          k += 1;\n        }\n      }\n      var arrayLike = ToObject(items);\n      var lenValue = arrayLike.length;\n      var len = ToLength(lenValue);\n      if (IsConstructor(c)) {\n        a = new c(len);\n      } else {\n        a = new Array(len);\n      }\n      k = 0;\n      while (k &lt; len) {\n        var kValue = arrayLike[k];\n        if (mapping)\n          mappedValue = mapfn.call(t, kValue, k);\n        else\n          mappedValue = kValue;\n        a[k] = mappedValue;\n        k += 1;\n      }\n      a.length = len;\n      return a;\n    });\n\n  // 22.1.2.2 Array.isArray ( arg )\n\n  // 22.1.2.3 Array.of ( ...items )\n  define(\n    Array, 'of',\n    function of() {\n      var items = arguments;\n\n      var lenValue = items.length;\n      var len = ToUint32(lenValue);\n      var c = strict(this), a;\n      if (IsConstructor(c)) {\n        a = new c(len);\n        a = ToObject(a);\n      } else {\n        a = new Array(len);\n      }\n      var k = 0;\n      while (k &lt; len) {\n        a[k] = items[k];\n        k += 1;\n      }\n      a.length = len;\n      return a;\n    });\n\n  // 22.1.2.4 Array.prototype\n  // 22.1.2.5 get Array [ @@species ]\n  // 22.1.3 Properties of the Array Prototype Object\n  // 22.1.3.1 Array.prototype.concat ( ...arguments )\n  // 22.1.3.1.1 Runtime Semantics: IsConcatSpreadable ( O )\n  // 22.1.3.2 Array.prototype.constructor\n  // 22.1.3.3 Array.prototype.copyWithin (target, start [ , end ] )\n  define(\n    Array.prototype, 'copyWithin',\n    function copyWithin(target, start/*, end*/) {\n      var end = arguments[2];\n\n      var o = ToObject(this);\n      var lenVal = o.length;\n      var len = ToLength(lenVal);\n      len = max(len, 0);\n      var relativeTarget = ToInteger(target);\n      var to;\n      if (relativeTarget &lt; 0)\n        to = max(len + relativeTarget, 0);\n      else\n        to = min(relativeTarget, len);\n      var relativeStart = ToInteger(start);\n      var from;\n      if (relativeStart &lt; 0)\n        from = max(len + relativeStart, 0);\n      else\n        from = min(relativeStart, len);\n      var relativeEnd;\n      if (end === undefined)\n        relativeEnd = len;\n      else\n        relativeEnd = ToInteger(end);\n      var final;\n      if (relativeEnd &lt; 0)\n        final = max(len + relativeEnd, 0);\n      else\n        final = min(relativeEnd, len);\n      var count = min(final - from, len - to);\n      var direction;\n      if (from &lt; to &amp;&amp; to &lt; from + count) {\n        direction = -1;\n        from = from + count - 1;\n        to = to + count - 1;\n      } else {\n        direction = 1;\n      }\n      while (count &gt; 0) {\n        var fromKey = String(from);\n        var toKey = String(to);\n        var fromPresent = HasProperty(o, fromKey);\n        if (fromPresent) {\n          var fromVal = o[fromKey];\n          o[toKey] = fromVal;\n        } else {\n          delete o[toKey];\n        }\n        from = from + direction;\n        to = to + direction;\n        count = count - 1;\n      }\n      return o;\n    });\n\n  // 22.1.3.4 Array.prototype.entries ( )\n  var nativeArrayIteratorMethods =\n        ('entries' in Array.prototype &amp;&amp; 'next' in [].entries());\n\n  define(\n    Array.prototype, 'entries',\n    function entries() {\n      return CreateArrayIterator(this, 'key+value');\n    }, !nativeArrayIteratorMethods);\n\n  // 22.1.3.5 Array.prototype.every ( callbackfn [ , thisArg] )\n\n  // 22.1.3.6 Array.prototype.fill (value [ , start [ , end ] ] )\n  define(\n    Array.prototype, 'fill',\n    function fill(value/*, start, end*/) {\n      var start = arguments[1],\n          end = arguments[2];\n\n      var o = ToObject(this);\n      var lenVal = o.length;\n      var len = ToLength(lenVal);\n      len = max(len, 0);\n      var relativeStart = ToInteger(start);\n      var k;\n      if (relativeStart &lt; 0)\n        k = max((len + relativeStart), 0);\n      else\n        k = min(relativeStart, len);\n      var relativeEnd;\n      if (end === undefined)\n        relativeEnd = len;\n      else\n        relativeEnd = ToInteger(end);\n      var final;\n      if (relativeEnd &lt; 0)\n        final = max((len + relativeEnd), 0);\n      else\n        final = min(relativeEnd, len);\n      while (k &lt; final) {\n        var pk = String(k);\n        o[pk] = value;\n        k += 1;\n      }\n      return o;\n    });\n\n  // 22.1.3.7 Array.prototype.filter ( callbackfn [ , thisArg ] )\n\n  // 22.1.3.8 Array.prototype.find ( predicate [ , thisArg ] )\n  define(\n    Array.prototype, 'find',\n    function find(predicate) {\n      var o = ToObject(this);\n      var lenValue = o.length;\n      var len = ToInteger(lenValue);\n      if (!IsCallable(predicate)) throw TypeError();\n      var t = arguments.length &gt; 1 ? arguments[1] : undefined;\n      var k = 0;\n      while (k &lt; len) {\n        var pk = String(k);\n        var kPresent = HasProperty(o, pk);\n        if (kPresent) {\n          var kValue = o[pk];\n          var testResult = predicate.call(t, kValue, k, o);\n          if (Boolean(testResult)) {\n            return kValue;\n          }\n        }\n        ++k;\n      }\n      return undefined;\n    });\n\n  // 22.1.3.9 Array.prototype.findIndex ( predicate [ , thisArg ] )\n  define(\n    Array.prototype, 'findIndex',\n    function findIndex(predicate) {\n      var o = ToObject(this);\n      var lenValue = o.length;\n      var len = ToLength(lenValue);\n      if (!IsCallable(predicate)) throw TypeError();\n      var t = arguments.length &gt; 1 ? arguments[1] : undefined;\n      var k = 0;\n      while (k &lt; len) {\n        var pk = String(k);\n        var kPresent = HasProperty(o, pk);\n        if (kPresent) {\n          var kValue = o[pk];\n          var testResult = predicate.call(t, kValue, k, o);\n          if (Boolean(testResult)) {\n            return k;\n          }\n        }\n        ++k;\n      }\n      return -1;\n    });\n\n  // 22.1.3.10 Array.prototype.forEach ( callbackfn [ , thisArg ] )\n  // 22.1.3.11 Array.prototype.indexOf ( searchElement [ , fromIndex ] )\n  // 22.1.3.12 Array.prototype.join (separator)\n\n  // 22.1.3.13 Array.prototype.keys ( )\n  define(\n    Array.prototype, 'keys',\n    function keys() {\n      return CreateArrayIterator(this, 'key');\n    }, !nativeArrayIteratorMethods);\n\n  // 22.1.3.14 Array.prototype.lastIndexOf ( searchElement [ , fromIndex ] )\n  // 22.1.3.15 Array.prototype.map ( callbackfn [ , thisArg ] )\n  // 22.1.3.16 Array.prototype.pop ( )\n  // 22.1.3.17 Array.prototype.push ( ...items )\n  // 22.1.3.18 Array.prototype.reduce ( callbackfn [ , initialValue ] )\n  // 22.1.3.19 Array.prototype.reduceRight ( callbackfn [ , initialValue ] )\n  // 22.1.3.20 Array.prototype.reverse ( )\n  // 22.1.3.21 Array.prototype.shift ( )\n  // 22.1.3.22 Array.prototype.slice (start, end)\n  // 22.1.3.23 Array.prototype.some ( callbackfn [ , thisArg ] )\n  // 22.1.3.24 Array.prototype.sort (comparefn)\n  // 22.1.3.25 Array.prototype.splice (start, deleteCount , ...items )\n  // 22.1.3.26 Array.prototype.toLocaleString ( [ reserved1 [ , reserved2 ] ] )\n  // 22.1.3.27 Array.prototype.toString ( )\n  // 22.1.3.28 Array.prototype.unshift ( ...items )\n\n  // 22.1.3.29 Array.prototype.values ( )\n  define(\n    Array.prototype, 'values',\n    function values() {\n      return CreateArrayIterator(this, 'value');\n    }, !nativeArrayIteratorMethods);\n\n  // 22.1.3.30 Array.prototype [ @@iterator ] ( )\n  define(\n    Array.prototype, $$iterator,\n    Array.prototype.values\n    );\n\n  // 22.1.3.31 Array.prototype [ @@unscopables ]\n  // 22.1.4 Properties of Array Instances\n  // 22.1.4.1 length\n\n  // 22.1.5 Array Iterator Objects\n  function ArrayIterator() {}\n\n  // 22.1.5.1 CreateArrayIterator Abstract Operation\n  function CreateArrayIterator(array, kind) {\n    var o = ToObject(array);\n    var iterator = new ArrayIterator;\n    set_internal(iterator, '[[IteratedObject]]', o);\n    set_internal(iterator, '[[ArrayIteratorNextIndex]]', 0);\n    set_internal(iterator, '[[ArrayIterationKind]]', kind);\n    return iterator;\n  }\n\n  // 22.1.5.2 The %ArrayIteratorPrototype% Object\n  var $ArrayIteratorPrototype$ = Object.create($IteratorPrototype$);\n  ArrayIterator.prototype = $ArrayIteratorPrototype$;\n\n  // 22.1.5.2.1 %ArrayIteratorPrototype%. next( )\n  define(\n    $ArrayIteratorPrototype$, 'next',\n    function next() {\n      var o = strict(this);\n      if (Type(o) !== 'object') throw TypeError();\n      var a = o['[[IteratedObject]]'],\n          index = o['[[ArrayIteratorNextIndex]]'],\n          itemKind = o['[[ArrayIterationKind]]'],\n          lenValue = a.length,\n          len = ToUint32(lenValue),\n          elementKey,\n          elementValue;\n      if (itemKind.indexOf('sparse') !== -1) {\n        var found = false;\n        while (!found &amp;&amp; index &lt; len) {\n          elementKey = String(index);\n          found = HasProperty(a, elementKey);\n          if (!found) {\n            index += 1;\n          }\n        }\n      }\n      if (index &gt;= len) {\n        set_internal(o, '[[ArrayIteratorNextIndex]]', Infinity);\n        return CreateIterResultObject(undefined, true);\n      }\n      elementKey = index;\n      set_internal(o, '[[ArrayIteratorNextIndex]]', index + 1);\n      if (itemKind.indexOf('value') !== -1)\n        elementValue = a[elementKey];\n      if (itemKind.indexOf('key+value') !== -1)\n        return CreateIterResultObject([elementKey, elementValue], false);\n      if (itemKind.indexOf('key') !== -1)\n        return CreateIterResultObject(elementKey, false);\n      if (itemKind === 'value')\n        return CreateIterResultObject(elementValue, false);\n      throw Error('Internal error');\n    });\n\n  // 22.1.5.2.2 %ArrayIteratorPrototype% [ @@toStringTag ]\n  define($ArrayIteratorPrototype$, $$toStringTag, 'Array Iterator');\n\n  // 22.1.5.3 Properties of Array Iterator Instances\n\n\n  // ---------------------------------------\n  // 22.2 TypedArray Objects\n  // ---------------------------------------\n\n  // See typedarray.js for TypedArray polyfill\n\n  ['Int8Array', 'Uint8Array', 'Uint8ClampedArray',\n   'Int16Array', 'Uint16Array',\n   'Int32Array', 'Uint32Array',\n   'Float32Array', 'Float64Array'].forEach(function ($TypedArrayName$) {\n     if (!($TypedArrayName$ in global))\n       return;\n     var $TypedArray$ = global[$TypedArrayName$];\n\n     // 22.2.1 The %TypedArray% Intrinsic Object\n     // 22.2.1.1 %TypedArray% ( length )\n     // 22.2.1.2 %TypedArray% ( typedArray )\n     // 22.2.1.3 %TypedArray% ( object )\n     // 22.2.1.4 %TypedArray% ( buffer [ , byteOffset [ , length ] ] )\n     // 22.2.1.5 %TypedArray% ( all other argument combinations )\n     // 22.2.2 Properties of the %TypedArray% Intrinsic Object\n\n     // 22.2.2.1 %TypedArray%.from ( source [ , mapfn [ , thisArg ] ] )\n     define(\n       $TypedArray$, 'from',\n       function from(source) {\n         var mapfn = arguments[1];\n         var thisArg = arguments[2];\n\n         var c = strict(this);\n         if (!IsConstructor(c)) throw TypeError();\n         if (mapfn === undefined) {\n           var mapping = false;\n         } else {\n           if (IsCallable(mapfn)) throw TypeError();\n           var t = thisArg;\n           mapping = true;\n         }\n         var usingIterator = GetMethod(source, $$iterator);\n         if (usingIterator !== undefined) {\n           var iterator = GetIterator(source, usingIterator);\n           var values = [];\n           var next = true;\n           while (next !== false) {\n             next = IteratorStep(iterator);\n             if (next !== false) {\n               var nextValue = IteratorValue(next);\n               values.push(nextValue);\n             }\n           }\n           var len = values.length;\n           var newObj = new c(len);\n           var k = 0;\n           while (k &lt; len) {\n             var kValue = values.shift();\n             if (mapping) {\n               var mappedValue = mapfn.call(t, kValue);\n             } else {\n               mappedValue = kValue;\n             }\n             newObj[k] = mappedValue;\n             ++k;\n           }\n           console.assert(values.length === 0);\n           return newObj;\n         }\n         var arrayLike = ToObject(source);\n         var lenValue = arrayLike.length;\n         len = ToLength(lenValue);\n         newObj = new c(len);\n         k = 0;\n         while (k &lt; len) {\n           kValue = arrayLike[k];\n           if (mapping) {\n             mappedValue = mapfn.call(t, kValue, k);\n           } else {\n             mappedValue = kValue;\n           }\n           newObj[k] = mappedValue;\n           ++k;\n         }\n         return newObj;\n       });\n\n     // 22.2.2.2 %TypedArray%.of ( ...items )\n     define(\n       $TypedArray$, 'of',\n       function of() {\n         var items = arguments;\n\n         var len = items.length;\n         var c = strict(this);\n         var newObj = new c(len);\n         var k = 0;\n         while (k &lt; len) {\n           newObj[k] = items[k];\n           ++k;\n         }\n         return newObj;\n       });\n\n     // 22.2.2.3 %TypedArray%.prototype\n     // 22.2.2.4 get %TypedArray% [ @@species ]\n     // 22.2.3 Properties of the %TypedArrayPrototype% Object\n     // 22.2.3.1 get %TypedArray%.prototype.buffer\n     // 22.2.3.2 get %TypedArray%.prototype.byteLength\n     // 22.2.3.3 get %TypedArray%.prototype.byteOffset\n     // 22.2.3.4 %TypedArray%.prototype.constructor\n\n     // 22.2.3.5 %TypedArray%.prototype.copyWithin (target, start [, end ] )\n     define($TypedArray$.prototype, 'copyWithin', Array.prototype.copyWithin);\n\n     // 22.2.3.6 %TypedArray%.prototype.entries ( )\n     define($TypedArray$.prototype, 'entries', Array.prototype.entries);\n\n     // 22.2.3.7 %TypedArray%.prototype.every ( callbackfn [ , thisArg ] )\n     define($TypedArray$.prototype, 'every', Array.prototype.every);\n\n     // 22.2.3.8 %TypedArray%.prototype.fill (value [ , start [ , end ] ] )\n     define(\n       $TypedArray$.prototype, 'fill',\n       //Array.prototype.fill // Doesn't work in Safari 7\n       function fill(value/*, start, end*/) {\n         var start = arguments[1],\n             end = arguments[2];\n\n         var o = ToObject(this);\n         var lenVal = o.length;\n         var len = ToLength(lenVal);\n         len = max(len, 0);\n         var relativeStart = ToInteger(start);\n         var k;\n         if (relativeStart &lt; 0) k = max((len + relativeStart), 0);\n         else k = min(relativeStart, len);\n         var relativeEnd;\n         if (end === undefined) relativeEnd = len;\n         else relativeEnd = ToInteger(end);\n         var final;\n         if (relativeEnd &lt; 0) final = max((len + relativeEnd), 0);\n         else final = min(relativeEnd, len);\n         while (k &lt; final) {\n           var pk = String(k);\n           o[pk] = value;\n           k += 1;\n         }\n         return o;\n       });\n\n     // 22.2.3.9 %TypedArray%.prototype.filter ( callbackfn [ , thisArg ] )\n     define(\n       $TypedArray$.prototype, 'filter',\n       function filter(callbackfn) {\n         var thisArg = arguments[1];\n\n         var o = ToObject(this);\n         var lenVal = o.length;\n         var len = ToLength(lenVal);\n         if (!IsCallable(callbackfn)) throw TypeError();\n         var t = thisArg;\n         var c = o.constructor;\n         var kept = [];\n         var k = 0;\n         var captured = 0;\n         while (k &lt; len) {\n           var kValue = o[k];\n           var selected = callbackfn.call(t, kValue, k, o);\n           if (selected) {\n             kept.push(kValue);\n             ++captured;\n           }\n           ++k;\n         }\n         var a = new c(captured);\n         var n = 0;\n         for (var i = 0; i &lt; kept.length; ++i) {\n           var e = kept[i];\n           a[n] = e;\n           ++n;\n         }\n         return a;\n       });\n\n     // 22.2.3.10 %TypedArray%.prototype.find (predicate [ , thisArg ] )\n     define($TypedArray$.prototype, 'find', Array.prototype.find);\n\n     // 22.2.3.11 %TypedArray%.prototype.findIndex ( predicate [ , thisArg ] )\n     define($TypedArray$.prototype, 'findIndex', Array.prototype.findIndex);\n\n     // 22.2.3.12 %TypedArray%.prototype.forEach ( callbackfn [ , thisArg ] )\n     define($TypedArray$.prototype, 'forEach', Array.prototype.forEach);\n\n     // 22.2.3.13 %TypedArray%.prototype.indexOf (searchElement [ , fromIndex ] )\n     define($TypedArray$.prototype, 'indexOf', Array.prototype.indexOf);\n\n     // 22.2.3.14 %TypedArray%.prototype.join ( separator )\n     define($TypedArray$.prototype, 'join', Array.prototype.join);\n\n     // 22.2.3.15 %TypedArray%.prototype.keys ( )\n     define($TypedArray$.prototype, 'keys', Array.prototype.keys);\n\n     // 22.2.3.16 %TypedArray%.prototype.lastIndexOf ( searchElement [ , fromIndex ] )\n     define($TypedArray$.prototype, 'lastIndexOf', Array.prototype.lastIndexOf);\n\n     // 22.2.3.17 get %TypedArray%.prototype.length\n\n     // 22.2.3.18 %TypedArray%.prototype.map ( callbackfn [ , thisArg ] )\n     define(\n       $TypedArray$.prototype, 'map',\n       function map(callbackfn) {\n         var thisArg = arguments[1];\n\n         var o = ToObject(this);\n         var lenValue = o.length;\n         var len = ToLength(lenValue);\n         if (!IsCallable(callbackfn)) throw TypeError();\n         var t = thisArg;\n         var a = undefined;\n         var c = o.constructor;\n         if (IsConstructor(c))\n           a = new c(len);\n         if (a === undefined)\n           a = new Array(len);\n         var k = 0;\n         while (k &lt; len) {\n           var kPresent = HasProperty(o, k);\n           if (kPresent) {\n             var kValue = o[k];\n             var mappedValue = callbackfn.call(t, kValue, k, o);\n             a[k] = mappedValue;\n           }\n           ++k;\n         }\n         return a;\n       });\n\n     // 22.2.3.19 %TypedArray%.prototype.reduce ( callbackfn [, initialValue] )\n     define($TypedArray$.prototype, 'reduce', Array.prototype.reduce);\n\n     // 22.2.3.20 %TypedArray%.prototype.reduceRight ( callbackfn [, initialValue] )\n     define($TypedArray$.prototype, 'reduceRight', Array.prototype.reduceRight);\n\n     // 22.2.3.21 %TypedArray%.prototype.reverse ( )\n     define($TypedArray$.prototype, 'reverse', Array.prototype.reverse);\n\n     // 22.2.3.22 %TypedArray%.prototype.set ( overloaded [ , offset ])\n     // 22.2.3.22.1 %TypedArray%.prototype.set (array [ , offset ] )\n     // 22.2.3.22.2 %TypedArray%.prototype.set(typedArray [, offset ] )\n\n     // 22.2.3.23 %TypedArray%.prototype.slice ( start, end )\n     define(\n       $TypedArray$.prototype, 'slice',\n       function slice(start, end) {\n         var o = ToObject(this);\n         var lenVal = o.length;\n         var len = ToLength(lenVal);\n         var relativeStart = ToInteger(start);\n         var k = (relativeStart &lt; 0) ? max(len + relativeStart, 0) : min(relativeStart, len);\n         var relativeEnd = (end === undefined) ? len : ToInteger(end);\n         var final = (relativeEnd &lt; 0) ? max(len + relativeEnd, 0) : min(relativeEnd, len);\n         var count = final - k;\n         var c = o.constructor;\n         if (IsConstructor(c)) {\n           var a = new c(count);\n         } else {\n           throw TypeError();\n         }\n         var n = 0;\n         while (k &lt; final) {\n           var kValue = o[k];\n           a[n] = kValue;\n           ++k;\n           ++n;\n         }\n         return a;\n       });\n\n     // 22.2.3.24 %TypedArray%.prototype.some ( callbackfn [ , thisArg ] )\n     define($TypedArray$.prototype, 'some', Array.prototype.some);\n\n     // 22.2.3.25 %TypedArray%.prototype.sort ( comparefn )\n     define(\n       $TypedArray$.prototype, 'sort',\n       function sort() {\n         var comparefn = arguments[0];\n\n         function sortCompare(x, y) {\n           console.assert(Type(x) === 'number' &amp;&amp; Type(y) === 'number');\n           if (x !== x &amp;&amp; y !== y) return +0;\n           if (x !== x) return 1;\n           if (y !== y) return -1;\n           if (comparefn !== undefined) {\n             return comparefn(x, y);\n           }\n           if (x &lt; y) return -1;\n           if (x &gt; y) return 1;\n           return +0;\n         }\n         return Array.prototype.sort.call(this, sortCompare);\n       });\n\n     // 22.2.3.26 %TypedArray%.prototype.subarray( [ begin [ , end ] ] )\n     // 22.2.3.27 %TypedArray%.prototype.toLocaleString ([ reserved1 [ , reserved2 ] ])\n     // 22.2.3.28 %TypedArray%.prototype.toString ( )\n\n     // 22.2.3.29 %TypedArray%.prototype.values ( )\n     define($TypedArray$.prototype, 'values', Array.prototype.values);\n\n     // 22.2.3.30 %TypedArray%.prototype [ @@iterator ] ( )\n     define(\n       $TypedArray$.prototype, $$iterator,\n       $TypedArray$.prototype.values\n     );\n\n     // 22.2.3.31 get %TypedArray%.prototype [ @@toStringTag ]\n     define($TypedArray$.prototype, $$toStringTag, $TypedArrayName$);\n\n     // 22.2.4 The TypedArray Constructors\n     // 22.2.4.1TypedArray( ... argumentsList)\n     // 22.2.5 Properties of the TypedArray Constructors\n     // 22.2.5.1 TypedArray.BYTES_PER_ELEMENT\n     // 22.2.5.2 TypedArray.prototype\n     // 22.2.6 Properties of TypedArray Prototype Objects\n     // 22.2.6.1 TypedArray.prototype.BYTES_PER_ELEMENT\n     // 22.2.6.2 TypedArray.prototype.constructor\n     // 22.2.7 Properties of TypedArray Instances\n   });\n\n  // ---------------------------------------\n  // 23 Keyed Collection\n  // ---------------------------------------\n\n  // ---------------------------------------\n  // 23.1 Map Objects\n  // ---------------------------------------\n\n  (function() {\n    // 23.1.1 The Map Constructor\n\n    // 23.1.1.1 Map ( [ iterable ] )\n    /** @constructor */\n    function Map(/*iterable*/) {\n      var map = strict(this);\n      var iterable = arguments[0];\n\n      if (Type(map) !== 'object') throw TypeError();\n      if ('[[MapData]]' in map) throw TypeError();\n\n      if (iterable !== undefined) {\n        var adder = map['set'];\n        if (!IsCallable(adder)) throw TypeError();\n        var iter = GetIterator(ToObject(iterable));\n      }\n      set_internal(map, '[[MapData]]', { keys: [], values: [] });\n      if (iter === undefined) return map;\n      while (true) {\n        var next = IteratorStep(iter);\n        if (next === false)\n          return map;\n        var nextItem = IteratorValue(next);\n        if (Type(nextItem) !== 'object') throw TypeError();\n        var k = nextItem[0];\n        var v = nextItem[1];\n        adder.call(map, k, v);\n      }\n\n      return map;\n    }\n\n    if (!('Map' in global) || OVERRIDE_NATIVE_FOR_TESTING ||\n        (function() { try { new global.Map([]); return false; } catch (_) { return true; } }()) ||\n        (function() { try { return !new global.Map().entries().next; } catch (_) { return true; } }()) ||\n        (new global.Map([['a', 1]]).size !== 1))\n      global.Map = Map;\n\n\n    function MapDataIndexOf(mapData, key) {\n      var i;\n      if (key === key) return mapData.keys.indexOf(key);\n      // Slow case for NaN\n      for (i = 0; i &lt; mapData.keys.length; i += 1)\n        if (SameValueZero(mapData.keys[i], key)) return i;\n      return -1;\n    }\n\n    // 23.1.1.2 new Map ( ... argumentsList )\n    // 23.1.2 Properties of the Map Constructor\n    // 23.1.2.1 Map.prototype\n    var $MapPrototype$ = {};\n    Map.prototype = $MapPrototype$;\n\n    // 23.1.2.2 get Map [ @@species ]\n\n    // 23.1.3 Properties of the Map Prototype Object\n    // 23.1.3.1 Map.prototype.clear ()\n    define(\n      Map.prototype, 'clear',\n      function clear() {\n        var m = strict(this);\n        if (Type(m) !== 'object') throw TypeError();\n        if (!('[[MapData]]' in m)) throw TypeError();\n        if (m['[[MapData]]'] === undefined) throw TypeError();\n        var entries = m['[[MapData]]'];\n        entries.keys.length = 0;\n        entries.values.length = 0;\n        return undefined;\n      });\n\n    // 23.1.3.2 Map.prototype.constructor\n\n    // 23.1.3.3 Map.prototype.delete ( key )\n    define(\n      Map.prototype, 'delete',\n      function delete_(key) {\n        var m = strict(this);\n        if (Type(m) !== 'object') throw TypeError();\n        if (!('[[MapData]]' in m)) throw TypeError();\n        if (m['[[MapData]]'] === undefined) throw TypeError();\n        var entries = m['[[MapData]]'];\n        var i = MapDataIndexOf(entries, key);\n        if (i &lt; 0) return false;\n        entries.keys[i] = empty;\n        entries.values[i] = empty;\n        return true;\n      });\n\n    // 23.1.3.4 Map.prototype.entries ( )\n    define(\n      Map.prototype, 'entries',\n      function entries() {\n        var m = strict(this);\n        if (Type(m) !== 'object') throw TypeError();\n        return CreateMapIterator(m, 'key+value');\n      });\n\n    // 23.1.3.5 Map.prototype.forEach ( callbackfn [ , thisArg ] )\n    define(\n      Map.prototype, 'forEach',\n      function forEach(callbackfn /*, thisArg*/) {\n        var thisArg = arguments[1];\n\n        var m = strict(this);\n        if (Type(m) !== 'object') throw TypeError();\n        if (!('[[MapData]]' in m)) throw TypeError();\n        if (m['[[MapData]]'] === undefined) throw TypeError();\n        var entries = m['[[MapData]]'];\n\n        if (!IsCallable(callbackfn)) {\n          throw TypeError('First argument to forEach is not callable.');\n        }\n        for (var i = 0; i &lt; entries.keys.length; ++i) {\n          if (entries.keys[i] !== empty) {\n            callbackfn.call(thisArg, entries.values[i], entries.keys[i], m);\n          }\n        }\n        return undefined;\n      });\n\n    // 23.1.3.6 Map.prototype.get ( key )\n    define(\n      Map.prototype, 'get',\n      function get(key) {\n        var m = strict(this);\n        if (Type(m) !== 'object') throw TypeError();\n        if (!('[[MapData]]' in m)) throw TypeError();\n        if (m['[[MapData]]'] === undefined) throw TypeError();\n        var entries = m['[[MapData]]'];\n        var i = MapDataIndexOf(entries, key);\n        if (i &gt;= 0) return entries.values[i];\n        return undefined;\n      });\n\n    // 23.1.3.7 Map.prototype.has ( key )\n    define(\n      Map.prototype, 'has',\n      function has(key) {\n        var m = strict(this);\n        if (Type(m) !== 'object') throw TypeError();\n        if (!('[[MapData]]' in m)) throw TypeError();\n        if (m['[[MapData]]'] === undefined) throw TypeError();\n        var entries = m['[[MapData]]'];\n        if (MapDataIndexOf(entries, key) &gt;= 0) return true;\n        return false;\n      });\n\n    // 23.1.3.8 Map.prototype.keys ( )\n    define(\n      Map.prototype, 'keys',\n      function keys() {\n        var m = strict(this);\n        if (Type(m) !== 'object') throw TypeError();\n        return CreateMapIterator(m, 'key');\n      });\n\n    // 23.1.3.9 Map.prototype.set ( key , value )\n    define(\n      Map.prototype, 'set',\n      function set(key, value) {\n        var m = strict(this);\n        if (Type(m) !== 'object') throw TypeError();\n        if (!('[[MapData]]' in m)) throw TypeError();\n        if (m['[[MapData]]'] === undefined) throw TypeError();\n        var entries = m['[[MapData]]'];\n        var i = MapDataIndexOf(entries, key);\n        if (i &lt; 0) i = entries.keys.length;\n        if (SameValue(key, -0)) key = 0;\n        entries.keys[i] = key;\n        entries.values[i] = value;\n        return m;\n      });\n\n    // 23.1.3.10 get Map.prototype.size\n    Object.defineProperty(\n      Map.prototype, 'size', {\n        get: function() {\n          var m = strict(this);\n          if (Type(m) !== 'object') throw TypeError();\n          if (!('[[MapData]]' in m)) throw TypeError();\n          if (m['[[MapData]]'] === undefined) throw TypeError();\n          var entries = m['[[MapData]]'];\n          var count = 0;\n          for (var i = 0; i &lt; entries.keys.length; ++i) {\n            if (entries.keys[i] !== empty)\n              count = count + 1;\n          }\n          return count;\n        }\n      });\n\n    // 23.1.3.11 Map.prototype.values ( )\n    define(\n      Map.prototype, 'values',\n      function values() {\n        var m = strict(this);\n        if (Type(m) !== 'object') throw TypeError();\n        return CreateMapIterator(m, 'value');\n      });\n\n    // 23.1.3.12 Map.prototype [ @@iterator ]( )\n    define(\n      Map.prototype, $$iterator,\n      function() {\n        var m = strict(this);\n        if (Type(m) !== 'object') throw TypeError();\n        return CreateMapIterator(m, 'key+value');\n      });\n\n    // 23.1.3.13 Map.prototype [ @@toStringTag ]\n    define(global.Map.prototype, $$toStringTag, 'Map');\n\n    // 23.1.4 Properties of Map Instances\n    // 23.1.5 Map Iterator Objects\n\n    /** @constructor */\n    function MapIterator() {}\n\n    // 23.1.5.1 CreateMapIterator Abstract Operation\n    function CreateMapIterator(map, kind) {\n      if (Type(map) !== 'object') throw TypeError();\n      if (!('[[MapData]]' in map)) throw TypeError();\n      if (map['[[MapData]]'] === undefined) throw TypeError();\n      var iterator = new MapIterator;\n      set_internal(iterator, '[[Map]]', map);\n      set_internal(iterator, '[[MapNextIndex]]', 0);\n      set_internal(iterator, '[[MapIterationKind]]', kind);\n      return iterator;\n    }\n\n    // 23.1.5.2 The %MapIteratorPrototype% Object\n    var $MapIteratorPrototype$ = Object.create($IteratorPrototype$);\n    MapIterator.prototype = $MapIteratorPrototype$;\n\n    // 23.1.5.2.1 %MapIteratorPrototype%.next ( )\n    define(\n      $MapIteratorPrototype$, 'next',\n      function next() {\n        var o = strict(this);\n        if (Type(o) !== 'object') throw TypeError();\n        var m = o['[[Map]]'],\n            index = o['[[MapNextIndex]]'],\n            itemKind = o['[[MapIterationKind]]'],\n            entries = m['[[MapData]]'];\n        while (index &lt; entries.keys.length) {\n          var e = {key: entries.keys[index], value: entries.values[index]};\n          index = index += 1;\n          set_internal(o, '[[MapNextIndex]]', index);\n          if (e.key !== empty) {\n            if (itemKind === 'key') {\n              return CreateIterResultObject(e.key, false);\n            } else if (itemKind === 'value') {\n              return CreateIterResultObject(e.value, false);\n            } else {\n              return CreateIterResultObject([e.key, e.value], false);\n            }\n          }\n        }\n        return CreateIterResultObject(undefined, true);\n      });\n\n    // 23.1.5.2.2 %MapIteratorPrototype% [ @@toStringTag ]\n    define($MapIteratorPrototype$, $$toStringTag, 'Map Iterator');\n\n    // 23.1.5.3 Properties of Map Iterator Instances\n  }());\n\n  // ---------------------------------------\n  // 23.2 Set Objects\n  // ---------------------------------------\n\n  (function() {\n    // 23.2.1 The Set Constructor\n    // 23.2.1.1 Set ( [ iterable ] )\n\n    /** @constructor */\n    function Set(/*iterable*/) {\n      var set = strict(this);\n      var iterable = arguments[0];\n\n      if (Type(set) !== 'object') throw TypeError();\n      if ('[[SetData]]' in set) throw TypeError();\n\n      if (iterable !== undefined) {\n        var adder = set['add'];\n        if (!IsCallable(adder)) throw TypeError();\n        var iter = GetIterator(ToObject(iterable));\n      }\n      set_internal(set, '[[SetData]]', []);\n      if (iter === undefined) return set;\n      while (true) {\n        var next = IteratorStep(iter);\n        if (next === false)\n          return set;\n        var nextValue = IteratorValue(next);\n        adder.call(set, nextValue);\n      }\n\n      return set;\n    }\n\n    if (!('Set' in global) || OVERRIDE_NATIVE_FOR_TESTING ||\n        (function() { try { return !new global.Set().entries().next; } catch (_) { return true; } }()) ||\n        (new global.Set([1]).size !== 1))\n      global.Set = Set;\n\n    function SetDataIndexOf(setData, key) {\n      var i;\n      if (key === key)\n        return setData.indexOf(key);\n      // Slow case for NaN\n      for (i = 0; i &lt; setData.length; i += 1)\n        if (SameValueZero(setData[i], key)) return i;\n      return -1;\n    }\n\n    // 23.2.1.2 new Set ( ...argumentsList )\n    // 23.2.2 Properties of the Set Constructor\n\n    // 23.2.2.1 Set.prototype\n    var $SetPrototype$ =  {};\n    Set.prototype = $SetPrototype$;\n\n    // 23.2.2.2 get Set [ @@species ]\n    // 23.2.3 Properties of the Set Prototype Object\n\n    // 23.2.3.1 Set.prototype.add (value )\n    define(\n      Set.prototype, 'add',\n      function add(value) {\n        var s = strict(this);\n        if (Type(s) !== 'object') throw TypeError();\n        if (!('[[SetData]]' in s)) throw TypeError();\n        if (s['[[SetData]]'] === undefined) throw TypeError();\n        if (SameValue(value, -0)) value = 0;\n        var entries = s['[[SetData]]'];\n        var i = SetDataIndexOf(entries, value);\n        if (i &lt; 0) i = s['[[SetData]]'].length;\n        s['[[SetData]]'][i] = value;\n\n        return s;\n      });\n\n    // 23.2.3.2 Set.prototype.clear ()\n    define(\n      Set.prototype, 'clear',\n      function clear() {\n        var s = strict(this);\n        if (Type(s) !== 'object') throw TypeError();\n        if (!('[[SetData]]' in s)) throw TypeError();\n        if (s['[[SetData]]'] === undefined) throw TypeError();\n        var entries = s['[[SetData]]'];\n        entries.length = 0;\n        return undefined;\n      });\n\n    // 23.2.3.3 Set.prototype.constructor\n    // 23.2.3.4 Set.prototype.delete ( value )\n    define(\n      Set.prototype, 'delete',\n      function delete_(value) {\n        var s = strict(this);\n        if (Type(s) !== 'object') throw TypeError();\n        if (!('[[SetData]]' in s)) throw TypeError();\n        if (s['[[SetData]]'] === undefined) throw TypeError();\n        var entries = s['[[SetData]]'];\n        var i = SetDataIndexOf(entries, value);\n        if (i &lt; 0) return false;\n        entries[i] = empty;\n        return true;\n      });\n\n    // 23.2.3.5 Set.prototype.entries ( )\n    define(\n      Set.prototype, 'entries',\n      function entries() {\n        var s = strict(this);\n        if (Type(s) !== 'object') throw TypeError();\n        return CreateSetIterator(s, 'key+value');\n      });\n\n    // 23.2.3.6 Set.prototype.forEach ( callbackfn [ , thisArg ] )\n    define(\n      Set.prototype, 'forEach',\n      function forEach(callbackfn/*, thisArg*/) {\n        var thisArg = arguments[1];\n\n        var s = strict(this);\n        if (Type(s) !== 'object') throw TypeError();\n        if (!('[[SetData]]' in s)) throw TypeError();\n        if (s['[[SetData]]'] === undefined) throw TypeError();\n        var entries = s['[[SetData]]'];\n\n        if (!IsCallable(callbackfn)) {\n          throw TypeError('First argument to forEach is not callable.');\n        }\n        for (var i = 0; i &lt; entries.length; ++i) {\n          if (entries[i] !== empty) {\n            callbackfn.call(thisArg, entries[i], entries[i], s);\n          }\n        }\n      });\n\n    // 23.2.3.7 Set.prototype.has ( value )\n    define(\n      Set.prototype, 'has',\n      function has(key) {\n        var s = strict(this);\n        if (Type(s) !== 'object') throw TypeError();\n        if (!('[[SetData]]' in s)) throw TypeError();\n        if (s['[[SetData]]'] === undefined) throw TypeError();\n        var entries = s['[[SetData]]'];\n        return SetDataIndexOf(entries, key) !== -1;\n      });\n\n    // 23.2.3.8 Set.prototype.keys ( )\n    // See Set.prototype.values\n\n    // 23.2.3.9 get Set.prototype.size\n    Object.defineProperty(\n      Set.prototype, 'size', {\n        get: function() {\n          var s = strict(this);\n          if (Type(s) !== 'object') throw TypeError();\n          if (!('[[SetData]]' in s)) throw TypeError();\n          if (s['[[SetData]]'] === undefined) throw TypeError();\n          var entries = s['[[SetData]]'];\n          var count = 0;\n          for (var i = 0; i &lt; entries.length; ++i) {\n            if (entries[i] !== empty)\n              count = count + 1;\n          }\n          return count;\n        }\n      });\n\n    // 23.2.3.10 Set.prototype.values ( )\n    define(\n      Set.prototype, 'values',\n      function values() {\n        var s = strict(this);\n        if (Type(s) !== 'object') throw TypeError();\n        return CreateSetIterator(s, 'value');\n      });\n    // NOTE: function name is still 'values':\n    Set.prototype.keys = Set.prototype.values;\n\n    // 23.2.3.11 Set.prototype [@@iterator ] ( )\n    define(\n      Set.prototype, $$iterator,\n      function() {\n        var s = strict(this);\n        if (Type(s) !== 'object') throw TypeError();\n        return CreateSetIterator(s);\n      });\n\n    // 23.2.3.12 Set.prototype [ @@toStringTag ]\n    define(global.Set.prototype, $$toStringTag, 'Set');\n\n    // 23.2.4 Properties of Set Instances\n    // 23.2.5 Set Iterator Objects\n    /** @constructor */\n    function SetIterator() {}\n\n    // 23.2.5.1 CreateSetIterator Abstract Operation\n    function CreateSetIterator(set, kind) {\n      if (Type(set) !== 'object') throw TypeError();\n      if (!('[[SetData]]' in set)) throw TypeError();\n      if (set['[[SetData]]'] === undefined) throw TypeError();\n      var iterator = new SetIterator;\n      set_internal(iterator, '[[IteratedSet]]', set);\n      set_internal(iterator, '[[SetNextIndex]]', 0);\n      set_internal(iterator, '[[SetIterationKind]]', kind);\n      return iterator;\n    }\n\n    // 23.2.5.2 The %SetIteratorPrototype% Object\n    var $SetIteratorPrototype$ = Object.create($IteratorPrototype$);\n    SetIterator.prototype = $SetIteratorPrototype$;\n\n    // 23.2.5.2.1 %SetIteratorPrototype%.next( )\n    define(\n      $SetIteratorPrototype$, 'next',\n      function next() {\n        var o = strict(this);\n        if (Type(o) !== 'object') throw TypeError();\n        var s = o['[[IteratedSet]]'],\n            index = o['[[SetNextIndex]]'],\n            itemKind = o['[[SetIterationKind]]'],\n            entries = s['[[SetData]]'];\n        while (index &lt; entries.length) {\n          var e = entries[index];\n          index = index += 1;\n          set_internal(o, '[[SetNextIndex]]', index);\n          if (e !== empty) {\n            if (itemKind === 'key+value')\n              return CreateIterResultObject([e, e], false);\n            return CreateIterResultObject(e, false);\n          }\n        }\n        return CreateIterResultObject(undefined, true);\n      });\n\n    // 23.2.5.2.2 %SetIteratorPrototype% [ @@toStringTag ]\n    define($SetIteratorPrototype$, $$toStringTag, 'Set Iterator');\n\n    // 23.2.5.3 Properties of Set Iterator Instances\n\n  }());\n\n  // ---------------------------------------\n  // 23.3 WeakMap Objects\n  // ---------------------------------------\n\n  (function() {\n    // 23.3.1 The WeakMap Constructor\n    // 23.3.1.1 WeakMap ( [ iterable ] )\n    /** @constructor */\n    function WeakMap(/*iterable*/) {\n      var map = strict(this);\n      var iterable = arguments[0];\n\n      if (Type(map) !== 'object') throw TypeError();\n      if ('[[WeakMapData]]' in map) throw TypeError();\n\n      if (iterable !== undefined) {\n        var adder = map['set'];\n        if (!IsCallable(adder)) throw TypeError();\n        var iter = GetIterator(ToObject(iterable));\n      }\n      set_internal(map, '[[WeakMapData]]', new EphemeronTable);\n      if (iter === undefined) return map;\n      while (true) {\n        var next = IteratorStep(iter);\n        if (next === false)\n          return map;\n        var nextValue = IteratorValue(next);\n        if (Type(nextValue) !== 'object') throw TypeError();\n        var k = nextValue[0];\n        var v = nextValue[1];\n        adder.call(map, k, v);\n      }\n\n      return map;\n    }\n\n    if (!('WeakMap' in global) || OVERRIDE_NATIVE_FOR_TESTING)\n      global.WeakMap = WeakMap;\n\n    // 23.3.2 Properties of the WeakMap Constructor\n    // 23.3.2.1 WeakMap.prototype\n    var $WeakMapPrototype$ = {};\n    WeakMap.prototype = $WeakMapPrototype$;\n\n\n\n   // 23.3.2.2 WeakMap[ @@create ] ( )\n    // 23.3.3 Properties of the WeakMap Prototype Object\n\n    // 23.3.3.1 WeakMap.prototype.constructor\n\n    // 23.3.3.2 WeakMap.prototype.delete ( key )\n    define(\n      WeakMap.prototype, 'delete',\n      function delete_(key) {\n        var M = strict(this);\n        if (Type(M) !== 'object') throw TypeError();\n        if (M['[[WeakMapData]]'] === undefined) throw TypeError();\n        if (Type(key) !== 'object') throw TypeError('Expected object');\n        return M['[[WeakMapData]]'].remove(key);\n      });\n\n    // 23.3.3.3 WeakMap.prototype.get ( key )\n    define(\n      WeakMap.prototype, 'get',\n      function get(key, defaultValue) {\n        var M = strict(this);\n        if (Type(M) !== 'object') throw TypeError();\n        if (M['[[WeakMapData]]'] === undefined) throw TypeError();\n        if (Type(key) !== 'object') throw TypeError('Expected object');\n        return M['[[WeakMapData]]'].get(key, defaultValue);\n      });\n\n    // 23.3.3.4 WeakMap.prototype.has ( key )\n    define(\n      WeakMap.prototype, 'has',\n      function has(key) {\n        var M = strict(this);\n        if (Type(M) !== 'object') throw TypeError();\n        if (M['[[WeakMapData]]'] === undefined) throw TypeError();\n        if (Type(key) !== 'object') throw TypeError('Expected object');\n        return M['[[WeakMapData]]'].has(key);\n      });\n\n    // 23.3.3.5 WeakMap.prototype.set ( key , value )\n    define(\n      WeakMap.prototype, 'set',\n      function set(key, value) {\n        var M = strict(this);\n        if (Type(M) !== 'object') throw TypeError();\n        if (M['[[WeakMapData]]'] === undefined) throw TypeError();\n        if (Type(key) !== 'object') throw TypeError('Expected object');\n        M['[[WeakMapData]]'].set(key, value);\n        return M;\n      });\n\n    // 23.3.3.6 WeakMap.prototype [ @@toStringTag ]\n    define(global.WeakMap.prototype, $$toStringTag, 'WeakMap');\n\n    // 23.3.4 Properties of WeakMap Instances\n\n    // Polyfills for incomplete native implementations:\n    (function() {\n      var wm = new global.WeakMap();\n      var orig = global.WeakMap.prototype.set;\n      define(global.WeakMap.prototype, 'set', function set() {\n        orig.apply(this, arguments);\n        return this;\n      }, wm.set({}, 0) !== wm);\n    }());\n  }());\n\n  // ---------------------------------------\n  // 23.4 WeakSet Objects\n  // ---------------------------------------\n\n  (function() {\n    // 23.4.1 The WeakSet Constructor\n    // 23.4.1.1 WeakSet ( [ iterable ] )\n    /** @constructor */\n    function WeakSet(/*iterable*/) {\n      var set = strict(this);\n      var iterable = arguments[0];\n\n      if (Type(set) !== 'object') throw TypeError();\n      if ('[[WeakSetData]]' in set) throw TypeError();\n\n      if (iterable !== undefined) {\n        var adder = set['add'];\n        if (!IsCallable(adder)) throw TypeError();\n        var iter = GetIterator(ToObject(iterable));\n      }\n      set_internal(set, '[[WeakSetData]]', new EphemeronTable);\n      if (iter === undefined) return set;\n      while (true) {\n        var next = IteratorStep(iter);\n        if (next === false)\n          return set;\n        var nextValue = IteratorValue(next);\n        adder.call(set, nextValue);\n      }\n\n      return set;\n    }\n\n    if (!('WeakSet' in global) || OVERRIDE_NATIVE_FOR_TESTING)\n      global.WeakSet = WeakSet;\n\n    // 23.4.2 Properties of the WeakSet Constructor\n    // 23.4.2.1 WeakSet.prototype\n    var $WeakSetPrototype$ = {};\n    WeakSet.prototype = $WeakSetPrototype$;\n\n    // 23.4.3 Properties of the WeakSet Prototype Object\n    // 23.4.3.1 WeakSet.prototype.add (value )\n    define(\n      WeakSet.prototype, 'add',\n      function add(value) {\n        var S = strict(this);\n        if (Type(S) !== 'object') throw TypeError();\n        if (S['[[WeakSetData]]'] === undefined) throw TypeError();\n        if (Type(value) !== 'object') throw TypeError('Expected object');\n        S['[[WeakSetData]]'].set(value, true);\n        return S;\n      });\n\n    // 23.4.3.2 WeakSet.prototype.constructor\n    // 23.4.3.3 WeakSet.prototype.delete ( value )\n    define(\n      WeakSet.prototype, 'delete',\n      function delete_(value) {\n        var S = strict(this);\n        if (Type(S) !== 'object') throw TypeError();\n        if (S['[[WeakSetData]]'] === undefined) throw TypeError();\n        if (Type(value) !== 'object') throw TypeError('Expected object');\n        return S['[[WeakSetData]]'].remove(value);\n      });\n\n    // 23.4.3.4 WeakSet.prototype.has ( value )\n    define(\n      WeakSet.prototype, 'has',\n      function has(key) {\n        var S = strict(this);\n        if (Type(S) !== 'object') throw TypeError();\n        if (S['[[WeakSetData]]'] === undefined) throw TypeError();\n        if (Type(key) !== 'object') throw TypeError('Expected object');\n        return S['[[WeakSetData]]'].has(key);\n      });\n\n    // 23.4.3.5 WeakSet.prototype [ @@toStringTag ]\n    define(global.WeakSet.prototype, $$toStringTag, 'WeakSet');\n\n    // 23.4.4 Properties of WeakSet Instances\n\n    // Polyfills for incomplete native implementations:\n    (function() {\n      var ws = new global.WeakSet();\n      var orig = global.WeakSet.prototype.add;\n      define(global.WeakSet.prototype, 'add', function add() {\n        orig.apply(this, arguments);\n        return this;\n      }, ws.add({}) !== ws);\n    }());\n  }());\n\n  // ---------------------------------------\n  // 24 Structured Data\n  // ---------------------------------------\n\n  // ---------------------------------------\n  // 24.1 ArrayBuffer Objects\n  // ---------------------------------------\n\n  // See typedarray.js for TypedArray polyfill\n\n  (function() {\n    if (!('ArrayBuffer' in global))\n      return;\n\n    // 24.1.1 Abstract Operations For ArrayBuffer Objects\n    // 24.1.1.1 AllocateArrayBuffer( constructor, byteLength )\n    // 24.1.1.2 IsDetachedBuffer( arrayBuffer )\n    // 24.1.1.3 DetachArrayBuffer( arrayBuffer )\n    // 24.1.1.4 CloneArrayBuffer( srcBuffer, srcByteOffset [, cloneConstructor] )\n    // 24.1.1.5 GetValueFromBuffer ( arrayBuffer, byteIndex, type, isLittleEndian )\n    // 24.1.1.6 SetValueInBuffer ( arrayBuffer, byteIndex, type, value, isLittleEndian )\n    // 24.1.2 The ArrayBuffer Constructor\n    // 24.1.2.1 ArrayBuffer( length )\n    // 24.1.3 Properties of the ArrayBuffer Constructor\n\n    // 24.1.3.1 ArrayBuffer.isView ( arg )\n    define(\n      ArrayBuffer, 'isView',\n      function isView(arg) {\n        if (Type(arg) !== 'object') return false;\n        if ('buffer' in arg &amp;&amp; arg.buffer instanceof ArrayBuffer) return true;\n        return false;\n      });\n\n    // 24.1.3.2 ArrayBuffer.prototype\n    // 24.1.3.3 get ArrayBuffer [ @@species ]\n    // 24.1.4 Properties of the ArrayBuffer Prototype Object\n    // 24.1.4.1 get ArrayBuffer.prototype.byteLength\n    // 24.1.4.2 ArrayBuffer.prototype.constructor\n    // 24.1.4.3 ArrayBuffer.prototype.slice ( start , end)\n\n    // 24.1.4.4 ArrayBuffer.prototype [ @@toStringTag ]\n    define(ArrayBuffer.prototype, $$toStringTag, 'ArrayBuffer');\n\n    // 24.1.5 Properties of the ArrayBuffer Instances\n  }());\n\n  // ---------------------------------------\n  // 24.2 DataView Objects\n  // ---------------------------------------\n\n  // See typedarray.js for TypedArray polyfill\n\n  (function() {\n    if (!('DataView' in global))\n      return;\n\n    // 24.2.1 Abstract Operations For DataView Objects\n    // 24.2.1.1 GetViewValue(view, requestIndex, isLittleEndian, type)\n    // 24.2.1.2 SetViewValue(view, requestIndex, isLittleEndian, type, value)\n    // 24.2.2 The DataView Constructor\n    // 24.2.2.1 DataView (buffer [ , byteOffset [ , byteLength ] ] )\n    // 24.2.3 Properties of the DataView Constructor\n    // 24.2.3.1 DataView.prototype\n    // 24.2.4 Properties of the DataView Prototype Object\n    // 24.2.4.1 get DataView.prototype.buffer\n    // 24.2.4.2 get DataView.prototype.byteLength\n    // 24.2.4.3 get DataView.prototype.byteOffset\n    // 24.2.4.4 DataView.prototype.constructor\n    // 24.2.4.5 DataView.prototype.getFloat32 ( byteOffset [ , littleEndian ] )\n    // 24.2.4.6 DataView.prototype.getFloat64 ( byteOffset [ , littleEndian ] )\n    // 24.2.4.7 DataView.prototype.getInt8 ( byteOffset )\n    // 24.2.4.8 DataView.prototype.getInt16 ( byteOffset [ , littleEndian ] )\n    // 24.2.4.9 DataView.prototype.getInt32 ( byteOffset [ , littleEndian ] )\n    // 24.2.4.10 DataView.prototype.getUint8 ( byteOffset )\n    // 24.2.4.11 DataView.prototype.getUint16 ( byteOffset [ , littleEndian ] )\n    // 24.2.4.12 DataView.prototype.getUint32 ( byteOffset [ , littleEndian ] )\n    // 24.2.4.13 DataView.prototype.setFloat32 ( byteOffset, value [ , littleEndian ] )\n    // 24.2.4.14 DataView.prototype.setFloat64 ( byteOffset, value [ , littleEndian ] )\n    // 24.2.4.15 DataView.prototype.setInt8 ( byteOffset, value )\n    // 24.2.4.16 DataView.prototype.setInt16 ( byteOffset, value [ , littleEndian ] )\n    // 24.2.4.17 DataView.prototype.setInt32 ( byteOffset, value [ , littleEndian ] )\n    // 24.2.4.18 DataView.prototype.setUint8 ( byteOffset, value )\n    // 24.2.4.19 DataView.prototype.setUint16 ( byteOffset, value [ , littleEndian ] )\n    // 24.2.4.20 DataView.prototype.setUint32 ( byteOffset, value [ , littleEndian ] )\n\n    // 24.2.4.21 DataView.prototype[ @@toStringTag ]\n    define(DataView.prototype, $$toStringTag, 'DataView');\n\n    // 24.2.5 Properties of DataView Instances\n  }());\n\n  // ---------------------------------------\n  // 24.3 The JSON Object\n  // ---------------------------------------\n\n  // 24.3.1 JSON.parse ( text [ , reviver ] )\n  // 24.3.2 JSON.stringify ( value [ , replacer [ , space ] ] )\n  // 24.3.3 JSON [ @@toStringTag ]\n  define(JSON, $$toStringTag, 'JSON');\n\n  // ---------------------------------------\n  // 25.1 Iteration\n  // ---------------------------------------\n\n  // 25.1.1 Common Iteration Interfaces\n  // 25.1.1.1 The Iterable Interface\n  // 25.1.1.2 The Iterator Interface\n  // 25.1.1.3 The IteratorResult Interface\n\n  // 25.1.2 The %IteratorPrototype% Object\n  // Defined earlier, so other prototypes can reference it.\n  // 25.1.2.1 %IteratorPrototype% [ @@iterator ] ( )\n  define($IteratorPrototype$, $$iterator, function() {\n    return this;\n  });\n\n\n  // ---------------------------------------\n  // 25.4 Promise Objects\n  // ---------------------------------------\n\n  (function() {\n    // 25.4 Promise Objects\n\n    // 25.4.1 Promise Abstract Operations\n\n    // 25.4.1.1 PromiseCapability Records\n    // 25.4.1.1.1 IfAbruptRejectPromise ( value, capability )\n\n    function IfAbruptRejectPromise(value, capability) {\n      var rejectResult = capability['[[Reject]]'].call(undefined, value);\n      return capability['[[Promise]]'];\n    }\n\n    // 25.4.1.2 PromiseReaction Records\n\n    // 25.4.1.3 CreateResolvingFunctions ( promise )\n\n    function CreateResolvingFunctions(promise) {\n      var alreadyResolved = {'[[value]]': false};\n      var resolve = PromiseResolveFunction();\n      set_internal(resolve, '[[Promise]]',  promise);\n      set_internal(resolve, '[[AlreadyResolved]]', alreadyResolved);\n      var reject = PromiseRejectFunction();\n      set_internal(reject, '[[Promise]]', promise);\n      set_internal(reject, '[[AlreadyResolved]]', alreadyResolved);\n      return { '[[Resolve]]': resolve, '[[Reject]]': reject};\n    }\n\n    // 25.4.1.3.1 Promise Reject Functions\n\n    function PromiseRejectFunction() {\n      var F = function(reason) {\n        console.assert(Type(F['[[Promise]]']) === 'object');\n        var promise = F['[[Promise]]'];\n        var alreadyResolved = F['[[AlreadyResolved]]'];\n        if (alreadyResolved['[[value]]']) return undefined;\n        set_internal(alreadyResolved, '[[value]]', true);\n        return RejectPromise(promise, reason);\n      };\n      return F;\n    }\n\n    // 25.4.1.3.2 Promise Resolve Functions\n\n    function PromiseResolveFunction() {\n      var F = function(resolution) {\n        console.assert(Type(F['[[Promise]]']) === 'object');\n        var promise = F['[[Promise]]'];\n        var alreadyResolved = F['[[AlreadyResolved]]'];\n        if (alreadyResolved['[[value]]']) return undefined;\n        set_internal(alreadyResolved, '[[value]]', true);\n\n        if (SameValue(resolution, promise))  {\n          var selfResolutionError = TypeError();\n          return RejectPromise(promise, selfResolutionError);\n        }\n        if (Type(resolution) !== 'object')\n          return FulfillPromise(promise, resolution);\n        try {\n          var then = resolution['then'];\n        } catch(then) {\n          return RejectPromise(promise, then);\n        }\n        if (!IsCallable(then))\n          return FulfillPromise(promise, resolution);\n        EnqueueJob('PromiseJobs', PromiseResolveThenableJob, [promise, resolution, then]);\n        return undefined;\n      };\n      return F;\n    }\n\n    // 25.4.1.4 FulfillPromise ( promise, value )\n\n    function FulfillPromise(promise, value) {\n      console.assert(promise['[[PromiseState]]'] === 'pending');\n      var reactions = promise['[[PromiseFulfillReactions]]'];\n      set_internal(promise, '[[PromiseResult]]', value);\n      set_internal(promise, '[[PromiseFulfillReactions]]', undefined);\n      set_internal(promise, '[[PromiseRejectReactions]]', undefined);\n      set_internal(promise, '[[PromiseState]]', 'fulfilled');\n      return TriggerPromiseReactions(reactions, value);\n    }\n\n    // 25.4.1.5 NewPromiseCapability ( C )\n\n    function NewPromiseCapability(c) {\n      // To keep Promise hermetic, this doesn't look much like the spec.\n      return CreatePromiseCapabilityRecord(undefined, c);\n    }\n\n    // 25.4.1.5.1 CreatePromiseCapabilityRecord ( promise, constructor )\n\n    function CreatePromiseCapabilityRecord(promise, constructor) {\n      // To keep Promise hermetic, this doesn't look much like the spec.\n      console.assert(IsConstructor(constructor));\n      var promiseCapability = {};\n      set_internal(promiseCapability, '[[Promise]]', promise);\n      set_internal(promiseCapability, '[[Resolve]]', undefined);\n      set_internal(promiseCapability, '[[Reject]]', undefined);\n      var executor = GetCapabilitiesExecutor();\n      set_internal(executor, '[[Capability]]', promiseCapability);\n\n      // NOTE: Differs from spec; object is constructed here\n      var constructorResult = promise = new constructor(executor);\n      set_internal(promiseCapability, '[[Promise]]', promise);\n\n      if (!IsCallable(promiseCapability['[[Resolve]]'])) throw TypeError();\n      if (!IsCallable(promiseCapability['[[Reject]]'])) throw TypeError();\n      if (Type(constructorResult) === 'object' &amp;&amp; !SameValue(promise, constructorResult)) throw TypeError();\n      return promiseCapability;\n    }\n\n    // 25.4.1.5.2 GetCapabilitiesExecutor Functions\n\n    function GetCapabilitiesExecutor() {\n      var F = function(resolve, reject) {\n        console.assert(F['[[Capability]]']);\n        var promiseCapability = F['[[Capability]]'];\n        if (promiseCapability['[[Resolve]]'] !== undefined) throw TypeError();\n        if (promiseCapability['[[Reject]]'] !== undefined) throw TypeError();\n        set_internal(promiseCapability, '[[Resolve]]', resolve);\n        set_internal(promiseCapability, '[[Reject]]', reject);\n        return undefined;\n      };\n      return F;\n    }\n\n    // 25.4.1.6 IsPromise ( x )\n\n    function IsPromise(x) {\n      if (Type(x) !== 'object') return false;\n      if (!('[[PromiseState]]' in x)) return false;\n      if (x['[[PromiseState]]'] === undefined) return false;\n      return true;\n    }\n\n    // 25.4.1.7 RejectPromise ( promise, reason )\n\n    function RejectPromise(promise, reason) {\n      console.assert(promise['[[PromiseState]]'] === 'pending');\n      var reactions = promise['[[PromiseRejectReactions]]'];\n      set_internal(promise, '[[PromiseResult]]', reason);\n      set_internal(promise, '[[PromiseFulfillReactions]]', undefined);\n      set_internal(promise, '[[PromiseRejectReactions]]', undefined);\n      set_internal(promise, '[[PromiseState]]', 'rejected');\n      return TriggerPromiseReactions(reactions, reason);\n    }\n\n    // 25.4.1.8 TriggerPromiseReactions ( reactions, argument )\n\n    function TriggerPromiseReactions(reactions, argument) {\n      for (var i = 0, len = reactions.length; i &lt; len; ++i)\n        EnqueueJob('PromiseJobs', PromiseReactionJob, [reactions[i], argument]);\n      return undefined;\n    }\n\n    // 25.4.2 Promise Jobs\n\n    // 25.4.2.1 PromiseReactionJob ( reaction, argument )\n\n    function PromiseReactionJob(reaction, argument) {\n      var promiseCapability = reaction['[[Capabilities]]'];\n      var handler = reaction['[[Handler]]'];\n      var handlerResult, status;\n      try {\n        if (handler === 'Identity') handlerResult = argument;\n        else if (handler === 'Thrower') throw argument;\n        else handlerResult = handler.call(undefined, argument);\n      } catch (handlerResult) {\n        status = promiseCapability['[[Reject]]'].call(undefined, handlerResult);\n        NextJob(status); return;\n      }\n      status = promiseCapability['[[Resolve]]'].call(undefined, handlerResult);\n      NextJob(status);\n    }\n\n    // 25.4.2.2 PromiseResolveThenableJob ( promiseToResolve, thenable, then)\n\n    function PromiseResolveThenableJob(promiseToResolve, thenable, then) {\n      // SPEC BUG: promise vs. promiseToResolve\n      var resolvingFunctions = CreateResolvingFunctions(promiseToResolve);\n      try {\n        var thenCallResult = then.call(thenable, resolvingFunctions['[[Resolve]]'],\n                                       resolvingFunctions['[[Reject]]']);\n      } catch (thenCallResult) {\n        var status = resolvingFunctions['[[Reject]]'].call(undefined, thenCallResult);\n        NextJob(status); return;\n      }\n      NextJob(thenCallResult);\n    }\n\n    // 25.4.3 The Promise Constructor\n\n    // 25.4.3.1 Promise ( executor )\n\n    function Promise(executor) {\n      var config = { configurable: false, enumerable: false, writable: true, value: undefined };\n      Object.defineProperty(this, '[[PromiseState]]', config);\n      Object.defineProperty(this, '[[PromiseConstructor]]', config);\n      Object.defineProperty(this, '[[PromiseResult]]', config);\n      Object.defineProperty(this, '[[PromiseFulfillReactions]]', config);\n      Object.defineProperty(this, '[[PromiseRejectReactions]]', config);\n\n      var promise = this;\n      if (Type(promise) !== 'object') throw new TypeError();\n      if (!('[[PromiseState]]' in promise)) throw TypeError();\n      if (promise['[[PromiseState]]'] !== undefined) throw TypeError();\n      if (!IsCallable(executor)) throw TypeError();\n\n      set_internal(promise, '[[PromiseConstructor]]', Promise);\n\n      return InitializePromise(promise, executor);\n    }\n\n    // 25.4.3.1.1 InitializePromise ( promise, executor )\n\n    function InitializePromise(promise, executor) {\n      console.assert('[[PromiseState]]' in promise);\n      console.assert(IsCallable(executor));\n      set_internal(promise, '[[PromiseState]]', 'pending');\n      set_internal(promise, '[[PromiseFulfillReactions]]', []);\n      set_internal(promise, '[[PromiseRejectReactions]]', []);\n      var resolvingFunctions = CreateResolvingFunctions(promise);\n      try {\n        var completion = executor.call(undefined, resolvingFunctions['[[Resolve]]'],\n                                       resolvingFunctions['[[Reject]]']);\n      } catch (completion) {\n        var status = resolvingFunctions['[[Reject]]'].call(undefined, completion);\n      }\n      return promise;\n    }\n\n    // 25.4.4 Properties of the Promise Constructor\n    // 25.4.4.1 Promise.all ( iterable )\n\n    define(Promise, 'all', function all(iterable) {\n      var c = strict(this);\n      var promiseCapability = NewPromiseCapability(c);\n      try {\n        var iterator = GetIterator(iterable);\n      } catch (value) {\n        promiseCapability['[[Reject]]'].call(undefined, value);\n        return promiseCapability['[[Promise]]'];\n      }\n      var values = [];\n      var remainingElementsCount = { value: 1 };\n      var index = 0;\n      while (true) {\n        try {\n          var next = IteratorStep(iterator);\n        } catch (value) {\n          promiseCapability['[[Reject]]'].call(undefined, value);\n          return promiseCapability['[[Promise]]'];\n        }\n        if (!next) {\n          remainingElementsCount.value -= 1;\n          if (remainingElementsCount.value === 0) {\n            var resolveResult = promiseCapability['[[Resolve]]'].apply(undefined, values);\n\n\n          }\n          return promiseCapability['[[Promise]]'];\n        }\n        try {\n          var nextValue = IteratorValue(next);\n        } catch (value) {\n          promiseCapability['[[Reject]]'].call(undefined, value);\n          return promiseCapability['[[Promise]]'];\n        }\n        try {\n          var nextPromise = c.resolve(nextValue);\n        } catch (value) {\n          promiseCapability['[[Reject]]'].call(undefined, value);\n          return promiseCapability['[[Promise]]'];\n        }\n        var resolveElement = PromiseAllResolveElementFunction();\n        set_internal(resolveElement, '[[AlreadyCalled]]', { value: false });\n        set_internal(resolveElement, '[[Index]]', index);\n        set_internal(resolveElement, '[[Values]]', values);\n        set_internal(resolveElement, '[[Capabilities]]', promiseCapability);\n        set_internal(resolveElement, '[[RemainingElements]]', remainingElementsCount);\n        remainingElementsCount.value += 1;\n        try {\n          var result = nextPromise.then(resolveElement, promiseCapability['[[Reject]]']);\n        } catch (value) {\n          promiseCapability['[[Reject]]'].call(undefined, value);\n          return promiseCapability['[[Promise]]'];\n        }\n        index += 1;\n      }\n    });\n\n    // 25.4.4.1.1 Promise.all Resolve Element Functions\n\n    function PromiseAllResolveElementFunction() {\n      var F = function(x) {\n        var alreadyCalled = F['[[AlreadyCalled]]'];\n        if (alreadyCalled.value) return undefined;\n        alreadyCalled.value = true;\n        var index = F['[[Index]]'];\n        var values = F['[[Values]]'];\n        var promiseCapability = F['[[Capabilities]]'];\n        var remainingElementsCount = F['[[RemainingElements]]'];\n        try {\n          values[index] = x;\n        } catch (result) {\n          promiseCapability['[[Reject]]'].call(undefined, result);\n          return promiseCapability['[[Promise]]'];\n        }\n        remainingElementsCount.value -= 1;\n        if (remainingElementsCount.value === 0)\n          return promiseCapability['[[Resolve]]'].call(undefined, values);\n        return undefined;\n      };\n      return F;\n    }\n\n    // 25.4.4.2 Promise.prototype\n\n    Promise.prototype = {};\n\n    // 25.4.4.3 Promise.race ( iterable )\n\n    define(Promise, 'race', function race(iterable) {\n      var c = strict(this);\n      var promiseCapability = NewPromiseCapability(c);\n      try {\n        var iterator = GetIterator(iterable);\n      } catch (value) {\n        promiseCapability['[[Reject]]'].call(undefined, value);\n        return promiseCapability['[[Promise]]'];\n      }\n      while (true) {\n        try {\n          var next = IteratorStep(iterator);\n        } catch (value) {\n          promiseCapability['[[Reject]]'].call(undefined, value);\n          return promiseCapability['[[Promise]]'];\n        }\n        if (!next) return promiseCapability['[[Promise]]'];\n        try {\n          var nextValue = IteratorValue(next);\n        } catch (value) {\n          promiseCapability['[[Reject]]'].call(undefined, value);\n          return promiseCapability['[[Promise]]'];\n        }\n        try {\n          var nextPromise = c.resolve(nextValue);\n        } catch (value) {\n          promiseCapability['[[Reject]]'].call(undefined, value);\n          return promiseCapability['[[Promise]]'];\n        }\n        try {\n          nextPromise.then(promiseCapability['[[Resolve]]'], promiseCapability['[[Reject]]']);\n        } catch (value) {\n          promiseCapability['[[Reject]]'].call(undefined, value);\n          return promiseCapability['[[Promise]]'];\n        }\n      }\n    });\n\n    // 25.4.4.4 Promise.reject ( r )\n\n    define(Promise, 'reject', function reject(r) {\n      var c = strict(this);\n      var promiseCapability = NewPromiseCapability(c);\n      var rejectResult = promiseCapability['[[Reject]]'].call(undefined, r);\n      return promiseCapability['[[Promise]]'];\n    });\n\n    // 25.4.4.5 Promise.resolve ( x )\n\n    define(Promise, 'resolve', function resolve(x) {\n      var c = strict(this);\n      if (IsPromise(x)) {\n        var constructor = x['[[PromiseConstructor]]'];\n        if (SameValue(constructor, c)) return x;\n      }\n      var promiseCapability = NewPromiseCapability(c);\n      var resolveResult = promiseCapability['[[Resolve]]'].call(undefined, x);\n      return promiseCapability['[[Promise]]'];\n    });\n\n    // 25.4.4.6 Promise [ @@create ] ( )\n    // 25.4.4.6.1 AllocatePromise ( constructor )\n    // 25.4.5 Properties of the Promise Prototype Object\n    // 25.4.5.1 Promise.prototype.catch ( onRejected )\n\n    define(Promise.prototype, 'catch', function catch_(onRejected) {\n      var promise = this;\n      return promise.then(undefined, onRejected);\n    });\n\n    // 25.4.5.2 Promise.prototype.constructor\n\n    Promise.prototype.constructor = Promise;\n\n    // 25.4.5.3 Promise.prototype.then ( onFulfilled , onRejected )\n\n    define(Promise.prototype, 'then', function then(onFulfilled, onRejected) {\n      var promise = this;\n      if (!IsPromise(promise)) throw TypeError();\n      if (!IsCallable(onFulfilled)) onFulfilled = 'Identity';\n      if (!IsCallable(onRejected)) onRejected = 'Thrower';\n      var c = promise.constructor;\n      var promiseCapability = NewPromiseCapability(c);\n      var fulfillReaction = { '[[Capabilities]]': promiseCapability,\n                              '[[Handler]]': onFulfilled };\n      var rejectReaction = { '[[Capabilities]]': promiseCapability,\n                             '[[Handler]]': onRejected };\n      if (promise['[[PromiseState]]'] === 'pending') {\n        promise['[[PromiseFulfillReactions]]'].push(fulfillReaction);\n        promise['[[PromiseRejectReactions]]'].push(rejectReaction);\n      } else if (promise['[[PromiseState]]'] === 'fulfilled') {\n        var value = promise['[[PromiseResult]]'];\n        EnqueueJob('PromiseJobs', PromiseReactionJob, [fulfillReaction, value]);\n      } else if (promise['[[PromiseState]]'] === 'rejected') {\n        var reason = promise['[[PromiseResult]]'];\n        EnqueueJob('PromiseJobs', PromiseReactionJob, [rejectReaction, reason]);\n      }\n      return promiseCapability['[[Promise]]'];\n    });\n\n    // 25.4.6 Properties of Promise Instances\n\n    if (!('Promise' in global) || OVERRIDE_NATIVE_FOR_TESTING)\n      global.Promise = Promise;\n\n    // Patch early Promise.cast vs. Promise.resolve implementations\n    if ('cast' in global.Promise) global.Promise.resolve = global.Promise.cast;\n  }());\n\n  // 25.4.5.1 Promise.prototype [ @@toStringTag ]\n  define(Promise.prototype, $$toStringTag, 'Promise');\n\n  // ---------------------------------------\n  // 26 Reflection\n  // ---------------------------------------\n\n  (function() {\n    // 26.1 The Reflect Object\n    if (!('Reflect' in global) || OVERRIDE_NATIVE_FOR_TESTING)\n      global.Reflect = {};\n\n    // 26.1.1 Reflect.apply ( target, thisArgument, argumentsList )\n    define(\n      Reflect, 'apply',\n      function apply(target, thisArgument, argumentsList) {\n        if (!IsCallable(target)) throw TypeError();\n        return Function.prototype.apply.call(target, thisArgument, argumentsList);\n      });\n\n    // 26.1.2 Reflect.construct ( target, argumentsList [, newTarget] )\n    define(\n      Reflect, 'construct',\n      function construct(target, argumentsList) {\n        return __cons(target, argumentsList);\n      });\n\n    // 26.1.3 Reflect.defineProperty ( target, propertyKey, attributes )\n    define(\n      Reflect, 'defineProperty',\n      function defineProperty(target, propertyKey, attributes) {\n        try {\n          Object.defineProperty(target, propertyKey, attributes);\n          return true;\n        } catch (_) {\n          return false;\n        }\n      });\n\n    // 26.1.4 Reflect.deleteProperty ( target, propertyKey )\n    define(\n      Reflect, 'deleteProperty',\n      function deleteProperty(target,name) {\n        try {\n          delete target[name];\n          return !HasOwnProperty(target, name);\n        } catch (_) {\n          return false;\n        }\n      });\n\n    // 26.1.5 Reflect.enumerate ( target )\n    define(\n      Reflect, 'enumerate',\n      function enumerate(target) {\n        target = ToObject(target);\n        var iterator = Enumerate(target);\n        return iterator;\n      });\n\n    // 26.1.6 Reflect.get ( target, propertyKey [ , receiver ])\n    define(\n      Reflect, 'get',\n      function get(target, name, receiver) {\n        target = ToObject(target);\n        name = String(name);\n        receiver = (receiver === undefined) ? target : ToObject(receiver);\n        var desc = getPropertyDescriptor(target, name);\n        if (desc &amp;&amp; 'get' in desc)\n          return Function.prototype.call.call(desc['get'], receiver);\n        return target[name];\n      });\n\n    // 26.1.7 Reflect.getOwnPropertyDescriptor ( target, propertyKey )\n    define(\n      Reflect, 'getOwnPropertyDescriptor',\n      Object.getOwnPropertyDescriptor);\n\n    // 26.1.8 Reflect.getPrototypeOf ( target )\n    define(\n      Reflect, 'getPrototypeOf',\n      Object.getPrototypeOf);\n\n    // 26.1.9 Reflect.has ( target, propertyKey )\n    define(\n      Reflect, 'has',\n      function has(target,name) {\n        return String(name) in ToObject(target);\n      });\n\n    // 26.1.10 Reflect.isExtensible (target)\n    define(\n      Reflect, 'isExtensible',\n      Object.isExtensible);\n\n    // 26.1.11 Reflect.ownKeys ( target )\n    define(\n      Reflect, 'ownKeys',\n      function ownKeys(target) {\n        var obj = ToObject(target);\n        return Object.getOwnPropertyNames(obj);\n      });\n\n    // 26.1.12 Reflect.preventExtensions ( target )\n    define(\n      Reflect, 'preventExtensions',\n      function preventExtensions(target) {\n        try { Object.preventExtensions(target); return true; } catch (_) { return false; }\n      });\n\n    // 26.1.13 Reflect.set ( target, propertyKey, V [ , receiver ] )\n    define(\n      Reflect, 'set',\n      function set(target, name, value, receiver) {\n        target = ToObject(target);\n        name = String(name);\n        receiver = (receiver === undefined) ? target : ToObject(receiver);\n        var desc = getPropertyDescriptor(target, name);\n        try {\n          if (desc &amp;&amp; 'set' in desc)\n            Function.prototype.call.call(desc['set'], receiver, value);\n          else\n            target[name] = value;\n          return true;\n        } catch (_) {\n          return false;\n        }\n      });\n\n    // 26.1.14 Reflect.setPrototypeOf ( target, proto )\n    define(\n      Reflect, 'setPrototypeOf',\n      function setPrototypeOf(target, proto) {\n        try {\n          target.__proto__ = proto;\n          return Reflect.getPrototypeOf(target) === proto;\n        } catch(_) {\n          return false;\n        }\n      });\n\n  }());\n\n  // ---------------------------------------\n  // 26.2 Proxy Objects\n  // ---------------------------------------\n\n  // Not polyfillable.\n\n}(self));\n\n// This helper is defined outside the main scope so that the use of\n// 'eval' does not taint the scope for minifiers.\nfunction __cons(t, a) {\n  return eval('new t(' + Array.prototype.map.call(a, function(_, i) { return 'a[' + i + ']'; }).join(',') + ')');\n}\n//----------------------------------------------------------------------\n//\n// ECMAScript 2016 Polyfills\n//\n//----------------------------------------------------------------------\n\n(function (global) {\n  &quot;use strict&quot;;\n  var undefined = (void 0); // Paranoia\n\n  // Helpers\n\n  function isSymbol(s) {\n    return (typeof s === 'symbol') || ('Symbol' in global &amp;&amp; s instanceof global.Symbol);\n  }\n\n  function define(o, p, v, override) {\n    if (p in o &amp;&amp; !override)\n      return;\n\n    if (typeof v === 'function') {\n      // Sanity check that functions are appropriately named (where possible)\n      console.assert(isSymbol(p) || !('name' in v) || v.name === p || v.name === p + '_', 'Expected function name &quot;' + p.toString() + '&quot;, was &quot;' + v.name + '&quot;');\n      Object.defineProperty(o, p, {\n        value: v,\n        configurable: true,\n        enumerable: false,\n        writable: true\n      });\n    } else {\n      Object.defineProperty(o, p, {\n        value: v,\n        configurable: false,\n        enumerable: false,\n        writable: false\n      });\n    }\n  }\n\n\n  // Snapshot intrinsic functions\n  var $isNaN = global.isNaN;\n\n  var abs = Math.abs,\n      floor = Math.floor,\n      max = Math.max,\n      min = Math.min;\n\n  //----------------------------------------\n  // 7 Abstract Operations\n  //----------------------------------------\n\n  // 7.1.4\n  function ToInteger(n) {\n    n = Number(n);\n    if ($isNaN(n)) return 0;\n    if (n === 0 || n === Infinity || n === -Infinity) return n;\n    return ((n &lt; 0) ? -1 : 1) * floor(abs(n));\n  }\n\n  // 7.1.13 ToObject\n  function ToObject(v) {\n    if (v === null || v === undefined) throw TypeError();\n    return Object(v);\n  }\n\n  // 7.1.15 ToLength ( argument )\n  function ToLength(v) {\n    var len = ToInteger(v);\n    if (len &lt;= 0) {\n      return 0;\n    }\n    return min(len, 0x20000000000000 - 1); // 2^53-1\n  }\n\n  //----------------------------------------\n  // 7.2 Testing and Comparison Operations\n  //----------------------------------------\n\n  // 7.2.10 SameValueZero(x, y)\n  function SameValueZero(x, y) {\n    if (typeof x !== typeof y) return false;\n    switch (typeof x) {\n    case 'undefined':\n      return true;\n    case 'number':\n      if (x !== x &amp;&amp; y !== y) return true;\n      return x === y;\n    case 'boolean':\n    case 'string':\n    case 'object':\n    default:\n      return x === y;\n    }\n  }\n\n  //----------------------------------------------------------------------\n  //\n  // ECMAScript 2016\n  //\n  //----------------------------------------------------------------------\n\n  // https://github.com/tc39/Array.prototype.includes/\n  define(\n    Array.prototype, 'includes',\n    function includes(target) {\n      var fromIndex = arguments[1];\n\n      var o = ToObject(this);\n      var len = ToLength(o[&quot;length&quot;]);\n      if (len === 0) return false;\n      var n = ToInteger(fromIndex);\n      if (n &gt;= 0) {\n        var k = n;\n      } else {\n        k = len + n;\n        if (k &lt; 0) k = 0;\n      }\n      while (k &lt; len) {\n        var elementK = o[k];\n        if (SameValueZero(o[k], target))\n          return true;\n        k += 1;\n      }\n      return false;\n    });\n\n}(this));\n//----------------------------------------------------------------------\n//\n// ECMAScript 2017 Polyfills\n//\n//----------------------------------------------------------------------\n\n(function (global) {\n  'use strict';\n  var undefined = (void 0); // Paranoia\n\n  // Helpers\n\n  function isSymbol(s) {\n    return (typeof s === 'symbol') || ('Symbol' in global &amp;&amp; s instanceof global.Symbol);\n  }\n\n  function define(o, p, v, override) {\n    if (p in o &amp;&amp; !override)\n      return;\n\n    if (typeof v === 'function') {\n      // Sanity check that functions are appropriately named (where possible)\n      console.assert(isSymbol(p) || !('name' in v) || v.name === p || v.name === p + '_', 'Expected function name &quot;' + p.toString() + '&quot;, was &quot;' + v.name + '&quot;');\n      Object.defineProperty(o, p, {\n        value: v,\n        configurable: true,\n        enumerable: false,\n        writable: true\n      });\n    } else {\n      Object.defineProperty(o, p, {\n        value: v,\n        configurable: false,\n        enumerable: false,\n        writable: false\n      });\n    }\n  }\n\n  // Snapshot intrinsic functions\n  var $isNaN = global.isNaN;\n\n  var abs = Math.abs,\n      floor = Math.floor,\n      min = Math.min;\n\n  //----------------------------------------\n  // 7 Abstract Operations\n  //----------------------------------------\n\n  // 7.1.4\n  function ToInteger(n) {\n    n = Number(n);\n    if ($isNaN(n)) return 0;\n    if (n === 0 || n === Infinity || n === -Infinity) return n;\n    return ((n &lt; 0) ? -1 : 1) * floor(abs(n));\n  }\n\n  // 7.1.13 ToObject\n  function ToObject(v) {\n    if (v === null || v === undefined) throw TypeError();\n    return Object(v);\n  }\n\n  // 7.1.15 ToLength ( argument )\n  function ToLength(v) {\n    var len = ToInteger(v);\n    if (len &lt;= 0) {\n      return 0;\n    }\n    return min(len, 0x20000000000000 - 1); // 2^53-1\n  }\n\n  //----------------------------------------\n  // 7.3 Operations on Objects\n  //----------------------------------------\n\n  // 7.3.4\n  function CreateDataProperty(O, P, V) {\n    Object.defineProperty(O, P, {\n      value: V,\n      writable: true,\n      enumerable: true,\n      configurable: true\n    });\n  }\n\n  // 7.3.21\n  function EnumerableOwnProperties(o, kind) {\n    var ownKeys = Object.keys(o);\n    var properties = [];\n    ownKeys.forEach(function(key) {\n      var desc = Object.getOwnPropertyDescriptor(o, key);\n      if (desc &amp;&amp; desc.enumerable) {\n        if (kind === 'key') properties.push(key);\n        else {\n          var value = o[key];\n          if (kind === 'value') properties.push(value);\n          else properties.push([key, value]);\n        }\n      }\n    });\n    return properties;\n  }\n\n\n  //----------------------------------------------------------------------\n  // 19 Fundamental Objects\n  //----------------------------------------------------------------------\n\n  // 19.1 Object Objects\n  // 19.1.2 Properties of the Object Constructor\n\n  // 19.1.2.5 Object.entries\n  define(\n    Object, 'entries',\n    function entries(o) {\n      var obj = ToObject(o);\n      return EnumerableOwnProperties(obj, 'key+value');\n    });\n\n  // 19.1.2.8 Object.getOwnPropertyDescriptors ( O )\n  define(\n    Object, 'getOwnPropertyDescriptors',\n    function getOwnPropertyDescriptors(o) {\n      var obj = ToObject(o);\n      // ReturnIfAbrupt(obj)\n      var keys = Object.getOwnPropertyNames(obj);\n      // ReturnIfAbrupt(keys)\n      var descriptors = {};\n      for (var i = 0; i &lt; keys.length; ++i) {\n        var nextKey = keys[i];\n        var descriptor = Object.getOwnPropertyDescriptor(obj, nextKey);\n        // ReturnIfAbrupt(desc)\n        // ReturnIfAbrupt(descriptor)\n        CreateDataProperty(descriptors, nextKey, descriptor);\n      }\n      return descriptors;\n    });\n\n  // 19.1.2.21 Object.values\n  define(\n    Object, 'values',\n    function values(o) {\n      var obj = ToObject(o);\n      return EnumerableOwnProperties(obj, 'value');\n    });\n\n\n\n  //----------------------------------------------------------------------\n  // 21 Text Processing\n  //----------------------------------------------------------------------\n\n  // 21.1 String Objects\n  // 21.1.3 Properties of the String Prototype Object\n\n  // 21.1.3.13 String.prototype.padEnd( maxLength [ , fillString ] )\n  define(\n    String.prototype, 'padEnd',\n    function padEnd(maxLength) {\n      var fillString = arguments[1];\n\n      var o = this;\n      // ReturnIfAbrupt(o)\n      var s = String(this);\n      // ReturnIfAbrupt(s)\n      var stringLength = s.length;\n      if (fillString === undefined) var fillStr = '';\n      else fillStr = String(fillString);\n      // ReturnIfAbrupt(fillStr)\n      if (fillStr === '') fillStr = ' ';\n      var intMaxLength = ToLength(maxLength);\n      // ReturnIfAbrupt(intMaxLength)\n      if (intMaxLength &lt;= stringLength) return s;\n      var fillLen = intMaxLength - stringLength;\n      var stringFiller = '';\n      while (stringFiller.length &lt; fillLen)\n        stringFiller = stringFiller + fillStr;\n      return s + stringFiller.substring(0, fillLen);\n    });\n\n  // 21.1.3.14 String.prototype.padStart( maxLength [ , fillString ] )\n  define(\n    String.prototype, 'padStart',\n    function padStart(maxLength) {\n      var fillString = arguments[1];\n\n      var o = this;\n      // ReturnIfAbrupt(o)\n      var s = String(this);\n      // ReturnIfAbrupt(s)\n      var stringLength = s.length;\n      if (fillString === undefined) var fillStr = '';\n      else fillStr = String(fillString);\n      // ReturnIfAbrupt(fillStr)\n      if (fillStr === '') fillStr = ' ';\n      var intMaxLength = ToLength(maxLength);\n      // ReturnIfAbrupt(intMaxLength)\n      if (intMaxLength &lt;= stringLength) return s;\n      var fillLen = intMaxLength - stringLength;\n      var stringFiller = '';\n      while (stringFiller.length &lt; fillLen)\n        stringFiller = stringFiller + fillStr;\n      return stringFiller.substring(0, fillLen) + s;\n    });\n\n}(this));\n(function(global) {\n  'use strict';\n\n  if (!('window' in global &amp;&amp; 'document' in global))\n    return;\n\n  //----------------------------------------------------------------------\n  //\n  // HTML\n  // https://html.spec.whatwg.org\n  //\n  //----------------------------------------------------------------------\n\n  // document.head attribute\n  // Needed for: IE8-\n  if (!('head' in document))\n    document.head = document.getElementsByTagName('head')[0];\n\n  // Ensure correct parsing of newish elements (&quot;shiv&quot;)\n  // Needed for: IE8-\n  [\n    'abbr', 'article', 'aside', 'audio', 'bdi', 'canvas', 'data', 'datalist',\n    'details', 'dialog', 'figcaption', 'figure', 'footer', 'header', 'hgroup',\n    'main', 'mark', 'meter', 'nav', 'output', 'picture', 'progress', 'section',\n    'summary', 'template', 'time', 'video'].forEach(function(tag) {\n     document.createElement(tag);\n   });\n\n  // HTMLElement.dataset\n  // Needed for: IE10-\n  if (!('dataset' in document.createElement('span')) &amp;&amp;\n      'Element' in global &amp;&amp; Element.prototype &amp;&amp; Object.defineProperty) {\n    Object.defineProperty(Element.prototype, 'dataset', { get: function() {\n      var result = Object.create(null);\n      for (var i = 0; i &lt; this.attributes.length; ++i) {\n        var attr = this.attributes[i];\n        if (attr.specified &amp;&amp; attr.name.substring(0, 5) === 'data-') {\n          (function(element, name) {\n            var prop = name.replace(/-([a-z])/g, function(m, p) {\n              return p.toUpperCase();\n            });\n            result[prop] = element.getAttribute('data-' + name); // Read-only, for IE8-\n            Object.defineProperty(result, prop, {\n              get: function() {\n                return element.getAttribute('data-' + name);\n              },\n              set: function(value) {\n                element.setAttribute('data-' + name, value);\n              }});\n          }(this, attr.name.substring(5)));\n        }\n      }\n      return result;\n    }});\n  }\n\n  // Base64 utility methods\n  // Needed for: IE9-\n  (function() {\n    if ('atob' in global &amp;&amp; 'btoa' in global)\n      return;\n\n    var B64_ALPHABET = &quot;ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=&quot;;\n    function atob(input) {\n      input = String(input);\n      var position = 0,\n          output = [],\n          buffer = 0, bits = 0, n;\n\n      input = input.replace(/\\s/g, '');\n      if ((input.length % 4) === 0) { input = input.replace(/=+$/, ''); }\n      if ((input.length % 4) === 1) { throw Error(&quot;InvalidCharacterError&quot;); }\n      if (/[^+/0-9A-Za-z]/.test(input)) { throw Error(&quot;InvalidCharacterError&quot;); }\n\n      while (position &lt; input.length) {\n        n = B64_ALPHABET.indexOf(input.charAt(position));\n        buffer = (buffer &lt;&lt; 6) | n;\n        bits += 6;\n\n        if (bits === 24) {\n          output.push(String.fromCharCode((buffer &gt;&gt; 16) &amp; 0xFF));\n          output.push(String.fromCharCode((buffer &gt;&gt;  8) &amp; 0xFF));\n          output.push(String.fromCharCode(buffer &amp; 0xFF));\n          bits = 0;\n          buffer = 0;\n        }\n        position += 1;\n      }\n\n      if (bits === 12) {\n        buffer = buffer &gt;&gt; 4;\n        output.push(String.fromCharCode(buffer &amp; 0xFF));\n      } else if (bits === 18) {\n        buffer = buffer &gt;&gt; 2;\n        output.push(String.fromCharCode((buffer &gt;&gt; 8) &amp; 0xFF));\n        output.push(String.fromCharCode(buffer &amp; 0xFF));\n      }\n\n      return output.join('');\n    };\n\n    function btoa(input) {\n      input = String(input);\n      var position = 0,\n          out = [],\n          o1, o2, o3,\n          e1, e2, e3, e4;\n\n      if (/[^\\x00-\\xFF]/.test(input)) { throw Error(&quot;InvalidCharacterError&quot;); }\n\n      while (position &lt; input.length) {\n        o1 = input.charCodeAt(position++);\n        o2 = input.charCodeAt(position++);\n        o3 = input.charCodeAt(position++);\n\n        // 111111 112222 222233 333333\n        e1 = o1 &gt;&gt; 2;\n        e2 = ((o1 &amp; 0x3) &lt;&lt; 4) | (o2 &gt;&gt; 4);\n        e3 = ((o2 &amp; 0xf) &lt;&lt; 2) | (o3 &gt;&gt; 6);\n        e4 = o3 &amp; 0x3f;\n\n        if (position === input.length + 2) {\n          e3 = 64;\n          e4 = 64;\n        }\n        else if (position === input.length + 1) {\n          e4 = 64;\n        }\n\n        out.push(B64_ALPHABET.charAt(e1),\n                 B64_ALPHABET.charAt(e2),\n                 B64_ALPHABET.charAt(e3),\n                 B64_ALPHABET.charAt(e4));\n      }\n\n      return out.join('');\n    };\n\n    global.atob = atob;\n    global.btoa = btoa;\n  }());\n\n  // requestAnimationFrame - needed for IE9-\n  (function() {\n    if ('requestAnimationFrame' in global)\n      return;\n\n    var TARGET_FPS = 60,\n        requests = Object.create(null),\n        raf_handle = 0,\n        timeout_handle = -1;\n\n    function isVisible(element) {\n      return element.offsetWidth &gt; 0 &amp;&amp; element.offsetHeight &gt; 0;\n    }\n\n    function onFrameTimer() {\n      var cur_requests = requests;\n      requests = Object.create(null);\n      timeout_handle = -1;\n      Object.keys(cur_requests).forEach(function(id) {\n        var request = cur_requests[id];\n        if (!request.element || isVisible(request.element))\n          request.callback(Date.now());\n      });\n    }\n\n    function requestAnimationFrame(callback, element) {\n      var cb_handle = ++raf_handle;\n      requests[cb_handle] = {callback: callback, element: element};\n      if (timeout_handle === -1)\n        timeout_handle = global.setTimeout(onFrameTimer, 1000 / TARGET_FPS);\n      return cb_handle;\n    }\n\n    function cancelAnimationFrame(handle) {\n      delete requests[handle];\n      if (Object.keys(requests).length === 0) {\n        global.clearTimeout(timeout_handle);\n        timeout_handle = -1;\n      }\n    }\n\n    global.requestAnimationFrame = requestAnimationFrame;\n    global.cancelAnimationFrame = cancelAnimationFrame;\n  }());\n\n}(self));\n(function(global) {\n  'use strict';\n  if (!('window' in global &amp;&amp; 'document' in global))\n    return;\n\n  //----------------------------------------------------------------------\n  //\n  // DOM\n  // https://dom.spec.whatwg.org/\n  //\n  //----------------------------------------------------------------------\n\n  // Document.querySelectorAll method\n  // http://ajaxian.com/archives/creating-a-queryselector-for-ie-that-runs-at-native-speed\n  // Needed for: IE7-\n  if (!document.querySelectorAll) {\n    document.querySelectorAll = function(selectors) {\n      var style = document.createElement('style'), elements = [], element;\n      document.documentElement.firstChild.appendChild(style);\n      document._qsa = [];\n\n      style.styleSheet.cssText = selectors + '{x-qsa:expression(document._qsa &amp;&amp; document._qsa.push(this))}';\n      window.scrollBy(0, 0);\n      style.parentNode.removeChild(style);\n\n      while (document._qsa.length) {\n        element = document._qsa.shift();\n        element.style.removeAttribute('x-qsa');\n        elements.push(element);\n      }\n      document._qsa = null;\n      return elements;\n    };\n  }\n\n  // Document.querySelector method\n  // Needed for: IE7-\n  if (!document.querySelector) {\n    document.querySelector = function(selectors) {\n      var elements = document.querySelectorAll(selectors);\n      return (elements.length) ? elements[0] : null;\n    };\n  }\n\n  // Document.getElementsByClassName method\n  // Needed for: IE8-\n  if (!document.getElementsByClassName) {\n    document.getElementsByClassName = function(classNames) {\n      classNames = String(classNames).replace(/^|\\s+/g, '.');\n      return document.querySelectorAll(classNames);\n    };\n  }\n\n  // Node interface constants\n  // Needed for: IE8-\n  global.Node = global.Node || function() { throw TypeError(&quot;Illegal constructor&quot;); };\n  [\n    ['ELEMENT_NODE', 1],\n    ['ATTRIBUTE_NODE', 2],\n    ['TEXT_NODE', 3],\n    ['CDATA_SECTION_NODE', 4],\n    ['ENTITY_REFERENCE_NODE', 5],\n    ['ENTITY_NODE', 6],\n    ['PROCESSING_INSTRUCTION_NODE', 7],\n    ['COMMENT_NODE', 8],\n    ['DOCUMENT_NODE', 9],\n    ['DOCUMENT_TYPE_NODE', 10],\n    ['DOCUMENT_FRAGMENT_NODE', 11],\n    ['NOTATION_NODE', 12]\n  ].forEach(function(p) { if (!(p[0] in global.Node)) global.Node[p[0]] = p[1]; });\n\n  // DOMException constants\n  // Needed for: IE8-\n  global.DOMException = global.DOMException || function() { throw TypeError(&quot;Illegal constructor&quot;); };\n  [\n    ['INDEX_SIZE_ERR', 1],\n    ['DOMSTRING_SIZE_ERR', 2],\n    ['HIERARCHY_REQUEST_ERR', 3],\n    ['WRONG_DOCUMENT_ERR', 4],\n    ['INVALID_CHARACTER_ERR', 5],\n    ['NO_DATA_ALLOWED_ERR', 6],\n    ['NO_MODIFICATION_ALLOWED_ERR', 7],\n    ['NOT_FOUND_ERR', 8],\n    ['NOT_SUPPORTED_ERR', 9],\n    ['INUSE_ATTRIBUTE_ERR', 10],\n    ['INVALID_STATE_ERR', 11],\n    ['SYNTAX_ERR', 12],\n    ['INVALID_MODIFICATION_ERR', 13],\n    ['NAMESPACE_ERR', 14],\n    ['INVALID_ACCESS_ERR', 15]\n  ].forEach(function(p) { if (!(p[0] in global.DOMException)) global.DOMException[p[0]] = p[1]; });\n\n  // Event and EventTargets interfaces\n  // Needed for: IE8\n  (function(){\n    if (!('Element' in global) || Element.prototype.addEventListener || !Object.defineProperty)\n      return;\n\n    // interface Event\n\n    // PhaseType (const unsigned short)\n    Event.CAPTURING_PHASE = 1;\n    Event.AT_TARGET       = 2;\n    Event.BUBBLING_PHASE  = 3;\n\n    Object.defineProperties(Event.prototype, {\n      CAPTURING_PHASE: { get: function() { return 1; } },\n      AT_TARGET:       { get: function() { return 2; } },\n      BUBBLING_PHASE:   { get: function() { return 3; } },\n      target: {\n        get: function() {\n          return this.srcElement;\n        }},\n      currentTarget: {\n        get: function() {\n          return this._currentTarget;\n        }},\n      eventPhase: {\n        get: function() {\n          return (this.srcElement === this.currentTarget) ? Event.AT_TARGET : Event.BUBBLING_PHASE;\n        }},\n      bubbles: {\n        get: function() {\n          switch (this.type) {\n            // Mouse\n          case 'click':\n          case 'dblclick':\n          case 'mousedown':\n          case 'mouseup':\n          case 'mouseover':\n          case 'mousemove':\n          case 'mouseout':\n          case 'mousewheel':\n            // Keyboard\n          case 'keydown':\n          case 'keypress':\n          case 'keyup':\n            // Frame/Object\n          case 'resize':\n          case 'scroll':\n            // Form\n          case 'select':\n          case 'change':\n          case 'submit':\n          case 'reset':\n            return true;\n          }\n          return false;\n        }},\n      cancelable: {\n        get: function() {\n          switch (this.type) {\n            // Mouse\n          case 'click':\n          case 'dblclick':\n          case 'mousedown':\n          case 'mouseup':\n          case 'mouseover':\n          case 'mouseout':\n          case 'mousewheel':\n            // Keyboard\n          case 'keydown':\n          case 'keypress':\n          case 'keyup':\n            // Form\n          case 'submit':\n            return true;\n          }\n          return false;\n        }},\n      timeStamp: {\n        get: function() {\n          return this._timeStamp;\n        }},\n      stopPropagation: {\n        value: function() {\n          this.cancelBubble = true;\n        }},\n      preventDefault: {\n        value: function() {\n          this.returnValue = false;\n        }},\n      defaultPrevented: {\n        get: function() {\n          return this.returnValue === false;\n        }}\n    });\n\n    // interface EventTarget\n\n    function addEventListener(type, listener, useCapture) {\n      if (typeof listener !== 'function') return;\n      if (type === 'DOMContentLoaded') type = 'load';\n      var target = this;\n      var f = function(e) {\n        e._timeStamp = Date.now();\n        e._currentTarget = target;\n        listener.call(this, e);\n        e._currentTarget = null;\n      };\n      this['_' + type + listener] = f;\n      this.attachEvent('on' + type, f);\n    }\n\n    function removeEventListener(type, listener, useCapture) {\n      if (typeof listener !== 'function') return;\n      if (type === 'DOMContentLoaded') type = 'load';\n      var f = this['_' + type + listener];\n      if (f) {\n        this.detachEvent('on' + type, f);\n        this['_' + type + listener] = null;\n      }\n    }\n\n    [Window, HTMLDocument, Element].forEach(function(o) {\n      o.prototype.addEventListener = addEventListener;\n      o.prototype.removeEventListener = removeEventListener;\n    });\n  }());\n\n  // CustomEvent\n  // https://developer.mozilla.org/en-US/docs/Web/API/CustomEvent/CustomEvent\n  // Needed for: IE\n  (function () {\n    if ('CustomEvent' in global &amp;&amp; typeof global.CustomEvent === &quot;function&quot;)\n      return;\n    function CustomEvent ( event, params ) {\n      params = params || { bubbles: false, cancelable: false, detail: undefined };\n      var evt = document.createEvent( 'CustomEvent' );\n      evt.initCustomEvent( event, params.bubbles, params.cancelable, params.detail );\n      return evt;\n    }\n    CustomEvent.prototype = global.Event.prototype;\n    global.CustomEvent = CustomEvent;\n  })();\n\n  // Shim for DOM Events for IE7-\n  // http://www.quirksmode.org/blog/archives/2005/10/_and_the_winner_1.html\n  // Use addEvent(object, event, handler) instead of object.addEventListener(event, handler)\n  window.addEvent = function(obj, type, fn) {\n    if (obj.addEventListener) {\n      obj.addEventListener(type, fn, false);\n    } else if (obj.attachEvent) {\n      obj[&quot;e&quot; + type + fn] = fn;\n      obj[type + fn] = function() {\n        var e = window.event;\n        e.currentTarget = obj;\n        e.preventDefault = function() { e.returnValue = false; };\n        e.stopPropagation = function() { e.cancelBubble = true; };\n        e.target = e.srcElement;\n        e.timeStamp = Date.now();\n        obj[&quot;e&quot; + type + fn].call(this, e);\n      };\n      obj.attachEvent(&quot;on&quot; + type, obj[type + fn]);\n    }\n  };\n\n  window.removeEvent = function(obj, type, fn) {\n    if (obj.removeEventListener) {\n      obj.removeEventListener(type, fn, false);\n    } else if (obj.detachEvent) {\n      obj.detachEvent(&quot;on&quot; + type, obj[type + fn]);\n      obj[type + fn] = null;\n      obj[&quot;e&quot; + type + fn] = null;\n    }\n  };\n\n\n  function addToElementPrototype(p, f) {\n    if ('Element' in global &amp;&amp; Element.prototype &amp;&amp; Object.defineProperty) {\n      Object.defineProperty(Element.prototype, p, { get: f });\n    }\n  }\n\n  // DOMTokenList interface and Element.classList / Element.relList\n  // Needed for: IE9-\n  // Use getClassList(elem) instead of elem.classList() if IE7- support is needed\n  // Use getRelList(elem) instead of elem.relList() if IE7- support is needed\n  (function() {\n    function DOMTokenListShim(o, p) {\n      function split(s) { return s.length ? s.split(/\\s+/g) : []; }\n\n      // NOTE: This does not exactly match the spec.\n      function removeTokenFromString(token, string) {\n        var tokens = split(string),\n            index = tokens.indexOf(token);\n        if (index !== -1) {\n          tokens.splice(index, 1);\n        }\n        return tokens.join(' ');\n      }\n\n      Object.defineProperties(\n        this,\n        {\n          length: {\n            get: function() { return split(o[p]).length; }\n          },\n\n          item: {\n            value: function(idx) {\n              var tokens = split(o[p]);\n              return 0 &lt;= idx &amp;&amp; idx &lt; tokens.length ? tokens[idx] : null;\n            }\n          },\n\n          contains: {\n            value: function(token) {\n              token = String(token);\n              var tokens = split(o[p]);\n\n              return tokens.indexOf(token) !== -1;\n            }\n          },\n\n          add: {\n            value: function(/*tokens...*/) {\n              var tokens = Array.prototype.slice.call(arguments).map(String);\n              if (tokens.some(function(token) { return token.length === 0; })) {\n                throw SyntaxError();\n              }\n              if (tokens.some(function(token) { return (/\\s/).test(token); })) {\n                throw Error(&quot;InvalidCharacterError&quot;);\n              }\n\n              try {\n                var underlying_string = o[p];\n                var token_list = split(underlying_string);\n                tokens = tokens.filter(function(token) { return token_list.indexOf(token) === -1; });\n                if (tokens.length === 0) {\n                  return;\n                }\n                if (underlying_string.length !== 0 &amp;&amp; !(/\\s$/).test(underlying_string)) {\n                  underlying_string += ' ';\n                }\n                underlying_string += tokens.join(' ');\n                o[p] = underlying_string;\n              } finally {\n                var length = split(o[p]).length;\n                if (this.length !== length) { this.length = length; }\n              }\n            }\n          },\n\n          remove: {\n            value: function(/*tokens...*/) {\n              var tokens = Array.prototype.slice.call(arguments).map(String);\n              if (tokens.some(function(token) { return token.length === 0; })) {\n                throw SyntaxError();\n              }\n              if (tokens.some(function(token) { return (/\\s/).test(token); })) {\n                throw Error(&quot;InvalidCharacterError&quot;);\n              }\n\n              try {\n                var underlying_string = o[p];\n                tokens.forEach(function(token) {\n                  underlying_string = removeTokenFromString(token, underlying_string);\n                });\n                o[p] = underlying_string;\n              } finally {\n                var length = split(o[p]).length;\n                if (this.length !== length) { this.length = length; }\n              }\n            }\n          },\n\n          toggle: {\n            value: function(token/*, force*/) {\n              var force = arguments[1];\n              try {\n                token = String(token);\n                if (token.length === 0) { throw SyntaxError(); }\n                if (/\\s/.test(token)) { throw Error(&quot;InvalidCharacterError&quot;); }\n                var tokens = split(o[p]),\n                    index = tokens.indexOf(token);\n\n                if (index !== -1 &amp;&amp; (!force || force === (void 0))) {\n                  o[p] = removeTokenFromString(token, o[p]);\n                  return false;\n                }\n                if (index !== -1 &amp;&amp; force) {\n                  return true;\n                }\n                var underlying_string = o[p];\n                if (underlying_string.length !== 0 &amp;&amp; !/\\s$/.test(underlying_string)) {\n                  underlying_string += ' ';\n                }\n                underlying_string += token;\n                o[p] = underlying_string;\n                return true;\n              } finally {\n                var length = split(o[p]).length;\n                if (this.length !== length) { this.length = length; }\n              }\n            }\n          },\n\n          toString: {\n            value: function() {\n              return o[p];\n            }\n          }\n        });\n      if (!('length' in this)) {\n        // In case getters are not supported\n        this.length = split(o[p]).length;\n      } else {\n        // If they are, shim in index getters (up to 100)\n        for (var i = 0; i &lt; 100; ++i) {\n          Object.defineProperty(this, String(i), {\n            get: (function(n) { return function() { return this.item(n); }; }(i))\n          });\n        }\n      }\n    }\n\n    // HTML - https://html.spec.whatwg.org\n    // Element.classList\n    if ('classList' in document.createElement('span')) {\n      window.getClassList = function(elem) { return elem.classList; };\n    } else {\n      window.getClassList = function(elem) { return new DOMTokenListShim(elem, 'className'); };\n      addToElementPrototype('classList', function() { return new DOMTokenListShim(this, 'className'); } );\n    }\n\n    // HTML - https://html.spec.whatwg.org\n    // HTMLAnchorElement.relList\n    // HTMLLinkElement.relList\n    if ('relList' in document.createElement('link')) {\n      window.getRelList = function(elem) { return elem.relList; };\n    } else {\n      window.getRelList = function(elem) { return new DOMTokenListShim(elem, 'rel'); };\n      addToElementPrototype('relList', function() { return new DOMTokenListShim(this, 'rel'); } );\n    }\n\n    // Add second argument to native DOMTokenList.toggle() if necessary\n    (function() {\n      if (!('DOMTokenList' in global)) return;\n      var e = document.createElement('span');\n      if (!('classList' in e)) return;\n      e.classList.toggle('x', false);\n      if (!e.classList.contains('x')) return;\n      global.DOMTokenList.prototype.toggle = function toggle(token/*, force*/) {\n        var force = arguments[1];\n        if (force === undefined) {\n          var add = !this.contains(token);\n          this[add ? 'add' : 'remove'](token);\n          return add;\n        }\n        force = !!force;\n        this[force ? 'add' : 'remove'](token);\n        return force;\n      };\n    }());\n\n  }());\n\n\n  // Interface NonDocumentTypeChildNode\n  // previousElementSibling / nextElementSibling - for IE8\n\n  if (!('previousElementSibling' in document.documentElement)) {\n    addToElementPrototype('previousElementSibling', function() {\n      var n = this.previousSibling;\n      while (n &amp;&amp; n.nodeType !== Node.ELEMENT_NODE)\n        n = n.previousSibling;\n      return n;\n    });\n  }\n\n  if (!('nextElementSibling' in document.documentElement)) {\n    addToElementPrototype('nextElementSibling', function() {\n      var n = this.nextSibling;\n      while (n &amp;&amp; n.nodeType !== Node.ELEMENT_NODE)\n        n = n.nextSibling;\n      return n;\n    });\n  }\n\n\n  // Element.matches\n  // https://developer.mozilla.org/en/docs/Web/API/Element/matches\n  // Needed for: IE, Firefox 3.6, early Webkit and Opera 15.0\n  // Use msMatchesSelector(selector) for IE\n  // Use oMatchesSelector(selector) for Opera 15.0\n  // Use mozMatchesSelector(selector) for Firefox 3.6\n  // Use webkitMatchesSelector(selector) for early Webkit\n  // Use polyfill if no matches() support, but querySelectorAll() support\n  if ('Element' in global &amp;&amp; !Element.prototype.matches) {\n    if (Element.prototype.msMatchesSelector) {\n      Element.prototype.matches = Element.prototype.msMatchesSelector;\n    } else if (Element.prototype.oMatchesSelector) {\n      Element.prototype.matches = Element.prototype.oMatchesSelector;\n    } else if (Element.prototype.mozMatchesSelector) {\n      Element.prototype.matches = Element.prototype.mozMatchesSelector;\n    } else if (Element.prototype.webkitMatchesSelector) {\n      Element.prototype.matches = Element.prototype.webkitMatchesSelector;\n    } else if (document.querySelectorAll) {\n      Element.prototype.matches = function matches(selector) {\n        var matches = (this.document || this.ownerDocument).querySelectorAll(selector),\n            i = matches.length;\n        while (--i &gt;= 0 &amp;&amp; matches.item(i) !== this) {}\n        return i &gt; -1;\n      };\n    }\n  }\n\n  // Element.closest\n  // https://developer.mozilla.org/en-US/docs/Web/API/Element/closest\n  if (window.Element &amp;&amp; !Element.prototype.closest) {\n    Element.prototype.closest = function(s) {\n      var matches = (this.document || this.ownerDocument).querySelectorAll(s),\n          i,\n          el = this;\n      do {\n        i = matches.length;\n        while (--i &gt;= 0 &amp;&amp; matches.item(i) !== el) {};\n      } while ((i &lt; 0) &amp;&amp; (el = el.parentElement));\n      return el;\n    };\n  }\n\n  function mixin(o, ps) {\n    if (!o) return;\n    Object.keys(ps).forEach(function(p) {\n      if ((p in o) || (p in o.prototype)) return;\n      try {\n        Object.defineProperty(\n          o.prototype,\n          p,\n          Object.getOwnPropertyDescriptor(ps, p)\n        );\n      } catch (ex) {\n        // Throws in IE8; just copy it\n        o[p] = ps[p];\n      }\n    });\n  }\n\n  // Mixin ParentNode\n  // https://dom.spec.whatwg.org/#interface-parentnode\n\n  function convertNodesIntoANode(nodes) {\n    var node = null;\n    nodes = nodes.map(function(node) {\n      return !(node instanceof Node) ? document.createTextNode(node) : node;\n    });\n    if (nodes.length === 1) {\n      node = nodes[0];\n    } else {\n      node = document.createDocumentFragment();\n      nodes.forEach(function(n) { node.appendChild(n); });\n    }\n    return node;\n  }\n\n  var ParentNode = {\n    prepend: function(/*...nodes*/) {\n      var nodes = [].slice.call(arguments);\n      nodes = convertNodesIntoANode(nodes);\n      this.insertBefore(nodes, this.firstChild);\n    },\n    append: function(/*...nodes*/) {\n      var nodes = [].slice.call(arguments);\n      nodes = convertNodesIntoANode(nodes);\n      this.appendChild(nodes);\n    }\n  };\n\n  mixin(global.Document || global.HTMLDocument, ParentNode); // HTMLDocument for IE8\n  mixin(global.DocumentFragment, ParentNode);\n  mixin(global.Element, ParentNode);\n\n  // Attributes for IE8\n  if (!('firstElementChild' in document.documentElement)) {\n    addToElementPrototype('firstElementChild', function() {\n      for (var nodes = this.children, i = 0, l = nodes.length; i &lt; l; ++i) {\n        var n = nodes[i];\n        if (n.nodeType === Node.ELEMENT_NODE) return n;\n      }\n      return null;\n    });\n  }\n\n  if (!('lastElementChild' in document.documentElement)) {\n    addToElementPrototype('lastElementChild', function() {\n      for (var nodes = this.children, i = nodes.length - 1; i &gt;= 0; --i) {\n        var n = nodes[i];\n        if (n.nodeType === Node.ELEMENT_NODE) return n;\n      }\n      return null;\n    });\n  }\n\n  if (!('childElementCount' in document.documentElement)) {\n    addToElementPrototype('childElementCount', function() {\n      for (var c = 0, nodes = this.children, i = 0, l = nodes.length; i &lt; l; ++i) {\n        if (nodes[i].nodeType === Node.ELEMENT_NODE) ++c;\n      }\n      return c;\n    });\n  }\n\n  // Mixin ChildNode\n  // https://dom.spec.whatwg.org/#interface-childnode\n\n  var ChildNode = {\n    before: function(/*...nodes*/) {\n      var nodes = [].slice.call(arguments);\n      var parent = this.parentNode;\n      if (!parent) return;\n      var viablePreviousSibling = this.previousSibling;\n      while (nodes.indexOf(viablePreviousSibling) !== -1)\n        viablePreviousSibling = viablePreviousSibling.previousSibling;\n      var node = convertNodesIntoANode(nodes);\n      parent.insertBefore(node, viablePreviousSibling ?\n                          viablePreviousSibling.nextSibling : parent.firstChild);\n    },\n    after: function(/*...nodes*/) {\n      var nodes = [].slice.call(arguments);\n      var parent = this.parentNode;\n      if (!parent) return;\n      var viableNextSibling = this.nextSibling;\n      while (nodes.indexOf(viableNextSibling) !== -1)\n        viableNextSibling = viableNextSibling.nextSibling;\n      var node = convertNodesIntoANode(nodes);\n      parent.insertBefore(node, viableNextSibling);\n    },\n    replaceWith: function(/*...nodes*/) {\n      var nodes = [].slice.call(arguments);\n      var parent = this.parentNode;\n      if (!parent) return;\n      var viableNextSibling = this.nextSibling;\n      while (nodes.indexOf(viableNextSibling) !== -1)\n        viableNextSibling = viableNextSibling.nextSibling;\n      var node = convertNodesIntoANode(nodes);\n\n      if (this.parentNode === parent)\n        parent.replaceChild(node, this);\n      else\n        parent.insertBefore(node, viableNextSibling);\n    },\n    remove: function() {\n      if (!this.parentNode) return;\n      this.parentNode.removeChild(this);\n    }\n  };\n\n  mixin(global.DocumentType, ChildNode);\n  mixin(global.Element, ChildNode);\n  mixin(global.CharacterData, ChildNode);\n\n}(self));\n(function(global) {\n  'use strict';\n\n  if (!('window' in global &amp;&amp; 'document' in global))\n    return;\n\n  //----------------------------------------------------------------------\n  //\n  // XMLHttpRequest\n  // https://xhr.spec.whatwg.org\n  //\n  //----------------------------------------------------------------------\n\n  // XMLHttpRequest interface\n  // Needed for: IE7-\n  global.XMLHttpRequest = global.XMLHttpRequest || function() {\n    try { return new ActiveXObject(&quot;Msxml2.XMLHTTP.6.0&quot;); } catch (_) { }\n    try { return new ActiveXObject(&quot;Msxml2.XMLHTTP.3.0&quot;); } catch (_) { }\n    try { return new ActiveXObject(&quot;Msxml2.XMLHTTP&quot;); } catch (_) { }\n    throw Error(&quot;This browser does not support XMLHttpRequest.&quot;);\n  };\n\n  // XMLHttpRequest interface constants\n  // Needed for IE8-\n  [\n    ['UNSENT', 0],\n    ['OPENED', 1],\n    ['HEADERS_RECEIVED', 2],\n    ['LOADING', 3],\n    ['DONE', 4],\n  ].forEach(function(p) { if (!(p[0] in global.XMLHttpRequest)) global.XMLHttpRequest[p[0]] = p[1]; });\n\n  // FormData interface\n  // Needed for: IE9-\n  (function() {\n    if ('FormData' in global)\n      return;\n\n    function FormData(form) {\n      this._data = [];\n      if (!form) return;\n      for (var i = 0; i &lt; form.elements.length; ++i) {\n        var element = form.elements[i];\n        if (element.name !== '')\n          this.append(element.name, element.value);\n      }\n    }\n\n    FormData.prototype = {\n      append: function(name, value /*, filename */) {\n        if ('Blob' in global &amp;&amp; value instanceof global.Blob)\n          throw TypeError(&quot;Blob not supported&quot;);\n        name = String(name);\n        this._data.push([name, value]);\n      },\n\n      toString: function() {\n        return this._data.map(function(pair) {\n          return encodeURIComponent(pair[0]) + '=' + encodeURIComponent(pair[1]);\n        }).join('&amp;');\n      }\n    };\n\n    global.FormData = FormData;\n    var send = global.XMLHttpRequest.prototype.send;\n    global.XMLHttpRequest.prototype.send = function(body) {\n      if (body instanceof FormData) {\n        this.setRequestHeader('Content-Type', 'application/x-www-form-urlencoded');\n        arguments[0] = body.toString();\n      }\n      return send.apply(this, arguments);\n    };\n  }());\n\n}(self));\n(function(global) {\n  'use strict';\n\n  if (!('window' in global &amp;&amp; 'document' in global))\n    return;\n\n  //----------------------------------------------------------------------\n  //\n  // CSSOM View Module\n  // https://dev.w3.org/csswg/cssom-view/\n  //\n  //----------------------------------------------------------------------\n\n  // Fix for IE8-'s Element.getBoundingClientRect()\n  if ('TextRectangle' in global &amp;&amp; !('width' in global.TextRectangle.prototype)) {\n    Object.defineProperties(global.TextRectangle.prototype, {\n      width: { get: function() { return this.right - this.left; } },\n      height: { get: function() { return this.bottom - this.top; } }\n    });\n  }\n}(self));\n// URL Polyfill\n// Draft specification: https://url.spec.whatwg.org\n\n// Notes:\n// - Primarily useful for parsing URLs and modifying query parameters\n// - Should work in IE8+ and everything more modern, with es5.js polyfills\n\n(function (global) {\n  'use strict';\n\n  function isSequence(o) {\n    if (!o) return false;\n    if ('Symbol' in global &amp;&amp; 'iterator' in global.Symbol &amp;&amp;\n        typeof o[Symbol.iterator] === 'function') return true;\n    if (Array.isArray(o)) return true;\n    return false;\n  }\n\n  function toArray(iter) {\n    return ('from' in Array) ? Array.from(iter) : Array.prototype.slice.call(iter);\n  }\n\n  (function() {\n\n    // Browsers may have:\n    // * No global URL object\n    // * URL with static methods only - may have a dummy constructor\n    // * URL with members except searchParams\n    // * Full URL API support\n    var origURL = global.URL;\n    var nativeURL;\n    try {\n      if (origURL) {\n        nativeURL = new global.URL('http://example.com');\n        if ('searchParams' in nativeURL)\n          return;\n        if (!('href' in nativeURL))\n          nativeURL = undefined;\n      }\n    } catch (_) {}\n\n    // NOTE: Doesn't do the encoding/decoding dance\n    function urlencoded_serialize(pairs) {\n      var output = '', first = true;\n      pairs.forEach(function (pair) {\n        var name = encodeURIComponent(pair.name);\n        var value = encodeURIComponent(pair.value);\n        if (!first) output += '&amp;';\n        output += name + '=' + value;\n        first = false;\n      });\n      return output.replace(/%20/g, '+');\n    }\n\n    // NOTE: Doesn't do the encoding/decoding dance\n    function urlencoded_parse(input, isindex) {\n      var sequences = input.split('&amp;');\n      if (isindex &amp;&amp; sequences[0].indexOf('=') === -1)\n        sequences[0] = '=' + sequences[0];\n      var pairs = [];\n      sequences.forEach(function (bytes) {\n        if (bytes.length === 0) return;\n        var index = bytes.indexOf('=');\n        if (index !== -1) {\n          var name = bytes.substring(0, index);\n          var value = bytes.substring(index + 1);\n        } else {\n          name = bytes;\n          value = '';\n        }\n        name = name.replace(/\\+/g, ' ');\n        value = value.replace(/\\+/g, ' ');\n        pairs.push({ name: name, value: value });\n      });\n      var output = [];\n      pairs.forEach(function (pair) {\n        output.push({\n          name: decodeURIComponent(pair.name),\n          value: decodeURIComponent(pair.value)\n        });\n      });\n      return output;\n    }\n\n    function URLUtils(url) {\n      if (nativeURL)\n        return new origURL(url);\n      var anchor = document.createElement('a');\n      anchor.href = url;\n      return anchor;\n    }\n\n    function URLSearchParams(init) {\n      var $this = this;\n      this._list = [];\n\n      if (init === undefined || init === null) {\n        // no-op\n      } else if (init instanceof URLSearchParams) {\n        // In ES6 init would be a sequence, but special case for ES5.\n        this._list = urlencoded_parse(String(init));\n      } else if (typeof init === 'object' &amp;&amp; isSequence(init)) {\n        toArray(init).forEach(function(e) {\n          if (!isSequence(e)) throw TypeError();\n          var nv = toArray(e);\n          if (nv.length !== 2) throw TypeError();\n          $this._list.push({name: String(nv[0]), value: String(nv[1])});\n        });\n      } else if (typeof init === 'object' &amp;&amp; init) {\n        Object.keys(init).forEach(function(key) {\n          $this._list.push({name: String(key), value: String(init[key])});\n        });\n      } else {\n        init = String(init);\n        if (init.substring(0, 1) === '?')\n          init = init.substring(1);\n        this._list = urlencoded_parse(init);\n      }\n\n      this._url_object = null;\n      this._setList = function (list) { if (!updating) $this._list = list; };\n\n      var updating = false;\n      this._update_steps = function() {\n        if (updating) return;\n        updating = true;\n\n        if (!$this._url_object) return;\n\n        // Partial workaround for IE issue with 'about:'\n        if ($this._url_object.protocol === 'about:' &amp;&amp;\n            $this._url_object.pathname.indexOf('?') !== -1) {\n          $this._url_object.pathname = $this._url_object.pathname.split('?')[0];\n        }\n\n        $this._url_object.search = urlencoded_serialize($this._list);\n\n        updating = false;\n      };\n    }\n\n\n    Object.defineProperties(URLSearchParams.prototype, {\n      append: {\n        value: function (name, value) {\n          this._list.push({ name: name, value: value });\n          this._update_steps();\n        }, writable: true, enumerable: true, configurable: true\n      },\n\n      'delete': {\n        value: function (name) {\n          for (var i = 0; i &lt; this._list.length;) {\n            if (this._list[i].name === name)\n              this._list.splice(i, 1);\n            else\n              ++i;\n          }\n          this._update_steps();\n        }, writable: true, enumerable: true, configurable: true\n      },\n\n      get: {\n        value: function (name) {\n          for (var i = 0; i &lt; this._list.length; ++i) {\n            if (this._list[i].name === name)\n              return this._list[i].value;\n          }\n          return null;\n        }, writable: true, enumerable: true, configurable: true\n      },\n\n      getAll: {\n        value: function (name) {\n          var result = [];\n          for (var i = 0; i &lt; this._list.length; ++i) {\n            if (this._list[i].name === name)\n              result.push(this._list[i].value);\n          }\n          return result;\n        }, writable: true, enumerable: true, configurable: true\n      },\n\n      has: {\n        value: function (name) {\n          for (var i = 0; i &lt; this._list.length; ++i) {\n            if (this._list[i].name === name)\n              return true;\n          }\n          return false;\n        }, writable: true, enumerable: true, configurable: true\n      },\n\n      set: {\n        value: function (name, value) {\n          var found = false;\n          for (var i = 0; i &lt; this._list.length;) {\n            if (this._list[i].name === name) {\n              if (!found) {\n                this._list[i].value = value;\n                found = true;\n                ++i;\n              } else {\n                this._list.splice(i, 1);\n              }\n            } else {\n              ++i;\n            }\n          }\n\n          if (!found)\n            this._list.push({ name: name, value: value });\n\n          this._update_steps();\n        }, writable: true, enumerable: true, configurable: true\n      },\n\n      entries: {\n        value: function() { return new Iterator(this._list, 'key+value'); },\n        writable: true, enumerable: true, configurable: true\n      },\n\n      keys: {\n        value: function() { return new Iterator(this._list, 'key'); },\n        writable: true, enumerable: true, configurable: true\n      },\n\n      values: {\n        value: function() { return new Iterator(this._list, 'value'); },\n        writable: true, enumerable: true, configurable: true\n      },\n\n      forEach: {\n        value: function(callback) {\n          var thisArg = (arguments.length &gt; 1) ? arguments[1] : undefined;\n          this._list.forEach(function(pair, index) {\n            callback.call(thisArg, pair.value, pair.name);\n          });\n\n        }, writable: true, enumerable: true, configurable: true\n      },\n\n      toString: {\n        value: function () {\n          return urlencoded_serialize(this._list);\n        }, writable: true, enumerable: false, configurable: true\n      }\n    });\n\n    function Iterator(source, kind) {\n      var index = 0;\n      this['next'] = function() {\n        if (index &gt;= source.length)\n          return {done: true, value: undefined};\n        var pair = source[index++];\n        return {done: false, value:\n                kind === 'key' ? pair.name :\n                kind === 'value' ? pair.value :\n                [pair.name, pair.value]};\n      };\n    }\n\n    if ('Symbol' in global &amp;&amp; 'iterator' in global.Symbol) {\n      Object.defineProperty(URLSearchParams.prototype, global.Symbol.iterator, {\n        value: URLSearchParams.prototype.entries,\n        writable: true, enumerable: true, configurable: true});\n      Object.defineProperty(Iterator.prototype, global.Symbol.iterator, {\n        value: function() { return this; },\n        writable: true, enumerable: true, configurable: true});\n    }\n\n    function URL(url, base) {\n      if (!(this instanceof global.URL))\n        throw new TypeError(&quot;Failed to construct 'URL': Please use the 'new' operator.&quot;);\n\n      if (base) {\n        url = (function () {\n          if (nativeURL) return new origURL(url, base).href;\n          var iframe;\n          try {\n            var doc;\n            // Use another document/base tag/anchor for relative URL resolution, if possible\n            if (Object.prototype.toString.call(window.operamini) === &quot;[object OperaMini]&quot;) {\n              iframe = document.createElement('iframe');\n              iframe.style.display = 'none';\n              document.documentElement.appendChild(iframe);\n              doc = iframe.contentWindow.document;\n            } else if (document.implementation &amp;&amp; document.implementation.createHTMLDocument) {\n              doc = document.implementation.createHTMLDocument('');\n            } else if (document.implementation &amp;&amp; document.implementation.createDocument) {\n              doc = document.implementation.createDocument('http://www.w3.org/1999/xhtml', 'html', null);\n              doc.documentElement.appendChild(doc.createElement('head'));\n              doc.documentElement.appendChild(doc.createElement('body'));\n            } else if (window.ActiveXObject) {\n              doc = new window.ActiveXObject('htmlfile');\n              doc.write('&lt;head&gt;&lt;\\/head&gt;&lt;body&gt;&lt;\\/body&gt;');\n              doc.close();\n            }\n\n            if (!doc) throw Error('base not supported');\n\n            var baseTag = doc.createElement('base');\n            baseTag.href = base;\n            doc.getElementsByTagName('head')[0].appendChild(baseTag);\n            var anchor = doc.createElement('a');\n            anchor.href = url;\n            return anchor.href;\n          } finally {\n            if (iframe)\n              iframe.parentNode.removeChild(iframe);\n          }\n        }());\n      }\n\n      // An inner object implementing URLUtils (either a native URL\n      // object or an HTMLAnchorElement instance) is used to perform the\n      // URL algorithms. With full ES5 getter/setter support, return a\n      // regular object For IE8's limited getter/setter support, a\n      // different HTMLAnchorElement is returned with properties\n      // overridden\n\n      var instance = URLUtils(url || '');\n\n      // Detect for ES5 getter/setter support\n      // (an Object.defineProperties polyfill that doesn't support getters/setters may throw)\n      var ES5_GET_SET = (function() {\n        if (!('defineProperties' in Object)) return false;\n        try {\n          var obj = {};\n          Object.defineProperties(obj, { prop: { 'get': function () { return true; } } });\n          return obj.prop;\n        } catch (_) {\n          return false;\n        }\n      })();\n\n      var self = ES5_GET_SET ? this : document.createElement('a');\n\n\n\n      var query_object = new URLSearchParams(\n        instance.search ? instance.search.substring(1) : null);\n      query_object._url_object = self;\n\n      Object.defineProperties(self, {\n        href: {\n          get: function () { return instance.href; },\n          set: function (v) { instance.href = v; tidy_instance(); update_steps(); },\n          enumerable: true, configurable: true\n        },\n        origin: {\n          get: function () {\n            if ('origin' in instance) return instance.origin;\n            return this.protocol + '//' + this.host;\n          },\n          enumerable: true, configurable: true\n        },\n        protocol: {\n          get: function () { return instance.protocol; },\n          set: function (v) { instance.protocol = v; },\n          enumerable: true, configurable: true\n        },\n        username: {\n          get: function () { return instance.username; },\n          set: function (v) { instance.username = v; },\n          enumerable: true, configurable: true\n        },\n        password: {\n          get: function () { return instance.password; },\n          set: function (v) { instance.password = v; },\n          enumerable: true, configurable: true\n        },\n        host: {\n          get: function () {\n            // IE returns default port in |host|\n            var re = {'http:': /:80$/, 'https:': /:443$/, 'ftp:': /:21$/}[instance.protocol];\n            return re ? instance.host.replace(re, '') : instance.host;\n          },\n          set: function (v) { instance.host = v; },\n          enumerable: true, configurable: true\n        },\n        hostname: {\n          get: function () { return instance.hostname; },\n          set: function (v) { instance.hostname = v; },\n          enumerable: true, configurable: true\n        },\n        port: {\n          get: function () { return instance.port; },\n          set: function (v) { instance.port = v; },\n          enumerable: true, configurable: true\n        },\n        pathname: {\n          get: function () {\n            // IE does not include leading '/' in |pathname|\n            if (instance.pathname.charAt(0) !== '/') return '/' + instance.pathname;\n            return instance.pathname;\n          },\n          set: function (v) { instance.pathname = v; },\n          enumerable: true, configurable: true\n        },\n        search: {\n          get: function () { return instance.search; },\n          set: function (v) {\n            if (instance.search === v) return;\n            instance.search = v; tidy_instance(); update_steps();\n          },\n          enumerable: true, configurable: true\n        },\n        searchParams: {\n          get: function () { return query_object; },\n          enumerable: true, configurable: true\n        },\n        hash: {\n          get: function () { return instance.hash; },\n          set: function (v) { instance.hash = v; tidy_instance(); },\n          enumerable: true, configurable: true\n        },\n        toString: {\n          value: function() { return instance.toString(); },\n          enumerable: false, configurable: true\n        },\n        valueOf: {\n          value: function() { return instance.valueOf(); },\n          enumerable: false, configurable: true\n        }\n      });\n\n      function tidy_instance() {\n        var href = instance.href.replace(/#$|\\?$|\\?(?=#)/g, '');\n        if (instance.href !== href)\n          instance.href = href;\n      }\n\n      function update_steps() {\n        query_object._setList(instance.search ? urlencoded_parse(instance.search.substring(1)) : []);\n        query_object._update_steps();\n      };\n\n      return self;\n    }\n\n    if (origURL) {\n      for (var i in origURL) {\n        if (origURL.hasOwnProperty(i) &amp;&amp; typeof origURL[i] === 'function')\n          URL[i] = origURL[i];\n      }\n    }\n\n    global.URL = URL;\n    global.URLSearchParams = URLSearchParams;\n  }());\n\n  // Patch native URLSearchParams constructor to handle sequences/records\n  // if necessary.\n  (function() {\n    if (new global.URLSearchParams([['a', 1]]).get('a') === '1' &amp;&amp;\n        new global.URLSearchParams({a: 1}).get('a') === '1')\n      return;\n    var orig = global.URLSearchParams;\n    global.URLSearchParams = function(init) {\n      if (init &amp;&amp; typeof init === 'object' &amp;&amp; isSequence(init)) {\n        var o = new orig();\n        toArray(init).forEach(function(e) {\n          if (!isSequence(e)) throw TypeError();\n          var nv = toArray(e);\n          if (nv.length !== 2) throw TypeError();\n          o.append(nv[0], nv[1]);\n        });\n        return o;\n      } else if (init &amp;&amp; typeof init === 'object') {\n        o = new orig();\n        Object.keys(init).forEach(function(key) {\n          o.set(key, init[key]);\n        });\n        return o;\n      } else {\n        return new orig(init);\n      }\n    };\n  }());\n\n}(self));\n// Work-In-Progress 'prollyfill' for Fetch API\n// Standard: https://fetch.spec.whatwg.org/#fetch-api\n//\n// As usual, the intent is to produce a forward-compatible\n// subset so that code can be written using future standard\n// functionality; not every case is considered or supported.\n\n// Requires ES2015: Promise, Symbol.iterator (or polyfill)\n// Requires: URL (or polyfill)\n\n// Example:\n//   fetch('README.md')\n//     .then(function(response) { return response.text(); })\n//     .then(function(text) { alert(text); });\n\n(function(global) {\n  'use strict';\n\n  // Web IDL concepts\n\n  // https://heycam.github.io/webidl/#idl-ByteString\n  function ByteString(value) {\n    value = String(value);\n    if (value.match(/[^\\x00-\\xFF]/)) throw TypeError('Not a valid ByteString');\n    return value;\n  }\n\n  // https://heycam.github.io/webidl/#idl-USVString\n  function USVString(value) {\n    value = String(value);\n    return value.replace(\n        /([\\u0000-\\uD7FF\\uE000-\\uFFFF]|[\\uD800-\\uDBFF][\\uDC00-\\uDFFF]|[\\uD800-\\uDFFF])/g,\n      function (c) {\n        if (/^[\\uD800-\\uDFFF]$/.test(c)) return '\\uFFFD';\n        return c;\n      });\n  }\n\n  function ushort(x) { return x &amp; 0xFFFF; }\n\n  // 2 Terminology\n\n  function byteLowerCase(s) {\n    return String(s).replace(/[A-Z]/g, function(c) { return c.toLowerCase(); });\n  }\n\n  function byteUpperCase(s) {\n    return String(s).replace(/[a-z]/g, function(c) { return c.toUpperCase(); });\n  }\n\n  function byteCaseInsensitiveMatch(a, b) {\n    return byteLowerCase(a) === byteLowerCase(b);\n  }\n\n  // 2.1 HTTP\n\n  // 2.1.1 Methods\n\n  function isForbiddenMethod(m) {\n    m = byteUpperCase(m);\n    return m === 'CONNECT' || m === 'TRACE' || m === 'TRACK';\n  }\n\n  function normalizeMethod(m) {\n    var u = byteUpperCase(m);\n    if (u === 'DELETE' || u === 'GET' || u === 'HEAD' || u === 'OPTIONS' ||\n        u === 'POST' || u === 'PUT') return u;\n    return m;\n  }\n\n  function isName(s) {\n    return /^[!#$%&amp;'*+\\-.09A-Z^_`a-z|~]+$/.test(s);\n  }\n  function isValue(s) {\n    // TODO: Implement me\n    return true;\n  }\n  function isForbiddenHeaderName(n) {\n    n = String(n).toLowerCase();\n    var forbidden = {\n      'accept-charset': true,\n      'accept-encoding': true,\n      'access-control-request-headers': true,\n      'access-control-request-method': true,\n      'connection': true,\n      'content-length': true,\n      'cookie': true,\n      'cookie2': true,\n      'date': true,\n      'dnt': true,\n      'expect': true,\n      'host': true,\n      'keep-alive': true,\n      'origin': true,\n      'referer': true,\n      'te': true,\n      'trailer': true,\n      'transfer-encoding': true,\n      'upgrade': true,\n      'user-agent': true,\n      'via': true\n    };\n    return forbidden[n] || n.substring(0, 6) === 'proxy-' || n.substring(0, 4) === 'sec-';\n  }\n\n  function isForbiddenResponseHeaderName(n) {\n    n = String(n).toLowerCase();\n    var forbidden = {\n      'set-cookie': true,\n      'set-cookie2': true\n    };\n    return forbidden[n];\n  }\n\n  function isSimpleHeader(name, value) {\n    name = String(name).toLowerCase();\n    return name === 'accept' || name === 'accept-language' || name === 'content-language' ||\n      (name === 'content-type' &amp;&amp;\n       ['application/x-www-form-encoded', 'multipart/form-data', 'text/plain'].indexOf(value) !== -1);\n  }\n\n  //\n  // 5.1 Headers class\n  //\n\n  // typedef (Headers or sequence&lt;sequence&lt;ByteString&gt;&gt; or OpenEndedDictionary&lt;ByteString&gt;) HeadersInit;\n\n  // Constructor(optional HeadersInit init)\n  function Headers(init) {\n    this._guard = 'none';\n    this._headerList = [];\n    if (init) fill(this, init);\n  }\n\n  function fill(headers, init) {\n    if (init instanceof Headers) {\n      init._headerList.forEach(function(header) {\n        headers.append(header[0], header[1]);\n      });\n    } else if (Array.isArray(init)) {\n      init.forEach(function(header) {\n        if (!Array.isArray(header) || header.length !== 2) throw TypeError();\n        headers.append(header[0], header[1]);\n      });\n    } else {\n      init = Object(init);\n      Object.keys(init).forEach(function(key) {\n        headers.append(key, init[key]);\n      });\n    }\n  }\n\n  // interface Headers\n  Headers.prototype = {\n    // void append(ByteString name, ByteString value);\n    append: function append(name, value) {\n      name = ByteString(name);\n      if (!isName(name) || !isValue(value)) throw TypeError();\n      if (this._guard === 'immutable') throw TypeError();\n      else if (this._guard === 'request' &amp;&amp; isForbiddenHeaderName(name)) return;\n      else if (this._guard === 'request-no-CORS' &amp;&amp; !isSimpleHeader(name, value)) return;\n      else if (this._guard === 'response' &amp;&amp; isForbiddenResponseHeaderName(name)) return;\n\n      name = name.toLowerCase();\n      this._headerList.push([name, value]);\n    },\n\n    // void delete(ByteString name);\n    'delete': function delete_(name) {\n      name = ByteString(name);\n      if (!isName(name)) throw TypeError();\n      if (this._guard === 'immutable') throw TypeError();\n      else if (this._guard === 'request' &amp;&amp; isForbiddenHeaderName(name)) return;\n      else if (this._guard === 'request-no-CORS' &amp;&amp; !isSimpleHeader(name, 'invalid')) return;\n      else if (this._guard === 'response' &amp;&amp; isForbiddenResponseHeaderName(name)) return;\n\n      name = name.toLowerCase();\n      var index = 0;\n      while (index &lt; this._headerList.length) {\n        if (this._headerList[index][0] === name)\n          this._headerList.splice(index, 1);\n        else\n          ++index;\n      }\n    },\n\n    // ByteString? get(ByteString name);\n    get: function get(name) {\n      name = ByteString(name);\n      if (!isName(name)) throw TypeError();\n      name = name.toLowerCase();\n      for (var index = 0; index &lt; this._headerList.length; ++index) {\n        if (this._headerList[index][0] === name)\n          return this._headerList[index][1];\n      }\n      return null;\n    },\n\n    // sequence&lt;ByteString&gt; getAll(ByteString name);\n    getAll: function getAll(name) {\n      name = ByteString(name);\n      if (!isName(name)) throw TypeError();\n      name = name.toLowerCase();\n      var sequence = [];\n      for (var index = 0; index &lt; this._headerList.length; ++index) {\n        if (this._headerList[index][0] === name)\n          sequence.push(this._headerList[index][1]);\n      }\n      return sequence;\n    },\n\n    // boolean has(ByteString name);\n    has: function has(name) {\n      name = ByteString(name);\n      if (!isName(name)) throw TypeError();\n      name = name.toLowerCase();\n      for (var index = 0; index &lt; this._headerList.length; ++index) {\n        if (this._headerList[index][0] === name)\n          return true;\n      }\n      return false;\n    },\n\n    // void set(ByteString name, ByteString value);\n    set: function set(name, value) {\n      name = ByteString(name);\n      if (!isName(name) || !isValue(value)) throw TypeError();\n      if (this._guard === 'immutable') throw TypeError();\n      else if (this._guard === 'request' &amp;&amp; isForbiddenHeaderName(name)) return;\n      else if (this._guard === 'request-no-CORS' &amp;&amp; !isSimpleHeader(name, value)) return;\n      else if (this._guard === 'response' &amp;&amp; isForbiddenResponseHeaderName(name)) return;\n\n      name = name.toLowerCase();\n      for (var index = 0; index &lt; this._headerList.length; ++index) {\n        if (this._headerList[index][0] === name) {\n          this._headerList[index++][1] = value;\n          while (index &lt; this._headerList.length) {\n            if (this._headerList[index][0] === name)\n              this._headerList.splice(index, 1);\n            else\n              ++index;\n          }\n          return;\n        }\n      }\n      this._headerList.push([name, value]);\n    }\n  };\n  Headers.prototype[Symbol.iterator] = function() {\n    return new HeadersIterator(this);\n  };\n\n  function HeadersIterator(headers) {\n    this._headers = headers;\n    this._index = 0;\n  }\n  HeadersIterator.prototype = {};\n  HeadersIterator.prototype.next = function() {\n    if (this._index &gt;= this._headers._headerList.length)\n      return { value: undefined, done: true };\n    return { value: this._headers._headerList[this._index++], done: false };\n  };\n  HeadersIterator.prototype[Symbol.iterator] = function() { return this; };\n\n\n  //\n  // 5.2 Body mixin\n  //\n\n  function Body(_stream) {\n    // TODO: Handle initialization from other types\n    this._stream = _stream;\n    this.bodyUsed = false;\n  }\n\n  // interface FetchBodyStream\n  Body.prototype = {\n    // Promise&lt;ArrayBuffer&gt; arrayBuffer();\n    arrayBuffer: function() {\n      if (this.bodyUsed) return Promise.reject(TypeError());\n      this.bodyUsed = true;\n      if (this._stream instanceof ArrayBuffer) return Promise.resolve(this._stream);\n      var value = this._stream;\n      return new Promise(function(resolve, reject) {\n        var octets = unescape(encodeURIComponent(value)).split('').map(function(c) {\n          return c.charCodeAt(0);\n        });\n        resolve(new Uint8Array(octets).buffer);\n      });\n    },\n    // Promise&lt;Blob&gt; blob();\n    blob: function() {\n      if (this.bodyUsed) return Promise.reject(TypeError());\n      this.bodyUsed = true;\n      if (this._stream instanceof Blob) return Promise.resolve(this._stream);\n      return Promise.resolve(new Blob([this._stream]));\n    },\n    // Promise&lt;FormData&gt; formData();\n    formData: function() {\n      if (this.bodyUsed) return Promise.reject(TypeError());\n      this.bodyUsed = true;\n      if (this._stream instanceof FormData) return Promise.resolve(this._stream);\n      return Promise.reject(Error('Not yet implemented'));\n    },\n    // Promise&lt;JSON&gt; json();\n    json: function() {\n      if (this.bodyUsed) return Promise.reject(TypeError());\n      this.bodyUsed = true;\n      var that = this;\n      return new Promise(function(resolve, reject) {\n        resolve(JSON.parse(that._stream));\n      });\n    },\n    // Promise&lt;USVString&gt; text();\n    text: function() {\n      if (this.bodyUsed) return Promise.reject(TypeError());\n      this.bodyUsed = true;\n      return Promise.resolve(String(this._stream));\n    }\n  };\n\n  //\n  // 5.3 Request class\n  //\n\n  // typedef (Request or USVString) RequestInfo;\n\n  // Constructor(RequestInfo input, optional RequestInit init)\n  function Request(input, init) {\n    if (arguments.length &lt; 1) throw TypeError('Not enough arguments');\n\n    Body.call(this, null);\n\n    // readonly attribute ByteString method;\n    this.method = 'GET';\n\n    // readonly attribute USVString url;\n    this.url = '';\n\n    // readonly attribute Headers headers;\n    this.headers = new Headers();\n    this.headers._guard = 'request';\n\n    // readonly attribute DOMString referrer;\n    this.referrer = null; // TODO: Implement.\n\n    // readonly attribute RequestMode mode;\n    this.mode = null; // TODO: Implement.\n\n    // readonly attribute RequestCredentials credentials;\n    this.credentials = 'omit';\n\n    if (input instanceof Request) {\n      if (input.bodyUsed) throw TypeError();\n      input.bodyUsed = true;\n      this.method = input.method;\n      this.url = input.url;\n      this.headers = new Headers(input.headers);\n      this.headers._guard = input.headers._guard;\n      this.credentials = input.credentials;\n      this._stream = input._stream;\n    } else {\n      input = USVString(input);\n      this.url = String(new URL(input, self.location));\n    }\n\n    init = Object(init);\n\n    if ('method' in init) {\n      var method = ByteString(init.method);\n      if (isForbiddenMethod(method)) throw TypeError();\n      this.method = normalizeMethod(method);\n    }\n\n    if ('headers' in init) {\n      this.headers = new Headers();\n      fill(this.headers, init.headers);\n    }\n\n    if ('body' in init)\n      this._stream = init.body;\n\n    if ('credentials' in init &amp;&amp;\n        (['omit', 'same-origin', 'include'].indexOf(init.credentials) !== -1))\n      this.credentials = init.credentials;\n  }\n\n  // interface Request\n  Request.prototype = Body.prototype;\n\n  //\n  // 5.4 Response class\n  //\n\n  // Constructor(optional FetchBodyInit body, optional ResponseInit init)\n  function Response(body, init) {\n    if (arguments.length &lt; 1)\n      body = '';\n\n    this.headers = new Headers();\n    this.headers._guard = 'response';\n\n    // Internal\n    if (body instanceof XMLHttpRequest &amp;&amp; '_url' in body) {\n      var xhr = body;\n      this.type = 'basic'; // TODO: ResponseType\n      this.url = USVString(xhr._url);\n      this.status = xhr.status;\n      this.ok = 200 &lt;= this.status &amp;&amp; this.status &lt;= 299;\n      this.statusText = xhr.statusText;\n      xhr.getAllResponseHeaders()\n        .split(/\\r?\\n/)\n        .filter(function(header) { return header.length; })\n        .forEach(function(header) {\n          var i = header.indexOf(':');\n          this.headers.append(header.substring(0, i), header.substring(i + 2));\n        }, this);\n      Body.call(this, xhr.responseText);\n      return;\n    }\n\n    Body.call(this, body);\n\n    init = Object(init) || {};\n\n    // readonly attribute USVString url;\n    this.url = '';\n\n    // readonly attribute unsigned short status;\n    var status = 'status' in init ? ushort(init.status) : 200;\n    if (status &lt; 200 || status &gt; 599) throw RangeError();\n    this.status = status;\n\n    // readonly attribute boolean ok;\n    this.ok = 200 &lt;= this.status &amp;&amp; this.status &lt;= 299;\n\n    // readonly attribute ByteString statusText;\n    var statusText = 'statusText' in init ? String(init.statusText) : 'OK';\n    if (/[^\\x00-\\xFF]/.test(statusText)) throw TypeError();\n    this.statusText = statusText;\n\n    // readonly attribute Headers headers;\n    if ('headers' in init) fill(this.headers, init);\n\n    // TODO: Implement these\n    // readonly attribute ResponseType type;\n    this.type = 'basic'; // TODO: ResponseType\n  }\n\n  // interface Response\n  Response.prototype = Body.prototype;\n\n  Response.redirect = function() {\n    // TODO: Implement?\n    throw Error('Not supported');\n  };\n\n  //\n  // 5.5 Structured cloning of Headers, FetchBodyStream, Request, Response\n  //\n\n  //\n  // 5.6 Fetch method\n  //\n\n  // Promise&lt;Response&gt; fetch(RequestInfo input, optional RequestInit init);\n  function fetch(input, init) {\n    return new Promise(function(resolve, reject) {\n      var r = new Request(input, init);\n\n      var xhr = new XMLHttpRequest(), async = true;\n      xhr._url = r.url;\n\n      try { xhr.open(r.method, r.url, async); } catch (e) { throw TypeError(e.message); }\n\n      for (var iter = r.headers[Symbol.iterator](), step = iter.next();\n           !step.done; step = iter.next())\n        xhr.setRequestHeader(step.value[0], step.value[1]);\n\n      if (r.credentials === 'include')\n        xhr.withCredentials = true;\n\n      xhr.onreadystatechange = function() {\n        if (xhr.readyState !== XMLHttpRequest.DONE) return;\n        if (xhr.status === 0)\n          reject(new TypeError('Network error'));\n        else\n          resolve(new Response(xhr));\n      };\n\n      xhr.send(r._stream);\n    });\n  }\n\n  // Exported\n  if (!('fetch' in global)) {\n    global.Headers = Headers;\n    global.Request = Request;\n    global.Response = Response;\n    global.fetch = fetch;\n  }\n\n}(self));</pre></div>",
  "body_lake": "<!doctype lake><meta name=\"doc-version\" content=\"1\" /><meta name=\"typography\" content=\"classic\" /><meta name=\"viewport\" content=\"fixed\" /><meta name=\"paragraphSpacing\" content=\"relax\" /><card type=\"inline\" name=\"codeblock\" value=\"data:%7B%22mode%22%3A%22javascript%22%2C%22code%22%3A%22%2F%2F%20Composited%20file%20-%20DO%20NOT%20EDIT%5Cn%2F%2F----------------------------------------------------------------------%5Cn%2F%2F%5Cn%2F%2F%20ECMAScript%205%20Polyfills%5Cn%2F%2F%5Cn%2F%2F----------------------------------------------------------------------%5Cn%5Cn%2F%2F----------------------------------------------------------------------%5Cn%2F%2F%20ES5%2015.2%20Object%20Objects%5Cn%2F%2F----------------------------------------------------------------------%5Cn%5Cn%2F%2F%5Cn%2F%2F%20ES5%2015.2.3%20Properties%20of%20the%20Object%20Constructor%5Cn%2F%2F%5Cn%5Cn%2F%2F%20ES5%2015.2.3.2%20Object.getPrototypeOf%20(%20O%20)%5Cn%2F%2F%20From%20http%3A%2F%2Fejohn.org%2Fblog%2Fobjectgetprototypeof%2F%5Cn%2F%2F%20NOTE%3A%20won't%20work%20for%20typical%20function%20T()%20%7B%7D%3B%20T.prototype%20%3D%20%7B%7D%3B%20new%20T%3B%20case%5Cn%2F%2F%20since%20the%20constructor%20property%20is%20destroyed.%5Cnif%20(!Object.getPrototypeOf)%20%7B%5Cn%20%20Object.getPrototypeOf%20%3D%20function%20(o)%20%7B%5Cn%20%20%20%20if%20(o%20!%3D%3D%20Object(o))%20%7B%20throw%20TypeError(%5C%22Object.getPrototypeOf%20called%20on%20non-object%5C%22)%3B%20%7D%5Cn%20%20%20%20return%20o.__proto__%20%7C%7C%20o.constructor.prototype%20%7C%7C%20Object.prototype%3B%5Cn%20%20%7D%3B%5Cn%7D%5Cn%5Cn%2F%2F%20%20%20%20%2F%2F%20ES5%2015.2.3.3%20Object.getOwnPropertyDescriptor%20(%20O%2C%20P%20)%5Cn%2F%2F%20%20%20%20if%20(typeof%20Object.getOwnPropertyDescriptor%20!%3D%3D%20%5C%22function%5C%22)%20%7B%5Cn%2F%2F%20%20%20%20%20%20%20%20Object.getOwnPropertyDescriptor%20%3D%20function%20(o%2C%20name)%20%7B%5Cn%2F%2F%20%20%20%20%20%20%20%20%20%20%20%20if%20(o%20!%3D%3D%20Object(o))%20%7B%20throw%20TypeError()%3B%20%7D%5Cn%2F%2F%20%20%20%20%20%20%20%20%20%20%20%20if%20(o.hasOwnProperty(name))%20%7B%5Cn%2F%2F%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20return%20%7B%5Cn%2F%2F%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20value%3A%20o%5Bname%5D%2C%5Cn%2F%2F%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20enumerable%3A%20true%2C%5Cn%2F%2F%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20writable%3A%20true%2C%5Cn%2F%2F%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20configurable%3A%20true%5Cn%2F%2F%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%3B%5Cn%2F%2F%20%20%20%20%20%20%20%20%20%20%20%20%7D%5Cn%2F%2F%20%20%20%20%20%20%20%20%7D%3B%5Cn%2F%2F%20%20%20%20%7D%5Cn%5Cn%2F%2F%20ES5%2015.2.3.4%20Object.getOwnPropertyNames%20(%20O%20)%5Cnif%20(typeof%20Object.getOwnPropertyNames%20!%3D%3D%20%5C%22function%5C%22)%20%7B%5Cn%20%20Object.getOwnPropertyNames%20%3D%20function%20(o)%20%7B%5Cn%20%20%20%20if%20(o%20!%3D%3D%20Object(o))%20%7B%20throw%20TypeError(%5C%22Object.getOwnPropertyNames%20called%20on%20non-object%5C%22)%3B%20%7D%5Cn%20%20%20%20var%20props%20%3D%20%5B%5D%2C%20p%3B%5Cn%20%20%20%20for%20(p%20in%20o)%20%7B%5Cn%20%20%20%20%20%20if%20(Object.prototype.hasOwnProperty.call(o%2C%20p))%20%7B%5Cn%20%20%20%20%20%20%20%20props.push(p)%3B%5Cn%20%20%20%20%20%20%7D%5Cn%20%20%20%20%7D%5Cn%20%20%20%20return%20props%3B%5Cn%20%20%7D%3B%5Cn%7D%5Cn%5Cn%2F%2F%20ES5%2015.2.3.5%20Object.create%20(%20O%20%5B%2C%20Properties%5D%20)%5Cnif%20(typeof%20Object.create%20!%3D%3D%20%5C%22function%5C%22)%20%7B%5Cn%20%20Object.create%20%3D%20function%20(prototype%2C%20properties)%20%7B%5Cn%20%20%20%20if%20(typeof%20prototype%20!%3D%3D%20%5C%22object%5C%22)%20%7B%20throw%20TypeError()%3B%20%7D%5Cn%20%20%20%20function%20Ctor()%20%7B%7D%5Cn%20%20%20%20Ctor.prototype%20%3D%20prototype%3B%5Cn%20%20%20%20var%20o%20%3D%20new%20Ctor()%3B%5Cn%20%20%20%20if%20(prototype)%20%7B%20o.constructor%20%3D%20Ctor%3B%20%7D%5Cn%20%20%20%20if%20(properties%20!%3D%3D%20undefined)%20%7B%5Cn%20%20%20%20%20%20if%20(properties%20!%3D%3D%20Object(properties))%20%7B%20throw%20TypeError()%3B%20%7D%5Cn%20%20%20%20%20%20Object.defineProperties(o%2C%20properties)%3B%5Cn%20%20%20%20%7D%5Cn%20%20%20%20return%20o%3B%5Cn%20%20%7D%3B%5Cn%7D%5Cn%5Cn%2F%2F%20ES%2015.2.3.6%20Object.defineProperty%20(%20O%2C%20P%2C%20Attributes%20)%5Cn%2F%2F%20Partial%20support%20for%20most%20common%20case%20-%20getters%2C%20setters%2C%20and%20values%5Cn(function()%20%7B%5Cn%20%20if%20(!Object.defineProperty%20%7C%7C%5Cn%20%20%20%20%20%20!(function%20()%20%7B%20try%20%7B%20Object.defineProperty(%7B%7D%2C%20'x'%2C%20%7B%7D)%3B%20return%20true%3B%20%7D%20catch%20(e)%20%7B%20return%20false%3B%20%7D%20%7D%20()))%20%7B%5Cn%20%20%20%20var%20orig%20%3D%20Object.defineProperty%3B%5Cn%20%20%20%20Object.defineProperty%20%3D%20function%20(o%2C%20prop%2C%20desc)%20%7B%5Cn%20%20%20%20%20%20%2F%2F%20In%20IE8%20try%20built-in%20implementation%20for%20defining%20properties%20on%20DOM%20prototypes.%5Cn%20%20%20%20%20%20if%20(orig)%20%7B%20try%20%7B%20return%20orig(o%2C%20prop%2C%20desc)%3B%20%7D%20catch%20(e)%20%7B%7D%20%7D%5Cn%5Cn%20%20%20%20%20%20if%20(o%20!%3D%3D%20Object(o))%20%7B%20throw%20TypeError(%5C%22Object.defineProperty%20called%20on%20non-object%5C%22)%3B%20%7D%5Cn%20%20%20%20%20%20if%20(Object.prototype.__defineGetter__%20%26%26%20('get'%20in%20desc))%20%7B%5Cn%20%20%20%20%20%20%20%20Object.prototype.__defineGetter__.call(o%2C%20prop%2C%20desc.get)%3B%5Cn%20%20%20%20%20%20%7D%5Cn%20%20%20%20%20%20if%20(Object.prototype.__defineSetter__%20%26%26%20('set'%20in%20desc))%20%7B%5Cn%20%20%20%20%20%20%20%20Object.prototype.__defineSetter__.call(o%2C%20prop%2C%20desc.set)%3B%5Cn%20%20%20%20%20%20%7D%5Cn%20%20%20%20%20%20if%20('value'%20in%20desc)%20%7B%5Cn%20%20%20%20%20%20%20%20o%5Bprop%5D%20%3D%20desc.value%3B%5Cn%20%20%20%20%20%20%7D%5Cn%20%20%20%20%20%20return%20o%3B%5Cn%20%20%20%20%7D%3B%5Cn%20%20%7D%5Cn%7D())%3B%5Cn%5Cn%2F%2F%20ES%2015.2.3.7%20Object.defineProperties%20(%20O%2C%20Properties%20)%5Cnif%20(typeof%20Object.defineProperties%20!%3D%3D%20%5C%22function%5C%22)%20%7B%5Cn%20%20Object.defineProperties%20%3D%20function%20(o%2C%20properties)%20%7B%5Cn%20%20%20%20if%20(o%20!%3D%3D%20Object(o))%20%7B%20throw%20TypeError(%5C%22Object.defineProperties%20called%20on%20non-object%5C%22)%3B%20%7D%5Cn%20%20%20%20var%20name%3B%5Cn%20%20%20%20for%20(name%20in%20properties)%20%7B%5Cn%20%20%20%20%20%20if%20(Object.prototype.hasOwnProperty.call(properties%2C%20name))%20%7B%5Cn%20%20%20%20%20%20%20%20Object.defineProperty(o%2C%20name%2C%20properties%5Bname%5D)%3B%5Cn%20%20%20%20%20%20%7D%5Cn%20%20%20%20%7D%5Cn%20%20%20%20return%20o%3B%5Cn%20%20%7D%3B%5Cn%7D%5Cn%5Cn%5Cn%2F%2F%20ES5%2015.2.3.14%20Object.keys%20(%20O%20)%5Cn%2F%2F%20https%3A%2F%2Fdeveloper.mozilla.org%2Fen%2FJavaScript%2FReference%2FGlobal_Objects%2FObject%2Fkeys%5Cnif%20(!Object.keys)%20%7B%5Cn%20%20Object.keys%20%3D%20function%20(o)%20%7B%5Cn%20%20%20%20if%20(o%20!%3D%3D%20Object(o))%20%7B%20throw%20TypeError('Object.keys%20called%20on%20non-object')%3B%20%7D%5Cn%20%20%20%20var%20ret%20%3D%20%5B%5D%2C%20p%3B%5Cn%20%20%20%20for%20(p%20in%20o)%20%7B%5Cn%20%20%20%20%20%20if%20(Object.prototype.hasOwnProperty.call(o%2C%20p))%20%7B%5Cn%20%20%20%20%20%20%20%20ret.push(p)%3B%5Cn%20%20%20%20%20%20%7D%5Cn%20%20%20%20%7D%5Cn%20%20%20%20return%20ret%3B%5Cn%20%20%7D%3B%5Cn%7D%5Cn%5Cn%2F%2F----------------------------------------------------------------------%5Cn%2F%2F%20ES5%2015.3%20Function%20Objects%5Cn%2F%2F----------------------------------------------------------------------%5Cn%5Cn%2F%2F%5Cn%2F%2F%20ES5%2015.3.4%20Properties%20of%20the%20Function%20Prototype%20Object%5Cn%2F%2F%5Cn%5Cn%2F%2F%20ES5%2015.3.4.5%20Function.prototype.bind%20(%20thisArg%20%5B%2C%20arg1%20%5B%2C%20arg2%2C%20...%20%5D%5D%20)%5Cn%2F%2F%20https%3A%2F%2Fdeveloper.mozilla.org%2Fen%2FJavaScript%2FReference%2FGlobal_Objects%2FFunction%2Fbind%5Cnif%20(!Function.prototype.bind)%20%7B%5Cn%20%20Function.prototype.bind%20%3D%20function%20(o)%20%7B%5Cn%20%20%20%20if%20(typeof%20this%20!%3D%3D%20'function')%20%7B%20throw%20TypeError(%5C%22Bind%20must%20be%20called%20on%20a%20function%5C%22)%3B%20%7D%5Cn%5Cn%20%20%20%20var%20args%20%3D%20Array.prototype.slice.call(arguments%2C%201)%2C%5Cn%20%20%20%20%20%20%20%20self%20%3D%20this%2C%5Cn%20%20%20%20%20%20%20%20nop%20%3D%20function()%20%7B%7D%2C%5Cn%20%20%20%20%20%20%20%20bound%20%3D%20function%20()%20%7B%5Cn%20%20%20%20%20%20%20%20%20%20return%20self.apply(this%20instanceof%20nop%20%3F%20this%20%3A%20o%2C%5Cn%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20args.concat(Array.prototype.slice.call(arguments)))%3B%5Cn%20%20%20%20%20%20%20%20%7D%3B%5Cn%5Cn%20%20%20%20if%20(this.prototype)%5Cn%20%20%20%20%20%20nop.prototype%20%3D%20this.prototype%3B%5Cn%20%20%20%20bound.prototype%20%3D%20new%20nop()%3B%5Cn%20%20%20%20return%20bound%3B%5Cn%20%20%7D%3B%5Cn%7D%5Cn%5Cn%5Cn%2F%2F----------------------------------------------------------------------%5Cn%2F%2F%20ES5%2015.4%20Array%20Objects%5Cn%2F%2F----------------------------------------------------------------------%5Cn%5Cn%2F%2F%5Cn%2F%2F%20ES5%2015.4.3%20Properties%20of%20the%20Array%20Constructor%5Cn%2F%2F%5Cn%5Cn%5Cn%2F%2F%20ES5%2015.4.3.2%20Array.isArray%20(%20arg%20)%5Cn%2F%2F%20https%3A%2F%2Fdeveloper.mozilla.org%2Fen%2FJavaScript%2FReference%2FGlobal_Objects%2FArray%2FisArray%5CnArray.isArray%20%3D%20Array.isArray%20%7C%7C%20function%20(o)%20%7B%20return%20Boolean(o%20%26%26%20Object.prototype.toString.call(Object(o))%20%3D%3D%3D%20'%5Bobject%20Array%5D')%3B%20%7D%3B%5Cn%5Cn%5Cn%2F%2F%5Cn%2F%2F%20ES5%2015.4.4%20Properties%20of%20the%20Array%20Prototype%20Object%5Cn%2F%2F%5Cn%5Cn%2F%2F%20ES5%2015.4.4.14%20Array.prototype.indexOf%20(%20searchElement%20%5B%20%2C%20fromIndex%20%5D%20)%5Cn%2F%2F%20From%20https%3A%2F%2Fdeveloper.mozilla.org%2Fen%2FJavaScript%2FReference%2FGlobal_Objects%2FArray%2FindexOf%5Cnif%20(!Array.prototype.indexOf)%20%7B%5Cn%20%20Array.prototype.indexOf%20%3D%20function%20(searchElement%20%2F*%2C%20fromIndex%20*%2F)%20%7B%5Cn%20%20%20%20if%20(this%20%3D%3D%3D%20void%200%20%7C%7C%20this%20%3D%3D%3D%20null)%20%7B%20throw%20TypeError()%3B%20%7D%5Cn%5Cn%20%20%20%20var%20t%20%3D%20Object(this)%3B%5Cn%20%20%20%20var%20len%20%3D%20t.length%20%3E%3E%3E%200%3B%5Cn%20%20%20%20if%20(len%20%3D%3D%3D%200)%20%7B%20return%20-1%3B%20%7D%5Cn%5Cn%20%20%20%20var%20n%20%3D%200%3B%5Cn%20%20%20%20if%20(arguments.length%20%3E%200)%20%7B%5Cn%20%20%20%20%20%20n%20%3D%20Number(arguments%5B1%5D)%3B%5Cn%20%20%20%20%20%20if%20(isNaN(n))%20%7B%5Cn%20%20%20%20%20%20%20%20n%20%3D%200%3B%5Cn%20%20%20%20%20%20%7D%20else%20if%20(n%20!%3D%3D%200%20%26%26%20n%20!%3D%3D%20(1%20%2F%200)%20%26%26%20n%20!%3D%3D%20-(1%20%2F%200))%20%7B%5Cn%20%20%20%20%20%20%20%20n%20%3D%20(n%20%3E%200%20%7C%7C%20-1)%20*%20Math.floor(Math.abs(n))%3B%5Cn%20%20%20%20%20%20%7D%5Cn%20%20%20%20%7D%5Cn%5Cn%20%20%20%20if%20(n%20%3E%3D%20len)%20%7B%20return%20-1%3B%20%7D%5Cn%5Cn%20%20%20%20var%20k%20%3D%20n%20%3E%3D%200%20%3F%20n%20%3A%20Math.max(len%20-%20Math.abs(n)%2C%200)%3B%5Cn%5Cn%20%20%20%20for%20(%3B%20k%20%3C%20len%3B%20k%2B%2B)%20%7B%5Cn%20%20%20%20%20%20if%20(k%20in%20t%20%26%26%20t%5Bk%5D%20%3D%3D%3D%20searchElement)%20%7B%5Cn%20%20%20%20%20%20%20%20return%20k%3B%5Cn%20%20%20%20%20%20%7D%5Cn%20%20%20%20%7D%5Cn%20%20%20%20return%20-1%3B%5Cn%20%20%7D%3B%5Cn%7D%5Cn%5Cn%2F%2F%20ES5%2015.4.4.15%20Array.prototype.lastIndexOf%20(%20searchElement%20%5B%20%2C%20fromIndex%20%5D%20)%5Cn%2F%2F%20From%20https%3A%2F%2Fdeveloper.mozilla.org%2Fen%2FJavaScript%2FReference%2FGlobal_Objects%2FArray%2FlastIndexOf%5Cnif%20(!Array.prototype.lastIndexOf)%20%7B%5Cn%20%20Array.prototype.lastIndexOf%20%3D%20function%20(searchElement%20%2F*%2C%20fromIndex*%2F)%20%7B%5Cn%20%20%20%20if%20(this%20%3D%3D%3D%20void%200%20%7C%7C%20this%20%3D%3D%3D%20null)%20%7B%20throw%20TypeError()%3B%20%7D%5Cn%5Cn%20%20%20%20var%20t%20%3D%20Object(this)%3B%5Cn%20%20%20%20var%20len%20%3D%20t.length%20%3E%3E%3E%200%3B%5Cn%20%20%20%20if%20(len%20%3D%3D%3D%200)%20%7B%20return%20-1%3B%20%7D%5Cn%5Cn%20%20%20%20var%20n%20%3D%20len%3B%5Cn%20%20%20%20if%20(arguments.length%20%3E%201)%20%7B%5Cn%20%20%20%20%20%20n%20%3D%20Number(arguments%5B1%5D)%3B%5Cn%20%20%20%20%20%20if%20(n%20!%3D%3D%20n)%20%7B%5Cn%20%20%20%20%20%20%20%20n%20%3D%200%3B%5Cn%20%20%20%20%20%20%7D%20else%20if%20(n%20!%3D%3D%200%20%26%26%20n%20!%3D%3D%20(1%20%2F%200)%20%26%26%20n%20!%3D%3D%20-(1%20%2F%200))%20%7B%5Cn%20%20%20%20%20%20%20%20n%20%3D%20(n%20%3E%200%20%7C%7C%20-1)%20*%20Math.floor(Math.abs(n))%3B%5Cn%20%20%20%20%20%20%7D%5Cn%20%20%20%20%7D%5Cn%5Cn%20%20%20%20var%20k%20%3D%20n%20%3E%3D%200%20%3F%20Math.min(n%2C%20len%20-%201)%20%3A%20len%20-%20Math.abs(n)%3B%5Cn%5Cn%20%20%20%20for%20(%3B%20k%20%3E%3D%200%3B%20k--)%20%7B%5Cn%20%20%20%20%20%20if%20(k%20in%20t%20%26%26%20t%5Bk%5D%20%3D%3D%3D%20searchElement)%20%7B%5Cn%20%20%20%20%20%20%20%20return%20k%3B%5Cn%20%20%20%20%20%20%7D%5Cn%20%20%20%20%7D%5Cn%20%20%20%20return%20-1%3B%5Cn%20%20%7D%3B%5Cn%7D%5Cn%5Cn%2F%2F%20ES5%2015.4.4.16%20Array.prototype.every%20(%20callbackfn%20%5B%20%2C%20thisArg%20%5D%20)%5Cn%2F%2F%20From%20https%3A%2F%2Fdeveloper.mozilla.org%2Fen%2FJavaScript%2FReference%2FGlobal_Objects%2FArray%2Fevery%5Cnif%20(!Array.prototype.every)%20%7B%5Cn%20%20Array.prototype.every%20%3D%20function%20(fun%20%2F*%2C%20thisp%20*%2F)%20%7B%5Cn%20%20%20%20if%20(this%20%3D%3D%3D%20void%200%20%7C%7C%20this%20%3D%3D%3D%20null)%20%7B%20throw%20TypeError()%3B%20%7D%5Cn%5Cn%20%20%20%20var%20t%20%3D%20Object(this)%3B%5Cn%20%20%20%20var%20len%20%3D%20t.length%20%3E%3E%3E%200%3B%5Cn%20%20%20%20if%20(typeof%20fun%20!%3D%3D%20%5C%22function%5C%22)%20%7B%20throw%20TypeError()%3B%20%7D%5Cn%5Cn%20%20%20%20var%20thisp%20%3D%20arguments%5B1%5D%2C%20i%3B%5Cn%20%20%20%20for%20(i%20%3D%200%3B%20i%20%3C%20len%3B%20i%2B%2B)%20%7B%5Cn%20%20%20%20%20%20if%20(i%20in%20t%20%26%26%20!fun.call(thisp%2C%20t%5Bi%5D%2C%20i%2C%20t))%20%7B%5Cn%20%20%20%20%20%20%20%20return%20false%3B%5Cn%20%20%20%20%20%20%7D%5Cn%20%20%20%20%7D%5Cn%5Cn%20%20%20%20return%20true%3B%5Cn%20%20%7D%3B%5Cn%7D%5Cn%5Cn%2F%2F%20ES5%2015.4.4.17%20Array.prototype.some%20(%20callbackfn%20%5B%20%2C%20thisArg%20%5D%20)%5Cn%2F%2F%20From%20https%3A%2F%2Fdeveloper.mozilla.org%2Fen%2FJavaScript%2FReference%2FGlobal_Objects%2FArray%2Fsome%5Cnif%20(!Array.prototype.some)%20%7B%5Cn%20%20Array.prototype.some%20%3D%20function%20(fun%20%2F*%2C%20thisp%20*%2F)%20%7B%5Cn%20%20%20%20if%20(this%20%3D%3D%3D%20void%200%20%7C%7C%20this%20%3D%3D%3D%20null)%20%7B%20throw%20TypeError()%3B%20%7D%5Cn%5Cn%20%20%20%20var%20t%20%3D%20Object(this)%3B%5Cn%20%20%20%20var%20len%20%3D%20t.length%20%3E%3E%3E%200%3B%5Cn%20%20%20%20if%20(typeof%20fun%20!%3D%3D%20%5C%22function%5C%22)%20%7B%20throw%20TypeError()%3B%20%7D%5Cn%5Cn%20%20%20%20var%20thisp%20%3D%20arguments%5B1%5D%2C%20i%3B%5Cn%20%20%20%20for%20(i%20%3D%200%3B%20i%20%3C%20len%3B%20i%2B%2B)%20%7B%5Cn%20%20%20%20%20%20if%20(i%20in%20t%20%26%26%20fun.call(thisp%2C%20t%5Bi%5D%2C%20i%2C%20t))%20%7B%5Cn%20%20%20%20%20%20%20%20return%20true%3B%5Cn%20%20%20%20%20%20%7D%5Cn%20%20%20%20%7D%5Cn%5Cn%20%20%20%20return%20false%3B%5Cn%20%20%7D%3B%5Cn%7D%5Cn%5Cn%2F%2F%20ES5%2015.4.4.18%20Array.prototype.forEach%20(%20callbackfn%20%5B%20%2C%20thisArg%20%5D%20)%5Cn%2F%2F%20From%20https%3A%2F%2Fdeveloper.mozilla.org%2Fen%2FJavaScript%2FReference%2FGlobal_Objects%2FArray%2FforEach%5Cnif%20(!Array.prototype.forEach)%20%7B%5Cn%20%20Array.prototype.forEach%20%3D%20function%20(fun%20%2F*%2C%20thisp%20*%2F)%20%7B%5Cn%20%20%20%20if%20(this%20%3D%3D%3D%20void%200%20%7C%7C%20this%20%3D%3D%3D%20null)%20%7B%20throw%20TypeError()%3B%20%7D%5Cn%5Cn%20%20%20%20var%20t%20%3D%20Object(this)%3B%5Cn%20%20%20%20var%20len%20%3D%20t.length%20%3E%3E%3E%200%3B%5Cn%20%20%20%20if%20(typeof%20fun%20!%3D%3D%20%5C%22function%5C%22)%20%7B%20throw%20TypeError()%3B%20%7D%5Cn%5Cn%20%20%20%20var%20thisp%20%3D%20arguments%5B1%5D%2C%20i%3B%5Cn%20%20%20%20for%20(i%20%3D%200%3B%20i%20%3C%20len%3B%20i%2B%2B)%20%7B%5Cn%20%20%20%20%20%20if%20(i%20in%20t)%20%7B%5Cn%20%20%20%20%20%20%20%20fun.call(thisp%2C%20t%5Bi%5D%2C%20i%2C%20t)%3B%5Cn%20%20%20%20%20%20%7D%5Cn%20%20%20%20%7D%5Cn%20%20%7D%3B%5Cn%7D%5Cn%5Cn%5Cn%2F%2F%20ES5%2015.4.4.19%20Array.prototype.map%20(%20callbackfn%20%5B%20%2C%20thisArg%20%5D%20)%5Cn%2F%2F%20From%20https%3A%2F%2Fdeveloper.mozilla.org%2Fen%2FJavaScript%2FReference%2FGlobal_Objects%2FArray%2FMap%5Cnif%20(!Array.prototype.map)%20%7B%5Cn%20%20Array.prototype.map%20%3D%20function%20(fun%20%2F*%2C%20thisp%20*%2F)%20%7B%5Cn%20%20%20%20if%20(this%20%3D%3D%3D%20void%200%20%7C%7C%20this%20%3D%3D%3D%20null)%20%7B%20throw%20TypeError()%3B%20%7D%5Cn%5Cn%20%20%20%20var%20t%20%3D%20Object(this)%3B%5Cn%20%20%20%20var%20len%20%3D%20t.length%20%3E%3E%3E%200%3B%5Cn%20%20%20%20if%20(typeof%20fun%20!%3D%3D%20%5C%22function%5C%22)%20%7B%20throw%20TypeError()%3B%20%7D%5Cn%5Cn%20%20%20%20var%20res%20%3D%20%5B%5D%3B%20res.length%20%3D%20len%3B%5Cn%20%20%20%20var%20thisp%20%3D%20arguments%5B1%5D%2C%20i%3B%5Cn%20%20%20%20for%20(i%20%3D%200%3B%20i%20%3C%20len%3B%20i%2B%2B)%20%7B%5Cn%20%20%20%20%20%20if%20(i%20in%20t)%20%7B%5Cn%20%20%20%20%20%20%20%20res%5Bi%5D%20%3D%20fun.call(thisp%2C%20t%5Bi%5D%2C%20i%2C%20t)%3B%5Cn%20%20%20%20%20%20%7D%5Cn%20%20%20%20%7D%5Cn%5Cn%20%20%20%20return%20res%3B%5Cn%20%20%7D%3B%5Cn%7D%5Cn%5Cn%2F%2F%20ES5%2015.4.4.20%20Array.prototype.filter%20(%20callbackfn%20%5B%20%2C%20thisArg%20%5D%20)%5Cn%2F%2F%20From%20https%3A%2F%2Fdeveloper.mozilla.org%2Fen%2FJavaScript%2FReference%2FGlobal_Objects%2FArray%2FFilter%5Cnif%20(!Array.prototype.filter)%20%7B%5Cn%20%20Array.prototype.filter%20%3D%20function%20(fun%20%2F*%2C%20thisp%20*%2F)%20%7B%5Cn%20%20%20%20if%20(this%20%3D%3D%3D%20void%200%20%7C%7C%20this%20%3D%3D%3D%20null)%20%7B%20throw%20TypeError()%3B%20%7D%5Cn%5Cn%20%20%20%20var%20t%20%3D%20Object(this)%3B%5Cn%20%20%20%20var%20len%20%3D%20t.length%20%3E%3E%3E%200%3B%5Cn%20%20%20%20if%20(typeof%20fun%20!%3D%3D%20%5C%22function%5C%22)%20%7B%20throw%20TypeError()%3B%20%7D%5Cn%5Cn%20%20%20%20var%20res%20%3D%20%5B%5D%3B%5Cn%20%20%20%20var%20thisp%20%3D%20arguments%5B1%5D%2C%20i%3B%5Cn%20%20%20%20for%20(i%20%3D%200%3B%20i%20%3C%20len%3B%20i%2B%2B)%20%7B%5Cn%20%20%20%20%20%20if%20(i%20in%20t)%20%7B%5Cn%20%20%20%20%20%20%20%20var%20val%20%3D%20t%5Bi%5D%3B%20%2F%2F%20in%20case%20fun%20mutates%20this%5Cn%20%20%20%20%20%20%20%20if%20(fun.call(thisp%2C%20val%2C%20i%2C%20t))%20%7B%5Cn%20%20%20%20%20%20%20%20%20%20res.push(val)%3B%5Cn%20%20%20%20%20%20%20%20%7D%5Cn%20%20%20%20%20%20%7D%5Cn%20%20%20%20%7D%5Cn%5Cn%20%20%20%20return%20res%3B%5Cn%20%20%7D%3B%5Cn%7D%5Cn%5Cn%5Cn%2F%2F%20ES5%2015.4.4.21%20Array.prototype.reduce%20(%20callbackfn%20%5B%20%2C%20initialValue%20%5D%20)%5Cn%2F%2F%20From%20https%3A%2F%2Fdeveloper.mozilla.org%2Fen%2FJavaScript%2FReference%2FGlobal_Objects%2FArray%2FReduce%5Cnif%20(!Array.prototype.reduce)%20%7B%5Cn%20%20Array.prototype.reduce%20%3D%20function%20(fun%20%2F*%2C%20initialValue%20*%2F)%20%7B%5Cn%20%20%20%20if%20(this%20%3D%3D%3D%20void%200%20%7C%7C%20this%20%3D%3D%3D%20null)%20%7B%20throw%20TypeError()%3B%20%7D%5Cn%5Cn%20%20%20%20var%20t%20%3D%20Object(this)%3B%5Cn%20%20%20%20var%20len%20%3D%20t.length%20%3E%3E%3E%200%3B%5Cn%20%20%20%20if%20(typeof%20fun%20!%3D%3D%20%5C%22function%5C%22)%20%7B%20throw%20TypeError()%3B%20%7D%5Cn%5Cn%20%20%20%20%2F%2F%20no%20value%20to%20return%20if%20no%20initial%20value%20and%20an%20empty%20array%5Cn%20%20%20%20if%20(len%20%3D%3D%3D%200%20%26%26%20arguments.length%20%3D%3D%3D%201)%20%7B%20throw%20TypeError()%3B%20%7D%5Cn%5Cn%20%20%20%20var%20k%20%3D%200%3B%5Cn%20%20%20%20var%20accumulator%3B%5Cn%20%20%20%20if%20(arguments.length%20%3E%3D%202)%20%7B%5Cn%20%20%20%20%20%20accumulator%20%3D%20arguments%5B1%5D%3B%5Cn%20%20%20%20%7D%20else%20%7B%5Cn%20%20%20%20%20%20do%20%7B%5Cn%20%20%20%20%20%20%20%20if%20(k%20in%20t)%20%7B%5Cn%20%20%20%20%20%20%20%20%20%20accumulator%20%3D%20t%5Bk%2B%2B%5D%3B%5Cn%20%20%20%20%20%20%20%20%20%20break%3B%5Cn%20%20%20%20%20%20%20%20%7D%5Cn%5Cn%20%20%20%20%20%20%20%20%2F%2F%20if%20array%20contains%20no%20values%2C%20no%20initial%20value%20to%20return%5Cn%20%20%20%20%20%20%20%20if%20(%2B%2Bk%20%3E%3D%20len)%20%7B%20throw%20TypeError()%3B%20%7D%5Cn%20%20%20%20%20%20%7D%5Cn%20%20%20%20%20%20while%20(true)%3B%5Cn%20%20%20%20%7D%5Cn%5Cn%20%20%20%20while%20(k%20%3C%20len)%20%7B%5Cn%20%20%20%20%20%20if%20(k%20in%20t)%20%7B%5Cn%20%20%20%20%20%20%20%20accumulator%20%3D%20fun.call(undefined%2C%20accumulator%2C%20t%5Bk%5D%2C%20k%2C%20t)%3B%5Cn%20%20%20%20%20%20%7D%5Cn%20%20%20%20%20%20k%2B%2B%3B%5Cn%20%20%20%20%7D%5Cn%5Cn%20%20%20%20return%20accumulator%3B%5Cn%20%20%7D%3B%5Cn%7D%5Cn%5Cn%5Cn%2F%2F%20ES5%2015.4.4.22%20Array.prototype.reduceRight%20(%20callbackfn%20%5B%2C%20initialValue%20%5D%20)%5Cn%2F%2F%20From%20https%3A%2F%2Fdeveloper.mozilla.org%2Fen%2FJavaScript%2FReference%2FGlobal_Objects%2FArray%2FReduceRight%5Cnif%20(!Array.prototype.reduceRight)%20%7B%5Cn%20%20Array.prototype.reduceRight%20%3D%20function%20(callbackfn%20%2F*%2C%20initialValue%20*%2F)%20%7B%5Cn%20%20%20%20if%20(this%20%3D%3D%3D%20void%200%20%7C%7C%20this%20%3D%3D%3D%20null)%20%7B%20throw%20TypeError()%3B%20%7D%5Cn%5Cn%20%20%20%20var%20t%20%3D%20Object(this)%3B%5Cn%20%20%20%20var%20len%20%3D%20t.length%20%3E%3E%3E%200%3B%5Cn%20%20%20%20if%20(typeof%20callbackfn%20!%3D%3D%20%5C%22function%5C%22)%20%7B%20throw%20TypeError()%3B%20%7D%5Cn%5Cn%20%20%20%20%2F%2F%20no%20value%20to%20return%20if%20no%20initial%20value%2C%20empty%20array%5Cn%20%20%20%20if%20(len%20%3D%3D%3D%200%20%26%26%20arguments.length%20%3D%3D%3D%201)%20%7B%20throw%20TypeError()%3B%20%7D%5Cn%5Cn%20%20%20%20var%20k%20%3D%20len%20-%201%3B%5Cn%20%20%20%20var%20accumulator%3B%5Cn%20%20%20%20if%20(arguments.length%20%3E%3D%202)%20%7B%5Cn%20%20%20%20%20%20accumulator%20%3D%20arguments%5B1%5D%3B%5Cn%20%20%20%20%7D%20else%20%7B%5Cn%20%20%20%20%20%20do%20%7B%5Cn%20%20%20%20%20%20%20%20if%20(k%20in%20this)%20%7B%5Cn%20%20%20%20%20%20%20%20%20%20accumulator%20%3D%20this%5Bk--%5D%3B%5Cn%20%20%20%20%20%20%20%20%20%20break%3B%5Cn%20%20%20%20%20%20%20%20%7D%5Cn%5Cn%20%20%20%20%20%20%20%20%2F%2F%20if%20array%20contains%20no%20values%2C%20no%20initial%20value%20to%20return%5Cn%20%20%20%20%20%20%20%20if%20(--k%20%3C%200)%20%7B%20throw%20TypeError()%3B%20%7D%5Cn%20%20%20%20%20%20%7D%5Cn%20%20%20%20%20%20while%20(true)%3B%5Cn%20%20%20%20%7D%5Cn%5Cn%20%20%20%20while%20(k%20%3E%3D%200)%20%7B%5Cn%20%20%20%20%20%20if%20(k%20in%20t)%20%7B%5Cn%20%20%20%20%20%20%20%20accumulator%20%3D%20callbackfn.call(undefined%2C%20accumulator%2C%20t%5Bk%5D%2C%20k%2C%20t)%3B%5Cn%20%20%20%20%20%20%7D%5Cn%20%20%20%20%20%20k--%3B%5Cn%20%20%20%20%7D%5Cn%5Cn%20%20%20%20return%20accumulator%3B%5Cn%20%20%7D%3B%5Cn%7D%5Cn%5Cn%5Cn%2F%2F----------------------------------------------------------------------%5Cn%2F%2F%20ES5%2015.5%20String%20Objects%5Cn%2F%2F----------------------------------------------------------------------%5Cn%5Cn%2F%2F%5Cn%2F%2F%20ES5%2015.5.4%20Properties%20of%20the%20String%20Prototype%20Object%5Cn%2F%2F%5Cn%5Cn%5Cn%2F%2F%20ES5%2015.5.4.20%20String.prototype.trim()%5Cnif%20(!String.prototype.trim)%20%7B%5Cn%20%20String.prototype.trim%20%3D%20function%20()%20%7B%5Cn%20%20%20%20return%20String(this).replace(%2F%5E%5C%5Cs%2B%2F%2C%20'').replace(%2F%5C%5Cs%2B%24%2F%2C%20'')%3B%5Cn%20%20%7D%3B%5Cn%7D%5Cn%5Cn%5Cn%5Cn%2F%2F----------------------------------------------------------------------%5Cn%2F%2F%20ES5%2015.9%20Date%20Objects%5Cn%2F%2F----------------------------------------------------------------------%5Cn%5Cn%5Cn%2F%2F%5Cn%2F%2F%20ES%2015.9.4%20Properties%20of%20the%20Date%20Constructor%5Cn%2F%2F%5Cn%5Cn%2F%2F%20ES5%2015.9.4.4%20Date.now%20(%20)%5Cn%2F%2F%20From%20https%3A%2F%2Fdeveloper.mozilla.org%2Fen%2FCore_JavaScript_1.5_Reference%2FGlobal_Objects%2FDate%2Fnow%5Cnif%20(!Date.now)%20%7B%5Cn%20%20Date.now%20%3D%20function%20now()%20%7B%5Cn%20%20%20%20return%20Number(new%20Date())%3B%5Cn%20%20%7D%3B%5Cn%7D%5Cn%5Cn%5Cn%2F%2F%5Cn%2F%2F%20ES5%2015.9.5%20Properties%20of%20the%20Date%20Prototype%20Object%5Cn%2F%2F%5Cn%5Cn%2F%2F%20ES5%2015.9.4.43%20Date.prototype.toISOString%20(%20)%5Cn%2F%2F%20Inspired%20by%20http%3A%2F%2Fwww.json.org%2Fjson2.js%5Cnif%20(!Date.prototype.toISOString)%20%7B%5Cn%20%20Date.prototype.toISOString%20%3D%20function%20()%20%7B%5Cn%20%20%20%20function%20pad2(n)%20%7B%20return%20('00'%20%2B%20n).slice(-2)%3B%20%7D%5Cn%20%20%20%20function%20pad3(n)%20%7B%20return%20('000'%20%2B%20n).slice(-3)%3B%20%7D%5Cn%5Cn%20%20%20%20return%20this.getUTCFullYear()%20%2B%20'-'%20%2B%5Cn%20%20%20%20%20%20pad2(this.getUTCMonth()%20%2B%201)%20%2B%20'-'%20%2B%5Cn%20%20%20%20%20%20pad2(this.getUTCDate())%20%2B%20'T'%20%2B%5Cn%20%20%20%20%20%20pad2(this.getUTCHours())%20%2B%20'%3A'%20%2B%5Cn%20%20%20%20%20%20pad2(this.getUTCMinutes())%20%2B%20'%3A'%20%2B%5Cn%20%20%20%20%20%20pad2(this.getUTCSeconds())%20%2B%20'.'%20%2B%5Cn%20%20%20%20%20%20pad3(this.getUTCMilliseconds())%20%2B%20'Z'%3B%5Cn%20%20%7D%3B%5Cn%7D%5Cn%2F%2F----------------------------------------------------------------------%5Cn%2F%2F%5Cn%2F%2F%20ECMAScript%202015%20Polyfills%5Cn%2F%2F%5Cn%2F%2F----------------------------------------------------------------------%5Cn%5Cn(function%20(global)%20%7B%5Cn%20%20%5C%22use%20strict%5C%22%3B%5Cn%5Cn%20%20%2F%2F%20Set%20this%20to%20always%20override%20native%20implementations%2C%20for%20testing%5Cn%20%20%2F%2F%20the%20polyfill%20in%20browsers%20with%20partial%2Ffull%20ES2015%20support.%5Cn%20%20var%20OVERRIDE_NATIVE_FOR_TESTING%20%3D%20false%3B%5Cn%5Cn%20%20var%20undefined%20%3D%20(void%200)%3B%20%2F%2F%20Paranoia%5Cn%5Cn%20%20%2F%2F%20Helpers%5Cn%5Cn%20%20function%20strict(o)%20%7B%5Cn%20%20%20%20return%20o%20%3D%3D%3D%20global%20%3F%20undefined%20%3A%20o%3B%5Cn%20%20%7D%5Cn%5Cn%20%20function%20isSymbol(s)%20%7B%5Cn%20%20%20%20return%20(typeof%20s%20%3D%3D%3D%20'symbol')%20%7C%7C%20('Symbol'%20in%20global%20%26%26%20s%20instanceof%20global.Symbol)%3B%5Cn%20%20%7D%5Cn%5Cn%20%20function%20getPropertyDescriptor(target%2C%20name)%20%7B%5Cn%20%20%20%20var%20desc%20%3D%20Object.getOwnPropertyDescriptor(target%2C%20name)%3B%5Cn%20%20%20%20var%20proto%20%3D%20Object.getPrototypeOf(target)%3B%5Cn%20%20%20%20while%20(!desc%20%26%26%20proto)%20%7B%5Cn%20%20%20%20%20%20desc%20%3D%20Object.getOwnPropertyDescriptor(proto%2C%20name)%3B%5Cn%20%20%20%20%20%20proto%20%3D%20Object.getPrototypeOf(proto)%3B%5Cn%20%20%20%20%7D%5Cn%20%20%20%20return%20desc%3B%5Cn%20%20%7D%5Cn%5Cn%20%20var%20enqueue%20%3D%20(function(nativePromise%2C%20nativeSetImmediate)%20%7B%5Cn%20%20%20%20if%20(nativePromise)%5Cn%20%20%20%20%20%20return%20function(job)%20%7B%20nativePromise.resolve().then(function()%20%7B%20job()%3B%20%7D)%3B%20%7D%3B%5Cn%20%20%20%20if%20(nativeSetImmediate)%5Cn%20%20%20%20%20%20return%20function(job)%20%7B%20nativeSetImmediate(job)%3B%20%7D%3B%5Cn%20%20%20%20return%20function(job)%20%7B%20setTimeout(job%2C%200)%3B%20%7D%3B%5Cn%20%20%7D(global%5B'Promise'%5D%2C%20global%5B'setImmediate'%5D))%3B%5Cn%5Cn%20%20function%20define(o%2C%20p%2C%20v%2C%20override)%20%7B%5Cn%20%20%20%20if%20(p%20in%20o%20%26%26%20!override%20%26%26%20!OVERRIDE_NATIVE_FOR_TESTING)%5Cn%20%20%20%20%20%20return%3B%5Cn%5Cn%20%20%20%20if%20(typeof%20v%20%3D%3D%3D%20'function')%20%7B%5Cn%20%20%20%20%20%20%2F%2F%20Sanity%20check%20that%20functions%20are%20appropriately%20named%20(where%20possible)%5Cn%20%20%20%20%20%20console.assert(isSymbol(p)%20%7C%7C%20!('name'%20in%20v)%20%7C%7C%20v.name%20%3D%3D%3D%20p%20%7C%7C%20v.name%20%3D%3D%3D%20p%20%2B%20'_'%2C%20'Expected%20function%20name%20%5C%22'%20%2B%20p.toString()%20%2B%20'%5C%22%2C%20was%20%5C%22'%20%2B%20v.name%20%2B%20'%5C%22')%3B%5Cn%20%20%20%20%20%20Object.defineProperty(o%2C%20p%2C%20%7B%5Cn%20%20%20%20%20%20%20%20value%3A%20v%2C%5Cn%20%20%20%20%20%20%20%20configurable%3A%20true%2C%5Cn%20%20%20%20%20%20%20%20enumerable%3A%20false%2C%5Cn%20%20%20%20%20%20%20%20writable%3A%20true%5Cn%20%20%20%20%20%20%7D)%3B%5Cn%20%20%20%20%7D%20else%20%7B%5Cn%20%20%20%20%20%20Object.defineProperty(o%2C%20p%2C%20%7B%5Cn%20%20%20%20%20%20%20%20value%3A%20v%2C%5Cn%20%20%20%20%20%20%20%20configurable%3A%20false%2C%5Cn%20%20%20%20%20%20%20%20enumerable%3A%20false%2C%5Cn%20%20%20%20%20%20%20%20writable%3A%20false%5Cn%20%20%20%20%20%20%7D)%3B%5Cn%20%20%20%20%7D%5Cn%20%20%7D%5Cn%5Cn%20%20function%20set_internal(o%2C%20p%2C%20v)%20%7B%5Cn%20%20%20%20Object.defineProperty(o%2C%20p%2C%20%7B%5Cn%20%20%20%20%20%20value%3A%20v%2C%5Cn%20%20%20%20%20%20configurable%3A%20false%2C%5Cn%20%20%20%20%20%20enumerable%3A%20false%2C%5Cn%20%20%20%20%20%20writable%3A%20true%5Cn%20%20%20%20%7D)%3B%5Cn%20%20%7D%5Cn%5Cn%20%20%2F%2F%20Snapshot%20intrinsic%20functions%5Cn%20%20var%20%24isNaN%20%3D%20global.isNaN%2C%5Cn%20%20%20%20%20%20%24parseInt%20%3D%20global.parseInt%2C%5Cn%20%20%20%20%20%20%24parseFloat%20%3D%20global.parseFloat%3B%5Cn%5Cn%20%20var%20E%20%3D%20Math.E%2C%5Cn%20%20%20%20%20%20LOG10E%20%3D%20Math.LOG10E%2C%5Cn%20%20%20%20%20%20LOG2E%20%3D%20Math.LOG2E%2C%5Cn%20%20%20%20%20%20abs%20%3D%20Math.abs%2C%5Cn%20%20%20%20%20%20ceil%20%3D%20Math.ceil%2C%5Cn%20%20%20%20%20%20exp%20%3D%20Math.exp%2C%5Cn%20%20%20%20%20%20floor%20%3D%20Math.floor%2C%5Cn%20%20%20%20%20%20log%20%3D%20Math.log%2C%5Cn%20%20%20%20%20%20max%20%3D%20Math.max%2C%5Cn%20%20%20%20%20%20min%20%3D%20Math.min%2C%5Cn%20%20%20%20%20%20pow%20%3D%20Math.pow%2C%5Cn%20%20%20%20%20%20random%20%3D%20Math.random%2C%5Cn%20%20%20%20%20%20sqrt%20%3D%20Math.sqrt%3B%5Cn%5Cn%20%20var%20orig_match%20%3D%20String.prototype.match%2C%5Cn%20%20%20%20%20%20orig_replace%20%3D%20String.prototype.replace%2C%5Cn%20%20%20%20%20%20orig_search%20%3D%20String.prototype.search%2C%5Cn%20%20%20%20%20%20orig_split%20%3D%20String.prototype.split%3B%5Cn%5Cn%20%20%2F%2F%20These%20are%20used%20for%20implementing%20the%20polyfills%2C%20but%20not%20exported.%5Cn%5Cn%20%20%2F%2F%20Inspired%20by%20https%3A%2F%2Fgist.github.com%2F1638059%5Cn%20%20%2F**%20%40constructor%20*%2F%5Cn%20%20function%20EphemeronTable()%20%7B%5Cn%20%20%20%20var%20secretKey%20%3D%20ObjectCreate(null)%3B%5Cn%5Cn%20%20%20%20function%20conceal(o)%20%7B%5Cn%20%20%20%20%20%20var%20oValueOf%20%3D%20o.valueOf%2C%20secrets%20%3D%20ObjectCreate(null)%3B%5Cn%20%20%20%20%20%20Object.defineProperty(o%2C%20'valueOf'%2C%20%7B%5Cn%20%20%20%20%20%20%20%20%20%20value%3A%20(function(secretKey)%20%7B%5Cn%20%20%20%20%20%20%20%20%20%20%20%20return%20function%20(k)%20%7B%5Cn%20%20%20%20%20%20%20%20%20%20%20%20%20%20return%20(k%20%3D%3D%3D%20secretKey)%20%3F%20secrets%20%3A%20oValueOf.apply(o%2C%20arguments)%3B%5Cn%20%20%20%20%20%20%20%20%20%20%20%20%7D%3B%5Cn%20%20%20%20%20%20%20%20%20%20%7D(secretKey))%2C%5Cn%20%20%20%20%20%20%20%20configurable%3A%20true%2C%5Cn%20%20%20%20%20%20%20%20writeable%3A%20true%2C%5Cn%20%20%20%20%20%20%20%20enumerable%3A%20false%5Cn%20%20%20%20%20%20%20%20%7D)%3B%5Cn%20%20%20%20%20%20return%20secrets%3B%5Cn%20%20%20%20%7D%5Cn%5Cn%20%20%20%20function%20reveal(o)%20%7B%5Cn%20%20%20%20%20%20var%20v%20%3D%20typeof%20o.valueOf%20%3D%3D%3D%20'function'%20%26%26%20o.valueOf(secretKey)%3B%5Cn%20%20%20%20%20%20return%20v%20%3D%3D%3D%20o%20%3F%20null%20%3A%20v%3B%5Cn%20%20%20%20%7D%5Cn%5Cn%20%20%20%20return%20%7B%5Cn%20%20%20%20%20%20clear%3A%20function()%20%7B%5Cn%20%20%20%20%20%20%20%20secretKey%20%3D%20ObjectCreate(null)%3B%5Cn%20%20%20%20%20%20%7D%2C%5Cn%20%20%20%20%20%20remove%3A%20function(key)%20%7B%5Cn%20%20%20%20%20%20%20%20var%20secrets%20%3D%20reveal(key)%3B%5Cn%20%20%20%20%20%20%20%20if%20(secrets%20%26%26%20HasOwnProperty(secrets%2C%20'value'))%20%7B%5Cn%20%20%20%20%20%20%20%20%20%20delete%20secrets.value%3B%5Cn%20%20%20%20%20%20%20%20%20%20return%20true%3B%5Cn%20%20%20%20%20%20%20%20%7D%5Cn%20%20%20%20%20%20%20%20return%20false%3B%5Cn%20%20%20%20%20%20%7D%2C%5Cn%20%20%20%20%20%20get%3A%20function(key%2C%20defaultValue)%20%7B%5Cn%20%20%20%20%20%20%20%20var%20secrets%20%3D%20reveal(key)%3B%5Cn%20%20%20%20%20%20%20%20return%20(secrets%20%26%26%20HasOwnProperty(secrets%2C%20'value'))%20%3F%20secrets.value%20%3A%20defaultValue%3B%5Cn%20%20%20%20%20%20%7D%2C%5Cn%20%20%20%20%20%20has%3A%20function(key)%20%7B%5Cn%20%20%20%20%20%20%20%20var%20secrets%20%3D%20reveal(key)%3B%5Cn%20%20%20%20%20%20%20%20return%20Boolean(secrets%20%26%26%20HasOwnProperty(secrets%2C%20'value'))%3B%5Cn%20%20%20%20%20%20%7D%2C%5Cn%20%20%20%20%20%20set%3A%20function(key%2C%20value)%20%7B%5Cn%20%20%20%20%20%20%20%20var%20secrets%20%3D%20reveal(key)%20%7C%7C%20conceal(key)%3B%5Cn%20%20%20%20%20%20%20%20secrets.value%20%3D%20value%3B%5Cn%20%20%20%20%20%20%7D%5Cn%20%20%20%20%7D%3B%5Cn%20%20%7D%5Cn%5Cn%20%20var%20empty%20%3D%20Object.create(null)%3B%5Cn%5Cn%20%20%2F%2F----------------------------------------------------------------------%5Cn%20%20%2F%2F%5Cn%20%20%2F%2F%20ECMAScript%202015%5Cn%20%20%2F%2F%20http%3A%2F%2Fwww.ecma-international.org%2Fecma-262%2F6.0%2F%5Cn%20%20%2F%2F%5Cn%20%20%2F%2F----------------------------------------------------------------------%5Cn%5Cn%20%20%2F%2F%20---------------------------------------%5Cn%20%20%2F%2F%2019.4%20Symbol%20Objects%5Cn%20%20%2F%2F%20---------------------------------------%5Cn%5Cn%20%20%2F%2F%20NOTE%3A%20Symbols%20are%20defined%20here%20-%20out%20of%20spec%20order%20-%20since%20we%20need%20the%5Cn%20%20%2F%2F%20properties%20and%20prototype%20to%20be%20populated%20for%20other%20polyfills.%5Cn%5Cn%20%20%2F%2F%20NOTE%3A%20Not%20secure%2C%20nor%20is%20obj%5B%24%24symbol%5D%20hidden%20from%20Object.keys()%5Cn%5Cn%20%20var%20symbolForKey%3B%5Cn%20%20(function()%20%7B%5Cn%20%20%20%20var%20secret%20%3D%20Object.create(null)%3B%5Cn%20%20%20%20var%20symbolMap%20%3D%20%7B%7D%3B%5Cn%20%20%20%20symbolForKey%20%3D%20function(k)%20%7B%5Cn%20%20%20%20%20%20return%20symbolMap%5Bk%5D%3B%5Cn%20%20%20%20%7D%3B%5Cn%5Cn%20%20%20%20var%20GlobalSymbolRegistry%20%3D%20%5B%5D%3B%5Cn%5Cn%20%20%20%20function%20unique(bits)%20%7B%5Cn%20%20%20%20%20%20return%20Array(bits%20%2B%201).join('x').replace(%2Fx%2Fg%2C%20function()%20%7B%5Cn%20%20%20%20%20%20%20%20return%20random()%20%3C%200.5%20%3F%20'%5C%5Cu200C'%20%3A%20'%5C%5Cu200D'%3B%20%2F%2F%20JWNJ%20%2F%20ZWJ%5Cn%20%20%20%20%20%20%7D)%3B%5Cn%20%20%20%20%7D%5Cn%5Cn%20%20%20%20%2F%2F%2019.4.1%20The%20Symbol%20Constructor%5Cn%20%20%20%20%2F%2F%2019.4.1.1%20Symbol%20(%20description%3Dundefined%20)%5Cn%20%20%20%20function%20Symbol(description)%20%7B%5Cn%20%20%20%20%20%20if%20(!(this%20instanceof%20Symbol))%20return%20new%20Symbol(description%2C%20secret)%3B%5Cn%20%20%20%20%20%20if%20(this%20instanceof%20Symbol%20%26%26%20arguments%5B1%5D%20!%3D%3D%20secret)%20throw%20TypeError()%3B%5Cn%5Cn%20%20%20%20%20%20var%20descString%20%3D%20description%20%3D%3D%3D%20undefined%20%3F%20undefined%20%3A%20String(description)%3B%5Cn%5Cn%20%20%20%20%20%20set_internal(this%2C%20'%5B%5BSymbolData%5D%5D'%2C%20unique(128))%3B%5Cn%20%20%20%20%20%20set_internal(this%2C%20'%5B%5BDescription%5D%5D'%2C%20descString)%3B%5Cn%5Cn%20%20%20%20%20%20symbolMap%5Bthis%5D%20%3D%20this%3B%5Cn%20%20%20%20%20%20return%20this%3B%5Cn%20%20%20%20%7D%5Cn%5Cn%20%20%20%20if%20(!('Symbol'%20in%20global)%20%7C%7C%20OVERRIDE_NATIVE_FOR_TESTING)%5Cn%20%20%20%20%20%20global.Symbol%20%3D%20Symbol%3B%5Cn%5Cn%20%20%20%20%2F%2F%2019.4.2%20Properties%20of%20the%20Symbol%20Constructor%5Cn%5Cn%20%20%20%20%2F%2F%2019.4.2.1%20Symbol.for%20(key)%5Cn%20%20%20%20define(Symbol%2C%20'for'%2C%20function%20for_(key)%20%7B%5Cn%20%20%20%20%20%20var%20stringKey%20%3D%20String(key)%3B%5Cn%20%20%20%20%20%20for%20(var%20i%20%3D%200%3B%20i%20%3C%20GlobalSymbolRegistry.length%3B%20%2B%2Bi)%20%7B%5Cn%20%20%20%20%20%20%20%20var%20e%20%3D%20GlobalSymbolRegistry%5Bi%5D%3B%5Cn%20%20%20%20%20%20%20%20if%20(SameValue(e%5B'%5B%5Bkey%5D%5D'%5D%2C%20stringKey))%20return%20e%5B'%5B%5Bsymbol%5D%5D'%5D%3B%5Cn%20%20%20%20%20%20%7D%5Cn%20%20%20%20%20%20var%20newSymbol%20%3D%20Symbol(key)%3B%5Cn%20%20%20%20%20%20GlobalSymbolRegistry.push(%7B'%5B%5Bkey%5D%5D'%3A%20stringKey%2C%20'%5B%5Bsymbol%5D%5D'%3A%20newSymbol%7D)%3B%5Cn%20%20%20%20%20%20return%20newSymbol%3B%5Cn%20%20%20%20%7D)%3B%5Cn%5Cn%20%20%20%20%2F%2F%2019.4.2.2%20Symbol.hasInstance%5Cn%20%20%20%20%2F%2F%2019.4.2.3%20Symbol.isConcatSpreadable%5Cn%5Cn%20%20%20%20%2F%2F%2019.4.2.4%20Symbol.iterator%5Cn%20%20%20%20define(global.Symbol%2C%20'iterator'%2C%20global.Symbol('Symbol.iterator'))%3B%5Cn%5Cn%20%20%20%20%2F%2F%2019.4.2.5%20Symbol.keyFor%20(sym)%5Cn%20%20%20%20define(Symbol%2C%20'keyFor'%2C%20function%20keyFor(sym)%20%7B%5Cn%20%20%20%20%20%20if%20(!(sym%20instanceof%20Symbol))%20throw%20TypeError()%3B%5Cn%20%20%20%20%20%20for%20(var%20i%20%3D%200%3B%20i%20%3C%20GlobalSymbolRegistry.length%3B%20%2B%2Bi)%20%7B%5Cn%20%20%20%20%20%20%20%20var%20e%20%3D%20GlobalSymbolRegistry%5Bi%5D%3B%5Cn%20%20%20%20%20%20%20%20if%20(SameValue(e%5B'%5B%5Bsymbol%5D%5D'%5D%2C%20sym))%20return%20e%5B'%5B%5Bkey%5D%5D'%5D%3B%5Cn%20%20%20%20%20%20%7D%5Cn%20%20%20%20%20%20return%20undefined%3B%5Cn%20%20%20%20%7D)%3B%5Cn%5Cn%20%20%20%20%2F%2F%2019.4.2.6%20Symbol.match%5Cn%20%20%20%20define(global.Symbol%2C%20'match'%2C%20global.Symbol('Symbol.match'))%3B%5Cn%5Cn%20%20%20%20%2F%2F%2019.4.2.7%20Symbol.prototype%5Cn%5Cn%20%20%20%20%2F%2F%2019.4.2.8%20Symbol.replace%5Cn%20%20%20%20define(global.Symbol%2C%20'replace'%2C%20global.Symbol('Symbol.replace'))%3B%5Cn%5Cn%20%20%20%20%2F%2F%2019.4.2.9%20Symbol.search%5Cn%20%20%20%20define(global.Symbol%2C%20'search'%2C%20global.Symbol('Symbol.search'))%3B%5Cn%5Cn%20%20%20%20%2F%2F%2019.4.2.10%20Symbol.species%5Cn%5Cn%20%20%20%20%2F%2F%2019.4.2.11%20Symbol.search%5Cn%20%20%20%20define(global.Symbol%2C%20'split'%2C%20global.Symbol('Symbol.split'))%3B%5Cn%5Cn%20%20%20%20%2F%2F%2019.4.2.12%20Symbol.toPrimitive%5Cn%5Cn%20%20%20%20%2F%2F%2019.4.2.13%20Symbol.toStringTag%5Cn%20%20%20%20define(global.Symbol%2C%20'toStringTag'%2C%20global.Symbol('Symbol.toStringTag'))%3B%5Cn%5Cn%20%20%20%20%2F%2F%2019.4.2.14%20Symbol.unscopables%5Cn%5Cn%20%20%20%20%2F%2F%2019.4.3%20Properties%20of%20the%20Symbol%20Prototype%20Object%5Cn%20%20%20%20%2F%2F%2019.4.3.1%20Symbol.prototype.constructor%5Cn%5Cn%20%20%20%20%2F%2F%2019.4.3.2%20Symbol.prototype.toString%20(%20)%5Cn%20%20%20%20Object.defineProperty(Symbol.prototype%2C%20'toString'%2C%20%7B%5Cn%20%20%20%20%20%20value%3A%20function%20toString()%20%7B%5Cn%20%20%20%20%20%20%20%20var%20s%20%3D%20strict(this)%3B%5Cn%20%20%20%20%20%20%20%20var%20desc%20%3D%20s%5B'%5B%5BDescription%5D%5D'%5D%3B%5Cn%20%20%20%20%20%20%20%20return%20'Symbol('%20%2B%20(desc%20%3D%3D%3D%20undefined%20%3F%20''%20%3A%20desc)%20%2B%20s%5B'%5B%5BSymbolData%5D%5D'%5D%20%2B%20')'%3B%5Cn%20%20%20%20%20%20%7D%2C%5Cn%20%20%20%20%20%20configurable%3A%20true%2C%20writeable%3A%20true%2C%20enumerable%3A%20false%20%7D)%3B%5Cn%5Cn%20%20%20%20%2F%2F%2019.4.3.3%20Symbol.prototype.valueOf%20(%20)%5Cn%20%20%20%20Object.defineProperty(Symbol.prototype%2C%20'valueOf'%2C%20%7B%5Cn%20%20%20%20%20%20value%3A%20function%20valueOf()%20%7B%5Cn%20%20%20%20%20%20%20%20%2F%2F%20To%20prevent%20automatic%20string%20conversion%3A%5Cn%20%20%20%20%20%20%20%20throw%20TypeError()%3B%5Cn%5Cn%20%20%20%20%20%20%20%20%2F%2F%20Spec%20has%20approximately%20the%20following%3A%5Cn%20%20%20%20%20%20%20%20%2F%2Fvar%20s%20%3D%20strict(this)%3B%5Cn%20%20%20%20%20%20%20%20%2F%2Fif%20(Type(s)%20%3D%3D%3D%20'symbol')%20return%20s%3B%5Cn%20%20%20%20%20%20%20%20%2F%2Fif%20(Type(s)%20!%3D%3D%20'object')%20throw%20TypeError()%3B%5Cn%20%20%20%20%20%20%20%20%2F%2Fif%20(!('%5B%5BSymbolData%5D%5D'%20in%20s))%20throw%20TypeError()%3B%5Cn%20%20%20%20%20%20%20%20%2F%2Freturn%20s%5B'%5B%5BSymbolData%5D%5D'%5D%3B%5Cn%20%20%20%20%20%20%7D%2C%5Cn%20%20%20%20%20%20configurable%3A%20true%2C%20writeable%3A%20true%2C%20enumerable%3A%20false%20%7D)%3B%5Cn%5Cn%20%20%20%20%2F%2F%2019.4.3.4%20Symbol.prototype%20%5B%20%40%40toStringTag%20%5D%5Cn%20%20%20%20%2F%2F%20(Done%20later%20to%20polyfill%20partial%20implementations)%5Cn%5Cn%20%20%20%20%2F%2F%2019.4.4%20Properties%20of%20Symbol%20Instances%5Cn%20%20%7D())%3B%5Cn%5Cn%20%20console.assert(typeof%20global.Symbol()%20%3D%3D%3D%20'symbol'%20%7C%7C%20symbolForKey(String(global.Symbol('x')))%20!%3D%3D%20undefined)%3B%5Cn%5Cn%20%20%2F%2F%20Defined%20here%20so%20that%20other%20prototypes%20can%20reference%20it%5Cn%20%20%2F%2F%2025.1.2%20The%20%25IteratorPrototype%25%20Object%5Cn%20%20var%20%24IteratorPrototype%24%20%3D%20%7B%7D%3B%5Cn%5Cn%20%20%2F%2F----------------------------------------%5Cn%20%20%2F%2F%206%20ECMAScript%20Data%20Types%20and%20Values%5Cn%20%20%2F%2F----------------------------------------%5Cn%5Cn%20%20%2F%2F%206.1%20ECMAScript%20Language%20Types%5Cn%5Cn%20%20%2F%2F%20%5C%22Type(x)%5C%22%20is%20used%20as%20shorthand%20for%20%5C%22the%20type%20of%20x%5C%22...%5Cn%20%20function%20Type(v)%20%7B%5Cn%20%20%20%20switch%20(typeof%20v)%20%7B%5Cn%20%20%20%20case%20'undefined'%3A%20return%20'undefined'%3B%5Cn%20%20%20%20case%20'boolean'%3A%20return%20'boolean'%3B%5Cn%20%20%20%20case%20'number'%3A%20return%20'number'%3B%5Cn%20%20%20%20case%20'string'%3A%20return%20'string'%3B%5Cn%20%20%20%20case%20'symbol'%3A%20return%20'symbol'%3B%5Cn%20%20%20%20default%3A%5Cn%20%20%20%20%20%20if%20(v%20%3D%3D%3D%20null)%20return%20'null'%3B%5Cn%20%20%20%20%20%20if%20(v%20instanceof%20global.Symbol)%20return%20'symbol'%3B%5Cn%20%20%20%20%20%20return%20'object'%3B%5Cn%20%20%20%20%7D%5Cn%20%20%7D%5Cn%5Cn%20%20%2F%2F%206.1.5.1%20Well-Known%20Symbols%5Cn%20%20var%20%24%24iterator%20%3D%20global.Symbol.iterator%2C%5Cn%20%20%20%20%20%20%24%24match%20%3D%20global.Symbol.match%2C%5Cn%20%20%20%20%20%20%24%24replace%20%3D%20global.Symbol.replace%2C%5Cn%20%20%20%20%20%20%24%24search%20%3D%20global.Symbol.search%2C%5Cn%20%20%20%20%20%20%24%24split%20%3D%20global.Symbol.split%2C%5Cn%20%20%20%20%20%20%24%24toStringTag%20%3D%20global.Symbol.toStringTag%3B%5Cn%5Cn%20%20%2F%2F----------------------------------------%5Cn%20%20%2F%2F%207%20Abstract%20Operations%5Cn%20%20%2F%2F----------------------------------------%5Cn%5Cn%20%20%2F%2F----------------------------------------%5Cn%20%20%2F%2F%207.1%20Type%20Conversion%5Cn%20%20%2F%2F----------------------------------------%5Cn%5Cn%20%20%2F%2F%207.1.1%20ToPrimitive%20(%20input%20%5B%2C%20PreferredType%5D%20)%5Cn%20%20%2F%2F%20just%20use%20valueOf()%5Cn%5Cn%20%20%2F%2F%207.1.2%20ToBoolean%20(%20argument%20)%5Cn%20%20%2F%2F%20just%20use%20Boolean()%5Cn%5Cn%20%20%2F%2F%207.1.3%20ToNumber%20(%20argument%20)%5Cn%20%20%2F%2F%20just%20use%20Number()%5Cn%5Cn%20%20%2F%2F%207.1.4%20ToInteger%20(%20argument%20)%5Cn%20%20function%20ToInteger(n)%20%7B%5Cn%20%20%20%20n%20%3D%20Number(n)%3B%5Cn%20%20%20%20if%20(%24isNaN(n))%20return%200%3B%5Cn%20%20%20%20if%20(n%20%3D%3D%3D%200%20%7C%7C%20n%20%3D%3D%3D%20Infinity%20%7C%7C%20n%20%3D%3D%3D%20-Infinity)%20return%20n%3B%5Cn%20%20%20%20return%20((n%20%3C%200)%20%3F%20-1%20%3A%201)%20*%20floor(abs(n))%3B%5Cn%20%20%7D%5Cn%5Cn%20%20%2F%2F%207.1.5%20ToInt32%20(%20argument%20)%5Cn%20%20function%20ToInt32(v)%20%7B%20return%20v%20%3E%3E%200%3B%20%7D%5Cn%5Cn%20%20%2F%2F%207.1.6%20ToUint32%20(%20argument%20)%5Cn%20%20function%20ToUint32(v)%20%7B%20return%20v%20%3E%3E%3E%200%3B%20%7D%5Cn%5Cn%20%20%2F%2F%207.1.7%20ToInt16%20(%20argument%20)%5Cn%20%20function%20ToInt16(v)%20%7B%20return%20(v%20%3C%3C%2016)%20%3E%3E%2016%3B%20%7D%5Cn%5Cn%20%20%2F%2F%207.1.8%20ToUint16%20(%20argument%20)%5Cn%20%20function%20ToUint16(v)%20%7B%20return%20v%20%26%200xFFFF%3B%20%7D%5Cn%5Cn%20%20%2F%2F%207.1.9%20ToInt8%20(%20argument%20)%5Cn%20%20function%20ToInt8(v)%20%7B%20return%20(v%20%3C%3C%2024)%20%3E%3E%2024%3B%20%7D%5Cn%5Cn%20%20%2F%2F%207.1.10%20ToUint8%20(%20argument%20)%5Cn%20%20function%20ToUint8(v)%20%7B%20return%20v%20%26%200xFF%3B%20%7D%5Cn%5Cn%20%20%2F%2F%207.1.11%20ToUint8Clamp%20(%20argument%20)%5Cn%20%20function%20ToUint8Clamp(argument)%20%7B%5Cn%20%20%20%20var%20number%20%3D%20Number(argument)%3B%5Cn%20%20%20%20if%20(%24isNaN(number))%20return%200%3B%5Cn%20%20%20%20if%20(number%20%3C%3D%200)%20return%200%3B%5Cn%20%20%20%20if%20(number%20%3E%3D%20255)%20return%20255%3B%5Cn%20%20%20%20var%20f%20%3D%20floor(number)%3B%5Cn%20%20%20%20if%20((f%20%2B%200.5)%20%3C%20number)%20return%20f%20%2B%201%3B%5Cn%20%20%20%20if%20(number%20%3C%20(f%20%2B%200.5))%20return%20f%3B%5Cn%20%20%20%20if%20(f%20%25%202)%20return%20f%20%2B%201%3B%5Cn%20%20%20%20return%20f%3B%5Cn%20%20%7D%5Cn%5Cn%20%20%2F%2F%207.1.12%20ToString%20(%20argument%20)%5Cn%20%20%2F%2F%20just%20use%20String()%5Cn%5Cn%20%20%2F%2F%207.1.13%20ToObject%20(%20argument%20)%5Cn%20%20function%20ToObject(v)%20%7B%5Cn%20%20%20%20if%20(v%20%3D%3D%3D%20null%20%7C%7C%20v%20%3D%3D%3D%20undefined)%20throw%20TypeError()%3B%5Cn%20%20%20%20return%20Object(v)%3B%5Cn%20%20%7D%5Cn%5Cn%20%20%2F%2F%207.1.14%20ToPropertyKey%20(%20argument%20)%5Cn%20%20function%20ToPropertyKey(v)%20%7B%5Cn%20%20%20%20return%20String(v)%3B%5Cn%20%20%7D%5Cn%5Cn%20%20%2F%2F%207.1.15%20ToLength%20(%20argument%20)%5Cn%20%20function%20ToLength(v)%20%7B%5Cn%20%20%20%20var%20len%20%3D%20ToInteger(v)%3B%5Cn%20%20%20%20if%20(len%20%3C%3D%200)%20return%200%3B%5Cn%20%20%20%20if%20(len%20%3D%3D%3D%20Infinity)%20return%200x20000000000000%20-%201%3B%20%2F%2F%202%5E53-1%5Cn%20%20%20%20return%20min(len%2C%200x20000000000000%20-%201)%3B%20%2F%2F%202%5E53-1%5Cn%20%20%7D%5Cn%5Cn%20%20%2F%2F%207.1.16%20CanonicalNumericIndexString%20(%20argument%20)%5Cn%5Cn%20%20%2F%2F----------------------------------------%5Cn%20%20%2F%2F%207.2%20Testing%20and%20Comparison%20Operations%5Cn%20%20%2F%2F----------------------------------------%5Cn%5Cn%20%20%2F%2F%207.2.1%20RequireObjectCoercible%20(%20argument%20)%5Cn%20%20%2F%2F%207.2.2%20IsArray%20(%20argument%20)%5Cn%5Cn%20%20%2F%2F%207.2.3%20IsCallable%20(%20argument%20)%5Cn%20%20function%20IsCallable(o)%20%7B%20return%20typeof%20o%20%3D%3D%3D%20'function'%3B%20%7D%5Cn%5Cn%20%20%2F%2F%207.2.4%20IsConstructor%20(%20argument%20)%5Cn%20%20function%20IsConstructor(o)%20%7B%5Cn%20%20%20%20%2F%2F%20Hacks%20for%20Safari%207%20TypedArray%20XXXConstructor%20objects%5Cn%20%20%20%20if%20(%2FConstructor%2F.test(Object.prototype.toString.call(o)))%20return%20true%3B%5Cn%20%20%20%20if%20(%2FFunction%2F.test(Object.prototype.toString.call(o)))%20return%20true%3B%5Cn%20%20%20%20%2F%2F%20TODO%3A%20Can%20this%20be%20improved%20on%3F%5Cn%20%20%20%20return%20typeof%20o%20%3D%3D%3D%20'function'%3B%5Cn%20%20%7D%5Cn%5Cn%20%20%2F%2F%207.2.5%20IsExtensible%20(O)%5Cn%20%20%2F%2F%207.2.6%20IsInteger%20(%20argument%20)%5Cn%5Cn%20%20%2F%2F%207.2.7%20IsPropertyKey%20(%20argument%20)%5Cn%20%20function%20IsPropertyKey(argument)%20%7B%5Cn%20%20%20%20if%20(Type(argument)%20%3D%3D%3D%20'string')%20return%20true%3B%5Cn%20%20%20%20if%20(Type(argument)%20%3D%3D%3D%20'symbol')%20return%20true%3B%5Cn%20%20%20%20return%20false%3B%5Cn%20%20%7D%5Cn%5Cn%20%20%2F%2F%207.2.8%20IsRegExp%20(%20argument%20)%5Cn%5Cn%20%20%2F%2F%207.2.9%20SameValue(x%2C%20y)%5Cn%20%20function%20SameValue(x%2C%20y)%20%7B%5Cn%20%20%20%20if%20(typeof%20x%20!%3D%3D%20typeof%20y)%20return%20false%3B%5Cn%20%20%20%20switch%20(typeof%20x)%20%7B%5Cn%20%20%20%20case%20'undefined'%3A%5Cn%20%20%20%20%20%20return%20true%3B%5Cn%20%20%20%20case%20'number'%3A%5Cn%20%20%20%20%20%20if%20(x%20!%3D%3D%20x%20%26%26%20y%20!%3D%3D%20y)%20return%20true%3B%5Cn%20%20%20%20%20%20if%20(x%20%3D%3D%3D%200%20%26%26%20y%20%3D%3D%3D%200)%20return%201%2Fx%20%3D%3D%3D%201%2Fy%3B%5Cn%20%20%20%20%20%20return%20x%20%3D%3D%3D%20y%3B%5Cn%20%20%20%20case%20'boolean'%3A%5Cn%20%20%20%20case%20'string'%3A%5Cn%20%20%20%20case%20'object'%3A%5Cn%20%20%20%20default%3A%5Cn%20%20%20%20%20%20return%20x%20%3D%3D%3D%20y%3B%5Cn%20%20%20%20%7D%5Cn%20%20%7D%5Cn%5Cn%20%20%2F%2F%207.2.10%20SameValueZero(x%2C%20y)%5Cn%20%20function%20SameValueZero(x%2C%20y)%20%7B%5Cn%20%20%20%20if%20(typeof%20x%20!%3D%3D%20typeof%20y)%20return%20false%3B%5Cn%20%20%20%20switch%20(typeof%20x)%20%7B%5Cn%20%20%20%20case%20'undefined'%3A%5Cn%20%20%20%20%20%20return%20true%3B%5Cn%20%20%20%20case%20'number'%3A%5Cn%20%20%20%20%20%20if%20(x%20!%3D%3D%20x%20%26%26%20y%20!%3D%3D%20y)%20return%20true%3B%5Cn%20%20%20%20%20%20return%20x%20%3D%3D%3D%20y%3B%5Cn%20%20%20%20case%20'boolean'%3A%5Cn%20%20%20%20case%20'string'%3A%5Cn%20%20%20%20case%20'object'%3A%5Cn%20%20%20%20default%3A%5Cn%20%20%20%20%20%20return%20x%20%3D%3D%3D%20y%3B%5Cn%20%20%20%20%7D%5Cn%20%20%7D%5Cn%5Cn%20%20%2F%2F----------------------------------------%5Cn%20%20%2F%2F%207.3%20Operations%20on%20Objects%5Cn%20%20%2F%2F----------------------------------------%5Cn%5Cn%20%20%2F%2F%207.3.1%20Get%20(O%2C%20P)%5Cn%20%20%2F%2F%20-%20just%20use%20o.p%20or%20o%5Bp%5D%5Cn%5Cn%20%20%2F%2F%207.3.2%20GetV%20(V%2C%20P)%5Cn%20%20function%20GetV(v%2C%20p)%20%7B%5Cn%20%20%20%20var%20o%20%3D%20ToObject(v)%3B%5Cn%20%20%20%20return%20o%5Bp%5D%3B%5Cn%20%20%7D%5Cn%5Cn%20%20%2F%2F%207.3.3%20Set%20(O%2C%20P%2C%20V%2C%20Throw)%5Cn%20%20%2F%2F%20-%20just%20use%20o.p%20%3D%20v%20or%20o%5Bp%5D%20%3D%20v%5Cn%5Cn%5Cn%5Cn%5Cn%20%20%2F%2F%207.3.9%20GetMethod%20(O%2C%20P)%5Cn%20%20function%20GetMethod(o%2C%20p)%20%7B%5Cn%20%20%20%20var%20func%20%3D%20GetV(o%2C%20p)%3B%5Cn%20%20%20%20if%20(func%20%3D%3D%3D%20undefined%20%7C%7C%20func%20%3D%3D%3D%20null)%20return%20undefined%3B%5Cn%20%20%20%20if%20(!IsCallable(func))%20throw%20TypeError()%3B%5Cn%20%20%20%20return%20func%3B%5Cn%20%20%7D%5Cn%5Cn%20%20%2F%2F%207.3.10%20HasProperty%20(O%2C%20P)%5Cn%20%20function%20HasProperty(o%2C%20p)%20%7B%5Cn%20%20%20%20while%20(o)%20%7B%5Cn%20%20%20%20%20%20if%20(Object.prototype.hasOwnProperty.call(o%2C%20p))%20return%20true%3B%5Cn%20%20%20%20%20%20if%20(Type(o)%20!%3D%3D%20'object')%20return%20false%3B%5Cn%20%20%20%20%20%20var%20op%20%3D%20Object.getPrototypeOf(o)%3B%5Cn%20%20%20%20%20%20if%20(op%20%3D%3D%3D%20o)%20return%20false%3B%20%2F%2F%20IE8%20has%20self-referential%20prototypes%5Cn%20%20%20%20%20%20o%20%3D%20op%3B%5Cn%20%20%20%20%7D%5Cn%20%20%20%20return%20false%3B%5Cn%20%20%7D%5Cn%5Cn%20%20%2F%2F%207.3.11%20HasOwnProperty%20(O%2C%20P)%5Cn%20%20function%20HasOwnProperty(o%2C%20p)%20%7B%5Cn%20%20%20%20return%20Object.prototype.hasOwnProperty.call(o%2C%20p)%3B%5Cn%20%20%7D%5Cn%5Cn%20%20%2F%2F----------------------------------------%5Cn%20%20%2F%2F%207.4%20Operations%20on%20Iterator%20Objects%5Cn%20%20%2F%2F----------------------------------------%5Cn%5Cn%20%20%2F%2F%207.4.1%20GetIterator%20(%20obj%2C%20method%20)%5Cn%20%20function%20GetIterator(obj%2C%20method)%20%7B%5Cn%20%20%20%20if%20(arguments.length%20%3C%202)%5Cn%20%20%20%20%20%20method%20%3D%20GetMethod(obj%2C%20%24%24iterator)%3B%5Cn%20%20%20%20var%20iterator%20%3D%20method.call(obj)%3B%5Cn%20%20%20%20if%20(Type(iterator)%20!%3D%3D%20'object')%20throw%20TypeError()%3B%5Cn%20%20%20%20return%20iterator%3B%5Cn%20%20%7D%5Cn%5Cn%20%20%2F%2F%207.4.2%20IteratorNext%20(%20iterator%2C%20value%20)%5Cn%20%20function%20IteratorNext(iterator%2C%20value)%20%7B%5Cn%20%20%20%20if%20(arguments.length%20%3C%202)%5Cn%20%20%20%20%20%20var%20result%20%3D%20iterator.next()%3B%5Cn%20%20%20%20else%5Cn%20%20%20%20%20%20result%20%3D%20iterator.next(value)%3B%5Cn%20%20%20%20if%20(Type(result)%20!%3D%3D%20'object')%20throw%20TypeError()%3B%5Cn%20%20%20%20return%20result%3B%5Cn%20%20%7D%5Cn%5Cn%20%20%2F%2F%207.4.3%20IteratorComplete%20(%20iterResult%20)%5Cn%20%20function%20IteratorComplete(iterResult)%20%7B%5Cn%20%20%20%20console.assert(Type(iterResult)%20%3D%3D%3D%20'object')%3B%5Cn%20%20%20%20return%20Boolean(iterResult.done)%3B%5Cn%20%20%7D%5Cn%5Cn%20%20%2F%2F%207.4.4%20IteratorValue%20(%20iterResult%20)%5Cn%20%20function%20IteratorValue(iterResult)%20%7B%5Cn%20%20%20%20console.assert(Type(iterResult)%20%3D%3D%3D%20'object')%3B%5Cn%20%20%20%20return%20iterResult.value%3B%5Cn%20%20%7D%5Cn%5Cn%20%20%2F%2F%207.4.5%20IteratorStep%20(%20iterator%20)%5Cn%20%20function%20IteratorStep(%20iterator%2C%20value%20)%20%7B%5Cn%20%20%20%20var%20result%20%3D%20IteratorNext(iterator%2C%20value)%3B%5Cn%20%20%20%20var%20done%20%3D%20result%5B'done'%5D%3B%5Cn%20%20%20%20if%20(Boolean(done)%20%3D%3D%3D%20true)%20return%20false%3B%5Cn%20%20%20%20return%20result%3B%5Cn%20%20%7D%5Cn%5Cn%20%20%2F%2F%207.4.6%20IteratorClose(%20iterator%2C%20completion%20)%5Cn%20%20function%20IteratorClose(%20iterator%2C%20completion%20)%20%7B%5Cn%20%20%20%20console.assert(Type(iterator)%20%3D%3D%3D%20'object')%3B%5Cn%20%20%20%20var%20_return%20%3D%20GetMethod(iterator%2C%20'return')%3B%5Cn%20%20%20%20if%20(_return%20%3D%3D%3D%20undefined)%20return%20completion%3B%5Cn%20%20%20%20try%20%7B%5Cn%20%20%20%20%20%20var%20innerResult%20%3D%20_return%5Biterator%5D()%3B%5Cn%20%20%20%20%7D%20catch%20(result)%20%7B%5Cn%20%20%20%20%20%20%2F%2F%20TODO%3A%20If%20completion.%5B%5Btype%5D%5D%20is%20throw%2C%20return%20completion%5Cn%20%20%20%20%20%20return%20result%3B%5Cn%20%20%20%20%7D%5Cn%20%20%20%20if%20(Type(innerResult)%20!%3D%3D%20'object')%20throw%20TypeError()%3B%5Cn%20%20%20%20return%20completion%3B%5Cn%20%20%7D%5Cn%5Cn%20%20%2F%2F%207.4.7%20CreateIterResultObject%20(value%2C%20done)%5Cn%20%20function%20CreateIterResultObject(value%2C%20done)%20%7B%5Cn%20%20%20%20console.assert(Type(done)%20%3D%3D%3D%20'boolean')%3B%5Cn%20%20%20%20var%20obj%20%3D%20%7B%7D%3B%5Cn%20%20%20%20obj%5B%5C%22value%5C%22%5D%20%3D%20value%3B%5Cn%20%20%20%20obj%5B%5C%22done%5C%22%5D%20%3D%20done%3B%5Cn%20%20%20%20return%20obj%3B%5Cn%20%20%7D%5Cn%5Cn%20%20%2F%2F%207.4.8%20CreateListIterator%20(list)%5Cn%20%20%2F%2F%207.4.8.1%20ListIterator%20next(%20)%5Cn%5Cn%20%20%2F%2F----------------------------------------%5Cn%20%20%2F%2F%208%20Executable%20Code%20and%20Execution%20Contexts%5Cn%20%20%2F%2F----------------------------------------%5Cn%5Cn%20%20%2F%2F----------------------------------------%5Cn%20%20%2F%2F%208.4%20Jobs%20and%20Job%20Queues%5Cn%20%20%2F%2F----------------------------------------%5Cn%5Cn%20%20%2F%2F%208.4.1%20EnqueueJob%20(%20queueName%2C%20job%2C%20arguments)%5Cn%20%20function%20EnqueueJob(queueName%2C%20job%2C%20args)%20%7B%5Cn%20%20%20%20var%20fn%20%3D%20function()%20%7B%20job.apply(undefined%2C%20args)%3B%20%7D%3B%5Cn%20%20%20%20enqueue(fn)%3B%5Cn%20%20%7D%5Cn%5Cn%20%20%2F%2F%208.4.2%20NextJob%20result%5Cn%20%20function%20NextJob(result)%20%7B%5Cn%20%20%20%20%2F%2F%20no-op%5Cn%20%20%7D%5Cn%5Cn%20%20%2F%2F----------------------------------------%5Cn%20%20%2F%2F%209%20Ordinary%20and%20Exotic%20Objects%20Behaviors%5Cn%20%20%2F%2F----------------------------------------%5Cn%5Cn%20%20%2F%2F%209.1.11%20%5B%5BEnumerate%5D%5D%20()%5Cn%20%20function%20Enumerate(obj)%20%7B%5Cn%20%20%20%20var%20e%20%3D%20%5B%5D%3B%5Cn%20%20%20%20if%20(Object(obj)%20!%3D%3D%20obj)%20return%20e%3B%5Cn%20%20%20%20var%20visited%20%3D%20new%20Set%3B%5Cn%20%20%20%20while%20(obj%20!%3D%3D%20null)%20%7B%5Cn%20%20%20%20%20%20Object.getOwnPropertyNames(obj).forEach(function(name)%20%7B%5Cn%20%20%20%20%20%20%20%20if%20(!visited.has(name))%20%7B%5Cn%20%20%20%20%20%20%20%20%20%20var%20desc%20%3D%20Object.getOwnPropertyDescriptor(obj%2C%20name)%3B%5Cn%20%20%20%20%20%20%20%20%20%20if%20(desc)%20%7B%5Cn%20%20%20%20%20%20%20%20%20%20%20%20visited.add(name)%3B%5Cn%20%20%20%20%20%20%20%20%20%20%20%20if%20(desc.enumerable)%20e.push(name)%3B%5Cn%20%20%20%20%20%20%20%20%20%20%7D%5Cn%20%20%20%20%20%20%20%20%7D%5Cn%20%20%20%20%20%20%7D)%3B%5Cn%20%20%20%20%20%20obj%20%3D%20Object.getPrototypeOf(obj)%3B%5Cn%20%20%20%20%7D%5Cn%20%20%20%20return%20e%5B%24%24iterator%5D()%3B%5Cn%20%20%7D%5Cn%5Cn%20%20%2F%2F%209.1.12%20%5B%5BOwnPropertyKeys%5D%5D%20(%20)%5Cn%20%20function%20OwnPropertyKeys(o)%20%7B%5Cn%20%20%20%20return%20Object.getOwnPropertyNames(o)%3B%5Cn%20%20%7D%5Cn%5Cn%20%20%2F%2F%209.1.13%20ObjectCreate(proto%2C%20internalSlotsList)%5Cn%20%20function%20ObjectCreate(proto%2C%20internalSlotsList)%20%7B%5Cn%20%20%20%20return%20Object.create(proto%2C%20internalSlotsList)%3B%5Cn%20%20%7D%5Cn%5Cn%20%20%2F%2F%20---------------------------------------%5Cn%20%20%2F%2F%2019%20Fundamental%20Objects%5Cn%20%20%2F%2F%20---------------------------------------%5Cn%5Cn%20%20%2F%2F%20---------------------------------------%5Cn%20%20%2F%2F%2019.1%20Object%20Objects%5Cn%20%20%2F%2F%20---------------------------------------%5Cn%5Cn%20%20%2F%2F%2019.1.1%20The%20Object%20Constructor%5Cn%20%20%2F%2F%2019.1.1.1%20Object%20(%20%5B%20value%20%5D%20)%5Cn%20%20%2F%2F%2019.1.2%20Properties%20of%20the%20Object%20Constructor%5Cn%20%20%2F%2F%2019.1.2.1%20Object.assign%20(%20target%2C%20...sources%20)%5Cn%20%20define(%5Cn%20%20%20%20Object%2C%20'assign'%2C%5Cn%20%20%20%20function%20assign(target%2C%20%2F*...*%2Fsources)%20%7B%5Cn%20%20%20%20%20%20var%20to%20%3D%20ToObject(target)%3B%5Cn%20%20%20%20%20%20if%20(arguments.length%20%3C%202)%20return%20to%3B%5Cn%5Cn%20%20%20%20%20%20var%20sourcesIndex%20%3D%201%3B%5Cn%20%20%20%20%20%20while%20(sourcesIndex%20%3C%20arguments.length)%20%7B%5Cn%20%20%20%20%20%20%20%20var%20nextSource%20%3D%20arguments%5BsourcesIndex%2B%2B%5D%3B%5Cn%20%20%20%20%20%20%20%20if%20(nextSource%20%3D%3D%3D%20undefined%20%7C%7C%20nextSource%20%3D%3D%3D%20null)%20%7B%5Cn%20%20%20%20%20%20%20%20%20%20var%20keys%20%3D%20%5B%5D%3B%5Cn%20%20%20%20%20%20%20%20%7D%20else%20%7B%5Cn%20%20%20%20%20%20%20%20%20%20var%20from%20%3D%20ToObject(nextSource)%3B%5Cn%20%20%20%20%20%20%20%20%20%20keys%20%3D%20OwnPropertyKeys(from)%3B%5Cn%20%20%20%20%20%20%20%20%7D%5Cn%20%20%20%20%20%20%20%20for%20(var%20keysIndex%20%3D%200%3B%20keysIndex%20%3C%20keys.length%3B%20%2B%2BkeysIndex)%20%7B%5Cn%20%20%20%20%20%20%20%20%20%20var%20nextKey%20%3D%20keys%5BkeysIndex%5D%3B%5Cn%20%20%20%20%20%20%20%20%20%20var%20desc%20%3D%20Object.getOwnPropertyDescriptor(from%2C%20nextKey)%3B%5Cn%20%20%20%20%20%20%20%20%20%20if%20(desc%20!%3D%3D%20undefined%20%26%26%20desc.enumerable)%20%7B%5Cn%20%20%20%20%20%20%20%20%20%20%20%20var%20propValue%20%3D%20from%5BnextKey%5D%3B%5Cn%20%20%20%20%20%20%20%20%20%20%20%20to%5BnextKey%5D%20%3D%20propValue%3B%5Cn%20%20%20%20%20%20%20%20%20%20%7D%5Cn%20%20%20%20%20%20%20%20%7D%5Cn%20%20%20%20%20%20%7D%5Cn%20%20%20%20%20%20return%20to%3B%5Cn%20%20%20%20%7D)%3B%5Cn%5Cn%20%20%2F%2F%2019.1.2.2%20Object.create%20(%20O%20%5B%20%2C%20Properties%20%5D%20)%5Cn%20%20%2F%2F%2019.1.2.3%20Object.defineProperties%20(%20O%2C%20Properties%20)%5Cn%20%20%2F%2F%2019.1.2.4%20Object.defineProperty%20(%20O%2C%20P%2C%20Attributes%20)%5Cn%20%20%2F%2F%2019.1.2.5%20Object.freeze%20(%20O%20)%5Cn%20%20%2F%2F%2019.1.2.6%20Object.getOwnPropertyDescriptor%20(%20O%2C%20P%20)%5Cn%5Cn%20%20(function()%20%7B%5Cn%20%20%20%20var%20nativeSymbols%20%3D%20(typeof%20global.Symbol()%20%3D%3D%3D%20'symbol')%2C%5Cn%20%20%20%20%20%20%20%20%24getOwnPropertyNames%20%3D%20Object.getOwnPropertyNames%2C%5Cn%20%20%20%20%20%20%20%20%24keys%20%3D%20Object.keys%2C%5Cn%20%20%20%20%20%20%20%20%24window_names%20%3D%20(typeof%20window%20%3D%3D%3D%20'object'%20%3F%20%24getOwnPropertyNames(window)%20%3A%20%5B%5D)%3B%5Cn%5Cn%20%20%20%20function%20isStringKey(k)%20%7B%20return%20!symbolForKey(k)%3B%20%7D%5Cn%5Cn%20%20%20%20%2F%2F%2019.1.2.7%20Object.getOwnPropertyNames%20(%20O%20)%5Cn%20%20%20%20define(%5Cn%20%20%20%20%20%20Object%2C%20'getOwnPropertyNames'%2C%5Cn%20%20%20%20%20%20function%20getOwnPropertyNames(o)%20%7B%5Cn%20%20%20%20%20%20%20%20if%20(Object.prototype.toString.call(o)%20%3D%3D%3D%20'%5Bobject%20Window%5D')%20%7B%5Cn%20%20%20%20%20%20%20%20%20%20%2F%2F%20Workaround%20for%20cross-realm%20calling%20by%20IE%20itself.%5Cn%20%20%20%20%20%20%20%20%20%20%2F%2F%20https%3A%2F%2Fgithub.com%2Finexorabletash%2Fpolyfill%2Fissues%2F96%5Cn%20%20%20%20%20%20%20%20%20%20try%20%7B%5Cn%20%20%20%20%20%20%20%20%20%20%20%20return%20%24getOwnPropertyNames(o).filter(isStringKey)%3B%5Cn%20%20%20%20%20%20%20%20%20%20%7D%20catch%20(_)%20%7B%5Cn%20%20%20%20%20%20%20%20%20%20%20%20return%20%24window_names.slice()%3B%5Cn%20%20%20%20%20%20%20%20%20%20%7D%5Cn%20%20%20%20%20%20%20%20%7D%5Cn%20%20%20%20%20%20%20%20return%20%24getOwnPropertyNames(o).filter(isStringKey)%3B%5Cn%20%20%20%20%20%20%7D%2C%20!nativeSymbols)%3B%5Cn%5Cn%20%20%20%20%2F%2F%2019.1.2.8%20Object.getOwnPropertySymbols%20(%20O%20)%5Cn%20%20%20%20define(%5Cn%20%20%20%20%20%20Object%2C%20'getOwnPropertySymbols'%2C%5Cn%20%20%20%20%20%20function%20getOwnPropertySymbols(o)%20%7B%5Cn%20%20%20%20%20%20%20%20return%20%24getOwnPropertyNames(o).filter(symbolForKey).map(symbolForKey)%3B%5Cn%20%20%20%20%20%20%7D%2C%20!nativeSymbols)%3B%5Cn%5Cn%20%20%20%20%2F%2F%2019.1.2.14%20Object.keys%20(%20O%20)%5Cn%20%20%20%20define(%5Cn%20%20%20%20%20%20Object%2C%20'keys'%2C%5Cn%20%20%20%20%20%20function%20keys(o)%20%7B%5Cn%20%20%20%20%20%20%20%20return%20%24keys(o).filter(isStringKey)%3B%5Cn%20%20%20%20%20%20%7D%2C%20!nativeSymbols)%3B%5Cn%20%20%7D())%3B%5Cn%5Cn%20%20%2F%2F%2019.1.2.9%20Object.getPrototypeOf%20(%20O%20)%5Cn%20%20%2F%2F%2019.1.2.10%20Object.is%20(%20value1%2C%20value2%20)%5Cn%20%20define(%5Cn%20%20%20%20Object%2C%20'is'%2C%5Cn%20%20%20%20function%20is(value1%2C%20value2)%20%7B%5Cn%20%20%20%20%20%20return%20SameValue(value1%2C%20value2)%3B%5Cn%20%20%20%20%7D)%3B%5Cn%5Cn%20%20%2F%2F%2019.1.2.11%20Object.isExtensible%20(%20O%20)%5Cn%20%20%2F%2F%2019.1.2.12%20Object.isFrozen%20(%20O%20)%5Cn%20%20%2F%2F%2019.1.2.13%20Object.isSealed%20(%20O%20)%5Cn%5Cn%20%20%2F%2F%2019.1.2.14%20Object.keys%20(%20O%20)%5Cn%20%20%2F%2F%20see%20above%5Cn%5Cn%20%20%2F%2F%2019.1.2.15%20Object.preventExtensions%20(%20O%20)%5Cn%20%20%2F%2F%2019.1.2.16%20Object.prototype%5Cn%20%20%2F%2F%2019.1.2.17%20Object.seal%20(%20O%20)%5Cn%5Cn%20%20%2F%2F%2019.1.2.18%20Object.setPrototypeOf%20(%20O%2C%20proto%20)%5Cn%20%20define(%5Cn%20%20%20%20Object%2C%20'setPrototypeOf'%2C%5Cn%20%20%20%20function%20setPrototypeOf(o%2C%20proto)%20%7B%5Cn%20%20%20%20%20%20if%20(Type(o)%20!%3D%3D%20'object')%20throw%20TypeError()%3B%5Cn%20%20%20%20%20%20if%20(Type(proto)%20!%3D%3D%20'object'%20%26%26%20Type(proto)%20!%3D%3D%20'null')%20throw%20TypeError()%3B%5Cn%20%20%20%20%20%20o.__proto__%20%3D%20proto%3B%5Cn%20%20%20%20%20%20return%20o%3B%5Cn%20%20%20%20%7D%5Cn%20%20)%3B%5Cn%5Cn%20%20%2F%2F%2019.1.3%20Properties%20of%20the%20Object%20Prototype%20Object%5Cn%20%20%2F%2F%2019.1.3.1%20Object.prototype.constructor%5Cn%20%20%2F%2F%2019.1.3.2%20Object.prototype.hasOwnProperty%20(%20V%20)%5Cn%20%20%2F%2F%2019.1.3.3%20Object.prototype.isPrototypeOf%20(%20V%20)%5Cn%20%20%2F%2F%2019.1.3.4%20Object.prototype.propertyIsEnumerable%20(%20V%20)%5Cn%20%20%2F%2F%2019.1.3.5%20Object.prototype.toLocaleString%20(%20%5B%20reserved1%20%5B%20%2C%20reserved2%20%5D%20%5D%20)%5Cn%20%20%2F%2F%2019.1.3.6%20Object.prototype.toString%20(%20)%5Cn%20%20var%20o_p_ts%20%3D%20Object.prototype.toString%3B%5Cn%20%20define(Object.prototype%2C%20'toString'%2C%5Cn%20%20%20%20%20%20%20function()%20%7B%5Cn%20%20%20%20%20%20%20%20%20var%20o%20%3D%20strict(this)%3B%5Cn%20%20%20%20%20%20%20%20%20if%20(o%20%3D%3D%3D%20Object(o)%20%26%26%20%24%24toStringTag%20in%20o)%20%7B%5Cn%20%20%20%20%20%20%20%20%20%20%20return%20'%5Bobject%20'%20%2B%20o%5B%24%24toStringTag%5D%20%2B%20'%5D'%3B%5Cn%20%20%20%20%20%20%20%20%20%7D%5Cn%20%20%20%20%20%20%20%20%20return%20o_p_ts.apply(o%2C%20arguments)%3B%5Cn%20%20%20%20%20%20%20%7D)%3B%5Cn%5Cn%20%20%2F%2F%2019.1.3.7%20Object.prototype.valueOf%20(%20)%5Cn%20%20%2F%2F%2019.1.4%20Properties%20of%20Object%20Instances%5Cn%5Cn%20%20%2F%2F%20---------------------------------------%5Cn%20%20%2F%2F%2019.2%20Function%20Objects%5Cn%20%20%2F%2F%20---------------------------------------%5Cn%5Cn%20%20%2F%2F%2019.2.1%20The%20Function%20Constructor%5Cn%20%20%2F%2F%2019.2.1.1%20Function%20(%20p1%2C%20p2%2C%20%E2%80%A6%20%2C%20pn%2C%20body%20)%5Cn%20%20%2F%2F%2019.2.2%20Properties%20of%20the%20Function%20Constructor%5Cn%20%20%2F%2F%2019.2.2.1%20Function.length%5Cn%20%20%2F%2F%2019.2.2.2%20Function.prototype%5Cn%20%20%2F%2F%2019.2.3%20Properties%20of%20the%20Function%20Prototype%20Object%5Cn%20%20%2F%2F%2019.2.3.1%20Function.prototype.apply%20(%20thisArg%2C%20argArray%20)%5Cn%20%20%2F%2F%2019.2.3.2%20Function.prototype.bind%20(%20thisArg%20%2C%20...args)%5Cn%20%20%2F%2F%2019.2.3.3%20Function.prototype.call%20(thisArg%20%2C%20...args)%5Cn%20%20%2F%2F%2019.2.3.4%20Function.prototype.constructor%5Cn%20%20%2F%2F%2019.2.3.5%20Function.prototype.toString%20(%20)%5Cn%20%20%2F%2F%2019.2.3.6%20Function.prototype%5B%40%40hasInstance%5D%20(%20V%20)%5Cn%20%20%2F%2F%2019.2.4%20Function%20Instances%5Cn%20%20%2F%2F%2019.2.4.1%20length%5Cn%20%20%2F%2F%2019.2.4.2%20name%5Cn%20%20%2F%2F%2019.2.4.3%20prototype%5Cn%5Cn%20%20%2F%2F%20(No%20polyfillable%20changes%20from%20ES5)%5Cn%5Cn%20%20%2F%2F%20---------------------------------------%5Cn%20%20%2F%2F%2019.3%20Boolean%20Objects%5Cn%20%20%2F%2F%20---------------------------------------%5Cn%5Cn%20%20%2F%2F%2019.3.1%20The%20Boolean%20Constructor%5Cn%20%20%2F%2F%2019.3.1.1%20Boolean%20(%20value%20)%5Cn%20%20%2F%2F%2019.3.2%20Properties%20of%20the%20Boolean%20Constructor%5Cn%20%20%2F%2F%2019.3.2.1%20Boolean.prototype%5Cn%20%20%2F%2F%2019.3.3%20Properties%20of%20the%20Boolean%20Prototype%20Object%5Cn%20%20%2F%2F%2019.3.3.1%20Boolean.prototype.constructor%5Cn%20%20%2F%2F%2019.3.3.2%20Boolean.prototype.toString%20(%20)%5Cn%20%20%2F%2F%2019.3.3.3%20Boolean.prototype.valueOf%20(%20)%5Cn%20%20%2F%2F%2019.3.4%20Properties%20of%20Boolean%20Instances%5Cn%5Cn%20%20%2F%2F%20(No%20polyfillable%20changes%20from%20ES5)%5Cn%5Cn%20%20%2F%2F%20---------------------------------------%5Cn%20%20%2F%2F%2019.4%20Symbol%20Objects%5Cn%20%20%2F%2F%20---------------------------------------%5Cn%5Cn%20%20%2F%2F%20Moved%20earlier%20in%20this%20script%2C%20so%20that%20other%20polyfills%20can%20depend%20on%20them.%5Cn%5Cn%20%20%2F%2F%2019.4.3.4%20Symbol.prototype%20%5B%20%40%40toStringTag%20%5D%5Cn%20%20define(global.Symbol.prototype%2C%20global.Symbol.toStringTag%2C%20'Symbol')%3B%5Cn%5Cn%20%20%2F%2F%20---------------------------------------%5Cn%20%20%2F%2F%2019.5%20Error%20Objects%5Cn%20%20%2F%2F%20---------------------------------------%5Cn%5Cn%20%20%2F%2F%2019.5.1%20The%20Error%20Constructor%5Cn%20%20%2F%2F%2019.5.1.1%20Error%20(%20message%20)%5Cn%20%20%2F%2F%2019.5.1.2%20new%20Error(%20...argumentsList%20)%5Cn%20%20%2F%2F%2019.5.2%20Properties%20of%20the%20Error%20Constructor%5Cn%20%20%2F%2F%2019.5.2.1%20Error.prototype%5Cn%20%20%2F%2F%2019.5.3%20Properties%20of%20the%20Error%20Prototype%20Object%5Cn%20%20%2F%2F%2019.5.3.1%20Error.prototype.constructor%5Cn%20%20%2F%2F%2019.5.3.2%20Error.prototype.message%5Cn%20%20%2F%2F%2019.5.3.3%20Error.prototype.name%5Cn%20%20%2F%2F%2019.5.3.4%20Error.prototype.toString%20(%20)%5Cn%20%20%2F%2F%2019.5.4%20Properties%20of%20Error%20Instances%5Cn%20%20%2F%2F%2019.5.5%20Native%20Error%20Types%20Used%20in%20This%20Standard%5Cn%20%20%2F%2F%2019.5.5.1%20EvalError%5Cn%20%20%2F%2F%2019.5.5.2%20RangeError%5Cn%20%20%2F%2F%2019.5.5.3%20ReferenceError%5Cn%20%20%2F%2F%2019.5.5.4%20SyntaxError%5Cn%20%20%2F%2F%2019.5.5.5%20TypeError%5Cn%20%20%2F%2F%2019.5.5.6%20URIError%5Cn%20%20%2F%2F%2019.5.6%20NativeError%20Object%20Structure%5Cn%20%20%2F%2F%2019.5.6.1%20NativeError%20Constructors%5Cn%20%20%2F%2F%2019.5.6.1.1%20NativeError%20(%20message%20)%5Cn%20%20%2F%2F%2019.5.6.1.2%20new%20NativeError%20(%20...argumentsList%20)%5Cn%20%20%2F%2F%2019.5.6.2%20Properties%20of%20the%20NativeError%20Constructors%5Cn%20%20%2F%2F%2019.5.6.2.1%20NativeError.prototype%5Cn%20%20%2F%2F%2019.5.6.3%20Properties%20of%20the%20NativeError%20Prototype%20Objects%5Cn%20%20%2F%2F%2019.5.6.4%20Properties%20of%20NativeError%20Instances%5Cn%5Cn%20%20%2F%2F%20(No%20polyfillable%20changes%20from%20ES5)%5Cn%5Cn%20%20%2F%2F%20---------------------------------------%5Cn%20%20%2F%2F%2020%20Numbers%20and%20Dates%5Cn%20%20%2F%2F%20---------------------------------------%5Cn%5Cn%20%20%2F%2F%20---------------------------------------%5Cn%20%20%2F%2F%2020.1%20Number%20Objects%5Cn%20%20%2F%2F%20---------------------------------------%5Cn%5Cn%20%20%2F%2F%2020.1.1%20The%20Number%20Constructor%5Cn%20%20%2F%2F%2020.1.1.1%20Number%20(%20%5B%20value%20%5D%20)%5Cn%20%20%2F%2F%2020.1.1.2%20new%20Number%20(%20...argumentsList%20)%5Cn%20%20%2F%2F%2020.1.2%20Properties%20of%20the%20Number%20Constructor%5Cn%5Cn%20%20%2F%2F%2020.1.2.1%20Number.EPSILON%5Cn%20%20define(%5Cn%20%20%20%20Number%2C%20'EPSILON'%2C%5Cn%20%20%20%20(function%20()%20%7B%5Cn%20%20%20%20%20%20var%20next%2C%20result%3B%5Cn%20%20%20%20%20%20for%20(next%20%3D%201%3B%201%20%2B%20next%20!%3D%3D%201%3B%20next%20%3D%20next%20%2F%202)%5Cn%20%20%20%20%20%20%20%20result%20%3D%20next%3B%5Cn%20%20%20%20%20%20return%20result%3B%5Cn%20%20%20%20%7D()))%3B%5Cn%5Cn%20%20%2F%2F%2020.1.2.2%20Number.isFinite%20(%20number%20)%5Cn%20%20define(%5Cn%20%20%20%20Number%2C%20'isFinite'%2C%5Cn%20%20%20%20function%20isFinite(number)%20%7B%5Cn%20%20%20%20%20%20if%20(Type(number)%20!%3D%3D%20'number')%20return%20false%3B%5Cn%20%20%20%20%20%20if%20(number%20!%3D%3D%20number%20%7C%7C%20number%20%3D%3D%3D%20%2BInfinity%20%7C%7C%20number%20%3D%3D%3D%20-Infinity)%20return%20false%3B%5Cn%20%20%20%20%20%20return%20true%3B%5Cn%20%20%20%20%7D)%3B%5Cn%5Cn%20%20%2F%2F%2020.1.2.3%20Number.isInteger%20(%20number%20)%5Cn%20%20define(%5Cn%20%20%20%20Number%2C%20'isInteger'%2C%5Cn%20%20%20%20function%20isInteger(number)%20%7B%5Cn%20%20%20%20%20%20if%20(Type(number)%20!%3D%3D%20'number')%20return%20false%3B%5Cn%20%20%20%20%20%20if%20(number%20!%3D%3D%20number%20%7C%7C%20number%20%3D%3D%3D%20%2BInfinity%20%7C%7C%20number%20%3D%3D%3D%20-Infinity)%20return%20false%3B%5Cn%20%20%20%20%20%20var%20integer%20%3D%20ToInteger(number)%3B%5Cn%20%20%20%20%20%20if%20(integer%20!%3D%3D%20number)%20return%20false%3B%5Cn%20%20%20%20%20%20return%20true%3B%5Cn%20%20%20%20%7D)%3B%5Cn%5Cn%20%20%2F%2F%2020.1.2.4%20Number.isNaN%20(%20number%20)%5Cn%20%20define(%5Cn%20%20%20%20Number%2C%20'isNaN'%2C%5Cn%20%20%20%20function%20isNaN(number)%20%7B%5Cn%20%20%20%20%20%20if%20(Type(number)%20!%3D%3D%20'number')%20return%20false%3B%5Cn%20%20%20%20%20%20if%20(number%20!%3D%3D%20number)%20return%20true%3B%5Cn%20%20%20%20%20%20return%20false%3B%5Cn%20%20%20%20%7D)%3B%5Cn%5Cn%20%20%2F%2F%2020.1.2.5%20Number.isSafeInteger%20(%20number%20)%5Cn%20%20define(%5Cn%20%20%20%20Number%2C%20'isSafeInteger'%2C%5Cn%20%20%20%20function%20isSafeInteger(number)%20%7B%5Cn%20%20%20%20%20%20if%20(Type(number)%20!%3D%3D%20'number')%20return%20false%3B%5Cn%20%20%20%20%20%20if%20(number%20!%3D%3D%20number%20%7C%7C%20number%20%3D%3D%3D%20%2BInfinity%20%7C%7C%20number%20%3D%3D%3D%20-Infinity)%20return%20false%3B%5Cn%20%20%20%20%20%20var%20integer%20%3D%20ToInteger(number)%3B%5Cn%20%20%20%20%20%20if%20(integer%20!%3D%3D%20number)%20return%20false%3B%5Cn%20%20%20%20%20%20if%20(abs(integer)%20%3C%3D%20(0x20000000000000%20-%201))%20%2F%2F%202%5E53-1%5Cn%20%20%20%20%20%20%20%20return%20true%3B%5Cn%20%20%20%20%20%20return%20false%3B%5Cn%20%20%20%20%7D)%3B%5Cn%5Cn%20%20%2F%2F%2020.1.2.6%20Number.MAX_SAFE_INTEGER%5Cn%20%20define(%5Cn%20%20%20%20Number%2C%20'MAX_SAFE_INTEGER'%2C%5Cn%20%20%20%209007199254740991)%3B%20%2F%2F%202%5E53-1%5Cn%5Cn%20%20%2F%2F%2020.1.2.7%20Number.MAX_VALUE%5Cn%5Cn%20%20%2F%2F%2020.1.2.8%20Number.MIN_SAFE_INTEGER%5Cn%20%20define(%5Cn%20%20%20%20Number%2C%20'MIN_SAFE_INTEGER'%2C%5Cn%20%20%20%20-9007199254740991)%3B%20%2F%2F%20-2%5E53%2B1%5Cn%5Cn%20%20%2F%2F%2020.1.2.9%20Number.MIN_VALUE%5Cn%20%20%2F%2F%2020.1.2.10%20Number.NaN%5Cn%20%20%2F%2F%2020.1.2.11%20Number.NEGATIVE_INFINITY%5Cn%5Cn%20%20%2F%2F%2020.1.2.12%20Number.parseFloat%20(%20string%20)%5Cn%20%20define(Number%2C%20'parseFloat'%2C%20%24parseFloat)%3B%5Cn%5Cn%20%20%2F%2F%2020.1.2.13%20Number.parseInt%20(%20string%2C%20radix%20)%5Cn%20%20define(Number%2C%20'parseInt'%2C%20%24parseInt)%3B%5Cn%5Cn%20%20%2F%2F%2020.1.2.14%20Number.POSITIVE_INFINITY%5Cn%20%20%2F%2F%2020.1.2.15%20Number.prototype%5Cn%5Cn%20%20%2F%2F%2020.1.3%20Properties%20of%20the%20Number%20Prototype%20Object%5Cn%20%20%2F%2F%2020.1.3.1%20Number.prototype.constructor%5Cn%20%20%2F%2F%2020.1.3.2%20Number.prototype.toExponential%20(%20fractionDigits%20)%5Cn%20%20%2F%2F%2020.1.3.3%20Number.prototype.toFixed%20(%20fractionDigits%20)%5Cn%20%20%2F%2F%2020.1.3.4%20Number.prototype.toLocaleString(%20%5B%20reserved1%20%5B%20%2C%20reserved2%20%5D%20%5D)%5Cn%20%20%2F%2F%2020.1.3.5%20Number.prototype.toPrecision%20(%20precision%20)%5Cn%20%20%2F%2F%2020.1.3.6%20Number.prototype.toString%20(%20%5B%20radix%20%5D%20)%5Cn%20%20%2F%2F%2020.1.3.7%20Number.prototype.valueOf%20(%20)%5Cn%20%20%2F%2F%2020.1.4%20Properties%20of%20Number%20Instances%5Cn%5Cn%20%20%2F%2F%20---------------------------------------%5Cn%20%20%2F%2F%2020.2%20The%20Math%20Object%5Cn%20%20%2F%2F%20---------------------------------------%5Cn%5Cn%20%20%2F%2F%2020.2.1%20Value%20Properties%20of%20the%20Math%20Object%5Cn%20%20%2F%2F%2020.2.1.1%20Math.E%5Cn%20%20%2F%2F%2020.2.1.2%20Math.LN10%5Cn%20%20%2F%2F%2020.2.1.3%20Math.LN2%5Cn%20%20%2F%2F%2020.2.1.4%20Math.LOG10E%5Cn%20%20%2F%2F%2020.2.1.5%20Math.LOG2E%5Cn%20%20%2F%2F%2020.2.1.6%20Math.PI%5Cn%20%20%2F%2F%2020.2.1.7%20Math.SQRT1_2%5Cn%20%20%2F%2F%2020.2.1.8%20Math.SQRT2%5Cn%5Cn%20%20%2F%2F%2020.2.1.9%20Math%20%5B%20%40%40toStringTag%20%5D%5Cn%20%20define(Math%2C%20%24%24toStringTag%2C%20'Math')%3B%5Cn%5Cn%20%20%2F%2F%2020.2.2%20Function%20Properties%20of%20the%20Math%20Object%5Cn%20%20%2F%2F%2020.2.2.1%20Math.abs%20(%20x%20)%5Cn%20%20%2F%2F%2020.2.2.2%20Math.acos%20(%20x%20)%5Cn%5Cn%20%20%2F%2F%2020.2.2.3%20Math.acosh(x)%5Cn%20%20define(%5Cn%20%20%20%20Math%2C%20'acosh'%2C%5Cn%20%20%20%20function%20acosh(x)%20%7B%5Cn%20%20%20%20%20%20x%20%3D%20Number(x)%3B%5Cn%20%20%20%20%20%20return%20log(x%20%2B%20sqrt(x%20*%20x%20-%201))%3B%5Cn%20%20%20%20%7D)%3B%5Cn%5Cn%20%20%2F%2F%2020.2.2.4%20Math.asin%20(%20x%20)%5Cn%5Cn%20%20%2F%2F%2020.2.2.5%20Math.asinh(%20x%20)%5Cn%20%20define(%5Cn%20%20%20%20Math%2C%20'asinh'%2C%5Cn%20%20%20%20function%20asinh(x)%20%7B%5Cn%20%20%20%20%20%20x%20%3D%20Number(x)%3B%5Cn%20%20%20%20%20%20if%20(SameValue(x%2C%20-0))%20%7B%5Cn%20%20%20%20%20%20%20%20return%20x%3B%5Cn%20%20%20%20%20%20%7D%5Cn%20%20%20%20%20%20var%20s%20%3D%20sqrt(x%20*%20x%20%2B%201)%3B%5Cn%20%20%20%20%20%20return%20(s%20%3D%3D%3D%20-x)%20%3F%20log(0)%20%3A%20log(x%20%2B%20s)%3B%5Cn%20%20%20%20%7D)%3B%5Cn%5Cn%20%20%2F%2F%2020.2.2.6%20Math.atan%20(%20x%20)%5Cn%5Cn%20%20%2F%2F%2020.2.2.7%20Math.atanh(%20x%20)%5Cn%20%20define(%5Cn%20%20%20%20Math%2C%20'atanh'%2C%5Cn%20%20%20%20function%20atanh(x)%20%7B%5Cn%20%20%20%20%20%20x%20%3D%20Number(x)%3B%5Cn%20%20%20%20%20%20return%20(x%20%3D%3D%3D%200)%20%3F%20x%20%3A%20log((1%20%2B%20x)%20%2F%20(1%20-%20x))%20%2F%202%3B%5Cn%20%20%20%20%7D)%3B%5Cn%5Cn%20%20%2F%2F%2020.2.2.8%20Math.atan2%20(%20y%2C%20x%20)%5Cn%5Cn%20%20%2F%2F%2020.2.2.9%20Math.cbrt%20(%20x%20)%5Cn%20%20define(%5Cn%20%20%20%20Math%2C%20'cbrt'%2C%5Cn%20%20%20%20function%20cbrt(x)%20%7B%5Cn%20%20%20%20%20%20x%20%3D%20Number(x)%3B%5Cn%20%20%20%20%20%20if%20(%24isNaN(x%2Fx))%20%7B%5Cn%20%20%20%20%20%20%20%20return%20x%3B%5Cn%20%20%20%20%20%20%7D%5Cn%20%20%20%20%20%20var%20r%20%3D%20pow(abs(x)%2C%201%2F3)%3B%5Cn%20%20%20%20%20%20var%20t%20%3D%20x%2Fr%2Fr%3B%5Cn%20%20%20%20%20%20return%20r%20%2B%20(r%20*%20(t-r)%20%2F%20(2*r%20%2B%20t))%3B%5Cn%20%20%20%20%7D)%3B%5Cn%5Cn%20%20%2F%2F%2020.2.2.10%20Math.ceil%20(%20x%20)%5Cn%5Cn%20%20%2F%2F%2020.2.2.11%20Math.clz32%20(%20x%20)%5Cn%20%20define(%5Cn%20%20%20%20Math%2C%20'clz32'%2C%5Cn%20%20%20%20function%20clz32(x)%20%7B%5Cn%20%20%20%20%20%20function%20clz8(x)%20%7B%5Cn%20%20%20%20%20%20%20%20return%20(x%20%26%200xf0)%20%3F%20(x%20%26%200x80%20%3F%200%20%3A%20x%20%26%200x40%20%3F%201%20%3A%20x%20%26%200x20%20%3F%202%20%3A%203)%20%3A%5Cn%20%20%20%20%20%20%20%20(x%20%26%200x08%20%3F%204%20%3A%20x%20%26%200x04%20%3F%205%20%3A%20x%20%26%200x02%20%3F%206%20%3A%20x%20%26%200x01%20%3F%207%20%3A%208)%3B%5Cn%20%20%20%20%20%20%7D%5Cn%20%20%20%20%20%20x%20%3D%20ToUint32(x)%3B%5Cn%20%20%20%20%20%20return%20x%20%26%200xff000000%20%3F%20clz8(x%20%3E%3E%2024)%20%3A%5Cn%20%20%20%20%20%20%20%20x%20%26%200xff0000%20%3F%20clz8(x%20%3E%3E%2016)%20%2B%208%20%3A%5Cn%20%20%20%20%20%20%20%20x%20%26%200xff00%20%3F%20clz8(x%20%3E%3E%208)%20%2B%2016%20%3A%20clz8(x)%20%2B%2024%3B%5Cn%20%20%20%20%7D)%3B%5Cn%5Cn%5Cn%5Cn%20%20%2F%2F%2020.2.2.12%20Math.cos%20(%20x%20)%5Cn%5Cn%20%20%2F%2F%2020.2.2.13%20Math.cosh%20(%20x%20)%5Cn%20%20define(%5Cn%20%20%20%20Math%2C%20'cosh'%2C%5Cn%20%20%20%20function%20cosh(x)%20%7B%5Cn%20%20%20%20%20%20x%20%3D%20Number(x)%3B%5Cn%20%20%20%20%20%20return%20(pow(E%2C%20x)%20%2B%20pow(E%2C%20-x))%20%2F%202%3B%5Cn%20%20%20%20%7D)%3B%5Cn%5Cn%20%20%2F%2F%2020.2.2.14%20Math.exp%20(%20x%20)%5Cn%5Cn%20%20%2F%2F%2020.2.2.15%20Math.expm1%20(%20x%20)%5Cn%20%20define(%5Cn%20%20%20%20Math%2C%20'expm1'%2C%5Cn%20%20%20%20function%20expm1(x)%20%7B%5Cn%20%20%20%20%20%20x%20%3D%20Number(x)%3B%5Cn%20%20%20%20%20%20%2F%2F%20from%3A%20http%3A%2F%2Fwww.johndcook.com%2Fcpp_log1p.html%5Cn%20%20%20%20%20%20if%20(SameValue(x%2C%20-0))%20%7B%5Cn%20%20%20%20%20%20%20%20return%20-0%3B%5Cn%20%20%20%20%20%20%7D%20else%20if%20(abs(x)%20%3C%201e-5)%20%7B%5Cn%20%20%20%20%20%20%20%20return%20x%20%2B%200.5%20*%20x%20*%20x%3B%20%2F%2F%20two%20terms%20of%20Taylor%20expansion%5Cn%20%20%20%20%20%20%7D%20else%20%7B%5Cn%20%20%20%20%20%20%20%20return%20exp(x)%20-%201%3B%5Cn%20%20%20%20%20%20%7D%5Cn%20%20%20%20%7D)%3B%5Cn%5Cn%20%20%2F%2F%2020.2.2.16%20Math.floor%20(%20x%20)%5Cn%5Cn%20%20%2F%2F%2020.2.2.17%20Math.fround%20(%20x%20)%5Cn%20%20define(%5Cn%20%20%20%20Math%2C%20'fround'%2C%5Cn%20%20%20%20function%20fround(x)%20%7B%5Cn%20%20%20%20%20%20if%20(%24isNaN(x))%20%7B%5Cn%20%20%20%20%20%20%20%20return%20NaN%3B%5Cn%20%20%20%20%20%20%7D%5Cn%20%20%20%20%20%20if%20(1%2Fx%20%3D%3D%3D%20%2BInfinity%20%7C%7C%201%2Fx%20%3D%3D%3D%20-Infinity%20%7C%7C%20x%20%3D%3D%3D%20%2BInfinity%20%7C%7C%20x%20%3D%3D%3D%20-Infinity)%20%7B%5Cn%20%20%20%20%20%20%20%20return%20x%3B%5Cn%20%20%20%20%20%20%7D%5Cn%20%20%20%20%20%20return%20(new%20Float32Array(%5Bx%5D))%5B0%5D%3B%5Cn%20%20%20%20%7D)%3B%5Cn%5Cn%20%20%2F%2F%2020.2.2.18%20Math.hypot%20(%20value1%20%5B%2C%20value2%20%5B%20...%20%5D%20%5D%20)%5Cn%20%20define(%5Cn%20%20%20%20Math%2C%20'hypot'%2C%5Cn%20%20%20%20function%20hypot()%20%7B%5Cn%20%20%20%20%20%20var%20values%20%3D%20%5B%5D%3B%5Cn%20%20%20%20%20%20var%20m%20%3D%200%2C%20sawNaN%20%3D%20false%3B%5Cn%20%20%20%20%20%20for%20(var%20i%20%3D%200%3B%20i%20%3C%20arguments.length%3B%20%2B%2Bi)%20%7B%5Cn%20%20%20%20%20%20%20%20var%20n%20%3D%20abs(Number(arguments%5Bi%5D))%3B%5Cn%20%20%20%20%20%20%20%20if%20(n%20%3D%3D%3D%20Infinity)%20return%20n%3B%5Cn%20%20%20%20%20%20%20%20if%20(n%20!%3D%3D%20n)%20sawNaN%20%3D%20true%3B%5Cn%20%20%20%20%20%20%20%20if%20(n%20%3E%20m)%20m%20%3D%20n%3B%5Cn%20%20%20%20%20%20%20%20values%5Bi%5D%20%3D%20n%3B%5Cn%20%20%20%20%20%20%7D%5Cn%20%20%20%20%20%20if%20(sawNaN)%20return%20NaN%3B%5Cn%20%20%20%20%20%20if%20(m%20%3D%3D%3D%200)%20return%20%2B0%3B%5Cn%20%20%20%20%20%20var%20sum%20%3D%20%2B0%3B%5Cn%20%20%20%20%20%20for%20(i%20%3D%200%3B%20i%20%3C%20values.length%3B%20%2B%2Bi)%20%7B%5Cn%20%20%20%20%20%20%20%20var%20r%20%3D%20values%5Bi%5D%20%2F%20m%3B%5Cn%20%20%20%20%20%20%20%20sum%20%3D%20sum%20%2B%20r%20*%20r%3B%5Cn%20%20%20%20%20%20%7D%5Cn%20%20%20%20%20%20return%20m%20*%20sqrt(sum)%3B%5Cn%20%20%20%20%7D)%3B%5Cn%5Cn%20%20%2F%2F%2020.2.2.19%20Math.imul%20(%20x%2C%20y%20)%5Cn%20%20define(%5Cn%20%20%20%20Math%2C%20'imul'%2C%5Cn%20%20%20%20function%20imul(x%2C%20y)%20%7B%5Cn%20%20%20%20%20%20var%20a%20%3D%20ToUint32(x)%3B%5Cn%20%20%20%20%20%20var%20b%20%3D%20ToUint32(y)%3B%5Cn%20%20%20%20%20%20%2F%2F%20(slow%20but%20accurate)%5Cn%20%20%20%20%20%20var%20ah%20%20%3D%20(a%20%3E%3E%3E%2016)%20%26%200xffff%3B%5Cn%20%20%20%20%20%20var%20al%20%3D%20a%20%26%200xffff%3B%5Cn%20%20%20%20%20%20var%20bh%20%20%3D%20(b%20%3E%3E%3E%2016)%20%26%200xffff%3B%5Cn%20%20%20%20%20%20var%20bl%20%3D%20b%20%26%200xffff%3B%5Cn%20%20%20%20%20%20return%20((al%20*%20bl)%20%2B%20(((ah%20*%20bl%20%2B%20al%20*%20bh)%20%3C%3C%2016)%20%3E%3E%3E%200)%7C0)%3B%5Cn%20%20%20%20%7D%2C%20('imul'%20in%20Math%20%26%26%20Math.imul(1%2C%200x80000000)%20%3D%3D%3D%200)%20%2F%2F%20Safari%207%20bug%5Cn%20%20)%3B%5Cn%5Cn%20%20%2F%2F%2020.2.2.20%20Math.log%20(%20x%20)%5Cn%5Cn%20%20%2F%2F%2020.2.2.21%20Math.log1p%20(%20x%20)%5Cn%20%20define(%5Cn%20%20%20%20Math%2C%20'log1p'%2C%5Cn%20%20%20%20function%20log1p(x)%20%7B%5Cn%20%20%20%20%20%20x%20%3D%20Number(x)%3B%5Cn%20%20%20%20%20%20%2F%2F%20from%3A%20http%3A%2F%2Fwww.johndcook.com%2Fcpp_expm1.html%5Cn%20%20%20%20%20%20if%20(x%20%3C%20-1)%20%7B%5Cn%20%20%20%20%20%20%20%20return%20NaN%3B%5Cn%20%20%20%20%20%20%7D%20else%20if%20(SameValue(x%2C%20-0))%20%7B%5Cn%20%20%20%20%20%20%20%20return%20-0%3B%5Cn%20%20%20%20%20%20%7D%20else%20if%20(abs(x)%20%3E%201e-4)%20%7B%5Cn%20%20%20%20%20%20%20%20return%20log(1%20%2B%20x)%3B%5Cn%20%20%20%20%20%20%7D%20else%20%7B%5Cn%20%20%20%20%20%20%20%20return%20(-0.5%20*%20x%20%2B%201)%20*%20x%3B%5Cn%20%20%20%20%20%20%7D%5Cn%20%20%20%20%7D)%3B%5Cn%5Cn%20%20%2F%2F%2020.2.2.22%20Math.log10%20(%20x%20)%5Cn%20%20define(%5Cn%20%20%20%20Math%2C%20'log10'%2C%5Cn%20%20%20%20function%20log10(x)%20%7B%5Cn%20%20%20%20%20%20x%20%3D%20Number(x)%3B%5Cn%20%20%20%20%20%20return%20log(x)%20*%20LOG10E%3B%5Cn%20%20%20%20%7D)%3B%5Cn%5Cn%20%20%2F%2F%2020.2.2.23%20Math.log2%20(%20x%20)%5Cn%20%20define(%5Cn%20%20%20%20Math%2C%20'log2'%2C%5Cn%20%20%20%20function%20log2(x)%20%7B%5Cn%20%20%20%20%20%20x%20%3D%20Number(x)%3B%5Cn%20%20%20%20%20%20return%20log(x)%20*%20LOG2E%3B%5Cn%20%20%20%20%7D)%3B%5Cn%5Cn%20%20%2F%2F%2020.2.2.24%20Math.max%20(%20value1%2C%20value2%20%2C%20...values%20)%5Cn%20%20%2F%2F%2020.2.2.25%20Math.min%20(%20value1%2C%20value2%20%2C%20...values%20)%5Cn%20%20%2F%2F%2020.2.2.26%20Math.pow%20(%20x%2C%20y%20)%5Cn%20%20%2F%2F%2020.2.2.27%20Math.random%20(%20)%5Cn%20%20%2F%2F%2020.2.2.28%20Math.round%20(%20x%20)%5Cn%5Cn%20%20%2F%2F%2020.2.2.29%20Math.sign(x)%5Cn%20%20define(%5Cn%20%20%20%20Math%2C%20'sign'%2C%5Cn%20%20%20%20function%20sign(x)%20%7B%5Cn%20%20%20%20%20%20x%20%3D%20Number(x)%3B%5Cn%20%20%20%20%20%20return%20x%20%3C%200%20%3F%20-1%20%3A%20x%20%3E%200%20%3F%201%20%3A%20x%3B%5Cn%20%20%20%20%7D)%3B%5Cn%5Cn%20%20%2F%2F%2020.2.2.30%20Math.sin%20(%20x%20)%5Cn%5Cn%20%20%2F%2F%2020.2.2.31%20Math.sinh(%20x%20)%5Cn%20%20define(%5Cn%20%20%20%20Math%2C%20'sinh'%2C%5Cn%20%20%20%20function%20sinh(x)%20%7B%5Cn%20%20%20%20%20%20x%20%3D%20Number(x)%3B%5Cn%20%20%20%20%20%20return%20SameValue(x%2C%20-0)%20%3F%20x%20%3A%20(pow(E%2C%20x)%20-%20pow(E%2C%20-x))%20%2F%202%3B%5Cn%20%20%20%20%7D)%3B%5Cn%5Cn%20%20%2F%2F%2020.2.2.32%20Math.sqrt%20(%20x%20)%5Cn%20%20%2F%2F%2020.2.2.33%20Math.tan%20(%20x%20)%5Cn%5Cn%20%20%2F%2F%2020.2.2.34%20Math.tanh%20(%20x%20)%5Cn%20%20define(%5Cn%20%20%20%20Math%2C%20'tanh'%2C%5Cn%20%20%20%20function%20tanh(x)%20%7B%5Cn%20%20%20%20%20%20x%20%3D%20Number(x)%3B%5Cn%20%20%20%20%20%20var%20n%20%3D%20pow(E%2C%202%20*%20x)%20-%201%2C%5Cn%20%20%20%20%20%20%20%20%20%20d%20%3D%20pow(E%2C%202%20*%20x)%20%2B%201%3B%5Cn%20%20%20%20%20%20if%20(SameValue(x%2C%20-0))%5Cn%20%20%20%20%20%20%20%20return%20x%3B%5Cn%20%20%20%20%20%20return%20(n%20%3D%3D%3D%20d)%20%3F%201%20%3A%20n%20%2F%20d%3B%20%2F%2F%20Handle%20Infinity%2FInfinity%5Cn%20%20%20%20%7D)%3B%5Cn%5Cn%20%20%2F%2F%2020.2.2.35%20Math.trunc%20(%20x%20)%5Cn%20%20define(%5Cn%20%20%20%20Math%2C%20'trunc'%2C%5Cn%20%20%20%20function%20trunc(x)%20%7B%5Cn%20%20%20%20%20%20x%20%3D%20Number(x)%3B%5Cn%20%20%20%20%20%20return%20%24isNaN(x)%20%3F%20NaN%20%3A%5Cn%20%20%20%20%20%20%20%20x%20%3C%200%20%3F%20ceil(x)%20%3A%20floor(x)%3B%5Cn%20%20%20%20%7D)%3B%5Cn%5Cn%20%20%2F%2F%20---------------------------------------%5Cn%20%20%2F%2F%2020.3%20Date%20Objects%5Cn%20%20%2F%2F%20---------------------------------------%5Cn%5Cn%20%20%2F%2F%2020.3.1%20Overview%20of%20Date%20Objects%20and%20Definitions%20of%20Abstract%20Operations%5Cn%20%20%2F%2F%2020.3.1.1%20Time%20Values%20and%20Time%20Range%5Cn%20%20%2F%2F%2020.3.1.2%20Day%20Number%20and%20Time%20within%20Day%5Cn%20%20%2F%2F%2020.3.1.3%20Year%20Number%5Cn%20%20%2F%2F%2020.3.1.4%20Month%20Number%5Cn%20%20%2F%2F%2020.3.1.5%20Date%20Number%5Cn%20%20%2F%2F%2020.3.1.6%20Week%20Day%5Cn%20%20%2F%2F%2020.3.1.7%20Local%20Time%20Zone%20Adjustment%5Cn%20%20%2F%2F%2020.3.1.8%20Daylight%20Saving%20Time%20Adjustment%5Cn%20%20%2F%2F%2020.3.1.9%20Local%20Time%5Cn%20%20%2F%2F%2020.3.1.10%20Hours%2C%20Minutes%2C%20Second%2C%20and%20Milliseconds%5Cn%20%20%2F%2F%2020.3.1.11%20MakeTime%20(hour%2C%20min%2C%20sec%2C%20ms)%5Cn%20%20%2F%2F%2020.3.1.12%20MakeDay%20(year%2C%20month%2C%20date)%5Cn%20%20%2F%2F%2020.3.1.13%20MakeDate%20(day%2C%20time)%5Cn%20%20%2F%2F%2020.3.1.14%20TimeClip%20(time)%5Cn%20%20%2F%2F%2020.3.1.15%20Date%20Time%20String%20Format%5Cn%20%20%2F%2F%2020.3.1.15.1%20Extended%20years%5Cn%20%20%2F%2F%2020.3.2%20The%20Date%20Constructor%5Cn%20%20%2F%2F%2020.3.2.1%20Date%20(%20year%2C%20month%20%5B%2C%20date%20%5B%20%2C%20hours%20%5B%20%2C%20minutes%20%5B%20%2C%20seconds%20%5B%20%2C%20ms%20%5D%20%5D%20%5D%20%5D%20%5D%20)%5Cn%20%20%2F%2F%2020.3.2.2%20Date%20(%20value%20)%5Cn%20%20%2F%2F%2020.3.2.3%20Date%20(%20)%5Cn%20%20%2F%2F%2020.3.3%20Properties%20of%20the%20Date%20Constructor%5Cn%20%20%2F%2F%2020.3.3.1%20Date.now%20(%20)%5Cn%20%20%2F%2F%2020.3.3.2%20Date.parse%20(string)%5Cn%20%20%2F%2F%2020.3.3.3%20Date.prototype%5Cn%20%20%2F%2F%2020.3.3.4%20Date.UTC%20(%20year%2C%20month%20%5B%20%2C%20date%20%5B%20%2C%20hours%20%5B%20%2C%20minutes%20%5B%20%2C%20seconds%20%5B%20%2C%20ms%20%5D%20%5D%20%5D%20%5D%20%5D%20)%5Cn%20%20%2F%2F%2020.3.4%20Properties%20of%20the%20Date%20Prototype%20Object%5Cn%20%20%2F%2F%2020.3.4.1%20Date.prototype.constructor%5Cn%20%20%2F%2F%2020.3.4.2%20Date.prototype.getDate%20(%20)%5Cn%20%20%2F%2F%2020.3.4.3%20Date.prototype.getDay%20(%20)%5Cn%20%20%2F%2F%2020.3.4.4%20Date.prototype.getFullYear%20(%20)%5Cn%20%20%2F%2F%2020.3.4.5%20Date.prototype.getHours%20(%20)%5Cn%20%20%2F%2F%2020.3.4.6%20Date.prototype.getMilliseconds%20(%20)%5Cn%20%20%2F%2F%2020.3.4.7%20Date.prototype.getMinutes%20(%20)%5Cn%20%20%2F%2F%2020.3.4.8%20Date.prototype.getMonth%20(%20)%5Cn%20%20%2F%2F%2020.3.4.9%20Date.prototype.getSeconds%20(%20)%5Cn%20%20%2F%2F%2020.3.4.10%20Date.prototype.getTime%20(%20)%5Cn%20%20%2F%2F%2020.3.4.11%20Date.prototype.getTimezoneOffset%20(%20)%5Cn%20%20%2F%2F%2020.3.4.12%20Date.prototype.getUTCDate%20(%20)%5Cn%20%20%2F%2F%2020.3.4.13%20Date.prototype.getUTCDay%20(%20)%5Cn%20%20%2F%2F%2020.3.4.14%20Date.prototype.getUTCFullYear%20(%20)%5Cn%20%20%2F%2F%2020.3.4.15%20Date.prototype.getUTCHours%20(%20)%5Cn%20%20%2F%2F%2020.3.4.16%20Date.prototype.getUTCMilliseconds%20(%20)%5Cn%20%20%2F%2F%2020.3.4.17%20Date.prototype.getUTCMinutes%20(%20)%5Cn%20%20%2F%2F%2020.3.4.18%20Date.prototype.getUTCMonth%20(%20)%5Cn%20%20%2F%2F%2020.3.4.19%20Date.prototype.getUTCSeconds%20(%20)%5Cn%20%20%2F%2F%2020.3.4.20%20Date.prototype.setDate%20(%20date%20)%5Cn%20%20%2F%2F%2020.3.4.21%20Date.prototype.setFullYear%20(%20year%20%5B%20%2C%20month%20%5B%20%2C%20date%20%5D%20%5D%20)%5Cn%20%20%2F%2F%2020.3.4.22%20Date.prototype.setHours%20(%20hour%20%5B%20%2C%20min%20%5B%20%2C%20sec%20%5B%20%2C%20ms%20%5D%20%5D%20%5D%20)%5Cn%20%20%2F%2F%2020.3.4.23%20Date.prototype.setMilliseconds%20(%20ms%20)%5Cn%20%20%2F%2F%2020.3.4.24%20Date.prototype.setMinutes%20(%20min%20%5B%20%2C%20sec%20%5B%20%2C%20ms%20%5D%20%5D%20)%5Cn%20%20%2F%2F%2020.3.4.25%20Date.prototype.setMonth%20(%20month%20%5B%20%2C%20date%20%5D%20)%5Cn%20%20%2F%2F%2020.3.4.26%20Date.prototype.setSeconds%20(%20sec%20%5B%20%2C%20ms%20%5D%20)%5Cn%20%20%2F%2F%2020.3.4.27%20Date.prototype.setTime%20(%20time%20)%5Cn%20%20%2F%2F%2020.3.4.28%20Date.prototype.setUTCDate%20(%20date%20)%5Cn%20%20%2F%2F%2020.3.4.29%20Date.prototype.setUTCFullYear%20(%20year%20%5B%20%2C%20month%20%5B%20%2C%20date%20%5D%20%5D%20)%5Cn%20%20%2F%2F%2020.3.4.30%20Date.prototype.setUTCHours%20(%20hour%20%5B%20%2C%20min%20%5B%20%2C%20sec%20%5B%20%2C%20ms%20%5D%20%5D%20%5D%20)%5Cn%20%20%2F%2F%2020.3.4.31%20Date.prototype.setUTCMilliseconds%20(%20ms%20)%5Cn%20%20%2F%2F%2020.3.4.32%20Date.prototype.setUTCMinutes%20(%20min%20%5B%20%2C%20sec%20%5B%2C%20ms%20%5D%20%5D%20)%5Cn%20%20%2F%2F%2020.3.4.33%20Date.prototype.setUTCMonth%20(%20month%20%5B%20%2C%20date%20%5D%20)%5Cn%20%20%2F%2F%2020.3.4.34%20Date.prototype.setUTCSeconds%20(%20sec%20%5B%20%2C%20ms%20%5D%20)%5Cn%20%20%2F%2F%2020.3.4.35%20Date.prototype.toDateString%20(%20)%5Cn%20%20%2F%2F%2020.3.4.36%20Date.prototype.toISOString%20(%20)%5Cn%20%20%2F%2F%2020.3.4.37%20Date.prototype.toJSON%20(%20key%20)%5Cn%20%20%2F%2F%2020.3.4.38%20Date.prototype.toLocaleDateString%20(%20%5B%20reserved1%20%5B%20%2C%20reserved2%20%5D%20%5D%20)%5Cn%20%20%2F%2F%2020.3.4.39%20Date.prototype.toLocaleString%20(%20%5B%20reserved1%20%5B%20%2C%20reserved2%20%5D%20%5D%20)%5Cn%20%20%2F%2F%2020.3.4.40%20Date.prototype.toLocaleTimeString%20(%20%5B%20reserved1%20%5B%20%2C%20reserved2%20%5D%20%5D%20)%5Cn%20%20%2F%2F%2020.3.4.41%20Date.prototype.toString%20(%20)%5Cn%20%20%2F%2F%2020.3.4.42%20Date.prototype.toTimeString%20(%20)%5Cn%20%20%2F%2F%2020.3.4.43%20Date.prototype.toUTCString%20(%20)%5Cn%20%20%2F%2F%2020.3.4.44%20Date.prototype.valueOf%20(%20)%5Cn%20%20%2F%2F%2020.3.4.45%20Date.prototype%20%5B%20%40%40toPrimitive%20%5D%20(%20hint%20)%5Cn%20%20%2F%2F%2020.3.5%20Properties%20of%20Date%20Instances%5Cn%5Cn%20%20%2F%2F%20(No%20polyfillable%20changes%20from%20ES5)%5Cn%5Cn%20%20%2F%2F%20---------------------------------------%5Cn%20%20%2F%2F%2021%20Text%20Processing%5Cn%20%20%2F%2F%20---------------------------------------%5Cn%5Cn%20%20var%20string_regexp_dispatch%20%3D%20(function()%20%7B%5Cn%20%20%20%20var%20faux%20%3D%20%7B%7D%2C%20secret%20%3D%20Symbol()%3B%5Cn%20%20%20%20faux%5BSymbol.match%5D%20%3D%20function()%20%7B%20return%20secret%3B%20%7D%3B%5Cn%20%20%20%20return%20(%5C%22%5C%22).match(faux)%20%3D%3D%3D%20secret%3B%5Cn%20%20%7D())%3B%5Cn%5Cn%20%20%2F%2F%2021.1%20String%20Objects%5Cn%20%20%2F%2F%2021.1.1%20The%20String%20Constructor%5Cn%20%20%2F%2F%2021.1.1.1%20String%20(%20value%20)%5Cn%20%20%2F%2F%2021.1.2%20Properties%20of%20the%20String%20Constructor%5Cn%20%20%2F%2F%2021.1.2.1%20String.fromCharCode%20(%20...codeUnits%20)%5Cn%5Cn%20%20%2F%2F%2021.1.2.2%20String.fromCodePoint%20(%20...codePoints%20)%5Cn%20%20define(%5Cn%20%20%20%20String%2C%20'fromCodePoint'%2C%5Cn%20%20%20%20function%20fromCodePoint(%2F*...codePoints*%2F)%20%7B%5Cn%20%20%20%20%20%20var%20codePoints%20%3D%20arguments%2C%5Cn%20%20%20%20%20%20%20%20%20%20length%20%3D%20codePoints.length%2C%5Cn%20%20%20%20%20%20%20%20%20%20elements%20%3D%20%5B%5D%2C%5Cn%20%20%20%20%20%20%20%20%20%20nextIndex%20%3D%200%3B%5Cn%20%20%20%20%20%20while%20(nextIndex%20%3C%20length)%20%7B%5Cn%20%20%20%20%20%20%20%20var%20next%20%3D%20codePoints%5BnextIndex%5D%3B%5Cn%20%20%20%20%20%20%20%20var%20nextCP%20%3D%20Number(next)%3B%5Cn%20%20%20%20%20%20%20%20if%20(!SameValue(nextCP%2C%20ToInteger(nextCP))%20%7C%7C%5Cn%20%20%20%20%20%20%20%20%20%20%20%20nextCP%20%3C%200%20%7C%7C%20nextCP%20%3E%200x10FFFF)%20%7B%5Cn%20%20%20%20%20%20%20%20%20%20throw%20RangeError('Invalid%20code%20point%20'%20%2B%20nextCP)%3B%5Cn%20%20%20%20%20%20%20%20%7D%5Cn%20%20%20%20%20%20%20%20if%20(nextCP%20%3C%200x10000)%20%7B%5Cn%20%20%20%20%20%20%20%20%20%20elements.push(String.fromCharCode(nextCP))%3B%5Cn%20%20%20%20%20%20%20%20%7D%20else%20%7B%5Cn%20%20%20%20%20%20%20%20%20%20nextCP%20-%3D%200x10000%3B%5Cn%20%20%20%20%20%20%20%20%20%20elements.push(String.fromCharCode((nextCP%20%3E%3E%2010)%20%2B%200xD800))%3B%5Cn%20%20%20%20%20%20%20%20%20%20elements.push(String.fromCharCode((nextCP%20%25%200x400)%20%2B%200xDC00))%3B%5Cn%20%20%20%20%20%20%20%20%7D%5Cn%20%20%20%20%20%20%20%20nextIndex%20%2B%3D%201%3B%5Cn%20%20%20%20%20%20%7D%5Cn%20%20%20%20%20%20return%20elements.join('')%3B%5Cn%20%20%20%20%7D)%3B%5Cn%5Cn%20%20%2F%2F%2021.1.2.3%20String.prototype%5Cn%5Cn%20%20%2F%2F%2021.1.2.4%20String.raw%20(%20template%20%2C%20...substitutions%20)%5Cn%20%20define(%5Cn%20%20%20%20String%2C%20'raw'%2C%5Cn%20%20%20%20function%20raw(template%20%2F*%2C%20...substitutions*%2F)%20%7B%5Cn%20%20%20%20%20%20var%20substitutions%20%3D%20%5B%5D.slice.call(arguments%2C%201)%3B%5Cn%5Cn%20%20%20%20%20%20var%20cooked%20%3D%20Object(template)%3B%5Cn%20%20%20%20%20%20var%20rawValue%20%3D%20cooked%5B'raw'%5D%3B%5Cn%20%20%20%20%20%20var%20raw%20%3D%20Object(rawValue)%3B%5Cn%20%20%20%20%20%20var%20len%20%3D%20raw%5B'length'%5D%3B%5Cn%20%20%20%20%20%20var%20literalSegments%20%3D%20ToLength(len)%3B%5Cn%20%20%20%20%20%20if%20(literalSegments%20%3C%3D%200)%20return%20''%3B%5Cn%20%20%20%20%20%20var%20stringElements%20%3D%20%5B%5D%3B%5Cn%20%20%20%20%20%20var%20nextIndex%20%3D%200%3B%5Cn%20%20%20%20%20%20while%20(true)%20%7B%5Cn%20%20%20%20%20%20%20%20var%20next%20%3D%20raw%5BnextIndex%5D%3B%5Cn%20%20%20%20%20%20%20%20var%20nextSeg%20%3D%20String(next)%3B%5Cn%20%20%20%20%20%20%20%20stringElements.push(nextSeg)%3B%5Cn%20%20%20%20%20%20%20%20if%20(nextIndex%20%2B%201%20%3D%3D%3D%20literalSegments)%5Cn%20%20%20%20%20%20%20%20%20%20return%20stringElements.join('')%3B%5Cn%20%20%20%20%20%20%20%20next%20%3D%20substitutions%5BnextIndex%5D%3B%5Cn%20%20%20%20%20%20%20%20var%20nextSub%20%3D%20String(next)%3B%5Cn%20%20%20%20%20%20%20%20stringElements.push(nextSub)%3B%5Cn%20%20%20%20%20%20%20%20nextIndex%20%3D%20nextIndex%20%2B%201%3B%5Cn%20%20%20%20%20%20%7D%5Cn%20%20%20%20%7D)%3B%5Cn%5Cn%20%20%2F%2F%20See%20https%3A%2F%2Fgithib.com%2Finexorabletash%2Fuate%20for%20a%20more%20useful%20version.%5Cn%5Cn%20%20%2F%2F%2021.1.3%20Properties%20of%20the%20String%20Prototype%20Object%5Cn%20%20%2F%2F%2021.1.3.1%20String.prototype.charAt%20(%20pos%20)%5Cn%20%20%2F%2F%2021.1.3.2%20String.prototype.charCodeAt%20(%20pos%20)%5Cn%5Cn%20%20%2F%2F%2021.1.3.3%20String.prototype.codePointAt%20(%20pos%20)%5Cn%20%20define(%5Cn%20%20%20%20String.prototype%2C%20'codePointAt'%2C%5Cn%20%20%20%20function%20codePointAt(pos)%20%7B%5Cn%20%20%20%20%20%20var%20o%20%3D%20strict(this)%3B%5Cn%20%20%20%20%20%20var%20s%20%3D%20String(o)%3B%5Cn%20%20%20%20%20%20var%20position%20%3D%20ToInteger(pos)%3B%5Cn%20%20%20%20%20%20var%20size%20%3D%20s.length%3B%5Cn%20%20%20%20%20%20if%20(position%20%3C%200%20%7C%7C%20position%20%3E%3D%20size)%20return%20undefined%3B%5Cn%20%20%20%20%20%20var%20first%20%3D%20s.charCodeAt(position)%3B%5Cn%20%20%20%20%20%20if%20(first%20%3C%200xD800%20%7C%7C%20first%20%3E%200xDBFF%20%7C%7C%20position%20%2B%201%20%3D%3D%3D%20size)%20return%20first%3B%5Cn%20%20%20%20%20%20var%20second%20%3D%20s.charCodeAt(position%20%2B%201)%3B%5Cn%20%20%20%20%20%20if%20(second%20%3C%200xDC00%20%7C%7C%20second%20%3E%200xDFFF)%20return%20first%3B%5Cn%20%20%20%20%20%20return%20((first%20-%200xD800)%20*%201024)%20%2B%20(second%20-%200xDC00)%20%2B%200x10000%3B%5Cn%20%20%20%20%7D)%3B%5Cn%5Cn%20%20%2F%2F%2021.1.3.4%20String.prototype.concat%20(%20...args%20)%5Cn%20%20%2F%2F%2021.1.3.5%20String.prototype.constructor%5Cn%5Cn%20%20%2F%2F%2021.1.3.6%20String.prototype.endsWith%20(%20searchString%20%5B%20%2C%20endPosition%5D%20)%5Cn%20%20define(%5Cn%20%20%20%20String.prototype%2C%20'endsWith'%2C%5Cn%20%20%20%20function%20endsWith(searchString)%20%7B%5Cn%20%20%20%20%20%20var%20endPosition%20%3D%20arguments%5B1%5D%3B%5Cn%5Cn%20%20%20%20%20%20var%20o%20%3D%20strict(this)%3B%5Cn%20%20%20%20%20%20var%20s%20%3D%20String(o)%3B%5Cn%20%20%20%20%20%20var%20searchStr%20%3D%20String(searchString)%3B%5Cn%20%20%20%20%20%20var%20len%20%3D%20s.length%3B%5Cn%20%20%20%20%20%20var%20pos%20%3D%20(endPosition%20%3D%3D%3D%20undefined)%20%3F%20len%20%3A%20ToInteger(endPosition)%3B%5Cn%20%20%20%20%20%20var%20end%20%3D%20min(max(pos%2C%200)%2C%20len)%3B%5Cn%20%20%20%20%20%20var%20searchLength%20%3D%20searchStr.length%3B%5Cn%20%20%20%20%20%20var%20start%20%3D%20end%20-%20searchLength%3B%5Cn%20%20%20%20%20%20if%20(start%20%3C%200)%20return%20false%3B%5Cn%20%20%20%20%20%20if%20(s.substring(start%2C%20start%20%2B%20searchLength)%20%3D%3D%3D%20searchStr)%20return%20true%3B%5Cn%20%20%20%20%20%20return%20false%3B%5Cn%20%20%20%20%7D)%3B%5Cn%5Cn%20%20%2F%2F%2021.1.3.7%20String.prototype.includes%20(%20searchString%20%5B%20%2C%20position%20%5D%20)%5Cn%20%20define(%5Cn%20%20%20%20String.prototype%2C%20'includes'%2C%5Cn%20%20%20%20function%20includes(searchString)%20%7B%5Cn%20%20%20%20%20%20var%20position%20%3D%20arguments%5B1%5D%3B%5Cn%5Cn%20%20%20%20%20%20var%20o%20%3D%20strict(this)%3B%5Cn%20%20%20%20%20%20var%20s%20%3D%20String(o)%3B%5Cn%20%20%20%20%20%20var%20searchStr%20%3D%20String(searchString)%3B%5Cn%20%20%20%20%20%20var%20pos%20%3D%20ToInteger(position)%3B%5Cn%20%20%20%20%20%20var%20len%20%3D%20s.length%3B%5Cn%20%20%20%20%20%20var%20start%20%3D%20min(max(pos%2C%200)%2C%20len)%3B%5Cn%20%20%20%20%20%20return%20s.indexOf(searchStr%2C%20start)%20!%3D%3D%20-1%3B%5Cn%20%20%20%20%7D)%3B%5Cn%5Cn%20%20%2F%2F%2021.1.3.8%20String.prototype.indexOf%20(%20searchString%20%5B%20%2C%20position%20%5D%20)%5Cn%20%20%2F%2F%2021.1.3.9%20String.prototype.lastIndexOf%20(%20searchString%20%5B%20%2C%20position%20%5D%20)%5Cn%20%20%2F%2F%2021.1.3.10%20String.prototype.localeCompare%20(%20that%20%5B%2C%20reserved1%20%5B%20%2C%20reserved2%20%5D%20%5D%20)%5Cn%20%20%2F%2F%2021.1.3.11%20String.prototype.match%20(%20regexp%20)%5Cn%20%20define(%5Cn%20%20%20%20String.prototype%2C%20'match'%2C%5Cn%20%20%20%20function%20match(regexp)%20%7B%5Cn%20%20%20%20%20%20var%20o%20%3D%20strict(this)%3B%5Cn%20%20%20%20%20%20var%20s%20%3D%20String(o)%3B%5Cn%20%20%20%20%20%20if%20(HasProperty(regexp%2C%20%24%24match))%20var%20rx%20%3D%20regexp%3B%5Cn%20%20%20%20%20%20else%20rx%20%3D%20new%20RegExp(regexp)%3B%5Cn%20%20%20%20%20%20return%20rx%5B%24%24match%5D(s)%3B%5Cn%20%20%20%20%7D%2C%20!string_regexp_dispatch)%3B%5Cn%5Cn%20%20%2F%2F%2021.1.3.12%20String.prototype.normalize%20(%20%5B%20form%20%5D%20)%5Cn%5Cn%20%20%2F%2F%20Not%20practical%20due%20to%20table%20sizes%3B%20if%20needed%2C%20pull%20in%3A%5Cn%20%20%2F%2F%20https%3A%2F%2Fgithub.com%2Fwalling%2Funorm%2F%5Cn%5Cn%20%20%2F%2F%2021.1.3.13%20String.prototype.repeat%20(%20count%20)%5Cn%20%20define(%5Cn%20%20%20%20String.prototype%2C%20'repeat'%2C%5Cn%20%20%20%20function%20repeat(count)%20%7B%5Cn%20%20%20%20%20%20var%20o%20%3D%20strict(this)%3B%5Cn%20%20%20%20%20%20var%20s%20%3D%20String(o)%3B%5Cn%20%20%20%20%20%20var%20n%20%3D%20ToInteger(count)%3B%5Cn%20%20%20%20%20%20if%20(n%20%3C%200)%20throw%20RangeError()%3B%5Cn%20%20%20%20%20%20if%20(n%20%3D%3D%3D%20Infinity)%20throw%20RangeError()%3B%5Cn%20%20%20%20%20%20var%20t%20%3D%20new%20Array(n%20%2B%201).join(s)%3B%5Cn%20%20%20%20%20%20return%20t%3B%5Cn%20%20%20%20%7D)%3B%5Cn%5Cn%20%20%2F%2F%2021.1.3.14%20String.prototype.replace%20(searchValue%2C%20replaceValue%20)%5Cn%20%20define(%5Cn%20%20%20%20String.prototype%2C%20'replace'%2C%5Cn%20%20%20%20function%20replace(searchValue%2C%20replaceValue)%20%7B%5Cn%20%20%20%20%20%20var%20o%20%3D%20strict(this)%3B%5Cn%20%20%20%20%20%20if%20(HasProperty(searchValue%2C%20%24%24replace))%5Cn%20%20%20%20%20%20%20%20return%20searchValue%5B%24%24replace%5D(o%2C%20replaceValue)%3B%5Cn%20%20%20%20%20%20return%20orig_replace.call(o%2C%20searchValue%2C%20replaceValue)%3B%5Cn%20%20%20%20%7D%2C%20!string_regexp_dispatch)%3B%5Cn%5Cn%20%20%2F%2F%2021.1.3.15%20String.prototype.search%20(%20regexp%20)%5Cn%20%20define(%5Cn%20%20%20%20String.prototype%2C%20'search'%2C%5Cn%20%20%20%20function%20search(regexp)%20%7B%5Cn%20%20%20%20%20%20var%20o%20%3D%20strict(this)%3B%5Cn%20%20%20%20%20%20var%20string%20%3D%20String(o)%3B%5Cn%20%20%20%20%20%20if%20(HasProperty(regexp%2C%20%24%24search))%20var%20rx%20%3D%20regexp%3B%5Cn%20%20%20%20%20%20else%20rx%20%3D%20new%20RegExp(regexp)%3B%5Cn%20%20%20%20%20%20return%20rx%5B%24%24search%5D(string)%3B%5Cn%20%20%20%20%7D%2C%20!string_regexp_dispatch)%3B%5Cn%5Cn%20%20%2F%2F%2021.1.3.16%20String.prototype.slice%20(%20start%2C%20end%20)%5Cn%20%20%2F%2F%2021.1.3.17%20String.prototype.split%20(%20separator%2C%20limit%20)%5Cn%20%20define(%5Cn%20%20%20%20String.prototype%2C%20'split'%2C%5Cn%20%20%20%20function%20split(separator%2C%20limit)%20%7B%5Cn%20%20%20%20%20%20var%20o%20%3D%20strict(this)%3B%5Cn%20%20%20%20%20%20if%20(HasProperty(separator%2C%20%24%24split))%5Cn%20%20%20%20%20%20%20%20return%20separator%5B%24%24split%5D(o%2C%20limit)%3B%5Cn%20%20%20%20%20%20return%20orig_split.call(o%2C%20separator%2C%20limit)%3B%5Cn%20%20%20%20%7D%2C%20!string_regexp_dispatch)%3B%5Cn%5Cn%20%20%2F%2F%2021.1.3.18%20String.prototype.startsWith%20(%20searchString%20%5B%2C%20position%20%5D%20)%5Cn%20%20define(%5Cn%20%20%20%20String.prototype%2C%20'startsWith'%2C%5Cn%20%20%20%20function%20startsWith(searchString)%20%7B%5Cn%20%20%20%20%20%20var%20position%20%3D%20arguments%5B1%5D%3B%5Cn%5Cn%20%20%20%20%20%20var%20o%20%3D%20strict(this)%3B%5Cn%20%20%20%20%20%20var%20s%20%3D%20String(o)%3B%5Cn%20%20%20%20%20%20var%20searchStr%20%3D%20String(searchString)%3B%5Cn%20%20%20%20%20%20var%20pos%20%3D%20ToInteger(position)%3B%5Cn%20%20%20%20%20%20var%20len%20%3D%20s.length%3B%5Cn%20%20%20%20%20%20var%20start%20%3D%20min(max(pos%2C%200)%2C%20len)%3B%5Cn%20%20%20%20%20%20var%20searchLength%20%3D%20searchStr.length%3B%5Cn%20%20%20%20%20%20if%20(searchLength%20%2B%20start%20%3E%20len)%20return%20false%3B%5Cn%20%20%20%20%20%20if%20(s.substring(start%2C%20start%20%2B%20searchLength)%20%3D%3D%3D%20searchStr)%20return%20true%3B%5Cn%20%20%20%20%20%20return%20false%3B%5Cn%20%20%20%20%7D)%3B%5Cn%5Cn%20%20%2F%2F%2021.1.3.19%20String.prototype.substring%20(%20start%2C%20end%20)%5Cn%20%20%2F%2F%2021.1.3.20%20String.prototype.toLocaleLowerCase%20(%20%5B%20reserved1%20%5B%20%2C%20reserved2%20%5D%20%5D%20)%5Cn%20%20%2F%2F%2021.1.3.21%20String.prototype.toLocaleUpperCase%20(%5B%20reserved1%20%5B%20%2C%20reserved2%20%5D%20%5D%20)%5Cn%20%20%2F%2F%2021.1.3.22%20String.prototype.toLowerCase%20(%20)%5Cn%20%20%2F%2F%2021.1.3.23%20String.prototype.toString%20(%20)%5Cn%20%20%2F%2F%2021.1.3.24%20String.prototype.toUpperCase%20(%20)%5Cn%20%20%2F%2F%2021.1.3.25%20String.prototype.trim%20(%20)%5Cn%20%20%2F%2F%2021.1.3.26%20String.prototype.valueOf%20(%20)%5Cn%5Cn%20%20%2F%2F%2021.1.3.27%20String.prototype%20%5B%20%40%40iterator%20%5D(%20)%5Cn%20%20define(%5Cn%20%20%20%20String.prototype%2C%20%24%24iterator%2C%5Cn%20%20%20%20function%20entries()%20%7B%5Cn%20%20%20%20%20%20return%20CreateStringIterator(this%2C%20'value')%3B%5Cn%20%20%20%20%7D)%3B%5Cn%5Cn%20%20%2F%2F%2021.1.4%20Properties%20of%20String%20Instances%5Cn%20%20%2F%2F%2021.1.4.1%20length%5Cn%5Cn%20%20%2F%2F%2021.1.5%20String%20Iterator%20Objects%5Cn%20%20%2F**%20%40constructor%20*%2F%5Cn%20%20function%20StringIterator()%20%7B%7D%5Cn%5Cn%20%20%2F%2F%2021.1.5.1%20CreateStringIterator%20Abstract%20Operation%5Cn%20%20function%20CreateStringIterator(string%2C%20kind)%20%7B%5Cn%20%20%20%20var%20s%20%3D%20String(string)%3B%5Cn%20%20%20%20var%20iterator%20%3D%20new%20StringIterator%3B%5Cn%20%20%20%20set_internal(iterator%2C%20'%5B%5BIteratedString%5D%5D'%2C%20s)%3B%5Cn%20%20%20%20set_internal(iterator%2C%20'%5B%5BStringIteratorNextIndex%5D%5D'%2C%200)%3B%5Cn%20%20%20%20set_internal(iterator%2C%20'%5B%5BStringIterationKind%5D%5D'%2C%20kind)%3B%5Cn%20%20%20%20return%20iterator%3B%5Cn%20%20%7D%5Cn%5Cn%20%20%2F%2F%2021.1.5.2%20The%20%25StringIteratorPrototype%25%20Object%5Cn%20%20var%20%24StringIteratorPrototype%24%20%3D%20Object.create(%24IteratorPrototype%24)%3B%5Cn%20%20StringIterator.prototype%20%3D%20%24StringIteratorPrototype%24%3B%5Cn%5Cn%20%20%2F%2F%2021.1.5.2.1%20%25StringIteratorPrototype%25.next%20(%20)%5Cn%20%20define(%5Cn%20%20%20%20%24StringIteratorPrototype%24%2C%20'next'%2C%5Cn%20%20%20%20function%20next()%20%7B%5Cn%20%20%20%20%20%20var%20o%20%3D%20ToObject(this)%3B%5Cn%20%20%20%20%20%20var%20s%20%3D%20String(o%5B'%5B%5BIteratedString%5D%5D'%5D)%2C%5Cn%20%20%20%20%20%20%20%20%20%20index%20%3D%20o%5B'%5B%5BStringIteratorNextIndex%5D%5D'%5D%2C%5Cn%20%20%20%20%20%20%20%20%20%20len%20%3D%20s.length%3B%5Cn%20%20%20%20%20%20if%20(index%20%3E%3D%20len)%20%7B%5Cn%20%20%20%20%20%20%20%20set_internal(o%2C%20'%5B%5BStringIteratorNextIndex%5D%5D'%2C%20Infinity)%3B%5Cn%20%20%20%20%20%20%20%20return%20CreateIterResultObject(undefined%2C%20true)%3B%5Cn%20%20%20%20%20%20%7D%5Cn%20%20%20%20%20%20var%20cp%20%3D%20s.codePointAt(index)%3B%5Cn%20%20%20%20%20%20set_internal(o%2C%20'%5B%5BStringIteratorNextIndex%5D%5D'%2C%20index%20%2B%20(cp%20%3E%200xFFFF%20%3F%202%20%3A%201))%3B%5Cn%20%20%20%20%20%20return%20CreateIterResultObject(String.fromCodePoint(cp)%2C%20false)%3B%5Cn%20%20%20%20%7D)%3B%5Cn%5Cn%20%20%2F%2F%2021.1.5.2.2%20%25StringIteratorPrototype%25%20%5B%20%40%40toStringTag%20%5D%5Cn%20%20define(%24StringIteratorPrototype%24%2C%20%24%24toStringTag%2C%20'String%20Iterator')%3B%5Cn%5Cn%20%20%2F%2F%2021.1.5.3%20Properties%20of%20String%20Iterator%20Instances%5Cn%5Cn%20%20%2F%2F%20---------------------------------------%5Cn%20%20%2F%2F%2021.2%20RegExp%20(Regular%20Expression)%20Objects%5Cn%20%20%2F%2F%20---------------------------------------%5Cn%5Cn%20%20%2F%2F%2021.2.1%20Patterns%5Cn%20%20%2F%2F%2021.2.2%20Pattern%20Semantics%5Cn%20%20%2F%2F%2021.2.2.1%20Notation%5Cn%20%20%2F%2F%2021.2.2.2%20Pattern%5Cn%20%20%2F%2F%2021.2.2.3%20Disjunction%5Cn%20%20%2F%2F%2021.2.2.4%20Alternative%5Cn%20%20%2F%2F%2021.2.2.5%20Term%5Cn%20%20%2F%2F%2021.2.2.6%20Assertion%5Cn%20%20%2F%2F%2021.2.2.7%20Quantifier%5Cn%20%20%2F%2F%2021.2.2.8%20Atom%5Cn%20%20%2F%2F%2021.2.2.9%20AtomEscape%5Cn%20%20%2F%2F%2021.2.2.10%20CharacterEscape%5Cn%20%20%2F%2F%2021.2.2.11%20DecimalEscape%5Cn%20%20%2F%2F%2021.2.2.12%20CharacterClassEscape%5Cn%20%20%2F%2F%2021.2.2.13%20CharacterClass%5Cn%20%20%2F%2F%2021.2.2.14%20ClassRanges%5Cn%20%20%2F%2F%2021.2.2.15%20NonemptyClassRanges%5Cn%20%20%2F%2F%2021.2.2.16%20NonemptyClassRangesNoDash%5Cn%20%20%2F%2F%2021.2.2.17%20ClassAtom%5Cn%20%20%2F%2F%2021.2.2.18%20ClassAtomNoDash%5Cn%20%20%2F%2F%2021.2.2.19%20ClassEscape%5Cn%20%20%2F%2F%2021.2.3%20The%20RegExp%20Constructor%5Cn%20%20%2F%2F%2021.2.3.1%20RegExp%20(%20pattern%2C%20flags%20)%5Cn%20%20%2F%2F%2021.2.3.2%20new%20RegExp(%20...argumentsList%20)%5Cn%20%20%2F%2F%2021.2.3.3%20Abstract%20Operations%20for%20the%20RegExp%20Constructor%5Cn%20%20%2F%2F%2021.2.4%20Properties%20of%20the%20RegExp%20Constructor%5Cn%20%20%2F%2F%2021.2.4.1%20RegExp.prototype%5Cn%20%20%2F%2F%2021.2.5%20Properties%20of%20the%20RegExp%20Prototype%20Object%5Cn%20%20%2F%2F%2021.2.5.1%20RegExp.prototype.constructor%5Cn%20%20%2F%2F%2021.2.5.2%20RegExp.prototype.exec%20(%20string%20)%5Cn%5Cn%20%20%2F%2F%2021.2.5.3%20get%20RegExp.prototype.flags%5Cn%20%20if%20(!('flags'%20in%20RegExp.prototype))%20%7B%5Cn%20%20%20%20Object.defineProperty(%5Cn%20%20%20%20%20%20RegExp.prototype%2C%20'flags'%2C%20%7B%5Cn%20%20%20%20%20%20%20%20get%3A%20function()%20%7B%5Cn%20%20%20%20%20%20%20%20%20%20var%20s%20%3D%20String(this)%3B%5Cn%20%20%20%20%20%20%20%20%20%20return%20s.substring(s.lastIndexOf('%2F')%20%2B%201)%3B%5Cn%20%20%20%20%20%20%20%20%7D%5Cn%20%20%20%20%20%20%7D)%3B%5Cn%20%20%7D%5Cn%5Cn%20%20%2F%2F%2021.2.5.4%20get%20RegExp.prototype.global%5Cn%20%20%2F%2F%2021.2.5.5%20get%20RegExp.prototype.ignoreCase%5Cn%5Cn%20%20%2F%2F%2021.2.5.6%20RegExp.prototype%20%5B%20%40%40match%20%5D%20(%20string%20)%5Cn%20%20define(RegExp.prototype%2C%20%24%24match%2C%20function(string)%20%7B%5Cn%20%20%20%20var%20o%20%3D%20strict(this)%3B%5Cn%20%20%20%20return%20orig_match.call(string%2C%20o)%3B%5Cn%20%20%7D)%3B%5Cn%5Cn%20%20%2F%2F%2021.2.5.7%20get%20RegExp.prototype.multiline%5Cn%5Cn%20%20%2F%2F%2021.2.5.8%20RegExp.prototype%20%5B%20%40%40replace%20%5D%20(%20string%2C%20replaceValue%20)%5Cn%20%20define(RegExp.prototype%2C%20%24%24replace%2C%20function(string%2C%20replaceValue)%20%7B%5Cn%20%20%20%20var%20o%20%3D%20strict(this)%3B%5Cn%20%20%20%20return%20orig_replace.call(string%2C%20o%2C%20replaceValue)%3B%5Cn%20%20%7D)%3B%5Cn%5Cn%20%20%2F%2F%2021.2.5.9%20RegExp.prototype%20%5B%20%40%40search%20%5D%20(%20string%20)%5Cn%20%20define(RegExp.prototype%2C%20%24%24search%2C%20function(string)%20%7B%5Cn%20%20%20%20var%20o%20%3D%20strict(this)%3B%5Cn%20%20%20%20return%20orig_search.call(string%2C%20o)%3B%5Cn%20%20%7D)%3B%5Cn%5Cn%20%20%2F%2F%2021.2.5.10%20get%20RegExp.prototype.source%5Cn%5Cn%20%20%2F%2F%2021.2.5.11%20RegExp.prototype%20%5B%20%40%40split%20%5D%20(%20string%2C%20limit%20)%5Cn%20%20define(RegExp.prototype%2C%20%24%24split%2C%20function(string%2C%20limit)%20%7B%5Cn%20%20%20%20var%20o%20%3D%20strict(this)%3B%5Cn%20%20%20%20return%20orig_split.call(string%2C%20o%2C%20limit)%3B%5Cn%20%20%7D)%3B%5Cn%5Cn%20%20%2F%2F%2021.2.5.12%20get%20RegExp.prototype.sticky%5Cn%20%20%2F%2F%2021.2.5.13%20RegExp.prototype.test(%20S%20)%5Cn%20%20%2F%2F%2021.2.5.14%20RegExp.prototype.toString%20(%20)%5Cn%20%20%2F%2F%2021.2.5.15%20get%20RegExp.prototype.unicode%5Cn%5Cn%20%20%2F%2F%2021.2.6%20Properties%20of%20RegExp%20Instances%5Cn%20%20%2F%2F%2021.2.6.1%20lastIndex%5Cn%5Cn%20%20%2F%2F%20(No%20polyfillable%20changes%20from%20ES5)%5Cn%5Cn%20%20%2F%2F%20---------------------------------------%5Cn%20%20%2F%2F%2022%20Indexed%20Collections%5Cn%20%20%2F%2F%20---------------------------------------%5Cn%5Cn%20%20%2F%2F%20---------------------------------------%5Cn%20%20%2F%2F%2022.1%20Array%20Objects%5Cn%20%20%2F%2F%20---------------------------------------%5Cn%5Cn%20%20%2F%2F%2022.1.1%20The%20Array%20Constructor%5Cn%20%20%2F%2F%2022.1.1.1%20Array%20(%20)%5Cn%20%20%2F%2F%2022.1.1.2%20Array%20(len)%5Cn%20%20%2F%2F%2022.1.1.3%20Array%20(...items%20)%5Cn%5Cn%20%20%2F%2F%2022.1.2%20Properties%20of%20the%20Array%20Constructor%5Cn%5Cn%20%20%2F%2F%2022.1.2.1%20Array.from%20(%20items%20%5B%20%2C%20mapfn%20%5B%20%2C%20thisArg%20%5D%20%5D%20)%5Cn%20%20define(%5Cn%20%20%20%20Array%2C%20'from'%2C%5Cn%20%20%20%20function%20from(items)%20%7B%5Cn%20%20%20%20%20%20var%20mapfn%20%3D%20arguments%5B1%5D%3B%5Cn%20%20%20%20%20%20var%20thisArg%20%3D%20arguments%5B2%5D%3B%5Cn%5Cn%20%20%20%20%20%20var%20c%20%3D%20strict(this)%3B%5Cn%20%20%20%20%20%20if%20(mapfn%20%3D%3D%3D%20undefined)%20%7B%5Cn%20%20%20%20%20%20%20%20var%20mapping%20%3D%20false%3B%5Cn%20%20%20%20%20%20%7D%20else%20%7B%5Cn%20%20%20%20%20%20%20%20if%20(!IsCallable(mapfn))%20throw%20TypeError()%3B%5Cn%20%20%20%20%20%20%20%20var%20t%20%3D%20thisArg%3B%5Cn%20%20%20%20%20%20%20%20mapping%20%3D%20true%3B%5Cn%20%20%20%20%20%20%7D%5Cn%20%20%20%20%20%20var%20usingIterator%20%3D%20GetMethod(items%2C%20%24%24iterator)%3B%5Cn%20%20%20%20%20%20if%20(usingIterator%20!%3D%3D%20undefined)%20%7B%5Cn%20%20%20%20%20%20%20%20%20if%20(IsConstructor(c))%20%7B%5Cn%20%20%20%20%20%20%20%20%20%20var%20a%20%3D%20new%20c()%3B%5Cn%20%20%20%20%20%20%20%20%7D%20else%20%7B%5Cn%20%20%20%20%20%20%20%20%20%20a%20%3D%20new%20Array(0)%3B%5Cn%20%20%20%20%20%20%20%20%7D%5Cn%20%20%20%20%20%20%20%20var%20iterator%20%3D%20GetIterator(items%2C%20usingIterator)%3B%5Cn%20%20%20%20%20%20%20%20var%20k%20%3D%200%3B%5Cn%20%20%20%20%20%20%20%20while%20(true)%20%7B%5Cn%20%20%20%20%20%20%20%20%20%20var%20next%20%3D%20IteratorStep(iterator)%3B%5Cn%20%20%20%20%20%20%20%20%20%20if%20(next%20%3D%3D%3D%20false)%20%7B%5Cn%20%20%20%20%20%20%20%20%20%20%20%20a.length%20%3D%20k%3B%5Cn%20%20%20%20%20%20%20%20%20%20%20%20return%20a%3B%5Cn%20%20%20%20%20%20%20%20%20%20%7D%5Cn%20%20%20%20%20%20%20%20%20%20var%20nextValue%20%3D%20IteratorValue(next)%3B%5Cn%20%20%20%20%20%20%20%20%20%20if%20(mapping)%5Cn%20%20%20%20%20%20%20%20%20%20%20%20var%20mappedValue%20%3D%20mapfn.call(t%2C%20nextValue)%3B%5Cn%20%20%20%20%20%20%20%20%20%20else%5Cn%20%20%20%20%20%20%20%20%20%20%20%20mappedValue%20%3D%20nextValue%3B%5Cn%20%20%20%20%20%20%20%20%20%20a%5Bk%5D%20%3D%20mappedValue%3B%5Cn%20%20%20%20%20%20%20%20%20%20k%20%2B%3D%201%3B%5Cn%20%20%20%20%20%20%20%20%7D%5Cn%20%20%20%20%20%20%7D%5Cn%20%20%20%20%20%20var%20arrayLike%20%3D%20ToObject(items)%3B%5Cn%20%20%20%20%20%20var%20lenValue%20%3D%20arrayLike.length%3B%5Cn%20%20%20%20%20%20var%20len%20%3D%20ToLength(lenValue)%3B%5Cn%20%20%20%20%20%20if%20(IsConstructor(c))%20%7B%5Cn%20%20%20%20%20%20%20%20a%20%3D%20new%20c(len)%3B%5Cn%20%20%20%20%20%20%7D%20else%20%7B%5Cn%20%20%20%20%20%20%20%20a%20%3D%20new%20Array(len)%3B%5Cn%20%20%20%20%20%20%7D%5Cn%20%20%20%20%20%20k%20%3D%200%3B%5Cn%20%20%20%20%20%20while%20(k%20%3C%20len)%20%7B%5Cn%20%20%20%20%20%20%20%20var%20kValue%20%3D%20arrayLike%5Bk%5D%3B%5Cn%20%20%20%20%20%20%20%20if%20(mapping)%5Cn%20%20%20%20%20%20%20%20%20%20mappedValue%20%3D%20mapfn.call(t%2C%20kValue%2C%20k)%3B%5Cn%20%20%20%20%20%20%20%20else%5Cn%20%20%20%20%20%20%20%20%20%20mappedValue%20%3D%20kValue%3B%5Cn%20%20%20%20%20%20%20%20a%5Bk%5D%20%3D%20mappedValue%3B%5Cn%20%20%20%20%20%20%20%20k%20%2B%3D%201%3B%5Cn%20%20%20%20%20%20%7D%5Cn%20%20%20%20%20%20a.length%20%3D%20len%3B%5Cn%20%20%20%20%20%20return%20a%3B%5Cn%20%20%20%20%7D)%3B%5Cn%5Cn%20%20%2F%2F%2022.1.2.2%20Array.isArray%20(%20arg%20)%5Cn%5Cn%20%20%2F%2F%2022.1.2.3%20Array.of%20(%20...items%20)%5Cn%20%20define(%5Cn%20%20%20%20Array%2C%20'of'%2C%5Cn%20%20%20%20function%20of()%20%7B%5Cn%20%20%20%20%20%20var%20items%20%3D%20arguments%3B%5Cn%5Cn%20%20%20%20%20%20var%20lenValue%20%3D%20items.length%3B%5Cn%20%20%20%20%20%20var%20len%20%3D%20ToUint32(lenValue)%3B%5Cn%20%20%20%20%20%20var%20c%20%3D%20strict(this)%2C%20a%3B%5Cn%20%20%20%20%20%20if%20(IsConstructor(c))%20%7B%5Cn%20%20%20%20%20%20%20%20a%20%3D%20new%20c(len)%3B%5Cn%20%20%20%20%20%20%20%20a%20%3D%20ToObject(a)%3B%5Cn%20%20%20%20%20%20%7D%20else%20%7B%5Cn%20%20%20%20%20%20%20%20a%20%3D%20new%20Array(len)%3B%5Cn%20%20%20%20%20%20%7D%5Cn%20%20%20%20%20%20var%20k%20%3D%200%3B%5Cn%20%20%20%20%20%20while%20(k%20%3C%20len)%20%7B%5Cn%20%20%20%20%20%20%20%20a%5Bk%5D%20%3D%20items%5Bk%5D%3B%5Cn%20%20%20%20%20%20%20%20k%20%2B%3D%201%3B%5Cn%20%20%20%20%20%20%7D%5Cn%20%20%20%20%20%20a.length%20%3D%20len%3B%5Cn%20%20%20%20%20%20return%20a%3B%5Cn%20%20%20%20%7D)%3B%5Cn%5Cn%20%20%2F%2F%2022.1.2.4%20Array.prototype%5Cn%20%20%2F%2F%2022.1.2.5%20get%20Array%20%5B%20%40%40species%20%5D%5Cn%20%20%2F%2F%2022.1.3%20Properties%20of%20the%20Array%20Prototype%20Object%5Cn%20%20%2F%2F%2022.1.3.1%20Array.prototype.concat%20(%20...arguments%20)%5Cn%20%20%2F%2F%2022.1.3.1.1%20Runtime%20Semantics%3A%20IsConcatSpreadable%20(%20O%20)%5Cn%20%20%2F%2F%2022.1.3.2%20Array.prototype.constructor%5Cn%20%20%2F%2F%2022.1.3.3%20Array.prototype.copyWithin%20(target%2C%20start%20%5B%20%2C%20end%20%5D%20)%5Cn%20%20define(%5Cn%20%20%20%20Array.prototype%2C%20'copyWithin'%2C%5Cn%20%20%20%20function%20copyWithin(target%2C%20start%2F*%2C%20end*%2F)%20%7B%5Cn%20%20%20%20%20%20var%20end%20%3D%20arguments%5B2%5D%3B%5Cn%5Cn%20%20%20%20%20%20var%20o%20%3D%20ToObject(this)%3B%5Cn%20%20%20%20%20%20var%20lenVal%20%3D%20o.length%3B%5Cn%20%20%20%20%20%20var%20len%20%3D%20ToLength(lenVal)%3B%5Cn%20%20%20%20%20%20len%20%3D%20max(len%2C%200)%3B%5Cn%20%20%20%20%20%20var%20relativeTarget%20%3D%20ToInteger(target)%3B%5Cn%20%20%20%20%20%20var%20to%3B%5Cn%20%20%20%20%20%20if%20(relativeTarget%20%3C%200)%5Cn%20%20%20%20%20%20%20%20to%20%3D%20max(len%20%2B%20relativeTarget%2C%200)%3B%5Cn%20%20%20%20%20%20else%5Cn%20%20%20%20%20%20%20%20to%20%3D%20min(relativeTarget%2C%20len)%3B%5Cn%20%20%20%20%20%20var%20relativeStart%20%3D%20ToInteger(start)%3B%5Cn%20%20%20%20%20%20var%20from%3B%5Cn%20%20%20%20%20%20if%20(relativeStart%20%3C%200)%5Cn%20%20%20%20%20%20%20%20from%20%3D%20max(len%20%2B%20relativeStart%2C%200)%3B%5Cn%20%20%20%20%20%20else%5Cn%20%20%20%20%20%20%20%20from%20%3D%20min(relativeStart%2C%20len)%3B%5Cn%20%20%20%20%20%20var%20relativeEnd%3B%5Cn%20%20%20%20%20%20if%20(end%20%3D%3D%3D%20undefined)%5Cn%20%20%20%20%20%20%20%20relativeEnd%20%3D%20len%3B%5Cn%20%20%20%20%20%20else%5Cn%20%20%20%20%20%20%20%20relativeEnd%20%3D%20ToInteger(end)%3B%5Cn%20%20%20%20%20%20var%20final%3B%5Cn%20%20%20%20%20%20if%20(relativeEnd%20%3C%200)%5Cn%20%20%20%20%20%20%20%20final%20%3D%20max(len%20%2B%20relativeEnd%2C%200)%3B%5Cn%20%20%20%20%20%20else%5Cn%20%20%20%20%20%20%20%20final%20%3D%20min(relativeEnd%2C%20len)%3B%5Cn%20%20%20%20%20%20var%20count%20%3D%20min(final%20-%20from%2C%20len%20-%20to)%3B%5Cn%20%20%20%20%20%20var%20direction%3B%5Cn%20%20%20%20%20%20if%20(from%20%3C%20to%20%26%26%20to%20%3C%20from%20%2B%20count)%20%7B%5Cn%20%20%20%20%20%20%20%20direction%20%3D%20-1%3B%5Cn%20%20%20%20%20%20%20%20from%20%3D%20from%20%2B%20count%20-%201%3B%5Cn%20%20%20%20%20%20%20%20to%20%3D%20to%20%2B%20count%20-%201%3B%5Cn%20%20%20%20%20%20%7D%20else%20%7B%5Cn%20%20%20%20%20%20%20%20direction%20%3D%201%3B%5Cn%20%20%20%20%20%20%7D%5Cn%20%20%20%20%20%20while%20(count%20%3E%200)%20%7B%5Cn%20%20%20%20%20%20%20%20var%20fromKey%20%3D%20String(from)%3B%5Cn%20%20%20%20%20%20%20%20var%20toKey%20%3D%20String(to)%3B%5Cn%20%20%20%20%20%20%20%20var%20fromPresent%20%3D%20HasProperty(o%2C%20fromKey)%3B%5Cn%20%20%20%20%20%20%20%20if%20(fromPresent)%20%7B%5Cn%20%20%20%20%20%20%20%20%20%20var%20fromVal%20%3D%20o%5BfromKey%5D%3B%5Cn%20%20%20%20%20%20%20%20%20%20o%5BtoKey%5D%20%3D%20fromVal%3B%5Cn%20%20%20%20%20%20%20%20%7D%20else%20%7B%5Cn%20%20%20%20%20%20%20%20%20%20delete%20o%5BtoKey%5D%3B%5Cn%20%20%20%20%20%20%20%20%7D%5Cn%20%20%20%20%20%20%20%20from%20%3D%20from%20%2B%20direction%3B%5Cn%20%20%20%20%20%20%20%20to%20%3D%20to%20%2B%20direction%3B%5Cn%20%20%20%20%20%20%20%20count%20%3D%20count%20-%201%3B%5Cn%20%20%20%20%20%20%7D%5Cn%20%20%20%20%20%20return%20o%3B%5Cn%20%20%20%20%7D)%3B%5Cn%5Cn%20%20%2F%2F%2022.1.3.4%20Array.prototype.entries%20(%20)%5Cn%20%20var%20nativeArrayIteratorMethods%20%3D%5Cn%20%20%20%20%20%20%20%20('entries'%20in%20Array.prototype%20%26%26%20'next'%20in%20%5B%5D.entries())%3B%5Cn%5Cn%20%20define(%5Cn%20%20%20%20Array.prototype%2C%20'entries'%2C%5Cn%20%20%20%20function%20entries()%20%7B%5Cn%20%20%20%20%20%20return%20CreateArrayIterator(this%2C%20'key%2Bvalue')%3B%5Cn%20%20%20%20%7D%2C%20!nativeArrayIteratorMethods)%3B%5Cn%5Cn%20%20%2F%2F%2022.1.3.5%20Array.prototype.every%20(%20callbackfn%20%5B%20%2C%20thisArg%5D%20)%5Cn%5Cn%20%20%2F%2F%2022.1.3.6%20Array.prototype.fill%20(value%20%5B%20%2C%20start%20%5B%20%2C%20end%20%5D%20%5D%20)%5Cn%20%20define(%5Cn%20%20%20%20Array.prototype%2C%20'fill'%2C%5Cn%20%20%20%20function%20fill(value%2F*%2C%20start%2C%20end*%2F)%20%7B%5Cn%20%20%20%20%20%20var%20start%20%3D%20arguments%5B1%5D%2C%5Cn%20%20%20%20%20%20%20%20%20%20end%20%3D%20arguments%5B2%5D%3B%5Cn%5Cn%20%20%20%20%20%20var%20o%20%3D%20ToObject(this)%3B%5Cn%20%20%20%20%20%20var%20lenVal%20%3D%20o.length%3B%5Cn%20%20%20%20%20%20var%20len%20%3D%20ToLength(lenVal)%3B%5Cn%20%20%20%20%20%20len%20%3D%20max(len%2C%200)%3B%5Cn%20%20%20%20%20%20var%20relativeStart%20%3D%20ToInteger(start)%3B%5Cn%20%20%20%20%20%20var%20k%3B%5Cn%20%20%20%20%20%20if%20(relativeStart%20%3C%200)%5Cn%20%20%20%20%20%20%20%20k%20%3D%20max((len%20%2B%20relativeStart)%2C%200)%3B%5Cn%20%20%20%20%20%20else%5Cn%20%20%20%20%20%20%20%20k%20%3D%20min(relativeStart%2C%20len)%3B%5Cn%20%20%20%20%20%20var%20relativeEnd%3B%5Cn%20%20%20%20%20%20if%20(end%20%3D%3D%3D%20undefined)%5Cn%20%20%20%20%20%20%20%20relativeEnd%20%3D%20len%3B%5Cn%20%20%20%20%20%20else%5Cn%20%20%20%20%20%20%20%20relativeEnd%20%3D%20ToInteger(end)%3B%5Cn%20%20%20%20%20%20var%20final%3B%5Cn%20%20%20%20%20%20if%20(relativeEnd%20%3C%200)%5Cn%20%20%20%20%20%20%20%20final%20%3D%20max((len%20%2B%20relativeEnd)%2C%200)%3B%5Cn%20%20%20%20%20%20else%5Cn%20%20%20%20%20%20%20%20final%20%3D%20min(relativeEnd%2C%20len)%3B%5Cn%20%20%20%20%20%20while%20(k%20%3C%20final)%20%7B%5Cn%20%20%20%20%20%20%20%20var%20pk%20%3D%20String(k)%3B%5Cn%20%20%20%20%20%20%20%20o%5Bpk%5D%20%3D%20value%3B%5Cn%20%20%20%20%20%20%20%20k%20%2B%3D%201%3B%5Cn%20%20%20%20%20%20%7D%5Cn%20%20%20%20%20%20return%20o%3B%5Cn%20%20%20%20%7D)%3B%5Cn%5Cn%20%20%2F%2F%2022.1.3.7%20Array.prototype.filter%20(%20callbackfn%20%5B%20%2C%20thisArg%20%5D%20)%5Cn%5Cn%20%20%2F%2F%2022.1.3.8%20Array.prototype.find%20(%20predicate%20%5B%20%2C%20thisArg%20%5D%20)%5Cn%20%20define(%5Cn%20%20%20%20Array.prototype%2C%20'find'%2C%5Cn%20%20%20%20function%20find(predicate)%20%7B%5Cn%20%20%20%20%20%20var%20o%20%3D%20ToObject(this)%3B%5Cn%20%20%20%20%20%20var%20lenValue%20%3D%20o.length%3B%5Cn%20%20%20%20%20%20var%20len%20%3D%20ToInteger(lenValue)%3B%5Cn%20%20%20%20%20%20if%20(!IsCallable(predicate))%20throw%20TypeError()%3B%5Cn%20%20%20%20%20%20var%20t%20%3D%20arguments.length%20%3E%201%20%3F%20arguments%5B1%5D%20%3A%20undefined%3B%5Cn%20%20%20%20%20%20var%20k%20%3D%200%3B%5Cn%20%20%20%20%20%20while%20(k%20%3C%20len)%20%7B%5Cn%20%20%20%20%20%20%20%20var%20pk%20%3D%20String(k)%3B%5Cn%20%20%20%20%20%20%20%20var%20kPresent%20%3D%20HasProperty(o%2C%20pk)%3B%5Cn%20%20%20%20%20%20%20%20if%20(kPresent)%20%7B%5Cn%20%20%20%20%20%20%20%20%20%20var%20kValue%20%3D%20o%5Bpk%5D%3B%5Cn%20%20%20%20%20%20%20%20%20%20var%20testResult%20%3D%20predicate.call(t%2C%20kValue%2C%20k%2C%20o)%3B%5Cn%20%20%20%20%20%20%20%20%20%20if%20(Boolean(testResult))%20%7B%5Cn%20%20%20%20%20%20%20%20%20%20%20%20return%20kValue%3B%5Cn%20%20%20%20%20%20%20%20%20%20%7D%5Cn%20%20%20%20%20%20%20%20%7D%5Cn%20%20%20%20%20%20%20%20%2B%2Bk%3B%5Cn%20%20%20%20%20%20%7D%5Cn%20%20%20%20%20%20return%20undefined%3B%5Cn%20%20%20%20%7D)%3B%5Cn%5Cn%20%20%2F%2F%2022.1.3.9%20Array.prototype.findIndex%20(%20predicate%20%5B%20%2C%20thisArg%20%5D%20)%5Cn%20%20define(%5Cn%20%20%20%20Array.prototype%2C%20'findIndex'%2C%5Cn%20%20%20%20function%20findIndex(predicate)%20%7B%5Cn%20%20%20%20%20%20var%20o%20%3D%20ToObject(this)%3B%5Cn%20%20%20%20%20%20var%20lenValue%20%3D%20o.length%3B%5Cn%20%20%20%20%20%20var%20len%20%3D%20ToLength(lenValue)%3B%5Cn%20%20%20%20%20%20if%20(!IsCallable(predicate))%20throw%20TypeError()%3B%5Cn%20%20%20%20%20%20var%20t%20%3D%20arguments.length%20%3E%201%20%3F%20arguments%5B1%5D%20%3A%20undefined%3B%5Cn%20%20%20%20%20%20var%20k%20%3D%200%3B%5Cn%20%20%20%20%20%20while%20(k%20%3C%20len)%20%7B%5Cn%20%20%20%20%20%20%20%20var%20pk%20%3D%20String(k)%3B%5Cn%20%20%20%20%20%20%20%20var%20kPresent%20%3D%20HasProperty(o%2C%20pk)%3B%5Cn%20%20%20%20%20%20%20%20if%20(kPresent)%20%7B%5Cn%20%20%20%20%20%20%20%20%20%20var%20kValue%20%3D%20o%5Bpk%5D%3B%5Cn%20%20%20%20%20%20%20%20%20%20var%20testResult%20%3D%20predicate.call(t%2C%20kValue%2C%20k%2C%20o)%3B%5Cn%20%20%20%20%20%20%20%20%20%20if%20(Boolean(testResult))%20%7B%5Cn%20%20%20%20%20%20%20%20%20%20%20%20return%20k%3B%5Cn%20%20%20%20%20%20%20%20%20%20%7D%5Cn%20%20%20%20%20%20%20%20%7D%5Cn%20%20%20%20%20%20%20%20%2B%2Bk%3B%5Cn%20%20%20%20%20%20%7D%5Cn%20%20%20%20%20%20return%20-1%3B%5Cn%20%20%20%20%7D)%3B%5Cn%5Cn%20%20%2F%2F%2022.1.3.10%20Array.prototype.forEach%20(%20callbackfn%20%5B%20%2C%20thisArg%20%5D%20)%5Cn%20%20%2F%2F%2022.1.3.11%20Array.prototype.indexOf%20(%20searchElement%20%5B%20%2C%20fromIndex%20%5D%20)%5Cn%20%20%2F%2F%2022.1.3.12%20Array.prototype.join%20(separator)%5Cn%5Cn%20%20%2F%2F%2022.1.3.13%20Array.prototype.keys%20(%20)%5Cn%20%20define(%5Cn%20%20%20%20Array.prototype%2C%20'keys'%2C%5Cn%20%20%20%20function%20keys()%20%7B%5Cn%20%20%20%20%20%20return%20CreateArrayIterator(this%2C%20'key')%3B%5Cn%20%20%20%20%7D%2C%20!nativeArrayIteratorMethods)%3B%5Cn%5Cn%20%20%2F%2F%2022.1.3.14%20Array.prototype.lastIndexOf%20(%20searchElement%20%5B%20%2C%20fromIndex%20%5D%20)%5Cn%20%20%2F%2F%2022.1.3.15%20Array.prototype.map%20(%20callbackfn%20%5B%20%2C%20thisArg%20%5D%20)%5Cn%20%20%2F%2F%2022.1.3.16%20Array.prototype.pop%20(%20)%5Cn%20%20%2F%2F%2022.1.3.17%20Array.prototype.push%20(%20...items%20)%5Cn%20%20%2F%2F%2022.1.3.18%20Array.prototype.reduce%20(%20callbackfn%20%5B%20%2C%20initialValue%20%5D%20)%5Cn%20%20%2F%2F%2022.1.3.19%20Array.prototype.reduceRight%20(%20callbackfn%20%5B%20%2C%20initialValue%20%5D%20)%5Cn%20%20%2F%2F%2022.1.3.20%20Array.prototype.reverse%20(%20)%5Cn%20%20%2F%2F%2022.1.3.21%20Array.prototype.shift%20(%20)%5Cn%20%20%2F%2F%2022.1.3.22%20Array.prototype.slice%20(start%2C%20end)%5Cn%20%20%2F%2F%2022.1.3.23%20Array.prototype.some%20(%20callbackfn%20%5B%20%2C%20thisArg%20%5D%20)%5Cn%20%20%2F%2F%2022.1.3.24%20Array.prototype.sort%20(comparefn)%5Cn%20%20%2F%2F%2022.1.3.25%20Array.prototype.splice%20(start%2C%20deleteCount%20%2C%20...items%20)%5Cn%20%20%2F%2F%2022.1.3.26%20Array.prototype.toLocaleString%20(%20%5B%20reserved1%20%5B%20%2C%20reserved2%20%5D%20%5D%20)%5Cn%20%20%2F%2F%2022.1.3.27%20Array.prototype.toString%20(%20)%5Cn%20%20%2F%2F%2022.1.3.28%20Array.prototype.unshift%20(%20...items%20)%5Cn%5Cn%20%20%2F%2F%2022.1.3.29%20Array.prototype.values%20(%20)%5Cn%20%20define(%5Cn%20%20%20%20Array.prototype%2C%20'values'%2C%5Cn%20%20%20%20function%20values()%20%7B%5Cn%20%20%20%20%20%20return%20CreateArrayIterator(this%2C%20'value')%3B%5Cn%20%20%20%20%7D%2C%20!nativeArrayIteratorMethods)%3B%5Cn%5Cn%20%20%2F%2F%2022.1.3.30%20Array.prototype%20%5B%20%40%40iterator%20%5D%20(%20)%5Cn%20%20define(%5Cn%20%20%20%20Array.prototype%2C%20%24%24iterator%2C%5Cn%20%20%20%20Array.prototype.values%5Cn%20%20%20%20)%3B%5Cn%5Cn%20%20%2F%2F%2022.1.3.31%20Array.prototype%20%5B%20%40%40unscopables%20%5D%5Cn%20%20%2F%2F%2022.1.4%20Properties%20of%20Array%20Instances%5Cn%20%20%2F%2F%2022.1.4.1%20length%5Cn%5Cn%20%20%2F%2F%2022.1.5%20Array%20Iterator%20Objects%5Cn%20%20function%20ArrayIterator()%20%7B%7D%5Cn%5Cn%20%20%2F%2F%2022.1.5.1%20CreateArrayIterator%20Abstract%20Operation%5Cn%20%20function%20CreateArrayIterator(array%2C%20kind)%20%7B%5Cn%20%20%20%20var%20o%20%3D%20ToObject(array)%3B%5Cn%20%20%20%20var%20iterator%20%3D%20new%20ArrayIterator%3B%5Cn%20%20%20%20set_internal(iterator%2C%20'%5B%5BIteratedObject%5D%5D'%2C%20o)%3B%5Cn%20%20%20%20set_internal(iterator%2C%20'%5B%5BArrayIteratorNextIndex%5D%5D'%2C%200)%3B%5Cn%20%20%20%20set_internal(iterator%2C%20'%5B%5BArrayIterationKind%5D%5D'%2C%20kind)%3B%5Cn%20%20%20%20return%20iterator%3B%5Cn%20%20%7D%5Cn%5Cn%20%20%2F%2F%2022.1.5.2%20The%20%25ArrayIteratorPrototype%25%20Object%5Cn%20%20var%20%24ArrayIteratorPrototype%24%20%3D%20Object.create(%24IteratorPrototype%24)%3B%5Cn%20%20ArrayIterator.prototype%20%3D%20%24ArrayIteratorPrototype%24%3B%5Cn%5Cn%20%20%2F%2F%2022.1.5.2.1%20%25ArrayIteratorPrototype%25.%20next(%20)%5Cn%20%20define(%5Cn%20%20%20%20%24ArrayIteratorPrototype%24%2C%20'next'%2C%5Cn%20%20%20%20function%20next()%20%7B%5Cn%20%20%20%20%20%20var%20o%20%3D%20strict(this)%3B%5Cn%20%20%20%20%20%20if%20(Type(o)%20!%3D%3D%20'object')%20throw%20TypeError()%3B%5Cn%20%20%20%20%20%20var%20a%20%3D%20o%5B'%5B%5BIteratedObject%5D%5D'%5D%2C%5Cn%20%20%20%20%20%20%20%20%20%20index%20%3D%20o%5B'%5B%5BArrayIteratorNextIndex%5D%5D'%5D%2C%5Cn%20%20%20%20%20%20%20%20%20%20itemKind%20%3D%20o%5B'%5B%5BArrayIterationKind%5D%5D'%5D%2C%5Cn%20%20%20%20%20%20%20%20%20%20lenValue%20%3D%20a.length%2C%5Cn%20%20%20%20%20%20%20%20%20%20len%20%3D%20ToUint32(lenValue)%2C%5Cn%20%20%20%20%20%20%20%20%20%20elementKey%2C%5Cn%20%20%20%20%20%20%20%20%20%20elementValue%3B%5Cn%20%20%20%20%20%20if%20(itemKind.indexOf('sparse')%20!%3D%3D%20-1)%20%7B%5Cn%20%20%20%20%20%20%20%20var%20found%20%3D%20false%3B%5Cn%20%20%20%20%20%20%20%20while%20(!found%20%26%26%20index%20%3C%20len)%20%7B%5Cn%20%20%20%20%20%20%20%20%20%20elementKey%20%3D%20String(index)%3B%5Cn%20%20%20%20%20%20%20%20%20%20found%20%3D%20HasProperty(a%2C%20elementKey)%3B%5Cn%20%20%20%20%20%20%20%20%20%20if%20(!found)%20%7B%5Cn%20%20%20%20%20%20%20%20%20%20%20%20index%20%2B%3D%201%3B%5Cn%20%20%20%20%20%20%20%20%20%20%7D%5Cn%20%20%20%20%20%20%20%20%7D%5Cn%20%20%20%20%20%20%7D%5Cn%20%20%20%20%20%20if%20(index%20%3E%3D%20len)%20%7B%5Cn%20%20%20%20%20%20%20%20set_internal(o%2C%20'%5B%5BArrayIteratorNextIndex%5D%5D'%2C%20Infinity)%3B%5Cn%20%20%20%20%20%20%20%20return%20CreateIterResultObject(undefined%2C%20true)%3B%5Cn%20%20%20%20%20%20%7D%5Cn%20%20%20%20%20%20elementKey%20%3D%20index%3B%5Cn%20%20%20%20%20%20set_internal(o%2C%20'%5B%5BArrayIteratorNextIndex%5D%5D'%2C%20index%20%2B%201)%3B%5Cn%20%20%20%20%20%20if%20(itemKind.indexOf('value')%20!%3D%3D%20-1)%5Cn%20%20%20%20%20%20%20%20elementValue%20%3D%20a%5BelementKey%5D%3B%5Cn%20%20%20%20%20%20if%20(itemKind.indexOf('key%2Bvalue')%20!%3D%3D%20-1)%5Cn%20%20%20%20%20%20%20%20return%20CreateIterResultObject(%5BelementKey%2C%20elementValue%5D%2C%20false)%3B%5Cn%20%20%20%20%20%20if%20(itemKind.indexOf('key')%20!%3D%3D%20-1)%5Cn%20%20%20%20%20%20%20%20return%20CreateIterResultObject(elementKey%2C%20false)%3B%5Cn%20%20%20%20%20%20if%20(itemKind%20%3D%3D%3D%20'value')%5Cn%20%20%20%20%20%20%20%20return%20CreateIterResultObject(elementValue%2C%20false)%3B%5Cn%20%20%20%20%20%20throw%20Error('Internal%20error')%3B%5Cn%20%20%20%20%7D)%3B%5Cn%5Cn%20%20%2F%2F%2022.1.5.2.2%20%25ArrayIteratorPrototype%25%20%5B%20%40%40toStringTag%20%5D%5Cn%20%20define(%24ArrayIteratorPrototype%24%2C%20%24%24toStringTag%2C%20'Array%20Iterator')%3B%5Cn%5Cn%20%20%2F%2F%2022.1.5.3%20Properties%20of%20Array%20Iterator%20Instances%5Cn%5Cn%5Cn%20%20%2F%2F%20---------------------------------------%5Cn%20%20%2F%2F%2022.2%20TypedArray%20Objects%5Cn%20%20%2F%2F%20---------------------------------------%5Cn%5Cn%20%20%2F%2F%20See%20typedarray.js%20for%20TypedArray%20polyfill%5Cn%5Cn%20%20%5B'Int8Array'%2C%20'Uint8Array'%2C%20'Uint8ClampedArray'%2C%5Cn%20%20%20'Int16Array'%2C%20'Uint16Array'%2C%5Cn%20%20%20'Int32Array'%2C%20'Uint32Array'%2C%5Cn%20%20%20'Float32Array'%2C%20'Float64Array'%5D.forEach(function%20(%24TypedArrayName%24)%20%7B%5Cn%20%20%20%20%20if%20(!(%24TypedArrayName%24%20in%20global))%5Cn%20%20%20%20%20%20%20return%3B%5Cn%20%20%20%20%20var%20%24TypedArray%24%20%3D%20global%5B%24TypedArrayName%24%5D%3B%5Cn%5Cn%20%20%20%20%20%2F%2F%2022.2.1%20The%20%25TypedArray%25%20Intrinsic%20Object%5Cn%20%20%20%20%20%2F%2F%2022.2.1.1%20%25TypedArray%25%20(%20length%20)%5Cn%20%20%20%20%20%2F%2F%2022.2.1.2%20%25TypedArray%25%20(%20typedArray%20)%5Cn%20%20%20%20%20%2F%2F%2022.2.1.3%20%25TypedArray%25%20(%20object%20)%5Cn%20%20%20%20%20%2F%2F%2022.2.1.4%20%25TypedArray%25%20(%20buffer%20%5B%20%2C%20byteOffset%20%5B%20%2C%20length%20%5D%20%5D%20)%5Cn%20%20%20%20%20%2F%2F%2022.2.1.5%20%25TypedArray%25%20(%20all%20other%20argument%20combinations%20)%5Cn%20%20%20%20%20%2F%2F%2022.2.2%20Properties%20of%20the%20%25TypedArray%25%20Intrinsic%20Object%5Cn%5Cn%20%20%20%20%20%2F%2F%2022.2.2.1%20%25TypedArray%25.from%20(%20source%20%5B%20%2C%20mapfn%20%5B%20%2C%20thisArg%20%5D%20%5D%20)%5Cn%20%20%20%20%20define(%5Cn%20%20%20%20%20%20%20%24TypedArray%24%2C%20'from'%2C%5Cn%20%20%20%20%20%20%20function%20from(source)%20%7B%5Cn%20%20%20%20%20%20%20%20%20var%20mapfn%20%3D%20arguments%5B1%5D%3B%5Cn%20%20%20%20%20%20%20%20%20var%20thisArg%20%3D%20arguments%5B2%5D%3B%5Cn%5Cn%20%20%20%20%20%20%20%20%20var%20c%20%3D%20strict(this)%3B%5Cn%20%20%20%20%20%20%20%20%20if%20(!IsConstructor(c))%20throw%20TypeError()%3B%5Cn%20%20%20%20%20%20%20%20%20if%20(mapfn%20%3D%3D%3D%20undefined)%20%7B%5Cn%20%20%20%20%20%20%20%20%20%20%20var%20mapping%20%3D%20false%3B%5Cn%20%20%20%20%20%20%20%20%20%7D%20else%20%7B%5Cn%20%20%20%20%20%20%20%20%20%20%20if%20(IsCallable(mapfn))%20throw%20TypeError()%3B%5Cn%20%20%20%20%20%20%20%20%20%20%20var%20t%20%3D%20thisArg%3B%5Cn%20%20%20%20%20%20%20%20%20%20%20mapping%20%3D%20true%3B%5Cn%20%20%20%20%20%20%20%20%20%7D%5Cn%20%20%20%20%20%20%20%20%20var%20usingIterator%20%3D%20GetMethod(source%2C%20%24%24iterator)%3B%5Cn%20%20%20%20%20%20%20%20%20if%20(usingIterator%20!%3D%3D%20undefined)%20%7B%5Cn%20%20%20%20%20%20%20%20%20%20%20var%20iterator%20%3D%20GetIterator(source%2C%20usingIterator)%3B%5Cn%20%20%20%20%20%20%20%20%20%20%20var%20values%20%3D%20%5B%5D%3B%5Cn%20%20%20%20%20%20%20%20%20%20%20var%20next%20%3D%20true%3B%5Cn%20%20%20%20%20%20%20%20%20%20%20while%20(next%20!%3D%3D%20false)%20%7B%5Cn%20%20%20%20%20%20%20%20%20%20%20%20%20next%20%3D%20IteratorStep(iterator)%3B%5Cn%20%20%20%20%20%20%20%20%20%20%20%20%20if%20(next%20!%3D%3D%20false)%20%7B%5Cn%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20var%20nextValue%20%3D%20IteratorValue(next)%3B%5Cn%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20values.push(nextValue)%3B%5Cn%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%5Cn%20%20%20%20%20%20%20%20%20%20%20%7D%5Cn%20%20%20%20%20%20%20%20%20%20%20var%20len%20%3D%20values.length%3B%5Cn%20%20%20%20%20%20%20%20%20%20%20var%20newObj%20%3D%20new%20c(len)%3B%5Cn%20%20%20%20%20%20%20%20%20%20%20var%20k%20%3D%200%3B%5Cn%20%20%20%20%20%20%20%20%20%20%20while%20(k%20%3C%20len)%20%7B%5Cn%20%20%20%20%20%20%20%20%20%20%20%20%20var%20kValue%20%3D%20values.shift()%3B%5Cn%20%20%20%20%20%20%20%20%20%20%20%20%20if%20(mapping)%20%7B%5Cn%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20var%20mappedValue%20%3D%20mapfn.call(t%2C%20kValue)%3B%5Cn%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%20else%20%7B%5Cn%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20mappedValue%20%3D%20kValue%3B%5Cn%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%5Cn%20%20%20%20%20%20%20%20%20%20%20%20%20newObj%5Bk%5D%20%3D%20mappedValue%3B%5Cn%20%20%20%20%20%20%20%20%20%20%20%20%20%2B%2Bk%3B%5Cn%20%20%20%20%20%20%20%20%20%20%20%7D%5Cn%20%20%20%20%20%20%20%20%20%20%20console.assert(values.length%20%3D%3D%3D%200)%3B%5Cn%20%20%20%20%20%20%20%20%20%20%20return%20newObj%3B%5Cn%20%20%20%20%20%20%20%20%20%7D%5Cn%20%20%20%20%20%20%20%20%20var%20arrayLike%20%3D%20ToObject(source)%3B%5Cn%20%20%20%20%20%20%20%20%20var%20lenValue%20%3D%20arrayLike.length%3B%5Cn%20%20%20%20%20%20%20%20%20len%20%3D%20ToLength(lenValue)%3B%5Cn%20%20%20%20%20%20%20%20%20newObj%20%3D%20new%20c(len)%3B%5Cn%20%20%20%20%20%20%20%20%20k%20%3D%200%3B%5Cn%20%20%20%20%20%20%20%20%20while%20(k%20%3C%20len)%20%7B%5Cn%20%20%20%20%20%20%20%20%20%20%20kValue%20%3D%20arrayLike%5Bk%5D%3B%5Cn%20%20%20%20%20%20%20%20%20%20%20if%20(mapping)%20%7B%5Cn%20%20%20%20%20%20%20%20%20%20%20%20%20mappedValue%20%3D%20mapfn.call(t%2C%20kValue%2C%20k)%3B%5Cn%20%20%20%20%20%20%20%20%20%20%20%7D%20else%20%7B%5Cn%20%20%20%20%20%20%20%20%20%20%20%20%20mappedValue%20%3D%20kValue%3B%5Cn%20%20%20%20%20%20%20%20%20%20%20%7D%5Cn%20%20%20%20%20%20%20%20%20%20%20newObj%5Bk%5D%20%3D%20mappedValue%3B%5Cn%20%20%20%20%20%20%20%20%20%20%20%2B%2Bk%3B%5Cn%20%20%20%20%20%20%20%20%20%7D%5Cn%20%20%20%20%20%20%20%20%20return%20newObj%3B%5Cn%20%20%20%20%20%20%20%7D)%3B%5Cn%5Cn%20%20%20%20%20%2F%2F%2022.2.2.2%20%25TypedArray%25.of%20(%20...items%20)%5Cn%20%20%20%20%20define(%5Cn%20%20%20%20%20%20%20%24TypedArray%24%2C%20'of'%2C%5Cn%20%20%20%20%20%20%20function%20of()%20%7B%5Cn%20%20%20%20%20%20%20%20%20var%20items%20%3D%20arguments%3B%5Cn%5Cn%20%20%20%20%20%20%20%20%20var%20len%20%3D%20items.length%3B%5Cn%20%20%20%20%20%20%20%20%20var%20c%20%3D%20strict(this)%3B%5Cn%20%20%20%20%20%20%20%20%20var%20newObj%20%3D%20new%20c(len)%3B%5Cn%20%20%20%20%20%20%20%20%20var%20k%20%3D%200%3B%5Cn%20%20%20%20%20%20%20%20%20while%20(k%20%3C%20len)%20%7B%5Cn%20%20%20%20%20%20%20%20%20%20%20newObj%5Bk%5D%20%3D%20items%5Bk%5D%3B%5Cn%20%20%20%20%20%20%20%20%20%20%20%2B%2Bk%3B%5Cn%20%20%20%20%20%20%20%20%20%7D%5Cn%20%20%20%20%20%20%20%20%20return%20newObj%3B%5Cn%20%20%20%20%20%20%20%7D)%3B%5Cn%5Cn%20%20%20%20%20%2F%2F%2022.2.2.3%20%25TypedArray%25.prototype%5Cn%20%20%20%20%20%2F%2F%2022.2.2.4%20get%20%25TypedArray%25%20%5B%20%40%40species%20%5D%5Cn%20%20%20%20%20%2F%2F%2022.2.3%20Properties%20of%20the%20%25TypedArrayPrototype%25%20Object%5Cn%20%20%20%20%20%2F%2F%2022.2.3.1%20get%20%25TypedArray%25.prototype.buffer%5Cn%20%20%20%20%20%2F%2F%2022.2.3.2%20get%20%25TypedArray%25.prototype.byteLength%5Cn%20%20%20%20%20%2F%2F%2022.2.3.3%20get%20%25TypedArray%25.prototype.byteOffset%5Cn%20%20%20%20%20%2F%2F%2022.2.3.4%20%25TypedArray%25.prototype.constructor%5Cn%5Cn%20%20%20%20%20%2F%2F%2022.2.3.5%20%25TypedArray%25.prototype.copyWithin%20(target%2C%20start%20%5B%2C%20end%20%5D%20)%5Cn%20%20%20%20%20define(%24TypedArray%24.prototype%2C%20'copyWithin'%2C%20Array.prototype.copyWithin)%3B%5Cn%5Cn%20%20%20%20%20%2F%2F%2022.2.3.6%20%25TypedArray%25.prototype.entries%20(%20)%5Cn%20%20%20%20%20define(%24TypedArray%24.prototype%2C%20'entries'%2C%20Array.prototype.entries)%3B%5Cn%5Cn%20%20%20%20%20%2F%2F%2022.2.3.7%20%25TypedArray%25.prototype.every%20(%20callbackfn%20%5B%20%2C%20thisArg%20%5D%20)%5Cn%20%20%20%20%20define(%24TypedArray%24.prototype%2C%20'every'%2C%20Array.prototype.every)%3B%5Cn%5Cn%20%20%20%20%20%2F%2F%2022.2.3.8%20%25TypedArray%25.prototype.fill%20(value%20%5B%20%2C%20start%20%5B%20%2C%20end%20%5D%20%5D%20)%5Cn%20%20%20%20%20define(%5Cn%20%20%20%20%20%20%20%24TypedArray%24.prototype%2C%20'fill'%2C%5Cn%20%20%20%20%20%20%20%2F%2FArray.prototype.fill%20%2F%2F%20Doesn't%20work%20in%20Safari%207%5Cn%20%20%20%20%20%20%20function%20fill(value%2F*%2C%20start%2C%20end*%2F)%20%7B%5Cn%20%20%20%20%20%20%20%20%20var%20start%20%3D%20arguments%5B1%5D%2C%5Cn%20%20%20%20%20%20%20%20%20%20%20%20%20end%20%3D%20arguments%5B2%5D%3B%5Cn%5Cn%20%20%20%20%20%20%20%20%20var%20o%20%3D%20ToObject(this)%3B%5Cn%20%20%20%20%20%20%20%20%20var%20lenVal%20%3D%20o.length%3B%5Cn%20%20%20%20%20%20%20%20%20var%20len%20%3D%20ToLength(lenVal)%3B%5Cn%20%20%20%20%20%20%20%20%20len%20%3D%20max(len%2C%200)%3B%5Cn%20%20%20%20%20%20%20%20%20var%20relativeStart%20%3D%20ToInteger(start)%3B%5Cn%20%20%20%20%20%20%20%20%20var%20k%3B%5Cn%20%20%20%20%20%20%20%20%20if%20(relativeStart%20%3C%200)%20k%20%3D%20max((len%20%2B%20relativeStart)%2C%200)%3B%5Cn%20%20%20%20%20%20%20%20%20else%20k%20%3D%20min(relativeStart%2C%20len)%3B%5Cn%20%20%20%20%20%20%20%20%20var%20relativeEnd%3B%5Cn%20%20%20%20%20%20%20%20%20if%20(end%20%3D%3D%3D%20undefined)%20relativeEnd%20%3D%20len%3B%5Cn%20%20%20%20%20%20%20%20%20else%20relativeEnd%20%3D%20ToInteger(end)%3B%5Cn%20%20%20%20%20%20%20%20%20var%20final%3B%5Cn%20%20%20%20%20%20%20%20%20if%20(relativeEnd%20%3C%200)%20final%20%3D%20max((len%20%2B%20relativeEnd)%2C%200)%3B%5Cn%20%20%20%20%20%20%20%20%20else%20final%20%3D%20min(relativeEnd%2C%20len)%3B%5Cn%20%20%20%20%20%20%20%20%20while%20(k%20%3C%20final)%20%7B%5Cn%20%20%20%20%20%20%20%20%20%20%20var%20pk%20%3D%20String(k)%3B%5Cn%20%20%20%20%20%20%20%20%20%20%20o%5Bpk%5D%20%3D%20value%3B%5Cn%20%20%20%20%20%20%20%20%20%20%20k%20%2B%3D%201%3B%5Cn%20%20%20%20%20%20%20%20%20%7D%5Cn%20%20%20%20%20%20%20%20%20return%20o%3B%5Cn%20%20%20%20%20%20%20%7D)%3B%5Cn%5Cn%20%20%20%20%20%2F%2F%2022.2.3.9%20%25TypedArray%25.prototype.filter%20(%20callbackfn%20%5B%20%2C%20thisArg%20%5D%20)%5Cn%20%20%20%20%20define(%5Cn%20%20%20%20%20%20%20%24TypedArray%24.prototype%2C%20'filter'%2C%5Cn%20%20%20%20%20%20%20function%20filter(callbackfn)%20%7B%5Cn%20%20%20%20%20%20%20%20%20var%20thisArg%20%3D%20arguments%5B1%5D%3B%5Cn%5Cn%20%20%20%20%20%20%20%20%20var%20o%20%3D%20ToObject(this)%3B%5Cn%20%20%20%20%20%20%20%20%20var%20lenVal%20%3D%20o.length%3B%5Cn%20%20%20%20%20%20%20%20%20var%20len%20%3D%20ToLength(lenVal)%3B%5Cn%20%20%20%20%20%20%20%20%20if%20(!IsCallable(callbackfn))%20throw%20TypeError()%3B%5Cn%20%20%20%20%20%20%20%20%20var%20t%20%3D%20thisArg%3B%5Cn%20%20%20%20%20%20%20%20%20var%20c%20%3D%20o.constructor%3B%5Cn%20%20%20%20%20%20%20%20%20var%20kept%20%3D%20%5B%5D%3B%5Cn%20%20%20%20%20%20%20%20%20var%20k%20%3D%200%3B%5Cn%20%20%20%20%20%20%20%20%20var%20captured%20%3D%200%3B%5Cn%20%20%20%20%20%20%20%20%20while%20(k%20%3C%20len)%20%7B%5Cn%20%20%20%20%20%20%20%20%20%20%20var%20kValue%20%3D%20o%5Bk%5D%3B%5Cn%20%20%20%20%20%20%20%20%20%20%20var%20selected%20%3D%20callbackfn.call(t%2C%20kValue%2C%20k%2C%20o)%3B%5Cn%20%20%20%20%20%20%20%20%20%20%20if%20(selected)%20%7B%5Cn%20%20%20%20%20%20%20%20%20%20%20%20%20kept.push(kValue)%3B%5Cn%20%20%20%20%20%20%20%20%20%20%20%20%20%2B%2Bcaptured%3B%5Cn%20%20%20%20%20%20%20%20%20%20%20%7D%5Cn%20%20%20%20%20%20%20%20%20%20%20%2B%2Bk%3B%5Cn%20%20%20%20%20%20%20%20%20%7D%5Cn%20%20%20%20%20%20%20%20%20var%20a%20%3D%20new%20c(captured)%3B%5Cn%20%20%20%20%20%20%20%20%20var%20n%20%3D%200%3B%5Cn%20%20%20%20%20%20%20%20%20for%20(var%20i%20%3D%200%3B%20i%20%3C%20kept.length%3B%20%2B%2Bi)%20%7B%5Cn%20%20%20%20%20%20%20%20%20%20%20var%20e%20%3D%20kept%5Bi%5D%3B%5Cn%20%20%20%20%20%20%20%20%20%20%20a%5Bn%5D%20%3D%20e%3B%5Cn%20%20%20%20%20%20%20%20%20%20%20%2B%2Bn%3B%5Cn%20%20%20%20%20%20%20%20%20%7D%5Cn%20%20%20%20%20%20%20%20%20return%20a%3B%5Cn%20%20%20%20%20%20%20%7D)%3B%5Cn%5Cn%20%20%20%20%20%2F%2F%2022.2.3.10%20%25TypedArray%25.prototype.find%20(predicate%20%5B%20%2C%20thisArg%20%5D%20)%5Cn%20%20%20%20%20define(%24TypedArray%24.prototype%2C%20'find'%2C%20Array.prototype.find)%3B%5Cn%5Cn%20%20%20%20%20%2F%2F%2022.2.3.11%20%25TypedArray%25.prototype.findIndex%20(%20predicate%20%5B%20%2C%20thisArg%20%5D%20)%5Cn%20%20%20%20%20define(%24TypedArray%24.prototype%2C%20'findIndex'%2C%20Array.prototype.findIndex)%3B%5Cn%5Cn%20%20%20%20%20%2F%2F%2022.2.3.12%20%25TypedArray%25.prototype.forEach%20(%20callbackfn%20%5B%20%2C%20thisArg%20%5D%20)%5Cn%20%20%20%20%20define(%24TypedArray%24.prototype%2C%20'forEach'%2C%20Array.prototype.forEach)%3B%5Cn%5Cn%20%20%20%20%20%2F%2F%2022.2.3.13%20%25TypedArray%25.prototype.indexOf%20(searchElement%20%5B%20%2C%20fromIndex%20%5D%20)%5Cn%20%20%20%20%20define(%24TypedArray%24.prototype%2C%20'indexOf'%2C%20Array.prototype.indexOf)%3B%5Cn%5Cn%20%20%20%20%20%2F%2F%2022.2.3.14%20%25TypedArray%25.prototype.join%20(%20separator%20)%5Cn%20%20%20%20%20define(%24TypedArray%24.prototype%2C%20'join'%2C%20Array.prototype.join)%3B%5Cn%5Cn%20%20%20%20%20%2F%2F%2022.2.3.15%20%25TypedArray%25.prototype.keys%20(%20)%5Cn%20%20%20%20%20define(%24TypedArray%24.prototype%2C%20'keys'%2C%20Array.prototype.keys)%3B%5Cn%5Cn%20%20%20%20%20%2F%2F%2022.2.3.16%20%25TypedArray%25.prototype.lastIndexOf%20(%20searchElement%20%5B%20%2C%20fromIndex%20%5D%20)%5Cn%20%20%20%20%20define(%24TypedArray%24.prototype%2C%20'lastIndexOf'%2C%20Array.prototype.lastIndexOf)%3B%5Cn%5Cn%20%20%20%20%20%2F%2F%2022.2.3.17%20get%20%25TypedArray%25.prototype.length%5Cn%5Cn%20%20%20%20%20%2F%2F%2022.2.3.18%20%25TypedArray%25.prototype.map%20(%20callbackfn%20%5B%20%2C%20thisArg%20%5D%20)%5Cn%20%20%20%20%20define(%5Cn%20%20%20%20%20%20%20%24TypedArray%24.prototype%2C%20'map'%2C%5Cn%20%20%20%20%20%20%20function%20map(callbackfn)%20%7B%5Cn%20%20%20%20%20%20%20%20%20var%20thisArg%20%3D%20arguments%5B1%5D%3B%5Cn%5Cn%20%20%20%20%20%20%20%20%20var%20o%20%3D%20ToObject(this)%3B%5Cn%20%20%20%20%20%20%20%20%20var%20lenValue%20%3D%20o.length%3B%5Cn%20%20%20%20%20%20%20%20%20var%20len%20%3D%20ToLength(lenValue)%3B%5Cn%20%20%20%20%20%20%20%20%20if%20(!IsCallable(callbackfn))%20throw%20TypeError()%3B%5Cn%20%20%20%20%20%20%20%20%20var%20t%20%3D%20thisArg%3B%5Cn%20%20%20%20%20%20%20%20%20var%20a%20%3D%20undefined%3B%5Cn%20%20%20%20%20%20%20%20%20var%20c%20%3D%20o.constructor%3B%5Cn%20%20%20%20%20%20%20%20%20if%20(IsConstructor(c))%5Cn%20%20%20%20%20%20%20%20%20%20%20a%20%3D%20new%20c(len)%3B%5Cn%20%20%20%20%20%20%20%20%20if%20(a%20%3D%3D%3D%20undefined)%5Cn%20%20%20%20%20%20%20%20%20%20%20a%20%3D%20new%20Array(len)%3B%5Cn%20%20%20%20%20%20%20%20%20var%20k%20%3D%200%3B%5Cn%20%20%20%20%20%20%20%20%20while%20(k%20%3C%20len)%20%7B%5Cn%20%20%20%20%20%20%20%20%20%20%20var%20kPresent%20%3D%20HasProperty(o%2C%20k)%3B%5Cn%20%20%20%20%20%20%20%20%20%20%20if%20(kPresent)%20%7B%5Cn%20%20%20%20%20%20%20%20%20%20%20%20%20var%20kValue%20%3D%20o%5Bk%5D%3B%5Cn%20%20%20%20%20%20%20%20%20%20%20%20%20var%20mappedValue%20%3D%20callbackfn.call(t%2C%20kValue%2C%20k%2C%20o)%3B%5Cn%20%20%20%20%20%20%20%20%20%20%20%20%20a%5Bk%5D%20%3D%20mappedValue%3B%5Cn%20%20%20%20%20%20%20%20%20%20%20%7D%5Cn%20%20%20%20%20%20%20%20%20%20%20%2B%2Bk%3B%5Cn%20%20%20%20%20%20%20%20%20%7D%5Cn%20%20%20%20%20%20%20%20%20return%20a%3B%5Cn%20%20%20%20%20%20%20%7D)%3B%5Cn%5Cn%20%20%20%20%20%2F%2F%2022.2.3.19%20%25TypedArray%25.prototype.reduce%20(%20callbackfn%20%5B%2C%20initialValue%5D%20)%5Cn%20%20%20%20%20define(%24TypedArray%24.prototype%2C%20'reduce'%2C%20Array.prototype.reduce)%3B%5Cn%5Cn%20%20%20%20%20%2F%2F%2022.2.3.20%20%25TypedArray%25.prototype.reduceRight%20(%20callbackfn%20%5B%2C%20initialValue%5D%20)%5Cn%20%20%20%20%20define(%24TypedArray%24.prototype%2C%20'reduceRight'%2C%20Array.prototype.reduceRight)%3B%5Cn%5Cn%20%20%20%20%20%2F%2F%2022.2.3.21%20%25TypedArray%25.prototype.reverse%20(%20)%5Cn%20%20%20%20%20define(%24TypedArray%24.prototype%2C%20'reverse'%2C%20Array.prototype.reverse)%3B%5Cn%5Cn%20%20%20%20%20%2F%2F%2022.2.3.22%20%25TypedArray%25.prototype.set%20(%20overloaded%20%5B%20%2C%20offset%20%5D)%5Cn%20%20%20%20%20%2F%2F%2022.2.3.22.1%20%25TypedArray%25.prototype.set%20(array%20%5B%20%2C%20offset%20%5D%20)%5Cn%20%20%20%20%20%2F%2F%2022.2.3.22.2%20%25TypedArray%25.prototype.set(typedArray%20%5B%2C%20offset%20%5D%20)%5Cn%5Cn%20%20%20%20%20%2F%2F%2022.2.3.23%20%25TypedArray%25.prototype.slice%20(%20start%2C%20end%20)%5Cn%20%20%20%20%20define(%5Cn%20%20%20%20%20%20%20%24TypedArray%24.prototype%2C%20'slice'%2C%5Cn%20%20%20%20%20%20%20function%20slice(start%2C%20end)%20%7B%5Cn%20%20%20%20%20%20%20%20%20var%20o%20%3D%20ToObject(this)%3B%5Cn%20%20%20%20%20%20%20%20%20var%20lenVal%20%3D%20o.length%3B%5Cn%20%20%20%20%20%20%20%20%20var%20len%20%3D%20ToLength(lenVal)%3B%5Cn%20%20%20%20%20%20%20%20%20var%20relativeStart%20%3D%20ToInteger(start)%3B%5Cn%20%20%20%20%20%20%20%20%20var%20k%20%3D%20(relativeStart%20%3C%200)%20%3F%20max(len%20%2B%20relativeStart%2C%200)%20%3A%20min(relativeStart%2C%20len)%3B%5Cn%20%20%20%20%20%20%20%20%20var%20relativeEnd%20%3D%20(end%20%3D%3D%3D%20undefined)%20%3F%20len%20%3A%20ToInteger(end)%3B%5Cn%20%20%20%20%20%20%20%20%20var%20final%20%3D%20(relativeEnd%20%3C%200)%20%3F%20max(len%20%2B%20relativeEnd%2C%200)%20%3A%20min(relativeEnd%2C%20len)%3B%5Cn%20%20%20%20%20%20%20%20%20var%20count%20%3D%20final%20-%20k%3B%5Cn%20%20%20%20%20%20%20%20%20var%20c%20%3D%20o.constructor%3B%5Cn%20%20%20%20%20%20%20%20%20if%20(IsConstructor(c))%20%7B%5Cn%20%20%20%20%20%20%20%20%20%20%20var%20a%20%3D%20new%20c(count)%3B%5Cn%20%20%20%20%20%20%20%20%20%7D%20else%20%7B%5Cn%20%20%20%20%20%20%20%20%20%20%20throw%20TypeError()%3B%5Cn%20%20%20%20%20%20%20%20%20%7D%5Cn%20%20%20%20%20%20%20%20%20var%20n%20%3D%200%3B%5Cn%20%20%20%20%20%20%20%20%20while%20(k%20%3C%20final)%20%7B%5Cn%20%20%20%20%20%20%20%20%20%20%20var%20kValue%20%3D%20o%5Bk%5D%3B%5Cn%20%20%20%20%20%20%20%20%20%20%20a%5Bn%5D%20%3D%20kValue%3B%5Cn%20%20%20%20%20%20%20%20%20%20%20%2B%2Bk%3B%5Cn%20%20%20%20%20%20%20%20%20%20%20%2B%2Bn%3B%5Cn%20%20%20%20%20%20%20%20%20%7D%5Cn%20%20%20%20%20%20%20%20%20return%20a%3B%5Cn%20%20%20%20%20%20%20%7D)%3B%5Cn%5Cn%20%20%20%20%20%2F%2F%2022.2.3.24%20%25TypedArray%25.prototype.some%20(%20callbackfn%20%5B%20%2C%20thisArg%20%5D%20)%5Cn%20%20%20%20%20define(%24TypedArray%24.prototype%2C%20'some'%2C%20Array.prototype.some)%3B%5Cn%5Cn%20%20%20%20%20%2F%2F%2022.2.3.25%20%25TypedArray%25.prototype.sort%20(%20comparefn%20)%5Cn%20%20%20%20%20define(%5Cn%20%20%20%20%20%20%20%24TypedArray%24.prototype%2C%20'sort'%2C%5Cn%20%20%20%20%20%20%20function%20sort()%20%7B%5Cn%20%20%20%20%20%20%20%20%20var%20comparefn%20%3D%20arguments%5B0%5D%3B%5Cn%5Cn%20%20%20%20%20%20%20%20%20function%20sortCompare(x%2C%20y)%20%7B%5Cn%20%20%20%20%20%20%20%20%20%20%20console.assert(Type(x)%20%3D%3D%3D%20'number'%20%26%26%20Type(y)%20%3D%3D%3D%20'number')%3B%5Cn%20%20%20%20%20%20%20%20%20%20%20if%20(x%20!%3D%3D%20x%20%26%26%20y%20!%3D%3D%20y)%20return%20%2B0%3B%5Cn%20%20%20%20%20%20%20%20%20%20%20if%20(x%20!%3D%3D%20x)%20return%201%3B%5Cn%20%20%20%20%20%20%20%20%20%20%20if%20(y%20!%3D%3D%20y)%20return%20-1%3B%5Cn%20%20%20%20%20%20%20%20%20%20%20if%20(comparefn%20!%3D%3D%20undefined)%20%7B%5Cn%20%20%20%20%20%20%20%20%20%20%20%20%20return%20comparefn(x%2C%20y)%3B%5Cn%20%20%20%20%20%20%20%20%20%20%20%7D%5Cn%20%20%20%20%20%20%20%20%20%20%20if%20(x%20%3C%20y)%20return%20-1%3B%5Cn%20%20%20%20%20%20%20%20%20%20%20if%20(x%20%3E%20y)%20return%201%3B%5Cn%20%20%20%20%20%20%20%20%20%20%20return%20%2B0%3B%5Cn%20%20%20%20%20%20%20%20%20%7D%5Cn%20%20%20%20%20%20%20%20%20return%20Array.prototype.sort.call(this%2C%20sortCompare)%3B%5Cn%20%20%20%20%20%20%20%7D)%3B%5Cn%5Cn%20%20%20%20%20%2F%2F%2022.2.3.26%20%25TypedArray%25.prototype.subarray(%20%5B%20begin%20%5B%20%2C%20end%20%5D%20%5D%20)%5Cn%20%20%20%20%20%2F%2F%2022.2.3.27%20%25TypedArray%25.prototype.toLocaleString%20(%5B%20reserved1%20%5B%20%2C%20reserved2%20%5D%20%5D)%5Cn%20%20%20%20%20%2F%2F%2022.2.3.28%20%25TypedArray%25.prototype.toString%20(%20)%5Cn%5Cn%20%20%20%20%20%2F%2F%2022.2.3.29%20%25TypedArray%25.prototype.values%20(%20)%5Cn%20%20%20%20%20define(%24TypedArray%24.prototype%2C%20'values'%2C%20Array.prototype.values)%3B%5Cn%5Cn%20%20%20%20%20%2F%2F%2022.2.3.30%20%25TypedArray%25.prototype%20%5B%20%40%40iterator%20%5D%20(%20)%5Cn%20%20%20%20%20define(%5Cn%20%20%20%20%20%20%20%24TypedArray%24.prototype%2C%20%24%24iterator%2C%5Cn%20%20%20%20%20%20%20%24TypedArray%24.prototype.values%5Cn%20%20%20%20%20)%3B%5Cn%5Cn%20%20%20%20%20%2F%2F%2022.2.3.31%20get%20%25TypedArray%25.prototype%20%5B%20%40%40toStringTag%20%5D%5Cn%20%20%20%20%20define(%24TypedArray%24.prototype%2C%20%24%24toStringTag%2C%20%24TypedArrayName%24)%3B%5Cn%5Cn%20%20%20%20%20%2F%2F%2022.2.4%20The%20TypedArray%20Constructors%5Cn%20%20%20%20%20%2F%2F%2022.2.4.1TypedArray(%20...%20argumentsList)%5Cn%20%20%20%20%20%2F%2F%2022.2.5%20Properties%20of%20the%20TypedArray%20Constructors%5Cn%20%20%20%20%20%2F%2F%2022.2.5.1%20TypedArray.BYTES_PER_ELEMENT%5Cn%20%20%20%20%20%2F%2F%2022.2.5.2%20TypedArray.prototype%5Cn%20%20%20%20%20%2F%2F%2022.2.6%20Properties%20of%20TypedArray%20Prototype%20Objects%5Cn%20%20%20%20%20%2F%2F%2022.2.6.1%20TypedArray.prototype.BYTES_PER_ELEMENT%5Cn%20%20%20%20%20%2F%2F%2022.2.6.2%20TypedArray.prototype.constructor%5Cn%20%20%20%20%20%2F%2F%2022.2.7%20Properties%20of%20TypedArray%20Instances%5Cn%20%20%20%7D)%3B%5Cn%5Cn%20%20%2F%2F%20---------------------------------------%5Cn%20%20%2F%2F%2023%20Keyed%20Collection%5Cn%20%20%2F%2F%20---------------------------------------%5Cn%5Cn%20%20%2F%2F%20---------------------------------------%5Cn%20%20%2F%2F%2023.1%20Map%20Objects%5Cn%20%20%2F%2F%20---------------------------------------%5Cn%5Cn%20%20(function()%20%7B%5Cn%20%20%20%20%2F%2F%2023.1.1%20The%20Map%20Constructor%5Cn%5Cn%20%20%20%20%2F%2F%2023.1.1.1%20Map%20(%20%5B%20iterable%20%5D%20)%5Cn%20%20%20%20%2F**%20%40constructor%20*%2F%5Cn%20%20%20%20function%20Map(%2F*iterable*%2F)%20%7B%5Cn%20%20%20%20%20%20var%20map%20%3D%20strict(this)%3B%5Cn%20%20%20%20%20%20var%20iterable%20%3D%20arguments%5B0%5D%3B%5Cn%5Cn%20%20%20%20%20%20if%20(Type(map)%20!%3D%3D%20'object')%20throw%20TypeError()%3B%5Cn%20%20%20%20%20%20if%20('%5B%5BMapData%5D%5D'%20in%20map)%20throw%20TypeError()%3B%5Cn%5Cn%20%20%20%20%20%20if%20(iterable%20!%3D%3D%20undefined)%20%7B%5Cn%20%20%20%20%20%20%20%20var%20adder%20%3D%20map%5B'set'%5D%3B%5Cn%20%20%20%20%20%20%20%20if%20(!IsCallable(adder))%20throw%20TypeError()%3B%5Cn%20%20%20%20%20%20%20%20var%20iter%20%3D%20GetIterator(ToObject(iterable))%3B%5Cn%20%20%20%20%20%20%7D%5Cn%20%20%20%20%20%20set_internal(map%2C%20'%5B%5BMapData%5D%5D'%2C%20%7B%20keys%3A%20%5B%5D%2C%20values%3A%20%5B%5D%20%7D)%3B%5Cn%20%20%20%20%20%20if%20(iter%20%3D%3D%3D%20undefined)%20return%20map%3B%5Cn%20%20%20%20%20%20while%20(true)%20%7B%5Cn%20%20%20%20%20%20%20%20var%20next%20%3D%20IteratorStep(iter)%3B%5Cn%20%20%20%20%20%20%20%20if%20(next%20%3D%3D%3D%20false)%5Cn%20%20%20%20%20%20%20%20%20%20return%20map%3B%5Cn%20%20%20%20%20%20%20%20var%20nextItem%20%3D%20IteratorValue(next)%3B%5Cn%20%20%20%20%20%20%20%20if%20(Type(nextItem)%20!%3D%3D%20'object')%20throw%20TypeError()%3B%5Cn%20%20%20%20%20%20%20%20var%20k%20%3D%20nextItem%5B0%5D%3B%5Cn%20%20%20%20%20%20%20%20var%20v%20%3D%20nextItem%5B1%5D%3B%5Cn%20%20%20%20%20%20%20%20adder.call(map%2C%20k%2C%20v)%3B%5Cn%20%20%20%20%20%20%7D%5Cn%5Cn%20%20%20%20%20%20return%20map%3B%5Cn%20%20%20%20%7D%5Cn%5Cn%20%20%20%20if%20(!('Map'%20in%20global)%20%7C%7C%20OVERRIDE_NATIVE_FOR_TESTING%20%7C%7C%5Cn%20%20%20%20%20%20%20%20(function()%20%7B%20try%20%7B%20new%20global.Map(%5B%5D)%3B%20return%20false%3B%20%7D%20catch%20(_)%20%7B%20return%20true%3B%20%7D%20%7D())%20%7C%7C%5Cn%20%20%20%20%20%20%20%20(function()%20%7B%20try%20%7B%20return%20!new%20global.Map().entries().next%3B%20%7D%20catch%20(_)%20%7B%20return%20true%3B%20%7D%20%7D())%20%7C%7C%5Cn%20%20%20%20%20%20%20%20(new%20global.Map(%5B%5B'a'%2C%201%5D%5D).size%20!%3D%3D%201))%5Cn%20%20%20%20%20%20global.Map%20%3D%20Map%3B%5Cn%5Cn%5Cn%20%20%20%20function%20MapDataIndexOf(mapData%2C%20key)%20%7B%5Cn%20%20%20%20%20%20var%20i%3B%5Cn%20%20%20%20%20%20if%20(key%20%3D%3D%3D%20key)%20return%20mapData.keys.indexOf(key)%3B%5Cn%20%20%20%20%20%20%2F%2F%20Slow%20case%20for%20NaN%5Cn%20%20%20%20%20%20for%20(i%20%3D%200%3B%20i%20%3C%20mapData.keys.length%3B%20i%20%2B%3D%201)%5Cn%20%20%20%20%20%20%20%20if%20(SameValueZero(mapData.keys%5Bi%5D%2C%20key))%20return%20i%3B%5Cn%20%20%20%20%20%20return%20-1%3B%5Cn%20%20%20%20%7D%5Cn%5Cn%20%20%20%20%2F%2F%2023.1.1.2%20new%20Map%20(%20...%20argumentsList%20)%5Cn%20%20%20%20%2F%2F%2023.1.2%20Properties%20of%20the%20Map%20Constructor%5Cn%20%20%20%20%2F%2F%2023.1.2.1%20Map.prototype%5Cn%20%20%20%20var%20%24MapPrototype%24%20%3D%20%7B%7D%3B%5Cn%20%20%20%20Map.prototype%20%3D%20%24MapPrototype%24%3B%5Cn%5Cn%20%20%20%20%2F%2F%2023.1.2.2%20get%20Map%20%5B%20%40%40species%20%5D%5Cn%5Cn%20%20%20%20%2F%2F%2023.1.3%20Properties%20of%20the%20Map%20Prototype%20Object%5Cn%20%20%20%20%2F%2F%2023.1.3.1%20Map.prototype.clear%20()%5Cn%20%20%20%20define(%5Cn%20%20%20%20%20%20Map.prototype%2C%20'clear'%2C%5Cn%20%20%20%20%20%20function%20clear()%20%7B%5Cn%20%20%20%20%20%20%20%20var%20m%20%3D%20strict(this)%3B%5Cn%20%20%20%20%20%20%20%20if%20(Type(m)%20!%3D%3D%20'object')%20throw%20TypeError()%3B%5Cn%20%20%20%20%20%20%20%20if%20(!('%5B%5BMapData%5D%5D'%20in%20m))%20throw%20TypeError()%3B%5Cn%20%20%20%20%20%20%20%20if%20(m%5B'%5B%5BMapData%5D%5D'%5D%20%3D%3D%3D%20undefined)%20throw%20TypeError()%3B%5Cn%20%20%20%20%20%20%20%20var%20entries%20%3D%20m%5B'%5B%5BMapData%5D%5D'%5D%3B%5Cn%20%20%20%20%20%20%20%20entries.keys.length%20%3D%200%3B%5Cn%20%20%20%20%20%20%20%20entries.values.length%20%3D%200%3B%5Cn%20%20%20%20%20%20%20%20return%20undefined%3B%5Cn%20%20%20%20%20%20%7D)%3B%5Cn%5Cn%20%20%20%20%2F%2F%2023.1.3.2%20Map.prototype.constructor%5Cn%5Cn%20%20%20%20%2F%2F%2023.1.3.3%20Map.prototype.delete%20(%20key%20)%5Cn%20%20%20%20define(%5Cn%20%20%20%20%20%20Map.prototype%2C%20'delete'%2C%5Cn%20%20%20%20%20%20function%20delete_(key)%20%7B%5Cn%20%20%20%20%20%20%20%20var%20m%20%3D%20strict(this)%3B%5Cn%20%20%20%20%20%20%20%20if%20(Type(m)%20!%3D%3D%20'object')%20throw%20TypeError()%3B%5Cn%20%20%20%20%20%20%20%20if%20(!('%5B%5BMapData%5D%5D'%20in%20m))%20throw%20TypeError()%3B%5Cn%20%20%20%20%20%20%20%20if%20(m%5B'%5B%5BMapData%5D%5D'%5D%20%3D%3D%3D%20undefined)%20throw%20TypeError()%3B%5Cn%20%20%20%20%20%20%20%20var%20entries%20%3D%20m%5B'%5B%5BMapData%5D%5D'%5D%3B%5Cn%20%20%20%20%20%20%20%20var%20i%20%3D%20MapDataIndexOf(entries%2C%20key)%3B%5Cn%20%20%20%20%20%20%20%20if%20(i%20%3C%200)%20return%20false%3B%5Cn%20%20%20%20%20%20%20%20entries.keys%5Bi%5D%20%3D%20empty%3B%5Cn%20%20%20%20%20%20%20%20entries.values%5Bi%5D%20%3D%20empty%3B%5Cn%20%20%20%20%20%20%20%20return%20true%3B%5Cn%20%20%20%20%20%20%7D)%3B%5Cn%5Cn%20%20%20%20%2F%2F%2023.1.3.4%20Map.prototype.entries%20(%20)%5Cn%20%20%20%20define(%5Cn%20%20%20%20%20%20Map.prototype%2C%20'entries'%2C%5Cn%20%20%20%20%20%20function%20entries()%20%7B%5Cn%20%20%20%20%20%20%20%20var%20m%20%3D%20strict(this)%3B%5Cn%20%20%20%20%20%20%20%20if%20(Type(m)%20!%3D%3D%20'object')%20throw%20TypeError()%3B%5Cn%20%20%20%20%20%20%20%20return%20CreateMapIterator(m%2C%20'key%2Bvalue')%3B%5Cn%20%20%20%20%20%20%7D)%3B%5Cn%5Cn%20%20%20%20%2F%2F%2023.1.3.5%20Map.prototype.forEach%20(%20callbackfn%20%5B%20%2C%20thisArg%20%5D%20)%5Cn%20%20%20%20define(%5Cn%20%20%20%20%20%20Map.prototype%2C%20'forEach'%2C%5Cn%20%20%20%20%20%20function%20forEach(callbackfn%20%2F*%2C%20thisArg*%2F)%20%7B%5Cn%20%20%20%20%20%20%20%20var%20thisArg%20%3D%20arguments%5B1%5D%3B%5Cn%5Cn%20%20%20%20%20%20%20%20var%20m%20%3D%20strict(this)%3B%5Cn%20%20%20%20%20%20%20%20if%20(Type(m)%20!%3D%3D%20'object')%20throw%20TypeError()%3B%5Cn%20%20%20%20%20%20%20%20if%20(!('%5B%5BMapData%5D%5D'%20in%20m))%20throw%20TypeError()%3B%5Cn%20%20%20%20%20%20%20%20if%20(m%5B'%5B%5BMapData%5D%5D'%5D%20%3D%3D%3D%20undefined)%20throw%20TypeError()%3B%5Cn%20%20%20%20%20%20%20%20var%20entries%20%3D%20m%5B'%5B%5BMapData%5D%5D'%5D%3B%5Cn%5Cn%20%20%20%20%20%20%20%20if%20(!IsCallable(callbackfn))%20%7B%5Cn%20%20%20%20%20%20%20%20%20%20throw%20TypeError('First%20argument%20to%20forEach%20is%20not%20callable.')%3B%5Cn%20%20%20%20%20%20%20%20%7D%5Cn%20%20%20%20%20%20%20%20for%20(var%20i%20%3D%200%3B%20i%20%3C%20entries.keys.length%3B%20%2B%2Bi)%20%7B%5Cn%20%20%20%20%20%20%20%20%20%20if%20(entries.keys%5Bi%5D%20!%3D%3D%20empty)%20%7B%5Cn%20%20%20%20%20%20%20%20%20%20%20%20callbackfn.call(thisArg%2C%20entries.values%5Bi%5D%2C%20entries.keys%5Bi%5D%2C%20m)%3B%5Cn%20%20%20%20%20%20%20%20%20%20%7D%5Cn%20%20%20%20%20%20%20%20%7D%5Cn%20%20%20%20%20%20%20%20return%20undefined%3B%5Cn%20%20%20%20%20%20%7D)%3B%5Cn%5Cn%20%20%20%20%2F%2F%2023.1.3.6%20Map.prototype.get%20(%20key%20)%5Cn%20%20%20%20define(%5Cn%20%20%20%20%20%20Map.prototype%2C%20'get'%2C%5Cn%20%20%20%20%20%20function%20get(key)%20%7B%5Cn%20%20%20%20%20%20%20%20var%20m%20%3D%20strict(this)%3B%5Cn%20%20%20%20%20%20%20%20if%20(Type(m)%20!%3D%3D%20'object')%20throw%20TypeError()%3B%5Cn%20%20%20%20%20%20%20%20if%20(!('%5B%5BMapData%5D%5D'%20in%20m))%20throw%20TypeError()%3B%5Cn%20%20%20%20%20%20%20%20if%20(m%5B'%5B%5BMapData%5D%5D'%5D%20%3D%3D%3D%20undefined)%20throw%20TypeError()%3B%5Cn%20%20%20%20%20%20%20%20var%20entries%20%3D%20m%5B'%5B%5BMapData%5D%5D'%5D%3B%5Cn%20%20%20%20%20%20%20%20var%20i%20%3D%20MapDataIndexOf(entries%2C%20key)%3B%5Cn%20%20%20%20%20%20%20%20if%20(i%20%3E%3D%200)%20return%20entries.values%5Bi%5D%3B%5Cn%20%20%20%20%20%20%20%20return%20undefined%3B%5Cn%20%20%20%20%20%20%7D)%3B%5Cn%5Cn%20%20%20%20%2F%2F%2023.1.3.7%20Map.prototype.has%20(%20key%20)%5Cn%20%20%20%20define(%5Cn%20%20%20%20%20%20Map.prototype%2C%20'has'%2C%5Cn%20%20%20%20%20%20function%20has(key)%20%7B%5Cn%20%20%20%20%20%20%20%20var%20m%20%3D%20strict(this)%3B%5Cn%20%20%20%20%20%20%20%20if%20(Type(m)%20!%3D%3D%20'object')%20throw%20TypeError()%3B%5Cn%20%20%20%20%20%20%20%20if%20(!('%5B%5BMapData%5D%5D'%20in%20m))%20throw%20TypeError()%3B%5Cn%20%20%20%20%20%20%20%20if%20(m%5B'%5B%5BMapData%5D%5D'%5D%20%3D%3D%3D%20undefined)%20throw%20TypeError()%3B%5Cn%20%20%20%20%20%20%20%20var%20entries%20%3D%20m%5B'%5B%5BMapData%5D%5D'%5D%3B%5Cn%20%20%20%20%20%20%20%20if%20(MapDataIndexOf(entries%2C%20key)%20%3E%3D%200)%20return%20true%3B%5Cn%20%20%20%20%20%20%20%20return%20false%3B%5Cn%20%20%20%20%20%20%7D)%3B%5Cn%5Cn%20%20%20%20%2F%2F%2023.1.3.8%20Map.prototype.keys%20(%20)%5Cn%20%20%20%20define(%5Cn%20%20%20%20%20%20Map.prototype%2C%20'keys'%2C%5Cn%20%20%20%20%20%20function%20keys()%20%7B%5Cn%20%20%20%20%20%20%20%20var%20m%20%3D%20strict(this)%3B%5Cn%20%20%20%20%20%20%20%20if%20(Type(m)%20!%3D%3D%20'object')%20throw%20TypeError()%3B%5Cn%20%20%20%20%20%20%20%20return%20CreateMapIterator(m%2C%20'key')%3B%5Cn%20%20%20%20%20%20%7D)%3B%5Cn%5Cn%20%20%20%20%2F%2F%2023.1.3.9%20Map.prototype.set%20(%20key%20%2C%20value%20)%5Cn%20%20%20%20define(%5Cn%20%20%20%20%20%20Map.prototype%2C%20'set'%2C%5Cn%20%20%20%20%20%20function%20set(key%2C%20value)%20%7B%5Cn%20%20%20%20%20%20%20%20var%20m%20%3D%20strict(this)%3B%5Cn%20%20%20%20%20%20%20%20if%20(Type(m)%20!%3D%3D%20'object')%20throw%20TypeError()%3B%5Cn%20%20%20%20%20%20%20%20if%20(!('%5B%5BMapData%5D%5D'%20in%20m))%20throw%20TypeError()%3B%5Cn%20%20%20%20%20%20%20%20if%20(m%5B'%5B%5BMapData%5D%5D'%5D%20%3D%3D%3D%20undefined)%20throw%20TypeError()%3B%5Cn%20%20%20%20%20%20%20%20var%20entries%20%3D%20m%5B'%5B%5BMapData%5D%5D'%5D%3B%5Cn%20%20%20%20%20%20%20%20var%20i%20%3D%20MapDataIndexOf(entries%2C%20key)%3B%5Cn%20%20%20%20%20%20%20%20if%20(i%20%3C%200)%20i%20%3D%20entries.keys.length%3B%5Cn%20%20%20%20%20%20%20%20if%20(SameValue(key%2C%20-0))%20key%20%3D%200%3B%5Cn%20%20%20%20%20%20%20%20entries.keys%5Bi%5D%20%3D%20key%3B%5Cn%20%20%20%20%20%20%20%20entries.values%5Bi%5D%20%3D%20value%3B%5Cn%20%20%20%20%20%20%20%20return%20m%3B%5Cn%20%20%20%20%20%20%7D)%3B%5Cn%5Cn%20%20%20%20%2F%2F%2023.1.3.10%20get%20Map.prototype.size%5Cn%20%20%20%20Object.defineProperty(%5Cn%20%20%20%20%20%20Map.prototype%2C%20'size'%2C%20%7B%5Cn%20%20%20%20%20%20%20%20get%3A%20function()%20%7B%5Cn%20%20%20%20%20%20%20%20%20%20var%20m%20%3D%20strict(this)%3B%5Cn%20%20%20%20%20%20%20%20%20%20if%20(Type(m)%20!%3D%3D%20'object')%20throw%20TypeError()%3B%5Cn%20%20%20%20%20%20%20%20%20%20if%20(!('%5B%5BMapData%5D%5D'%20in%20m))%20throw%20TypeError()%3B%5Cn%20%20%20%20%20%20%20%20%20%20if%20(m%5B'%5B%5BMapData%5D%5D'%5D%20%3D%3D%3D%20undefined)%20throw%20TypeError()%3B%5Cn%20%20%20%20%20%20%20%20%20%20var%20entries%20%3D%20m%5B'%5B%5BMapData%5D%5D'%5D%3B%5Cn%20%20%20%20%20%20%20%20%20%20var%20count%20%3D%200%3B%5Cn%20%20%20%20%20%20%20%20%20%20for%20(var%20i%20%3D%200%3B%20i%20%3C%20entries.keys.length%3B%20%2B%2Bi)%20%7B%5Cn%20%20%20%20%20%20%20%20%20%20%20%20if%20(entries.keys%5Bi%5D%20!%3D%3D%20empty)%5Cn%20%20%20%20%20%20%20%20%20%20%20%20%20%20count%20%3D%20count%20%2B%201%3B%5Cn%20%20%20%20%20%20%20%20%20%20%7D%5Cn%20%20%20%20%20%20%20%20%20%20return%20count%3B%5Cn%20%20%20%20%20%20%20%20%7D%5Cn%20%20%20%20%20%20%7D)%3B%5Cn%5Cn%20%20%20%20%2F%2F%2023.1.3.11%20Map.prototype.values%20(%20)%5Cn%20%20%20%20define(%5Cn%20%20%20%20%20%20Map.prototype%2C%20'values'%2C%5Cn%20%20%20%20%20%20function%20values()%20%7B%5Cn%20%20%20%20%20%20%20%20var%20m%20%3D%20strict(this)%3B%5Cn%20%20%20%20%20%20%20%20if%20(Type(m)%20!%3D%3D%20'object')%20throw%20TypeError()%3B%5Cn%20%20%20%20%20%20%20%20return%20CreateMapIterator(m%2C%20'value')%3B%5Cn%20%20%20%20%20%20%7D)%3B%5Cn%5Cn%20%20%20%20%2F%2F%2023.1.3.12%20Map.prototype%20%5B%20%40%40iterator%20%5D(%20)%5Cn%20%20%20%20define(%5Cn%20%20%20%20%20%20Map.prototype%2C%20%24%24iterator%2C%5Cn%20%20%20%20%20%20function()%20%7B%5Cn%20%20%20%20%20%20%20%20var%20m%20%3D%20strict(this)%3B%5Cn%20%20%20%20%20%20%20%20if%20(Type(m)%20!%3D%3D%20'object')%20throw%20TypeError()%3B%5Cn%20%20%20%20%20%20%20%20return%20CreateMapIterator(m%2C%20'key%2Bvalue')%3B%5Cn%20%20%20%20%20%20%7D)%3B%5Cn%5Cn%20%20%20%20%2F%2F%2023.1.3.13%20Map.prototype%20%5B%20%40%40toStringTag%20%5D%5Cn%20%20%20%20define(global.Map.prototype%2C%20%24%24toStringTag%2C%20'Map')%3B%5Cn%5Cn%20%20%20%20%2F%2F%2023.1.4%20Properties%20of%20Map%20Instances%5Cn%20%20%20%20%2F%2F%2023.1.5%20Map%20Iterator%20Objects%5Cn%5Cn%20%20%20%20%2F**%20%40constructor%20*%2F%5Cn%20%20%20%20function%20MapIterator()%20%7B%7D%5Cn%5Cn%20%20%20%20%2F%2F%2023.1.5.1%20CreateMapIterator%20Abstract%20Operation%5Cn%20%20%20%20function%20CreateMapIterator(map%2C%20kind)%20%7B%5Cn%20%20%20%20%20%20if%20(Type(map)%20!%3D%3D%20'object')%20throw%20TypeError()%3B%5Cn%20%20%20%20%20%20if%20(!('%5B%5BMapData%5D%5D'%20in%20map))%20throw%20TypeError()%3B%5Cn%20%20%20%20%20%20if%20(map%5B'%5B%5BMapData%5D%5D'%5D%20%3D%3D%3D%20undefined)%20throw%20TypeError()%3B%5Cn%20%20%20%20%20%20var%20iterator%20%3D%20new%20MapIterator%3B%5Cn%20%20%20%20%20%20set_internal(iterator%2C%20'%5B%5BMap%5D%5D'%2C%20map)%3B%5Cn%20%20%20%20%20%20set_internal(iterator%2C%20'%5B%5BMapNextIndex%5D%5D'%2C%200)%3B%5Cn%20%20%20%20%20%20set_internal(iterator%2C%20'%5B%5BMapIterationKind%5D%5D'%2C%20kind)%3B%5Cn%20%20%20%20%20%20return%20iterator%3B%5Cn%20%20%20%20%7D%5Cn%5Cn%20%20%20%20%2F%2F%2023.1.5.2%20The%20%25MapIteratorPrototype%25%20Object%5Cn%20%20%20%20var%20%24MapIteratorPrototype%24%20%3D%20Object.create(%24IteratorPrototype%24)%3B%5Cn%20%20%20%20MapIterator.prototype%20%3D%20%24MapIteratorPrototype%24%3B%5Cn%5Cn%20%20%20%20%2F%2F%2023.1.5.2.1%20%25MapIteratorPrototype%25.next%20(%20)%5Cn%20%20%20%20define(%5Cn%20%20%20%20%20%20%24MapIteratorPrototype%24%2C%20'next'%2C%5Cn%20%20%20%20%20%20function%20next()%20%7B%5Cn%20%20%20%20%20%20%20%20var%20o%20%3D%20strict(this)%3B%5Cn%20%20%20%20%20%20%20%20if%20(Type(o)%20!%3D%3D%20'object')%20throw%20TypeError()%3B%5Cn%20%20%20%20%20%20%20%20var%20m%20%3D%20o%5B'%5B%5BMap%5D%5D'%5D%2C%5Cn%20%20%20%20%20%20%20%20%20%20%20%20index%20%3D%20o%5B'%5B%5BMapNextIndex%5D%5D'%5D%2C%5Cn%20%20%20%20%20%20%20%20%20%20%20%20itemKind%20%3D%20o%5B'%5B%5BMapIterationKind%5D%5D'%5D%2C%5Cn%20%20%20%20%20%20%20%20%20%20%20%20entries%20%3D%20m%5B'%5B%5BMapData%5D%5D'%5D%3B%5Cn%20%20%20%20%20%20%20%20while%20(index%20%3C%20entries.keys.length)%20%7B%5Cn%20%20%20%20%20%20%20%20%20%20var%20e%20%3D%20%7Bkey%3A%20entries.keys%5Bindex%5D%2C%20value%3A%20entries.values%5Bindex%5D%7D%3B%5Cn%20%20%20%20%20%20%20%20%20%20index%20%3D%20index%20%2B%3D%201%3B%5Cn%20%20%20%20%20%20%20%20%20%20set_internal(o%2C%20'%5B%5BMapNextIndex%5D%5D'%2C%20index)%3B%5Cn%20%20%20%20%20%20%20%20%20%20if%20(e.key%20!%3D%3D%20empty)%20%7B%5Cn%20%20%20%20%20%20%20%20%20%20%20%20if%20(itemKind%20%3D%3D%3D%20'key')%20%7B%5Cn%20%20%20%20%20%20%20%20%20%20%20%20%20%20return%20CreateIterResultObject(e.key%2C%20false)%3B%5Cn%20%20%20%20%20%20%20%20%20%20%20%20%7D%20else%20if%20(itemKind%20%3D%3D%3D%20'value')%20%7B%5Cn%20%20%20%20%20%20%20%20%20%20%20%20%20%20return%20CreateIterResultObject(e.value%2C%20false)%3B%5Cn%20%20%20%20%20%20%20%20%20%20%20%20%7D%20else%20%7B%5Cn%20%20%20%20%20%20%20%20%20%20%20%20%20%20return%20CreateIterResultObject(%5Be.key%2C%20e.value%5D%2C%20false)%3B%5Cn%20%20%20%20%20%20%20%20%20%20%20%20%7D%5Cn%20%20%20%20%20%20%20%20%20%20%7D%5Cn%20%20%20%20%20%20%20%20%7D%5Cn%20%20%20%20%20%20%20%20return%20CreateIterResultObject(undefined%2C%20true)%3B%5Cn%20%20%20%20%20%20%7D)%3B%5Cn%5Cn%20%20%20%20%2F%2F%2023.1.5.2.2%20%25MapIteratorPrototype%25%20%5B%20%40%40toStringTag%20%5D%5Cn%20%20%20%20define(%24MapIteratorPrototype%24%2C%20%24%24toStringTag%2C%20'Map%20Iterator')%3B%5Cn%5Cn%20%20%20%20%2F%2F%2023.1.5.3%20Properties%20of%20Map%20Iterator%20Instances%5Cn%20%20%7D())%3B%5Cn%5Cn%20%20%2F%2F%20---------------------------------------%5Cn%20%20%2F%2F%2023.2%20Set%20Objects%5Cn%20%20%2F%2F%20---------------------------------------%5Cn%5Cn%20%20(function()%20%7B%5Cn%20%20%20%20%2F%2F%2023.2.1%20The%20Set%20Constructor%5Cn%20%20%20%20%2F%2F%2023.2.1.1%20Set%20(%20%5B%20iterable%20%5D%20)%5Cn%5Cn%20%20%20%20%2F**%20%40constructor%20*%2F%5Cn%20%20%20%20function%20Set(%2F*iterable*%2F)%20%7B%5Cn%20%20%20%20%20%20var%20set%20%3D%20strict(this)%3B%5Cn%20%20%20%20%20%20var%20iterable%20%3D%20arguments%5B0%5D%3B%5Cn%5Cn%20%20%20%20%20%20if%20(Type(set)%20!%3D%3D%20'object')%20throw%20TypeError()%3B%5Cn%20%20%20%20%20%20if%20('%5B%5BSetData%5D%5D'%20in%20set)%20throw%20TypeError()%3B%5Cn%5Cn%20%20%20%20%20%20if%20(iterable%20!%3D%3D%20undefined)%20%7B%5Cn%20%20%20%20%20%20%20%20var%20adder%20%3D%20set%5B'add'%5D%3B%5Cn%20%20%20%20%20%20%20%20if%20(!IsCallable(adder))%20throw%20TypeError()%3B%5Cn%20%20%20%20%20%20%20%20var%20iter%20%3D%20GetIterator(ToObject(iterable))%3B%5Cn%20%20%20%20%20%20%7D%5Cn%20%20%20%20%20%20set_internal(set%2C%20'%5B%5BSetData%5D%5D'%2C%20%5B%5D)%3B%5Cn%20%20%20%20%20%20if%20(iter%20%3D%3D%3D%20undefined)%20return%20set%3B%5Cn%20%20%20%20%20%20while%20(true)%20%7B%5Cn%20%20%20%20%20%20%20%20var%20next%20%3D%20IteratorStep(iter)%3B%5Cn%20%20%20%20%20%20%20%20if%20(next%20%3D%3D%3D%20false)%5Cn%20%20%20%20%20%20%20%20%20%20return%20set%3B%5Cn%20%20%20%20%20%20%20%20var%20nextValue%20%3D%20IteratorValue(next)%3B%5Cn%20%20%20%20%20%20%20%20adder.call(set%2C%20nextValue)%3B%5Cn%20%20%20%20%20%20%7D%5Cn%5Cn%20%20%20%20%20%20return%20set%3B%5Cn%20%20%20%20%7D%5Cn%5Cn%20%20%20%20if%20(!('Set'%20in%20global)%20%7C%7C%20OVERRIDE_NATIVE_FOR_TESTING%20%7C%7C%5Cn%20%20%20%20%20%20%20%20(function()%20%7B%20try%20%7B%20return%20!new%20global.Set().entries().next%3B%20%7D%20catch%20(_)%20%7B%20return%20true%3B%20%7D%20%7D())%20%7C%7C%5Cn%20%20%20%20%20%20%20%20(new%20global.Set(%5B1%5D).size%20!%3D%3D%201))%5Cn%20%20%20%20%20%20global.Set%20%3D%20Set%3B%5Cn%5Cn%20%20%20%20function%20SetDataIndexOf(setData%2C%20key)%20%7B%5Cn%20%20%20%20%20%20var%20i%3B%5Cn%20%20%20%20%20%20if%20(key%20%3D%3D%3D%20key)%5Cn%20%20%20%20%20%20%20%20return%20setData.indexOf(key)%3B%5Cn%20%20%20%20%20%20%2F%2F%20Slow%20case%20for%20NaN%5Cn%20%20%20%20%20%20for%20(i%20%3D%200%3B%20i%20%3C%20setData.length%3B%20i%20%2B%3D%201)%5Cn%20%20%20%20%20%20%20%20if%20(SameValueZero(setData%5Bi%5D%2C%20key))%20return%20i%3B%5Cn%20%20%20%20%20%20return%20-1%3B%5Cn%20%20%20%20%7D%5Cn%5Cn%20%20%20%20%2F%2F%2023.2.1.2%20new%20Set%20(%20...argumentsList%20)%5Cn%20%20%20%20%2F%2F%2023.2.2%20Properties%20of%20the%20Set%20Constructor%5Cn%5Cn%20%20%20%20%2F%2F%2023.2.2.1%20Set.prototype%5Cn%20%20%20%20var%20%24SetPrototype%24%20%3D%20%20%7B%7D%3B%5Cn%20%20%20%20Set.prototype%20%3D%20%24SetPrototype%24%3B%5Cn%5Cn%20%20%20%20%2F%2F%2023.2.2.2%20get%20Set%20%5B%20%40%40species%20%5D%5Cn%20%20%20%20%2F%2F%2023.2.3%20Properties%20of%20the%20Set%20Prototype%20Object%5Cn%5Cn%20%20%20%20%2F%2F%2023.2.3.1%20Set.prototype.add%20(value%20)%5Cn%20%20%20%20define(%5Cn%20%20%20%20%20%20Set.prototype%2C%20'add'%2C%5Cn%20%20%20%20%20%20function%20add(value)%20%7B%5Cn%20%20%20%20%20%20%20%20var%20s%20%3D%20strict(this)%3B%5Cn%20%20%20%20%20%20%20%20if%20(Type(s)%20!%3D%3D%20'object')%20throw%20TypeError()%3B%5Cn%20%20%20%20%20%20%20%20if%20(!('%5B%5BSetData%5D%5D'%20in%20s))%20throw%20TypeError()%3B%5Cn%20%20%20%20%20%20%20%20if%20(s%5B'%5B%5BSetData%5D%5D'%5D%20%3D%3D%3D%20undefined)%20throw%20TypeError()%3B%5Cn%20%20%20%20%20%20%20%20if%20(SameValue(value%2C%20-0))%20value%20%3D%200%3B%5Cn%20%20%20%20%20%20%20%20var%20entries%20%3D%20s%5B'%5B%5BSetData%5D%5D'%5D%3B%5Cn%20%20%20%20%20%20%20%20var%20i%20%3D%20SetDataIndexOf(entries%2C%20value)%3B%5Cn%20%20%20%20%20%20%20%20if%20(i%20%3C%200)%20i%20%3D%20s%5B'%5B%5BSetData%5D%5D'%5D.length%3B%5Cn%20%20%20%20%20%20%20%20s%5B'%5B%5BSetData%5D%5D'%5D%5Bi%5D%20%3D%20value%3B%5Cn%5Cn%20%20%20%20%20%20%20%20return%20s%3B%5Cn%20%20%20%20%20%20%7D)%3B%5Cn%5Cn%20%20%20%20%2F%2F%2023.2.3.2%20Set.prototype.clear%20()%5Cn%20%20%20%20define(%5Cn%20%20%20%20%20%20Set.prototype%2C%20'clear'%2C%5Cn%20%20%20%20%20%20function%20clear()%20%7B%5Cn%20%20%20%20%20%20%20%20var%20s%20%3D%20strict(this)%3B%5Cn%20%20%20%20%20%20%20%20if%20(Type(s)%20!%3D%3D%20'object')%20throw%20TypeError()%3B%5Cn%20%20%20%20%20%20%20%20if%20(!('%5B%5BSetData%5D%5D'%20in%20s))%20throw%20TypeError()%3B%5Cn%20%20%20%20%20%20%20%20if%20(s%5B'%5B%5BSetData%5D%5D'%5D%20%3D%3D%3D%20undefined)%20throw%20TypeError()%3B%5Cn%20%20%20%20%20%20%20%20var%20entries%20%3D%20s%5B'%5B%5BSetData%5D%5D'%5D%3B%5Cn%20%20%20%20%20%20%20%20entries.length%20%3D%200%3B%5Cn%20%20%20%20%20%20%20%20return%20undefined%3B%5Cn%20%20%20%20%20%20%7D)%3B%5Cn%5Cn%20%20%20%20%2F%2F%2023.2.3.3%20Set.prototype.constructor%5Cn%20%20%20%20%2F%2F%2023.2.3.4%20Set.prototype.delete%20(%20value%20)%5Cn%20%20%20%20define(%5Cn%20%20%20%20%20%20Set.prototype%2C%20'delete'%2C%5Cn%20%20%20%20%20%20function%20delete_(value)%20%7B%5Cn%20%20%20%20%20%20%20%20var%20s%20%3D%20strict(this)%3B%5Cn%20%20%20%20%20%20%20%20if%20(Type(s)%20!%3D%3D%20'object')%20throw%20TypeError()%3B%5Cn%20%20%20%20%20%20%20%20if%20(!('%5B%5BSetData%5D%5D'%20in%20s))%20throw%20TypeError()%3B%5Cn%20%20%20%20%20%20%20%20if%20(s%5B'%5B%5BSetData%5D%5D'%5D%20%3D%3D%3D%20undefined)%20throw%20TypeError()%3B%5Cn%20%20%20%20%20%20%20%20var%20entries%20%3D%20s%5B'%5B%5BSetData%5D%5D'%5D%3B%5Cn%20%20%20%20%20%20%20%20var%20i%20%3D%20SetDataIndexOf(entries%2C%20value)%3B%5Cn%20%20%20%20%20%20%20%20if%20(i%20%3C%200)%20return%20false%3B%5Cn%20%20%20%20%20%20%20%20entries%5Bi%5D%20%3D%20empty%3B%5Cn%20%20%20%20%20%20%20%20return%20true%3B%5Cn%20%20%20%20%20%20%7D)%3B%5Cn%5Cn%20%20%20%20%2F%2F%2023.2.3.5%20Set.prototype.entries%20(%20)%5Cn%20%20%20%20define(%5Cn%20%20%20%20%20%20Set.prototype%2C%20'entries'%2C%5Cn%20%20%20%20%20%20function%20entries()%20%7B%5Cn%20%20%20%20%20%20%20%20var%20s%20%3D%20strict(this)%3B%5Cn%20%20%20%20%20%20%20%20if%20(Type(s)%20!%3D%3D%20'object')%20throw%20TypeError()%3B%5Cn%20%20%20%20%20%20%20%20return%20CreateSetIterator(s%2C%20'key%2Bvalue')%3B%5Cn%20%20%20%20%20%20%7D)%3B%5Cn%5Cn%20%20%20%20%2F%2F%2023.2.3.6%20Set.prototype.forEach%20(%20callbackfn%20%5B%20%2C%20thisArg%20%5D%20)%5Cn%20%20%20%20define(%5Cn%20%20%20%20%20%20Set.prototype%2C%20'forEach'%2C%5Cn%20%20%20%20%20%20function%20forEach(callbackfn%2F*%2C%20thisArg*%2F)%20%7B%5Cn%20%20%20%20%20%20%20%20var%20thisArg%20%3D%20arguments%5B1%5D%3B%5Cn%5Cn%20%20%20%20%20%20%20%20var%20s%20%3D%20strict(this)%3B%5Cn%20%20%20%20%20%20%20%20if%20(Type(s)%20!%3D%3D%20'object')%20throw%20TypeError()%3B%5Cn%20%20%20%20%20%20%20%20if%20(!('%5B%5BSetData%5D%5D'%20in%20s))%20throw%20TypeError()%3B%5Cn%20%20%20%20%20%20%20%20if%20(s%5B'%5B%5BSetData%5D%5D'%5D%20%3D%3D%3D%20undefined)%20throw%20TypeError()%3B%5Cn%20%20%20%20%20%20%20%20var%20entries%20%3D%20s%5B'%5B%5BSetData%5D%5D'%5D%3B%5Cn%5Cn%20%20%20%20%20%20%20%20if%20(!IsCallable(callbackfn))%20%7B%5Cn%20%20%20%20%20%20%20%20%20%20throw%20TypeError('First%20argument%20to%20forEach%20is%20not%20callable.')%3B%5Cn%20%20%20%20%20%20%20%20%7D%5Cn%20%20%20%20%20%20%20%20for%20(var%20i%20%3D%200%3B%20i%20%3C%20entries.length%3B%20%2B%2Bi)%20%7B%5Cn%20%20%20%20%20%20%20%20%20%20if%20(entries%5Bi%5D%20!%3D%3D%20empty)%20%7B%5Cn%20%20%20%20%20%20%20%20%20%20%20%20callbackfn.call(thisArg%2C%20entries%5Bi%5D%2C%20entries%5Bi%5D%2C%20s)%3B%5Cn%20%20%20%20%20%20%20%20%20%20%7D%5Cn%20%20%20%20%20%20%20%20%7D%5Cn%20%20%20%20%20%20%7D)%3B%5Cn%5Cn%20%20%20%20%2F%2F%2023.2.3.7%20Set.prototype.has%20(%20value%20)%5Cn%20%20%20%20define(%5Cn%20%20%20%20%20%20Set.prototype%2C%20'has'%2C%5Cn%20%20%20%20%20%20function%20has(key)%20%7B%5Cn%20%20%20%20%20%20%20%20var%20s%20%3D%20strict(this)%3B%5Cn%20%20%20%20%20%20%20%20if%20(Type(s)%20!%3D%3D%20'object')%20throw%20TypeError()%3B%5Cn%20%20%20%20%20%20%20%20if%20(!('%5B%5BSetData%5D%5D'%20in%20s))%20throw%20TypeError()%3B%5Cn%20%20%20%20%20%20%20%20if%20(s%5B'%5B%5BSetData%5D%5D'%5D%20%3D%3D%3D%20undefined)%20throw%20TypeError()%3B%5Cn%20%20%20%20%20%20%20%20var%20entries%20%3D%20s%5B'%5B%5BSetData%5D%5D'%5D%3B%5Cn%20%20%20%20%20%20%20%20return%20SetDataIndexOf(entries%2C%20key)%20!%3D%3D%20-1%3B%5Cn%20%20%20%20%20%20%7D)%3B%5Cn%5Cn%20%20%20%20%2F%2F%2023.2.3.8%20Set.prototype.keys%20(%20)%5Cn%20%20%20%20%2F%2F%20See%20Set.prototype.values%5Cn%5Cn%20%20%20%20%2F%2F%2023.2.3.9%20get%20Set.prototype.size%5Cn%20%20%20%20Object.defineProperty(%5Cn%20%20%20%20%20%20Set.prototype%2C%20'size'%2C%20%7B%5Cn%20%20%20%20%20%20%20%20get%3A%20function()%20%7B%5Cn%20%20%20%20%20%20%20%20%20%20var%20s%20%3D%20strict(this)%3B%5Cn%20%20%20%20%20%20%20%20%20%20if%20(Type(s)%20!%3D%3D%20'object')%20throw%20TypeError()%3B%5Cn%20%20%20%20%20%20%20%20%20%20if%20(!('%5B%5BSetData%5D%5D'%20in%20s))%20throw%20TypeError()%3B%5Cn%20%20%20%20%20%20%20%20%20%20if%20(s%5B'%5B%5BSetData%5D%5D'%5D%20%3D%3D%3D%20undefined)%20throw%20TypeError()%3B%5Cn%20%20%20%20%20%20%20%20%20%20var%20entries%20%3D%20s%5B'%5B%5BSetData%5D%5D'%5D%3B%5Cn%20%20%20%20%20%20%20%20%20%20var%20count%20%3D%200%3B%5Cn%20%20%20%20%20%20%20%20%20%20for%20(var%20i%20%3D%200%3B%20i%20%3C%20entries.length%3B%20%2B%2Bi)%20%7B%5Cn%20%20%20%20%20%20%20%20%20%20%20%20if%20(entries%5Bi%5D%20!%3D%3D%20empty)%5Cn%20%20%20%20%20%20%20%20%20%20%20%20%20%20count%20%3D%20count%20%2B%201%3B%5Cn%20%20%20%20%20%20%20%20%20%20%7D%5Cn%20%20%20%20%20%20%20%20%20%20return%20count%3B%5Cn%20%20%20%20%20%20%20%20%7D%5Cn%20%20%20%20%20%20%7D)%3B%5Cn%5Cn%20%20%20%20%2F%2F%2023.2.3.10%20Set.prototype.values%20(%20)%5Cn%20%20%20%20define(%5Cn%20%20%20%20%20%20Set.prototype%2C%20'values'%2C%5Cn%20%20%20%20%20%20function%20values()%20%7B%5Cn%20%20%20%20%20%20%20%20var%20s%20%3D%20strict(this)%3B%5Cn%20%20%20%20%20%20%20%20if%20(Type(s)%20!%3D%3D%20'object')%20throw%20TypeError()%3B%5Cn%20%20%20%20%20%20%20%20return%20CreateSetIterator(s%2C%20'value')%3B%5Cn%20%20%20%20%20%20%7D)%3B%5Cn%20%20%20%20%2F%2F%20NOTE%3A%20function%20name%20is%20still%20'values'%3A%5Cn%20%20%20%20Set.prototype.keys%20%3D%20Set.prototype.values%3B%5Cn%5Cn%20%20%20%20%2F%2F%2023.2.3.11%20Set.prototype%20%5B%40%40iterator%20%5D%20(%20)%5Cn%20%20%20%20define(%5Cn%20%20%20%20%20%20Set.prototype%2C%20%24%24iterator%2C%5Cn%20%20%20%20%20%20function()%20%7B%5Cn%20%20%20%20%20%20%20%20var%20s%20%3D%20strict(this)%3B%5Cn%20%20%20%20%20%20%20%20if%20(Type(s)%20!%3D%3D%20'object')%20throw%20TypeError()%3B%5Cn%20%20%20%20%20%20%20%20return%20CreateSetIterator(s)%3B%5Cn%20%20%20%20%20%20%7D)%3B%5Cn%5Cn%20%20%20%20%2F%2F%2023.2.3.12%20Set.prototype%20%5B%20%40%40toStringTag%20%5D%5Cn%20%20%20%20define(global.Set.prototype%2C%20%24%24toStringTag%2C%20'Set')%3B%5Cn%5Cn%20%20%20%20%2F%2F%2023.2.4%20Properties%20of%20Set%20Instances%5Cn%20%20%20%20%2F%2F%2023.2.5%20Set%20Iterator%20Objects%5Cn%20%20%20%20%2F**%20%40constructor%20*%2F%5Cn%20%20%20%20function%20SetIterator()%20%7B%7D%5Cn%5Cn%20%20%20%20%2F%2F%2023.2.5.1%20CreateSetIterator%20Abstract%20Operation%5Cn%20%20%20%20function%20CreateSetIterator(set%2C%20kind)%20%7B%5Cn%20%20%20%20%20%20if%20(Type(set)%20!%3D%3D%20'object')%20throw%20TypeError()%3B%5Cn%20%20%20%20%20%20if%20(!('%5B%5BSetData%5D%5D'%20in%20set))%20throw%20TypeError()%3B%5Cn%20%20%20%20%20%20if%20(set%5B'%5B%5BSetData%5D%5D'%5D%20%3D%3D%3D%20undefined)%20throw%20TypeError()%3B%5Cn%20%20%20%20%20%20var%20iterator%20%3D%20new%20SetIterator%3B%5Cn%20%20%20%20%20%20set_internal(iterator%2C%20'%5B%5BIteratedSet%5D%5D'%2C%20set)%3B%5Cn%20%20%20%20%20%20set_internal(iterator%2C%20'%5B%5BSetNextIndex%5D%5D'%2C%200)%3B%5Cn%20%20%20%20%20%20set_internal(iterator%2C%20'%5B%5BSetIterationKind%5D%5D'%2C%20kind)%3B%5Cn%20%20%20%20%20%20return%20iterator%3B%5Cn%20%20%20%20%7D%5Cn%5Cn%20%20%20%20%2F%2F%2023.2.5.2%20The%20%25SetIteratorPrototype%25%20Object%5Cn%20%20%20%20var%20%24SetIteratorPrototype%24%20%3D%20Object.create(%24IteratorPrototype%24)%3B%5Cn%20%20%20%20SetIterator.prototype%20%3D%20%24SetIteratorPrototype%24%3B%5Cn%5Cn%20%20%20%20%2F%2F%2023.2.5.2.1%20%25SetIteratorPrototype%25.next(%20)%5Cn%20%20%20%20define(%5Cn%20%20%20%20%20%20%24SetIteratorPrototype%24%2C%20'next'%2C%5Cn%20%20%20%20%20%20function%20next()%20%7B%5Cn%20%20%20%20%20%20%20%20var%20o%20%3D%20strict(this)%3B%5Cn%20%20%20%20%20%20%20%20if%20(Type(o)%20!%3D%3D%20'object')%20throw%20TypeError()%3B%5Cn%20%20%20%20%20%20%20%20var%20s%20%3D%20o%5B'%5B%5BIteratedSet%5D%5D'%5D%2C%5Cn%20%20%20%20%20%20%20%20%20%20%20%20index%20%3D%20o%5B'%5B%5BSetNextIndex%5D%5D'%5D%2C%5Cn%20%20%20%20%20%20%20%20%20%20%20%20itemKind%20%3D%20o%5B'%5B%5BSetIterationKind%5D%5D'%5D%2C%5Cn%20%20%20%20%20%20%20%20%20%20%20%20entries%20%3D%20s%5B'%5B%5BSetData%5D%5D'%5D%3B%5Cn%20%20%20%20%20%20%20%20while%20(index%20%3C%20entries.length)%20%7B%5Cn%20%20%20%20%20%20%20%20%20%20var%20e%20%3D%20entries%5Bindex%5D%3B%5Cn%20%20%20%20%20%20%20%20%20%20index%20%3D%20index%20%2B%3D%201%3B%5Cn%20%20%20%20%20%20%20%20%20%20set_internal(o%2C%20'%5B%5BSetNextIndex%5D%5D'%2C%20index)%3B%5Cn%20%20%20%20%20%20%20%20%20%20if%20(e%20!%3D%3D%20empty)%20%7B%5Cn%20%20%20%20%20%20%20%20%20%20%20%20if%20(itemKind%20%3D%3D%3D%20'key%2Bvalue')%5Cn%20%20%20%20%20%20%20%20%20%20%20%20%20%20return%20CreateIterResultObject(%5Be%2C%20e%5D%2C%20false)%3B%5Cn%20%20%20%20%20%20%20%20%20%20%20%20return%20CreateIterResultObject(e%2C%20false)%3B%5Cn%20%20%20%20%20%20%20%20%20%20%7D%5Cn%20%20%20%20%20%20%20%20%7D%5Cn%20%20%20%20%20%20%20%20return%20CreateIterResultObject(undefined%2C%20true)%3B%5Cn%20%20%20%20%20%20%7D)%3B%5Cn%5Cn%20%20%20%20%2F%2F%2023.2.5.2.2%20%25SetIteratorPrototype%25%20%5B%20%40%40toStringTag%20%5D%5Cn%20%20%20%20define(%24SetIteratorPrototype%24%2C%20%24%24toStringTag%2C%20'Set%20Iterator')%3B%5Cn%5Cn%20%20%20%20%2F%2F%2023.2.5.3%20Properties%20of%20Set%20Iterator%20Instances%5Cn%5Cn%20%20%7D())%3B%5Cn%5Cn%20%20%2F%2F%20---------------------------------------%5Cn%20%20%2F%2F%2023.3%20WeakMap%20Objects%5Cn%20%20%2F%2F%20---------------------------------------%5Cn%5Cn%20%20(function()%20%7B%5Cn%20%20%20%20%2F%2F%2023.3.1%20The%20WeakMap%20Constructor%5Cn%20%20%20%20%2F%2F%2023.3.1.1%20WeakMap%20(%20%5B%20iterable%20%5D%20)%5Cn%20%20%20%20%2F**%20%40constructor%20*%2F%5Cn%20%20%20%20function%20WeakMap(%2F*iterable*%2F)%20%7B%5Cn%20%20%20%20%20%20var%20map%20%3D%20strict(this)%3B%5Cn%20%20%20%20%20%20var%20iterable%20%3D%20arguments%5B0%5D%3B%5Cn%5Cn%20%20%20%20%20%20if%20(Type(map)%20!%3D%3D%20'object')%20throw%20TypeError()%3B%5Cn%20%20%20%20%20%20if%20('%5B%5BWeakMapData%5D%5D'%20in%20map)%20throw%20TypeError()%3B%5Cn%5Cn%20%20%20%20%20%20if%20(iterable%20!%3D%3D%20undefined)%20%7B%5Cn%20%20%20%20%20%20%20%20var%20adder%20%3D%20map%5B'set'%5D%3B%5Cn%20%20%20%20%20%20%20%20if%20(!IsCallable(adder))%20throw%20TypeError()%3B%5Cn%20%20%20%20%20%20%20%20var%20iter%20%3D%20GetIterator(ToObject(iterable))%3B%5Cn%20%20%20%20%20%20%7D%5Cn%20%20%20%20%20%20set_internal(map%2C%20'%5B%5BWeakMapData%5D%5D'%2C%20new%20EphemeronTable)%3B%5Cn%20%20%20%20%20%20if%20(iter%20%3D%3D%3D%20undefined)%20return%20map%3B%5Cn%20%20%20%20%20%20while%20(true)%20%7B%5Cn%20%20%20%20%20%20%20%20var%20next%20%3D%20IteratorStep(iter)%3B%5Cn%20%20%20%20%20%20%20%20if%20(next%20%3D%3D%3D%20false)%5Cn%20%20%20%20%20%20%20%20%20%20return%20map%3B%5Cn%20%20%20%20%20%20%20%20var%20nextValue%20%3D%20IteratorValue(next)%3B%5Cn%20%20%20%20%20%20%20%20if%20(Type(nextValue)%20!%3D%3D%20'object')%20throw%20TypeError()%3B%5Cn%20%20%20%20%20%20%20%20var%20k%20%3D%20nextValue%5B0%5D%3B%5Cn%20%20%20%20%20%20%20%20var%20v%20%3D%20nextValue%5B1%5D%3B%5Cn%20%20%20%20%20%20%20%20adder.call(map%2C%20k%2C%20v)%3B%5Cn%20%20%20%20%20%20%7D%5Cn%5Cn%20%20%20%20%20%20return%20map%3B%5Cn%20%20%20%20%7D%5Cn%5Cn%20%20%20%20if%20(!('WeakMap'%20in%20global)%20%7C%7C%20OVERRIDE_NATIVE_FOR_TESTING)%5Cn%20%20%20%20%20%20global.WeakMap%20%3D%20WeakMap%3B%5Cn%5Cn%20%20%20%20%2F%2F%2023.3.2%20Properties%20of%20the%20WeakMap%20Constructor%5Cn%20%20%20%20%2F%2F%2023.3.2.1%20WeakMap.prototype%5Cn%20%20%20%20var%20%24WeakMapPrototype%24%20%3D%20%7B%7D%3B%5Cn%20%20%20%20WeakMap.prototype%20%3D%20%24WeakMapPrototype%24%3B%5Cn%5Cn%5Cn%5Cn%20%20%20%2F%2F%2023.3.2.2%20WeakMap%5B%20%40%40create%20%5D%20(%20)%5Cn%20%20%20%20%2F%2F%2023.3.3%20Properties%20of%20the%20WeakMap%20Prototype%20Object%5Cn%5Cn%20%20%20%20%2F%2F%2023.3.3.1%20WeakMap.prototype.constructor%5Cn%5Cn%20%20%20%20%2F%2F%2023.3.3.2%20WeakMap.prototype.delete%20(%20key%20)%5Cn%20%20%20%20define(%5Cn%20%20%20%20%20%20WeakMap.prototype%2C%20'delete'%2C%5Cn%20%20%20%20%20%20function%20delete_(key)%20%7B%5Cn%20%20%20%20%20%20%20%20var%20M%20%3D%20strict(this)%3B%5Cn%20%20%20%20%20%20%20%20if%20(Type(M)%20!%3D%3D%20'object')%20throw%20TypeError()%3B%5Cn%20%20%20%20%20%20%20%20if%20(M%5B'%5B%5BWeakMapData%5D%5D'%5D%20%3D%3D%3D%20undefined)%20throw%20TypeError()%3B%5Cn%20%20%20%20%20%20%20%20if%20(Type(key)%20!%3D%3D%20'object')%20throw%20TypeError('Expected%20object')%3B%5Cn%20%20%20%20%20%20%20%20return%20M%5B'%5B%5BWeakMapData%5D%5D'%5D.remove(key)%3B%5Cn%20%20%20%20%20%20%7D)%3B%5Cn%5Cn%20%20%20%20%2F%2F%2023.3.3.3%20WeakMap.prototype.get%20(%20key%20)%5Cn%20%20%20%20define(%5Cn%20%20%20%20%20%20WeakMap.prototype%2C%20'get'%2C%5Cn%20%20%20%20%20%20function%20get(key%2C%20defaultValue)%20%7B%5Cn%20%20%20%20%20%20%20%20var%20M%20%3D%20strict(this)%3B%5Cn%20%20%20%20%20%20%20%20if%20(Type(M)%20!%3D%3D%20'object')%20throw%20TypeError()%3B%5Cn%20%20%20%20%20%20%20%20if%20(M%5B'%5B%5BWeakMapData%5D%5D'%5D%20%3D%3D%3D%20undefined)%20throw%20TypeError()%3B%5Cn%20%20%20%20%20%20%20%20if%20(Type(key)%20!%3D%3D%20'object')%20throw%20TypeError('Expected%20object')%3B%5Cn%20%20%20%20%20%20%20%20return%20M%5B'%5B%5BWeakMapData%5D%5D'%5D.get(key%2C%20defaultValue)%3B%5Cn%20%20%20%20%20%20%7D)%3B%5Cn%5Cn%20%20%20%20%2F%2F%2023.3.3.4%20WeakMap.prototype.has%20(%20key%20)%5Cn%20%20%20%20define(%5Cn%20%20%20%20%20%20WeakMap.prototype%2C%20'has'%2C%5Cn%20%20%20%20%20%20function%20has(key)%20%7B%5Cn%20%20%20%20%20%20%20%20var%20M%20%3D%20strict(this)%3B%5Cn%20%20%20%20%20%20%20%20if%20(Type(M)%20!%3D%3D%20'object')%20throw%20TypeError()%3B%5Cn%20%20%20%20%20%20%20%20if%20(M%5B'%5B%5BWeakMapData%5D%5D'%5D%20%3D%3D%3D%20undefined)%20throw%20TypeError()%3B%5Cn%20%20%20%20%20%20%20%20if%20(Type(key)%20!%3D%3D%20'object')%20throw%20TypeError('Expected%20object')%3B%5Cn%20%20%20%20%20%20%20%20return%20M%5B'%5B%5BWeakMapData%5D%5D'%5D.has(key)%3B%5Cn%20%20%20%20%20%20%7D)%3B%5Cn%5Cn%20%20%20%20%2F%2F%2023.3.3.5%20WeakMap.prototype.set%20(%20key%20%2C%20value%20)%5Cn%20%20%20%20define(%5Cn%20%20%20%20%20%20WeakMap.prototype%2C%20'set'%2C%5Cn%20%20%20%20%20%20function%20set(key%2C%20value)%20%7B%5Cn%20%20%20%20%20%20%20%20var%20M%20%3D%20strict(this)%3B%5Cn%20%20%20%20%20%20%20%20if%20(Type(M)%20!%3D%3D%20'object')%20throw%20TypeError()%3B%5Cn%20%20%20%20%20%20%20%20if%20(M%5B'%5B%5BWeakMapData%5D%5D'%5D%20%3D%3D%3D%20undefined)%20throw%20TypeError()%3B%5Cn%20%20%20%20%20%20%20%20if%20(Type(key)%20!%3D%3D%20'object')%20throw%20TypeError('Expected%20object')%3B%5Cn%20%20%20%20%20%20%20%20M%5B'%5B%5BWeakMapData%5D%5D'%5D.set(key%2C%20value)%3B%5Cn%20%20%20%20%20%20%20%20return%20M%3B%5Cn%20%20%20%20%20%20%7D)%3B%5Cn%5Cn%20%20%20%20%2F%2F%2023.3.3.6%20WeakMap.prototype%20%5B%20%40%40toStringTag%20%5D%5Cn%20%20%20%20define(global.WeakMap.prototype%2C%20%24%24toStringTag%2C%20'WeakMap')%3B%5Cn%5Cn%20%20%20%20%2F%2F%2023.3.4%20Properties%20of%20WeakMap%20Instances%5Cn%5Cn%20%20%20%20%2F%2F%20Polyfills%20for%20incomplete%20native%20implementations%3A%5Cn%20%20%20%20(function()%20%7B%5Cn%20%20%20%20%20%20var%20wm%20%3D%20new%20global.WeakMap()%3B%5Cn%20%20%20%20%20%20var%20orig%20%3D%20global.WeakMap.prototype.set%3B%5Cn%20%20%20%20%20%20define(global.WeakMap.prototype%2C%20'set'%2C%20function%20set()%20%7B%5Cn%20%20%20%20%20%20%20%20orig.apply(this%2C%20arguments)%3B%5Cn%20%20%20%20%20%20%20%20return%20this%3B%5Cn%20%20%20%20%20%20%7D%2C%20wm.set(%7B%7D%2C%200)%20!%3D%3D%20wm)%3B%5Cn%20%20%20%20%7D())%3B%5Cn%20%20%7D())%3B%5Cn%5Cn%20%20%2F%2F%20---------------------------------------%5Cn%20%20%2F%2F%2023.4%20WeakSet%20Objects%5Cn%20%20%2F%2F%20---------------------------------------%5Cn%5Cn%20%20(function()%20%7B%5Cn%20%20%20%20%2F%2F%2023.4.1%20The%20WeakSet%20Constructor%5Cn%20%20%20%20%2F%2F%2023.4.1.1%20WeakSet%20(%20%5B%20iterable%20%5D%20)%5Cn%20%20%20%20%2F**%20%40constructor%20*%2F%5Cn%20%20%20%20function%20WeakSet(%2F*iterable*%2F)%20%7B%5Cn%20%20%20%20%20%20var%20set%20%3D%20strict(this)%3B%5Cn%20%20%20%20%20%20var%20iterable%20%3D%20arguments%5B0%5D%3B%5Cn%5Cn%20%20%20%20%20%20if%20(Type(set)%20!%3D%3D%20'object')%20throw%20TypeError()%3B%5Cn%20%20%20%20%20%20if%20('%5B%5BWeakSetData%5D%5D'%20in%20set)%20throw%20TypeError()%3B%5Cn%5Cn%20%20%20%20%20%20if%20(iterable%20!%3D%3D%20undefined)%20%7B%5Cn%20%20%20%20%20%20%20%20var%20adder%20%3D%20set%5B'add'%5D%3B%5Cn%20%20%20%20%20%20%20%20if%20(!IsCallable(adder))%20throw%20TypeError()%3B%5Cn%20%20%20%20%20%20%20%20var%20iter%20%3D%20GetIterator(ToObject(iterable))%3B%5Cn%20%20%20%20%20%20%7D%5Cn%20%20%20%20%20%20set_internal(set%2C%20'%5B%5BWeakSetData%5D%5D'%2C%20new%20EphemeronTable)%3B%5Cn%20%20%20%20%20%20if%20(iter%20%3D%3D%3D%20undefined)%20return%20set%3B%5Cn%20%20%20%20%20%20while%20(true)%20%7B%5Cn%20%20%20%20%20%20%20%20var%20next%20%3D%20IteratorStep(iter)%3B%5Cn%20%20%20%20%20%20%20%20if%20(next%20%3D%3D%3D%20false)%5Cn%20%20%20%20%20%20%20%20%20%20return%20set%3B%5Cn%20%20%20%20%20%20%20%20var%20nextValue%20%3D%20IteratorValue(next)%3B%5Cn%20%20%20%20%20%20%20%20adder.call(set%2C%20nextValue)%3B%5Cn%20%20%20%20%20%20%7D%5Cn%5Cn%20%20%20%20%20%20return%20set%3B%5Cn%20%20%20%20%7D%5Cn%5Cn%20%20%20%20if%20(!('WeakSet'%20in%20global)%20%7C%7C%20OVERRIDE_NATIVE_FOR_TESTING)%5Cn%20%20%20%20%20%20global.WeakSet%20%3D%20WeakSet%3B%5Cn%5Cn%20%20%20%20%2F%2F%2023.4.2%20Properties%20of%20the%20WeakSet%20Constructor%5Cn%20%20%20%20%2F%2F%2023.4.2.1%20WeakSet.prototype%5Cn%20%20%20%20var%20%24WeakSetPrototype%24%20%3D%20%7B%7D%3B%5Cn%20%20%20%20WeakSet.prototype%20%3D%20%24WeakSetPrototype%24%3B%5Cn%5Cn%20%20%20%20%2F%2F%2023.4.3%20Properties%20of%20the%20WeakSet%20Prototype%20Object%5Cn%20%20%20%20%2F%2F%2023.4.3.1%20WeakSet.prototype.add%20(value%20)%5Cn%20%20%20%20define(%5Cn%20%20%20%20%20%20WeakSet.prototype%2C%20'add'%2C%5Cn%20%20%20%20%20%20function%20add(value)%20%7B%5Cn%20%20%20%20%20%20%20%20var%20S%20%3D%20strict(this)%3B%5Cn%20%20%20%20%20%20%20%20if%20(Type(S)%20!%3D%3D%20'object')%20throw%20TypeError()%3B%5Cn%20%20%20%20%20%20%20%20if%20(S%5B'%5B%5BWeakSetData%5D%5D'%5D%20%3D%3D%3D%20undefined)%20throw%20TypeError()%3B%5Cn%20%20%20%20%20%20%20%20if%20(Type(value)%20!%3D%3D%20'object')%20throw%20TypeError('Expected%20object')%3B%5Cn%20%20%20%20%20%20%20%20S%5B'%5B%5BWeakSetData%5D%5D'%5D.set(value%2C%20true)%3B%5Cn%20%20%20%20%20%20%20%20return%20S%3B%5Cn%20%20%20%20%20%20%7D)%3B%5Cn%5Cn%20%20%20%20%2F%2F%2023.4.3.2%20WeakSet.prototype.constructor%5Cn%20%20%20%20%2F%2F%2023.4.3.3%20WeakSet.prototype.delete%20(%20value%20)%5Cn%20%20%20%20define(%5Cn%20%20%20%20%20%20WeakSet.prototype%2C%20'delete'%2C%5Cn%20%20%20%20%20%20function%20delete_(value)%20%7B%5Cn%20%20%20%20%20%20%20%20var%20S%20%3D%20strict(this)%3B%5Cn%20%20%20%20%20%20%20%20if%20(Type(S)%20!%3D%3D%20'object')%20throw%20TypeError()%3B%5Cn%20%20%20%20%20%20%20%20if%20(S%5B'%5B%5BWeakSetData%5D%5D'%5D%20%3D%3D%3D%20undefined)%20throw%20TypeError()%3B%5Cn%20%20%20%20%20%20%20%20if%20(Type(value)%20!%3D%3D%20'object')%20throw%20TypeError('Expected%20object')%3B%5Cn%20%20%20%20%20%20%20%20return%20S%5B'%5B%5BWeakSetData%5D%5D'%5D.remove(value)%3B%5Cn%20%20%20%20%20%20%7D)%3B%5Cn%5Cn%20%20%20%20%2F%2F%2023.4.3.4%20WeakSet.prototype.has%20(%20value%20)%5Cn%20%20%20%20define(%5Cn%20%20%20%20%20%20WeakSet.prototype%2C%20'has'%2C%5Cn%20%20%20%20%20%20function%20has(key)%20%7B%5Cn%20%20%20%20%20%20%20%20var%20S%20%3D%20strict(this)%3B%5Cn%20%20%20%20%20%20%20%20if%20(Type(S)%20!%3D%3D%20'object')%20throw%20TypeError()%3B%5Cn%20%20%20%20%20%20%20%20if%20(S%5B'%5B%5BWeakSetData%5D%5D'%5D%20%3D%3D%3D%20undefined)%20throw%20TypeError()%3B%5Cn%20%20%20%20%20%20%20%20if%20(Type(key)%20!%3D%3D%20'object')%20throw%20TypeError('Expected%20object')%3B%5Cn%20%20%20%20%20%20%20%20return%20S%5B'%5B%5BWeakSetData%5D%5D'%5D.has(key)%3B%5Cn%20%20%20%20%20%20%7D)%3B%5Cn%5Cn%20%20%20%20%2F%2F%2023.4.3.5%20WeakSet.prototype%20%5B%20%40%40toStringTag%20%5D%5Cn%20%20%20%20define(global.WeakSet.prototype%2C%20%24%24toStringTag%2C%20'WeakSet')%3B%5Cn%5Cn%20%20%20%20%2F%2F%2023.4.4%20Properties%20of%20WeakSet%20Instances%5Cn%5Cn%20%20%20%20%2F%2F%20Polyfills%20for%20incomplete%20native%20implementations%3A%5Cn%20%20%20%20(function()%20%7B%5Cn%20%20%20%20%20%20var%20ws%20%3D%20new%20global.WeakSet()%3B%5Cn%20%20%20%20%20%20var%20orig%20%3D%20global.WeakSet.prototype.add%3B%5Cn%20%20%20%20%20%20define(global.WeakSet.prototype%2C%20'add'%2C%20function%20add()%20%7B%5Cn%20%20%20%20%20%20%20%20orig.apply(this%2C%20arguments)%3B%5Cn%20%20%20%20%20%20%20%20return%20this%3B%5Cn%20%20%20%20%20%20%7D%2C%20ws.add(%7B%7D)%20!%3D%3D%20ws)%3B%5Cn%20%20%20%20%7D())%3B%5Cn%20%20%7D())%3B%5Cn%5Cn%20%20%2F%2F%20---------------------------------------%5Cn%20%20%2F%2F%2024%20Structured%20Data%5Cn%20%20%2F%2F%20---------------------------------------%5Cn%5Cn%20%20%2F%2F%20---------------------------------------%5Cn%20%20%2F%2F%2024.1%20ArrayBuffer%20Objects%5Cn%20%20%2F%2F%20---------------------------------------%5Cn%5Cn%20%20%2F%2F%20See%20typedarray.js%20for%20TypedArray%20polyfill%5Cn%5Cn%20%20(function()%20%7B%5Cn%20%20%20%20if%20(!('ArrayBuffer'%20in%20global))%5Cn%20%20%20%20%20%20return%3B%5Cn%5Cn%20%20%20%20%2F%2F%2024.1.1%20Abstract%20Operations%20For%20ArrayBuffer%20Objects%5Cn%20%20%20%20%2F%2F%2024.1.1.1%20AllocateArrayBuffer(%20constructor%2C%20byteLength%20)%5Cn%20%20%20%20%2F%2F%2024.1.1.2%20IsDetachedBuffer(%20arrayBuffer%20)%5Cn%20%20%20%20%2F%2F%2024.1.1.3%20DetachArrayBuffer(%20arrayBuffer%20)%5Cn%20%20%20%20%2F%2F%2024.1.1.4%20CloneArrayBuffer(%20srcBuffer%2C%20srcByteOffset%20%5B%2C%20cloneConstructor%5D%20)%5Cn%20%20%20%20%2F%2F%2024.1.1.5%20GetValueFromBuffer%20(%20arrayBuffer%2C%20byteIndex%2C%20type%2C%20isLittleEndian%20)%5Cn%20%20%20%20%2F%2F%2024.1.1.6%20SetValueInBuffer%20(%20arrayBuffer%2C%20byteIndex%2C%20type%2C%20value%2C%20isLittleEndian%20)%5Cn%20%20%20%20%2F%2F%2024.1.2%20The%20ArrayBuffer%20Constructor%5Cn%20%20%20%20%2F%2F%2024.1.2.1%20ArrayBuffer(%20length%20)%5Cn%20%20%20%20%2F%2F%2024.1.3%20Properties%20of%20the%20ArrayBuffer%20Constructor%5Cn%5Cn%20%20%20%20%2F%2F%2024.1.3.1%20ArrayBuffer.isView%20(%20arg%20)%5Cn%20%20%20%20define(%5Cn%20%20%20%20%20%20ArrayBuffer%2C%20'isView'%2C%5Cn%20%20%20%20%20%20function%20isView(arg)%20%7B%5Cn%20%20%20%20%20%20%20%20if%20(Type(arg)%20!%3D%3D%20'object')%20return%20false%3B%5Cn%20%20%20%20%20%20%20%20if%20('buffer'%20in%20arg%20%26%26%20arg.buffer%20instanceof%20ArrayBuffer)%20return%20true%3B%5Cn%20%20%20%20%20%20%20%20return%20false%3B%5Cn%20%20%20%20%20%20%7D)%3B%5Cn%5Cn%20%20%20%20%2F%2F%2024.1.3.2%20ArrayBuffer.prototype%5Cn%20%20%20%20%2F%2F%2024.1.3.3%20get%20ArrayBuffer%20%5B%20%40%40species%20%5D%5Cn%20%20%20%20%2F%2F%2024.1.4%20Properties%20of%20the%20ArrayBuffer%20Prototype%20Object%5Cn%20%20%20%20%2F%2F%2024.1.4.1%20get%20ArrayBuffer.prototype.byteLength%5Cn%20%20%20%20%2F%2F%2024.1.4.2%20ArrayBuffer.prototype.constructor%5Cn%20%20%20%20%2F%2F%2024.1.4.3%20ArrayBuffer.prototype.slice%20(%20start%20%2C%20end)%5Cn%5Cn%20%20%20%20%2F%2F%2024.1.4.4%20ArrayBuffer.prototype%20%5B%20%40%40toStringTag%20%5D%5Cn%20%20%20%20define(ArrayBuffer.prototype%2C%20%24%24toStringTag%2C%20'ArrayBuffer')%3B%5Cn%5Cn%20%20%20%20%2F%2F%2024.1.5%20Properties%20of%20the%20ArrayBuffer%20Instances%5Cn%20%20%7D())%3B%5Cn%5Cn%20%20%2F%2F%20---------------------------------------%5Cn%20%20%2F%2F%2024.2%20DataView%20Objects%5Cn%20%20%2F%2F%20---------------------------------------%5Cn%5Cn%20%20%2F%2F%20See%20typedarray.js%20for%20TypedArray%20polyfill%5Cn%5Cn%20%20(function()%20%7B%5Cn%20%20%20%20if%20(!('DataView'%20in%20global))%5Cn%20%20%20%20%20%20return%3B%5Cn%5Cn%20%20%20%20%2F%2F%2024.2.1%20Abstract%20Operations%20For%20DataView%20Objects%5Cn%20%20%20%20%2F%2F%2024.2.1.1%20GetViewValue(view%2C%20requestIndex%2C%20isLittleEndian%2C%20type)%5Cn%20%20%20%20%2F%2F%2024.2.1.2%20SetViewValue(view%2C%20requestIndex%2C%20isLittleEndian%2C%20type%2C%20value)%5Cn%20%20%20%20%2F%2F%2024.2.2%20The%20DataView%20Constructor%5Cn%20%20%20%20%2F%2F%2024.2.2.1%20DataView%20(buffer%20%5B%20%2C%20byteOffset%20%5B%20%2C%20byteLength%20%5D%20%5D%20)%5Cn%20%20%20%20%2F%2F%2024.2.3%20Properties%20of%20the%20DataView%20Constructor%5Cn%20%20%20%20%2F%2F%2024.2.3.1%20DataView.prototype%5Cn%20%20%20%20%2F%2F%2024.2.4%20Properties%20of%20the%20DataView%20Prototype%20Object%5Cn%20%20%20%20%2F%2F%2024.2.4.1%20get%20DataView.prototype.buffer%5Cn%20%20%20%20%2F%2F%2024.2.4.2%20get%20DataView.prototype.byteLength%5Cn%20%20%20%20%2F%2F%2024.2.4.3%20get%20DataView.prototype.byteOffset%5Cn%20%20%20%20%2F%2F%2024.2.4.4%20DataView.prototype.constructor%5Cn%20%20%20%20%2F%2F%2024.2.4.5%20DataView.prototype.getFloat32%20(%20byteOffset%20%5B%20%2C%20littleEndian%20%5D%20)%5Cn%20%20%20%20%2F%2F%2024.2.4.6%20DataView.prototype.getFloat64%20(%20byteOffset%20%5B%20%2C%20littleEndian%20%5D%20)%5Cn%20%20%20%20%2F%2F%2024.2.4.7%20DataView.prototype.getInt8%20(%20byteOffset%20)%5Cn%20%20%20%20%2F%2F%2024.2.4.8%20DataView.prototype.getInt16%20(%20byteOffset%20%5B%20%2C%20littleEndian%20%5D%20)%5Cn%20%20%20%20%2F%2F%2024.2.4.9%20DataView.prototype.getInt32%20(%20byteOffset%20%5B%20%2C%20littleEndian%20%5D%20)%5Cn%20%20%20%20%2F%2F%2024.2.4.10%20DataView.prototype.getUint8%20(%20byteOffset%20)%5Cn%20%20%20%20%2F%2F%2024.2.4.11%20DataView.prototype.getUint16%20(%20byteOffset%20%5B%20%2C%20littleEndian%20%5D%20)%5Cn%20%20%20%20%2F%2F%2024.2.4.12%20DataView.prototype.getUint32%20(%20byteOffset%20%5B%20%2C%20littleEndian%20%5D%20)%5Cn%20%20%20%20%2F%2F%2024.2.4.13%20DataView.prototype.setFloat32%20(%20byteOffset%2C%20value%20%5B%20%2C%20littleEndian%20%5D%20)%5Cn%20%20%20%20%2F%2F%2024.2.4.14%20DataView.prototype.setFloat64%20(%20byteOffset%2C%20value%20%5B%20%2C%20littleEndian%20%5D%20)%5Cn%20%20%20%20%2F%2F%2024.2.4.15%20DataView.prototype.setInt8%20(%20byteOffset%2C%20value%20)%5Cn%20%20%20%20%2F%2F%2024.2.4.16%20DataView.prototype.setInt16%20(%20byteOffset%2C%20value%20%5B%20%2C%20littleEndian%20%5D%20)%5Cn%20%20%20%20%2F%2F%2024.2.4.17%20DataView.prototype.setInt32%20(%20byteOffset%2C%20value%20%5B%20%2C%20littleEndian%20%5D%20)%5Cn%20%20%20%20%2F%2F%2024.2.4.18%20DataView.prototype.setUint8%20(%20byteOffset%2C%20value%20)%5Cn%20%20%20%20%2F%2F%2024.2.4.19%20DataView.prototype.setUint16%20(%20byteOffset%2C%20value%20%5B%20%2C%20littleEndian%20%5D%20)%5Cn%20%20%20%20%2F%2F%2024.2.4.20%20DataView.prototype.setUint32%20(%20byteOffset%2C%20value%20%5B%20%2C%20littleEndian%20%5D%20)%5Cn%5Cn%20%20%20%20%2F%2F%2024.2.4.21%20DataView.prototype%5B%20%40%40toStringTag%20%5D%5Cn%20%20%20%20define(DataView.prototype%2C%20%24%24toStringTag%2C%20'DataView')%3B%5Cn%5Cn%20%20%20%20%2F%2F%2024.2.5%20Properties%20of%20DataView%20Instances%5Cn%20%20%7D())%3B%5Cn%5Cn%20%20%2F%2F%20---------------------------------------%5Cn%20%20%2F%2F%2024.3%20The%20JSON%20Object%5Cn%20%20%2F%2F%20---------------------------------------%5Cn%5Cn%20%20%2F%2F%2024.3.1%20JSON.parse%20(%20text%20%5B%20%2C%20reviver%20%5D%20)%5Cn%20%20%2F%2F%2024.3.2%20JSON.stringify%20(%20value%20%5B%20%2C%20replacer%20%5B%20%2C%20space%20%5D%20%5D%20)%5Cn%20%20%2F%2F%2024.3.3%20JSON%20%5B%20%40%40toStringTag%20%5D%5Cn%20%20define(JSON%2C%20%24%24toStringTag%2C%20'JSON')%3B%5Cn%5Cn%20%20%2F%2F%20---------------------------------------%5Cn%20%20%2F%2F%2025.1%20Iteration%5Cn%20%20%2F%2F%20---------------------------------------%5Cn%5Cn%20%20%2F%2F%2025.1.1%20Common%20Iteration%20Interfaces%5Cn%20%20%2F%2F%2025.1.1.1%20The%20Iterable%20Interface%5Cn%20%20%2F%2F%2025.1.1.2%20The%20Iterator%20Interface%5Cn%20%20%2F%2F%2025.1.1.3%20The%20IteratorResult%20Interface%5Cn%5Cn%20%20%2F%2F%2025.1.2%20The%20%25IteratorPrototype%25%20Object%5Cn%20%20%2F%2F%20Defined%20earlier%2C%20so%20other%20prototypes%20can%20reference%20it.%5Cn%20%20%2F%2F%2025.1.2.1%20%25IteratorPrototype%25%20%5B%20%40%40iterator%20%5D%20(%20)%5Cn%20%20define(%24IteratorPrototype%24%2C%20%24%24iterator%2C%20function()%20%7B%5Cn%20%20%20%20return%20this%3B%5Cn%20%20%7D)%3B%5Cn%5Cn%5Cn%20%20%2F%2F%20---------------------------------------%5Cn%20%20%2F%2F%2025.4%20Promise%20Objects%5Cn%20%20%2F%2F%20---------------------------------------%5Cn%5Cn%20%20(function()%20%7B%5Cn%20%20%20%20%2F%2F%2025.4%20Promise%20Objects%5Cn%5Cn%20%20%20%20%2F%2F%2025.4.1%20Promise%20Abstract%20Operations%5Cn%5Cn%20%20%20%20%2F%2F%2025.4.1.1%20PromiseCapability%20Records%5Cn%20%20%20%20%2F%2F%2025.4.1.1.1%20IfAbruptRejectPromise%20(%20value%2C%20capability%20)%5Cn%5Cn%20%20%20%20function%20IfAbruptRejectPromise(value%2C%20capability)%20%7B%5Cn%20%20%20%20%20%20var%20rejectResult%20%3D%20capability%5B'%5B%5BReject%5D%5D'%5D.call(undefined%2C%20value)%3B%5Cn%20%20%20%20%20%20return%20capability%5B'%5B%5BPromise%5D%5D'%5D%3B%5Cn%20%20%20%20%7D%5Cn%5Cn%20%20%20%20%2F%2F%2025.4.1.2%20PromiseReaction%20Records%5Cn%5Cn%20%20%20%20%2F%2F%2025.4.1.3%20CreateResolvingFunctions%20(%20promise%20)%5Cn%5Cn%20%20%20%20function%20CreateResolvingFunctions(promise)%20%7B%5Cn%20%20%20%20%20%20var%20alreadyResolved%20%3D%20%7B'%5B%5Bvalue%5D%5D'%3A%20false%7D%3B%5Cn%20%20%20%20%20%20var%20resolve%20%3D%20PromiseResolveFunction()%3B%5Cn%20%20%20%20%20%20set_internal(resolve%2C%20'%5B%5BPromise%5D%5D'%2C%20%20promise)%3B%5Cn%20%20%20%20%20%20set_internal(resolve%2C%20'%5B%5BAlreadyResolved%5D%5D'%2C%20alreadyResolved)%3B%5Cn%20%20%20%20%20%20var%20reject%20%3D%20PromiseRejectFunction()%3B%5Cn%20%20%20%20%20%20set_internal(reject%2C%20'%5B%5BPromise%5D%5D'%2C%20promise)%3B%5Cn%20%20%20%20%20%20set_internal(reject%2C%20'%5B%5BAlreadyResolved%5D%5D'%2C%20alreadyResolved)%3B%5Cn%20%20%20%20%20%20return%20%7B%20'%5B%5BResolve%5D%5D'%3A%20resolve%2C%20'%5B%5BReject%5D%5D'%3A%20reject%7D%3B%5Cn%20%20%20%20%7D%5Cn%5Cn%20%20%20%20%2F%2F%2025.4.1.3.1%20Promise%20Reject%20Functions%5Cn%5Cn%20%20%20%20function%20PromiseRejectFunction()%20%7B%5Cn%20%20%20%20%20%20var%20F%20%3D%20function(reason)%20%7B%5Cn%20%20%20%20%20%20%20%20console.assert(Type(F%5B'%5B%5BPromise%5D%5D'%5D)%20%3D%3D%3D%20'object')%3B%5Cn%20%20%20%20%20%20%20%20var%20promise%20%3D%20F%5B'%5B%5BPromise%5D%5D'%5D%3B%5Cn%20%20%20%20%20%20%20%20var%20alreadyResolved%20%3D%20F%5B'%5B%5BAlreadyResolved%5D%5D'%5D%3B%5Cn%20%20%20%20%20%20%20%20if%20(alreadyResolved%5B'%5B%5Bvalue%5D%5D'%5D)%20return%20undefined%3B%5Cn%20%20%20%20%20%20%20%20set_internal(alreadyResolved%2C%20'%5B%5Bvalue%5D%5D'%2C%20true)%3B%5Cn%20%20%20%20%20%20%20%20return%20RejectPromise(promise%2C%20reason)%3B%5Cn%20%20%20%20%20%20%7D%3B%5Cn%20%20%20%20%20%20return%20F%3B%5Cn%20%20%20%20%7D%5Cn%5Cn%20%20%20%20%2F%2F%2025.4.1.3.2%20Promise%20Resolve%20Functions%5Cn%5Cn%20%20%20%20function%20PromiseResolveFunction()%20%7B%5Cn%20%20%20%20%20%20var%20F%20%3D%20function(resolution)%20%7B%5Cn%20%20%20%20%20%20%20%20console.assert(Type(F%5B'%5B%5BPromise%5D%5D'%5D)%20%3D%3D%3D%20'object')%3B%5Cn%20%20%20%20%20%20%20%20var%20promise%20%3D%20F%5B'%5B%5BPromise%5D%5D'%5D%3B%5Cn%20%20%20%20%20%20%20%20var%20alreadyResolved%20%3D%20F%5B'%5B%5BAlreadyResolved%5D%5D'%5D%3B%5Cn%20%20%20%20%20%20%20%20if%20(alreadyResolved%5B'%5B%5Bvalue%5D%5D'%5D)%20return%20undefined%3B%5Cn%20%20%20%20%20%20%20%20set_internal(alreadyResolved%2C%20'%5B%5Bvalue%5D%5D'%2C%20true)%3B%5Cn%5Cn%20%20%20%20%20%20%20%20if%20(SameValue(resolution%2C%20promise))%20%20%7B%5Cn%20%20%20%20%20%20%20%20%20%20var%20selfResolutionError%20%3D%20TypeError()%3B%5Cn%20%20%20%20%20%20%20%20%20%20return%20RejectPromise(promise%2C%20selfResolutionError)%3B%5Cn%20%20%20%20%20%20%20%20%7D%5Cn%20%20%20%20%20%20%20%20if%20(Type(resolution)%20!%3D%3D%20'object')%5Cn%20%20%20%20%20%20%20%20%20%20return%20FulfillPromise(promise%2C%20resolution)%3B%5Cn%20%20%20%20%20%20%20%20try%20%7B%5Cn%20%20%20%20%20%20%20%20%20%20var%20then%20%3D%20resolution%5B'then'%5D%3B%5Cn%20%20%20%20%20%20%20%20%7D%20catch(then)%20%7B%5Cn%20%20%20%20%20%20%20%20%20%20return%20RejectPromise(promise%2C%20then)%3B%5Cn%20%20%20%20%20%20%20%20%7D%5Cn%20%20%20%20%20%20%20%20if%20(!IsCallable(then))%5Cn%20%20%20%20%20%20%20%20%20%20return%20FulfillPromise(promise%2C%20resolution)%3B%5Cn%20%20%20%20%20%20%20%20EnqueueJob('PromiseJobs'%2C%20PromiseResolveThenableJob%2C%20%5Bpromise%2C%20resolution%2C%20then%5D)%3B%5Cn%20%20%20%20%20%20%20%20return%20undefined%3B%5Cn%20%20%20%20%20%20%7D%3B%5Cn%20%20%20%20%20%20return%20F%3B%5Cn%20%20%20%20%7D%5Cn%5Cn%20%20%20%20%2F%2F%2025.4.1.4%20FulfillPromise%20(%20promise%2C%20value%20)%5Cn%5Cn%20%20%20%20function%20FulfillPromise(promise%2C%20value)%20%7B%5Cn%20%20%20%20%20%20console.assert(promise%5B'%5B%5BPromiseState%5D%5D'%5D%20%3D%3D%3D%20'pending')%3B%5Cn%20%20%20%20%20%20var%20reactions%20%3D%20promise%5B'%5B%5BPromiseFulfillReactions%5D%5D'%5D%3B%5Cn%20%20%20%20%20%20set_internal(promise%2C%20'%5B%5BPromiseResult%5D%5D'%2C%20value)%3B%5Cn%20%20%20%20%20%20set_internal(promise%2C%20'%5B%5BPromiseFulfillReactions%5D%5D'%2C%20undefined)%3B%5Cn%20%20%20%20%20%20set_internal(promise%2C%20'%5B%5BPromiseRejectReactions%5D%5D'%2C%20undefined)%3B%5Cn%20%20%20%20%20%20set_internal(promise%2C%20'%5B%5BPromiseState%5D%5D'%2C%20'fulfilled')%3B%5Cn%20%20%20%20%20%20return%20TriggerPromiseReactions(reactions%2C%20value)%3B%5Cn%20%20%20%20%7D%5Cn%5Cn%20%20%20%20%2F%2F%2025.4.1.5%20NewPromiseCapability%20(%20C%20)%5Cn%5Cn%20%20%20%20function%20NewPromiseCapability(c)%20%7B%5Cn%20%20%20%20%20%20%2F%2F%20To%20keep%20Promise%20hermetic%2C%20this%20doesn't%20look%20much%20like%20the%20spec.%5Cn%20%20%20%20%20%20return%20CreatePromiseCapabilityRecord(undefined%2C%20c)%3B%5Cn%20%20%20%20%7D%5Cn%5Cn%20%20%20%20%2F%2F%2025.4.1.5.1%20CreatePromiseCapabilityRecord%20(%20promise%2C%20constructor%20)%5Cn%5Cn%20%20%20%20function%20CreatePromiseCapabilityRecord(promise%2C%20constructor)%20%7B%5Cn%20%20%20%20%20%20%2F%2F%20To%20keep%20Promise%20hermetic%2C%20this%20doesn't%20look%20much%20like%20the%20spec.%5Cn%20%20%20%20%20%20console.assert(IsConstructor(constructor))%3B%5Cn%20%20%20%20%20%20var%20promiseCapability%20%3D%20%7B%7D%3B%5Cn%20%20%20%20%20%20set_internal(promiseCapability%2C%20'%5B%5BPromise%5D%5D'%2C%20promise)%3B%5Cn%20%20%20%20%20%20set_internal(promiseCapability%2C%20'%5B%5BResolve%5D%5D'%2C%20undefined)%3B%5Cn%20%20%20%20%20%20set_internal(promiseCapability%2C%20'%5B%5BReject%5D%5D'%2C%20undefined)%3B%5Cn%20%20%20%20%20%20var%20executor%20%3D%20GetCapabilitiesExecutor()%3B%5Cn%20%20%20%20%20%20set_internal(executor%2C%20'%5B%5BCapability%5D%5D'%2C%20promiseCapability)%3B%5Cn%5Cn%20%20%20%20%20%20%2F%2F%20NOTE%3A%20Differs%20from%20spec%3B%20object%20is%20constructed%20here%5Cn%20%20%20%20%20%20var%20constructorResult%20%3D%20promise%20%3D%20new%20constructor(executor)%3B%5Cn%20%20%20%20%20%20set_internal(promiseCapability%2C%20'%5B%5BPromise%5D%5D'%2C%20promise)%3B%5Cn%5Cn%20%20%20%20%20%20if%20(!IsCallable(promiseCapability%5B'%5B%5BResolve%5D%5D'%5D))%20throw%20TypeError()%3B%5Cn%20%20%20%20%20%20if%20(!IsCallable(promiseCapability%5B'%5B%5BReject%5D%5D'%5D))%20throw%20TypeError()%3B%5Cn%20%20%20%20%20%20if%20(Type(constructorResult)%20%3D%3D%3D%20'object'%20%26%26%20!SameValue(promise%2C%20constructorResult))%20throw%20TypeError()%3B%5Cn%20%20%20%20%20%20return%20promiseCapability%3B%5Cn%20%20%20%20%7D%5Cn%5Cn%20%20%20%20%2F%2F%2025.4.1.5.2%20GetCapabilitiesExecutor%20Functions%5Cn%5Cn%20%20%20%20function%20GetCapabilitiesExecutor()%20%7B%5Cn%20%20%20%20%20%20var%20F%20%3D%20function(resolve%2C%20reject)%20%7B%5Cn%20%20%20%20%20%20%20%20console.assert(F%5B'%5B%5BCapability%5D%5D'%5D)%3B%5Cn%20%20%20%20%20%20%20%20var%20promiseCapability%20%3D%20F%5B'%5B%5BCapability%5D%5D'%5D%3B%5Cn%20%20%20%20%20%20%20%20if%20(promiseCapability%5B'%5B%5BResolve%5D%5D'%5D%20!%3D%3D%20undefined)%20throw%20TypeError()%3B%5Cn%20%20%20%20%20%20%20%20if%20(promiseCapability%5B'%5B%5BReject%5D%5D'%5D%20!%3D%3D%20undefined)%20throw%20TypeError()%3B%5Cn%20%20%20%20%20%20%20%20set_internal(promiseCapability%2C%20'%5B%5BResolve%5D%5D'%2C%20resolve)%3B%5Cn%20%20%20%20%20%20%20%20set_internal(promiseCapability%2C%20'%5B%5BReject%5D%5D'%2C%20reject)%3B%5Cn%20%20%20%20%20%20%20%20return%20undefined%3B%5Cn%20%20%20%20%20%20%7D%3B%5Cn%20%20%20%20%20%20return%20F%3B%5Cn%20%20%20%20%7D%5Cn%5Cn%20%20%20%20%2F%2F%2025.4.1.6%20IsPromise%20(%20x%20)%5Cn%5Cn%20%20%20%20function%20IsPromise(x)%20%7B%5Cn%20%20%20%20%20%20if%20(Type(x)%20!%3D%3D%20'object')%20return%20false%3B%5Cn%20%20%20%20%20%20if%20(!('%5B%5BPromiseState%5D%5D'%20in%20x))%20return%20false%3B%5Cn%20%20%20%20%20%20if%20(x%5B'%5B%5BPromiseState%5D%5D'%5D%20%3D%3D%3D%20undefined)%20return%20false%3B%5Cn%20%20%20%20%20%20return%20true%3B%5Cn%20%20%20%20%7D%5Cn%5Cn%20%20%20%20%2F%2F%2025.4.1.7%20RejectPromise%20(%20promise%2C%20reason%20)%5Cn%5Cn%20%20%20%20function%20RejectPromise(promise%2C%20reason)%20%7B%5Cn%20%20%20%20%20%20console.assert(promise%5B'%5B%5BPromiseState%5D%5D'%5D%20%3D%3D%3D%20'pending')%3B%5Cn%20%20%20%20%20%20var%20reactions%20%3D%20promise%5B'%5B%5BPromiseRejectReactions%5D%5D'%5D%3B%5Cn%20%20%20%20%20%20set_internal(promise%2C%20'%5B%5BPromiseResult%5D%5D'%2C%20reason)%3B%5Cn%20%20%20%20%20%20set_internal(promise%2C%20'%5B%5BPromiseFulfillReactions%5D%5D'%2C%20undefined)%3B%5Cn%20%20%20%20%20%20set_internal(promise%2C%20'%5B%5BPromiseRejectReactions%5D%5D'%2C%20undefined)%3B%5Cn%20%20%20%20%20%20set_internal(promise%2C%20'%5B%5BPromiseState%5D%5D'%2C%20'rejected')%3B%5Cn%20%20%20%20%20%20return%20TriggerPromiseReactions(reactions%2C%20reason)%3B%5Cn%20%20%20%20%7D%5Cn%5Cn%20%20%20%20%2F%2F%2025.4.1.8%20TriggerPromiseReactions%20(%20reactions%2C%20argument%20)%5Cn%5Cn%20%20%20%20function%20TriggerPromiseReactions(reactions%2C%20argument)%20%7B%5Cn%20%20%20%20%20%20for%20(var%20i%20%3D%200%2C%20len%20%3D%20reactions.length%3B%20i%20%3C%20len%3B%20%2B%2Bi)%5Cn%20%20%20%20%20%20%20%20EnqueueJob('PromiseJobs'%2C%20PromiseReactionJob%2C%20%5Breactions%5Bi%5D%2C%20argument%5D)%3B%5Cn%20%20%20%20%20%20return%20undefined%3B%5Cn%20%20%20%20%7D%5Cn%5Cn%20%20%20%20%2F%2F%2025.4.2%20Promise%20Jobs%5Cn%5Cn%20%20%20%20%2F%2F%2025.4.2.1%20PromiseReactionJob%20(%20reaction%2C%20argument%20)%5Cn%5Cn%20%20%20%20function%20PromiseReactionJob(reaction%2C%20argument)%20%7B%5Cn%20%20%20%20%20%20var%20promiseCapability%20%3D%20reaction%5B'%5B%5BCapabilities%5D%5D'%5D%3B%5Cn%20%20%20%20%20%20var%20handler%20%3D%20reaction%5B'%5B%5BHandler%5D%5D'%5D%3B%5Cn%20%20%20%20%20%20var%20handlerResult%2C%20status%3B%5Cn%20%20%20%20%20%20try%20%7B%5Cn%20%20%20%20%20%20%20%20if%20(handler%20%3D%3D%3D%20'Identity')%20handlerResult%20%3D%20argument%3B%5Cn%20%20%20%20%20%20%20%20else%20if%20(handler%20%3D%3D%3D%20'Thrower')%20throw%20argument%3B%5Cn%20%20%20%20%20%20%20%20else%20handlerResult%20%3D%20handler.call(undefined%2C%20argument)%3B%5Cn%20%20%20%20%20%20%7D%20catch%20(handlerResult)%20%7B%5Cn%20%20%20%20%20%20%20%20status%20%3D%20promiseCapability%5B'%5B%5BReject%5D%5D'%5D.call(undefined%2C%20handlerResult)%3B%5Cn%20%20%20%20%20%20%20%20NextJob(status)%3B%20return%3B%5Cn%20%20%20%20%20%20%7D%5Cn%20%20%20%20%20%20status%20%3D%20promiseCapability%5B'%5B%5BResolve%5D%5D'%5D.call(undefined%2C%20handlerResult)%3B%5Cn%20%20%20%20%20%20NextJob(status)%3B%5Cn%20%20%20%20%7D%5Cn%5Cn%20%20%20%20%2F%2F%2025.4.2.2%20PromiseResolveThenableJob%20(%20promiseToResolve%2C%20thenable%2C%20then)%5Cn%5Cn%20%20%20%20function%20PromiseResolveThenableJob(promiseToResolve%2C%20thenable%2C%20then)%20%7B%5Cn%20%20%20%20%20%20%2F%2F%20SPEC%20BUG%3A%20promise%20vs.%20promiseToResolve%5Cn%20%20%20%20%20%20var%20resolvingFunctions%20%3D%20CreateResolvingFunctions(promiseToResolve)%3B%5Cn%20%20%20%20%20%20try%20%7B%5Cn%20%20%20%20%20%20%20%20var%20thenCallResult%20%3D%20then.call(thenable%2C%20resolvingFunctions%5B'%5B%5BResolve%5D%5D'%5D%2C%5Cn%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20resolvingFunctions%5B'%5B%5BReject%5D%5D'%5D)%3B%5Cn%20%20%20%20%20%20%7D%20catch%20(thenCallResult)%20%7B%5Cn%20%20%20%20%20%20%20%20var%20status%20%3D%20resolvingFunctions%5B'%5B%5BReject%5D%5D'%5D.call(undefined%2C%20thenCallResult)%3B%5Cn%20%20%20%20%20%20%20%20NextJob(status)%3B%20return%3B%5Cn%20%20%20%20%20%20%7D%5Cn%20%20%20%20%20%20NextJob(thenCallResult)%3B%5Cn%20%20%20%20%7D%5Cn%5Cn%20%20%20%20%2F%2F%2025.4.3%20The%20Promise%20Constructor%5Cn%5Cn%20%20%20%20%2F%2F%2025.4.3.1%20Promise%20(%20executor%20)%5Cn%5Cn%20%20%20%20function%20Promise(executor)%20%7B%5Cn%20%20%20%20%20%20var%20config%20%3D%20%7B%20configurable%3A%20false%2C%20enumerable%3A%20false%2C%20writable%3A%20true%2C%20value%3A%20undefined%20%7D%3B%5Cn%20%20%20%20%20%20Object.defineProperty(this%2C%20'%5B%5BPromiseState%5D%5D'%2C%20config)%3B%5Cn%20%20%20%20%20%20Object.defineProperty(this%2C%20'%5B%5BPromiseConstructor%5D%5D'%2C%20config)%3B%5Cn%20%20%20%20%20%20Object.defineProperty(this%2C%20'%5B%5BPromiseResult%5D%5D'%2C%20config)%3B%5Cn%20%20%20%20%20%20Object.defineProperty(this%2C%20'%5B%5BPromiseFulfillReactions%5D%5D'%2C%20config)%3B%5Cn%20%20%20%20%20%20Object.defineProperty(this%2C%20'%5B%5BPromiseRejectReactions%5D%5D'%2C%20config)%3B%5Cn%5Cn%20%20%20%20%20%20var%20promise%20%3D%20this%3B%5Cn%20%20%20%20%20%20if%20(Type(promise)%20!%3D%3D%20'object')%20throw%20new%20TypeError()%3B%5Cn%20%20%20%20%20%20if%20(!('%5B%5BPromiseState%5D%5D'%20in%20promise))%20throw%20TypeError()%3B%5Cn%20%20%20%20%20%20if%20(promise%5B'%5B%5BPromiseState%5D%5D'%5D%20!%3D%3D%20undefined)%20throw%20TypeError()%3B%5Cn%20%20%20%20%20%20if%20(!IsCallable(executor))%20throw%20TypeError()%3B%5Cn%5Cn%20%20%20%20%20%20set_internal(promise%2C%20'%5B%5BPromiseConstructor%5D%5D'%2C%20Promise)%3B%5Cn%5Cn%20%20%20%20%20%20return%20InitializePromise(promise%2C%20executor)%3B%5Cn%20%20%20%20%7D%5Cn%5Cn%20%20%20%20%2F%2F%2025.4.3.1.1%20InitializePromise%20(%20promise%2C%20executor%20)%5Cn%5Cn%20%20%20%20function%20InitializePromise(promise%2C%20executor)%20%7B%5Cn%20%20%20%20%20%20console.assert('%5B%5BPromiseState%5D%5D'%20in%20promise)%3B%5Cn%20%20%20%20%20%20console.assert(IsCallable(executor))%3B%5Cn%20%20%20%20%20%20set_internal(promise%2C%20'%5B%5BPromiseState%5D%5D'%2C%20'pending')%3B%5Cn%20%20%20%20%20%20set_internal(promise%2C%20'%5B%5BPromiseFulfillReactions%5D%5D'%2C%20%5B%5D)%3B%5Cn%20%20%20%20%20%20set_internal(promise%2C%20'%5B%5BPromiseRejectReactions%5D%5D'%2C%20%5B%5D)%3B%5Cn%20%20%20%20%20%20var%20resolvingFunctions%20%3D%20CreateResolvingFunctions(promise)%3B%5Cn%20%20%20%20%20%20try%20%7B%5Cn%20%20%20%20%20%20%20%20var%20completion%20%3D%20executor.call(undefined%2C%20resolvingFunctions%5B'%5B%5BResolve%5D%5D'%5D%2C%5Cn%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20resolvingFunctions%5B'%5B%5BReject%5D%5D'%5D)%3B%5Cn%20%20%20%20%20%20%7D%20catch%20(completion)%20%7B%5Cn%20%20%20%20%20%20%20%20var%20status%20%3D%20resolvingFunctions%5B'%5B%5BReject%5D%5D'%5D.call(undefined%2C%20completion)%3B%5Cn%20%20%20%20%20%20%7D%5Cn%20%20%20%20%20%20return%20promise%3B%5Cn%20%20%20%20%7D%5Cn%5Cn%20%20%20%20%2F%2F%2025.4.4%20Properties%20of%20the%20Promise%20Constructor%5Cn%20%20%20%20%2F%2F%2025.4.4.1%20Promise.all%20(%20iterable%20)%5Cn%5Cn%20%20%20%20define(Promise%2C%20'all'%2C%20function%20all(iterable)%20%7B%5Cn%20%20%20%20%20%20var%20c%20%3D%20strict(this)%3B%5Cn%20%20%20%20%20%20var%20promiseCapability%20%3D%20NewPromiseCapability(c)%3B%5Cn%20%20%20%20%20%20try%20%7B%5Cn%20%20%20%20%20%20%20%20var%20iterator%20%3D%20GetIterator(iterable)%3B%5Cn%20%20%20%20%20%20%7D%20catch%20(value)%20%7B%5Cn%20%20%20%20%20%20%20%20promiseCapability%5B'%5B%5BReject%5D%5D'%5D.call(undefined%2C%20value)%3B%5Cn%20%20%20%20%20%20%20%20return%20promiseCapability%5B'%5B%5BPromise%5D%5D'%5D%3B%5Cn%20%20%20%20%20%20%7D%5Cn%20%20%20%20%20%20var%20values%20%3D%20%5B%5D%3B%5Cn%20%20%20%20%20%20var%20remainingElementsCount%20%3D%20%7B%20value%3A%201%20%7D%3B%5Cn%20%20%20%20%20%20var%20index%20%3D%200%3B%5Cn%20%20%20%20%20%20while%20(true)%20%7B%5Cn%20%20%20%20%20%20%20%20try%20%7B%5Cn%20%20%20%20%20%20%20%20%20%20var%20next%20%3D%20IteratorStep(iterator)%3B%5Cn%20%20%20%20%20%20%20%20%7D%20catch%20(value)%20%7B%5Cn%20%20%20%20%20%20%20%20%20%20promiseCapability%5B'%5B%5BReject%5D%5D'%5D.call(undefined%2C%20value)%3B%5Cn%20%20%20%20%20%20%20%20%20%20return%20promiseCapability%5B'%5B%5BPromise%5D%5D'%5D%3B%5Cn%20%20%20%20%20%20%20%20%7D%5Cn%20%20%20%20%20%20%20%20if%20(!next)%20%7B%5Cn%20%20%20%20%20%20%20%20%20%20remainingElementsCount.value%20-%3D%201%3B%5Cn%20%20%20%20%20%20%20%20%20%20if%20(remainingElementsCount.value%20%3D%3D%3D%200)%20%7B%5Cn%20%20%20%20%20%20%20%20%20%20%20%20var%20resolveResult%20%3D%20promiseCapability%5B'%5B%5BResolve%5D%5D'%5D.apply(undefined%2C%20values)%3B%5Cn%5Cn%5Cn%20%20%20%20%20%20%20%20%20%20%7D%5Cn%20%20%20%20%20%20%20%20%20%20return%20promiseCapability%5B'%5B%5BPromise%5D%5D'%5D%3B%5Cn%20%20%20%20%20%20%20%20%7D%5Cn%20%20%20%20%20%20%20%20try%20%7B%5Cn%20%20%20%20%20%20%20%20%20%20var%20nextValue%20%3D%20IteratorValue(next)%3B%5Cn%20%20%20%20%20%20%20%20%7D%20catch%20(value)%20%7B%5Cn%20%20%20%20%20%20%20%20%20%20promiseCapability%5B'%5B%5BReject%5D%5D'%5D.call(undefined%2C%20value)%3B%5Cn%20%20%20%20%20%20%20%20%20%20return%20promiseCapability%5B'%5B%5BPromise%5D%5D'%5D%3B%5Cn%20%20%20%20%20%20%20%20%7D%5Cn%20%20%20%20%20%20%20%20try%20%7B%5Cn%20%20%20%20%20%20%20%20%20%20var%20nextPromise%20%3D%20c.resolve(nextValue)%3B%5Cn%20%20%20%20%20%20%20%20%7D%20catch%20(value)%20%7B%5Cn%20%20%20%20%20%20%20%20%20%20promiseCapability%5B'%5B%5BReject%5D%5D'%5D.call(undefined%2C%20value)%3B%5Cn%20%20%20%20%20%20%20%20%20%20return%20promiseCapability%5B'%5B%5BPromise%5D%5D'%5D%3B%5Cn%20%20%20%20%20%20%20%20%7D%5Cn%20%20%20%20%20%20%20%20var%20resolveElement%20%3D%20PromiseAllResolveElementFunction()%3B%5Cn%20%20%20%20%20%20%20%20set_internal(resolveElement%2C%20'%5B%5BAlreadyCalled%5D%5D'%2C%20%7B%20value%3A%20false%20%7D)%3B%5Cn%20%20%20%20%20%20%20%20set_internal(resolveElement%2C%20'%5B%5BIndex%5D%5D'%2C%20index)%3B%5Cn%20%20%20%20%20%20%20%20set_internal(resolveElement%2C%20'%5B%5BValues%5D%5D'%2C%20values)%3B%5Cn%20%20%20%20%20%20%20%20set_internal(resolveElement%2C%20'%5B%5BCapabilities%5D%5D'%2C%20promiseCapability)%3B%5Cn%20%20%20%20%20%20%20%20set_internal(resolveElement%2C%20'%5B%5BRemainingElements%5D%5D'%2C%20remainingElementsCount)%3B%5Cn%20%20%20%20%20%20%20%20remainingElementsCount.value%20%2B%3D%201%3B%5Cn%20%20%20%20%20%20%20%20try%20%7B%5Cn%20%20%20%20%20%20%20%20%20%20var%20result%20%3D%20nextPromise.then(resolveElement%2C%20promiseCapability%5B'%5B%5BReject%5D%5D'%5D)%3B%5Cn%20%20%20%20%20%20%20%20%7D%20catch%20(value)%20%7B%5Cn%20%20%20%20%20%20%20%20%20%20promiseCapability%5B'%5B%5BReject%5D%5D'%5D.call(undefined%2C%20value)%3B%5Cn%20%20%20%20%20%20%20%20%20%20return%20promiseCapability%5B'%5B%5BPromise%5D%5D'%5D%3B%5Cn%20%20%20%20%20%20%20%20%7D%5Cn%20%20%20%20%20%20%20%20index%20%2B%3D%201%3B%5Cn%20%20%20%20%20%20%7D%5Cn%20%20%20%20%7D)%3B%5Cn%5Cn%20%20%20%20%2F%2F%2025.4.4.1.1%20Promise.all%20Resolve%20Element%20Functions%5Cn%5Cn%20%20%20%20function%20PromiseAllResolveElementFunction()%20%7B%5Cn%20%20%20%20%20%20var%20F%20%3D%20function(x)%20%7B%5Cn%20%20%20%20%20%20%20%20var%20alreadyCalled%20%3D%20F%5B'%5B%5BAlreadyCalled%5D%5D'%5D%3B%5Cn%20%20%20%20%20%20%20%20if%20(alreadyCalled.value)%20return%20undefined%3B%5Cn%20%20%20%20%20%20%20%20alreadyCalled.value%20%3D%20true%3B%5Cn%20%20%20%20%20%20%20%20var%20index%20%3D%20F%5B'%5B%5BIndex%5D%5D'%5D%3B%5Cn%20%20%20%20%20%20%20%20var%20values%20%3D%20F%5B'%5B%5BValues%5D%5D'%5D%3B%5Cn%20%20%20%20%20%20%20%20var%20promiseCapability%20%3D%20F%5B'%5B%5BCapabilities%5D%5D'%5D%3B%5Cn%20%20%20%20%20%20%20%20var%20remainingElementsCount%20%3D%20F%5B'%5B%5BRemainingElements%5D%5D'%5D%3B%5Cn%20%20%20%20%20%20%20%20try%20%7B%5Cn%20%20%20%20%20%20%20%20%20%20values%5Bindex%5D%20%3D%20x%3B%5Cn%20%20%20%20%20%20%20%20%7D%20catch%20(result)%20%7B%5Cn%20%20%20%20%20%20%20%20%20%20promiseCapability%5B'%5B%5BReject%5D%5D'%5D.call(undefined%2C%20result)%3B%5Cn%20%20%20%20%20%20%20%20%20%20return%20promiseCapability%5B'%5B%5BPromise%5D%5D'%5D%3B%5Cn%20%20%20%20%20%20%20%20%7D%5Cn%20%20%20%20%20%20%20%20remainingElementsCount.value%20-%3D%201%3B%5Cn%20%20%20%20%20%20%20%20if%20(remainingElementsCount.value%20%3D%3D%3D%200)%5Cn%20%20%20%20%20%20%20%20%20%20return%20promiseCapability%5B'%5B%5BResolve%5D%5D'%5D.call(undefined%2C%20values)%3B%5Cn%20%20%20%20%20%20%20%20return%20undefined%3B%5Cn%20%20%20%20%20%20%7D%3B%5Cn%20%20%20%20%20%20return%20F%3B%5Cn%20%20%20%20%7D%5Cn%5Cn%20%20%20%20%2F%2F%2025.4.4.2%20Promise.prototype%5Cn%5Cn%20%20%20%20Promise.prototype%20%3D%20%7B%7D%3B%5Cn%5Cn%20%20%20%20%2F%2F%2025.4.4.3%20Promise.race%20(%20iterable%20)%5Cn%5Cn%20%20%20%20define(Promise%2C%20'race'%2C%20function%20race(iterable)%20%7B%5Cn%20%20%20%20%20%20var%20c%20%3D%20strict(this)%3B%5Cn%20%20%20%20%20%20var%20promiseCapability%20%3D%20NewPromiseCapability(c)%3B%5Cn%20%20%20%20%20%20try%20%7B%5Cn%20%20%20%20%20%20%20%20var%20iterator%20%3D%20GetIterator(iterable)%3B%5Cn%20%20%20%20%20%20%7D%20catch%20(value)%20%7B%5Cn%20%20%20%20%20%20%20%20promiseCapability%5B'%5B%5BReject%5D%5D'%5D.call(undefined%2C%20value)%3B%5Cn%20%20%20%20%20%20%20%20return%20promiseCapability%5B'%5B%5BPromise%5D%5D'%5D%3B%5Cn%20%20%20%20%20%20%7D%5Cn%20%20%20%20%20%20while%20(true)%20%7B%5Cn%20%20%20%20%20%20%20%20try%20%7B%5Cn%20%20%20%20%20%20%20%20%20%20var%20next%20%3D%20IteratorStep(iterator)%3B%5Cn%20%20%20%20%20%20%20%20%7D%20catch%20(value)%20%7B%5Cn%20%20%20%20%20%20%20%20%20%20promiseCapability%5B'%5B%5BReject%5D%5D'%5D.call(undefined%2C%20value)%3B%5Cn%20%20%20%20%20%20%20%20%20%20return%20promiseCapability%5B'%5B%5BPromise%5D%5D'%5D%3B%5Cn%20%20%20%20%20%20%20%20%7D%5Cn%20%20%20%20%20%20%20%20if%20(!next)%20return%20promiseCapability%5B'%5B%5BPromise%5D%5D'%5D%3B%5Cn%20%20%20%20%20%20%20%20try%20%7B%5Cn%20%20%20%20%20%20%20%20%20%20var%20nextValue%20%3D%20IteratorValue(next)%3B%5Cn%20%20%20%20%20%20%20%20%7D%20catch%20(value)%20%7B%5Cn%20%20%20%20%20%20%20%20%20%20promiseCapability%5B'%5B%5BReject%5D%5D'%5D.call(undefined%2C%20value)%3B%5Cn%20%20%20%20%20%20%20%20%20%20return%20promiseCapability%5B'%5B%5BPromise%5D%5D'%5D%3B%5Cn%20%20%20%20%20%20%20%20%7D%5Cn%20%20%20%20%20%20%20%20try%20%7B%5Cn%20%20%20%20%20%20%20%20%20%20var%20nextPromise%20%3D%20c.resolve(nextValue)%3B%5Cn%20%20%20%20%20%20%20%20%7D%20catch%20(value)%20%7B%5Cn%20%20%20%20%20%20%20%20%20%20promiseCapability%5B'%5B%5BReject%5D%5D'%5D.call(undefined%2C%20value)%3B%5Cn%20%20%20%20%20%20%20%20%20%20return%20promiseCapability%5B'%5B%5BPromise%5D%5D'%5D%3B%5Cn%20%20%20%20%20%20%20%20%7D%5Cn%20%20%20%20%20%20%20%20try%20%7B%5Cn%20%20%20%20%20%20%20%20%20%20nextPromise.then(promiseCapability%5B'%5B%5BResolve%5D%5D'%5D%2C%20promiseCapability%5B'%5B%5BReject%5D%5D'%5D)%3B%5Cn%20%20%20%20%20%20%20%20%7D%20catch%20(value)%20%7B%5Cn%20%20%20%20%20%20%20%20%20%20promiseCapability%5B'%5B%5BReject%5D%5D'%5D.call(undefined%2C%20value)%3B%5Cn%20%20%20%20%20%20%20%20%20%20return%20promiseCapability%5B'%5B%5BPromise%5D%5D'%5D%3B%5Cn%20%20%20%20%20%20%20%20%7D%5Cn%20%20%20%20%20%20%7D%5Cn%20%20%20%20%7D)%3B%5Cn%5Cn%20%20%20%20%2F%2F%2025.4.4.4%20Promise.reject%20(%20r%20)%5Cn%5Cn%20%20%20%20define(Promise%2C%20'reject'%2C%20function%20reject(r)%20%7B%5Cn%20%20%20%20%20%20var%20c%20%3D%20strict(this)%3B%5Cn%20%20%20%20%20%20var%20promiseCapability%20%3D%20NewPromiseCapability(c)%3B%5Cn%20%20%20%20%20%20var%20rejectResult%20%3D%20promiseCapability%5B'%5B%5BReject%5D%5D'%5D.call(undefined%2C%20r)%3B%5Cn%20%20%20%20%20%20return%20promiseCapability%5B'%5B%5BPromise%5D%5D'%5D%3B%5Cn%20%20%20%20%7D)%3B%5Cn%5Cn%20%20%20%20%2F%2F%2025.4.4.5%20Promise.resolve%20(%20x%20)%5Cn%5Cn%20%20%20%20define(Promise%2C%20'resolve'%2C%20function%20resolve(x)%20%7B%5Cn%20%20%20%20%20%20var%20c%20%3D%20strict(this)%3B%5Cn%20%20%20%20%20%20if%20(IsPromise(x))%20%7B%5Cn%20%20%20%20%20%20%20%20var%20constructor%20%3D%20x%5B'%5B%5BPromiseConstructor%5D%5D'%5D%3B%5Cn%20%20%20%20%20%20%20%20if%20(SameValue(constructor%2C%20c))%20return%20x%3B%5Cn%20%20%20%20%20%20%7D%5Cn%20%20%20%20%20%20var%20promiseCapability%20%3D%20NewPromiseCapability(c)%3B%5Cn%20%20%20%20%20%20var%20resolveResult%20%3D%20promiseCapability%5B'%5B%5BResolve%5D%5D'%5D.call(undefined%2C%20x)%3B%5Cn%20%20%20%20%20%20return%20promiseCapability%5B'%5B%5BPromise%5D%5D'%5D%3B%5Cn%20%20%20%20%7D)%3B%5Cn%5Cn%20%20%20%20%2F%2F%2025.4.4.6%20Promise%20%5B%20%40%40create%20%5D%20(%20)%5Cn%20%20%20%20%2F%2F%2025.4.4.6.1%20AllocatePromise%20(%20constructor%20)%5Cn%20%20%20%20%2F%2F%2025.4.5%20Properties%20of%20the%20Promise%20Prototype%20Object%5Cn%20%20%20%20%2F%2F%2025.4.5.1%20Promise.prototype.catch%20(%20onRejected%20)%5Cn%5Cn%20%20%20%20define(Promise.prototype%2C%20'catch'%2C%20function%20catch_(onRejected)%20%7B%5Cn%20%20%20%20%20%20var%20promise%20%3D%20this%3B%5Cn%20%20%20%20%20%20return%20promise.then(undefined%2C%20onRejected)%3B%5Cn%20%20%20%20%7D)%3B%5Cn%5Cn%20%20%20%20%2F%2F%2025.4.5.2%20Promise.prototype.constructor%5Cn%5Cn%20%20%20%20Promise.prototype.constructor%20%3D%20Promise%3B%5Cn%5Cn%20%20%20%20%2F%2F%2025.4.5.3%20Promise.prototype.then%20(%20onFulfilled%20%2C%20onRejected%20)%5Cn%5Cn%20%20%20%20define(Promise.prototype%2C%20'then'%2C%20function%20then(onFulfilled%2C%20onRejected)%20%7B%5Cn%20%20%20%20%20%20var%20promise%20%3D%20this%3B%5Cn%20%20%20%20%20%20if%20(!IsPromise(promise))%20throw%20TypeError()%3B%5Cn%20%20%20%20%20%20if%20(!IsCallable(onFulfilled))%20onFulfilled%20%3D%20'Identity'%3B%5Cn%20%20%20%20%20%20if%20(!IsCallable(onRejected))%20onRejected%20%3D%20'Thrower'%3B%5Cn%20%20%20%20%20%20var%20c%20%3D%20promise.constructor%3B%5Cn%20%20%20%20%20%20var%20promiseCapability%20%3D%20NewPromiseCapability(c)%3B%5Cn%20%20%20%20%20%20var%20fulfillReaction%20%3D%20%7B%20'%5B%5BCapabilities%5D%5D'%3A%20promiseCapability%2C%5Cn%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20'%5B%5BHandler%5D%5D'%3A%20onFulfilled%20%7D%3B%5Cn%20%20%20%20%20%20var%20rejectReaction%20%3D%20%7B%20'%5B%5BCapabilities%5D%5D'%3A%20promiseCapability%2C%5Cn%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20'%5B%5BHandler%5D%5D'%3A%20onRejected%20%7D%3B%5Cn%20%20%20%20%20%20if%20(promise%5B'%5B%5BPromiseState%5D%5D'%5D%20%3D%3D%3D%20'pending')%20%7B%5Cn%20%20%20%20%20%20%20%20promise%5B'%5B%5BPromiseFulfillReactions%5D%5D'%5D.push(fulfillReaction)%3B%5Cn%20%20%20%20%20%20%20%20promise%5B'%5B%5BPromiseRejectReactions%5D%5D'%5D.push(rejectReaction)%3B%5Cn%20%20%20%20%20%20%7D%20else%20if%20(promise%5B'%5B%5BPromiseState%5D%5D'%5D%20%3D%3D%3D%20'fulfilled')%20%7B%5Cn%20%20%20%20%20%20%20%20var%20value%20%3D%20promise%5B'%5B%5BPromiseResult%5D%5D'%5D%3B%5Cn%20%20%20%20%20%20%20%20EnqueueJob('PromiseJobs'%2C%20PromiseReactionJob%2C%20%5BfulfillReaction%2C%20value%5D)%3B%5Cn%20%20%20%20%20%20%7D%20else%20if%20(promise%5B'%5B%5BPromiseState%5D%5D'%5D%20%3D%3D%3D%20'rejected')%20%7B%5Cn%20%20%20%20%20%20%20%20var%20reason%20%3D%20promise%5B'%5B%5BPromiseResult%5D%5D'%5D%3B%5Cn%20%20%20%20%20%20%20%20EnqueueJob('PromiseJobs'%2C%20PromiseReactionJob%2C%20%5BrejectReaction%2C%20reason%5D)%3B%5Cn%20%20%20%20%20%20%7D%5Cn%20%20%20%20%20%20return%20promiseCapability%5B'%5B%5BPromise%5D%5D'%5D%3B%5Cn%20%20%20%20%7D)%3B%5Cn%5Cn%20%20%20%20%2F%2F%2025.4.6%20Properties%20of%20Promise%20Instances%5Cn%5Cn%20%20%20%20if%20(!('Promise'%20in%20global)%20%7C%7C%20OVERRIDE_NATIVE_FOR_TESTING)%5Cn%20%20%20%20%20%20global.Promise%20%3D%20Promise%3B%5Cn%5Cn%20%20%20%20%2F%2F%20Patch%20early%20Promise.cast%20vs.%20Promise.resolve%20implementations%5Cn%20%20%20%20if%20('cast'%20in%20global.Promise)%20global.Promise.resolve%20%3D%20global.Promise.cast%3B%5Cn%20%20%7D())%3B%5Cn%5Cn%20%20%2F%2F%2025.4.5.1%20Promise.prototype%20%5B%20%40%40toStringTag%20%5D%5Cn%20%20define(Promise.prototype%2C%20%24%24toStringTag%2C%20'Promise')%3B%5Cn%5Cn%20%20%2F%2F%20---------------------------------------%5Cn%20%20%2F%2F%2026%20Reflection%5Cn%20%20%2F%2F%20---------------------------------------%5Cn%5Cn%20%20(function()%20%7B%5Cn%20%20%20%20%2F%2F%2026.1%20The%20Reflect%20Object%5Cn%20%20%20%20if%20(!('Reflect'%20in%20global)%20%7C%7C%20OVERRIDE_NATIVE_FOR_TESTING)%5Cn%20%20%20%20%20%20global.Reflect%20%3D%20%7B%7D%3B%5Cn%5Cn%20%20%20%20%2F%2F%2026.1.1%20Reflect.apply%20(%20target%2C%20thisArgument%2C%20argumentsList%20)%5Cn%20%20%20%20define(%5Cn%20%20%20%20%20%20Reflect%2C%20'apply'%2C%5Cn%20%20%20%20%20%20function%20apply(target%2C%20thisArgument%2C%20argumentsList)%20%7B%5Cn%20%20%20%20%20%20%20%20if%20(!IsCallable(target))%20throw%20TypeError()%3B%5Cn%20%20%20%20%20%20%20%20return%20Function.prototype.apply.call(target%2C%20thisArgument%2C%20argumentsList)%3B%5Cn%20%20%20%20%20%20%7D)%3B%5Cn%5Cn%20%20%20%20%2F%2F%2026.1.2%20Reflect.construct%20(%20target%2C%20argumentsList%20%5B%2C%20newTarget%5D%20)%5Cn%20%20%20%20define(%5Cn%20%20%20%20%20%20Reflect%2C%20'construct'%2C%5Cn%20%20%20%20%20%20function%20construct(target%2C%20argumentsList)%20%7B%5Cn%20%20%20%20%20%20%20%20return%20__cons(target%2C%20argumentsList)%3B%5Cn%20%20%20%20%20%20%7D)%3B%5Cn%5Cn%20%20%20%20%2F%2F%2026.1.3%20Reflect.defineProperty%20(%20target%2C%20propertyKey%2C%20attributes%20)%5Cn%20%20%20%20define(%5Cn%20%20%20%20%20%20Reflect%2C%20'defineProperty'%2C%5Cn%20%20%20%20%20%20function%20defineProperty(target%2C%20propertyKey%2C%20attributes)%20%7B%5Cn%20%20%20%20%20%20%20%20try%20%7B%5Cn%20%20%20%20%20%20%20%20%20%20Object.defineProperty(target%2C%20propertyKey%2C%20attributes)%3B%5Cn%20%20%20%20%20%20%20%20%20%20return%20true%3B%5Cn%20%20%20%20%20%20%20%20%7D%20catch%20(_)%20%7B%5Cn%20%20%20%20%20%20%20%20%20%20return%20false%3B%5Cn%20%20%20%20%20%20%20%20%7D%5Cn%20%20%20%20%20%20%7D)%3B%5Cn%5Cn%20%20%20%20%2F%2F%2026.1.4%20Reflect.deleteProperty%20(%20target%2C%20propertyKey%20)%5Cn%20%20%20%20define(%5Cn%20%20%20%20%20%20Reflect%2C%20'deleteProperty'%2C%5Cn%20%20%20%20%20%20function%20deleteProperty(target%2Cname)%20%7B%5Cn%20%20%20%20%20%20%20%20try%20%7B%5Cn%20%20%20%20%20%20%20%20%20%20delete%20target%5Bname%5D%3B%5Cn%20%20%20%20%20%20%20%20%20%20return%20!HasOwnProperty(target%2C%20name)%3B%5Cn%20%20%20%20%20%20%20%20%7D%20catch%20(_)%20%7B%5Cn%20%20%20%20%20%20%20%20%20%20return%20false%3B%5Cn%20%20%20%20%20%20%20%20%7D%5Cn%20%20%20%20%20%20%7D)%3B%5Cn%5Cn%20%20%20%20%2F%2F%2026.1.5%20Reflect.enumerate%20(%20target%20)%5Cn%20%20%20%20define(%5Cn%20%20%20%20%20%20Reflect%2C%20'enumerate'%2C%5Cn%20%20%20%20%20%20function%20enumerate(target)%20%7B%5Cn%20%20%20%20%20%20%20%20target%20%3D%20ToObject(target)%3B%5Cn%20%20%20%20%20%20%20%20var%20iterator%20%3D%20Enumerate(target)%3B%5Cn%20%20%20%20%20%20%20%20return%20iterator%3B%5Cn%20%20%20%20%20%20%7D)%3B%5Cn%5Cn%20%20%20%20%2F%2F%2026.1.6%20Reflect.get%20(%20target%2C%20propertyKey%20%5B%20%2C%20receiver%20%5D)%5Cn%20%20%20%20define(%5Cn%20%20%20%20%20%20Reflect%2C%20'get'%2C%5Cn%20%20%20%20%20%20function%20get(target%2C%20name%2C%20receiver)%20%7B%5Cn%20%20%20%20%20%20%20%20target%20%3D%20ToObject(target)%3B%5Cn%20%20%20%20%20%20%20%20name%20%3D%20String(name)%3B%5Cn%20%20%20%20%20%20%20%20receiver%20%3D%20(receiver%20%3D%3D%3D%20undefined)%20%3F%20target%20%3A%20ToObject(receiver)%3B%5Cn%20%20%20%20%20%20%20%20var%20desc%20%3D%20getPropertyDescriptor(target%2C%20name)%3B%5Cn%20%20%20%20%20%20%20%20if%20(desc%20%26%26%20'get'%20in%20desc)%5Cn%20%20%20%20%20%20%20%20%20%20return%20Function.prototype.call.call(desc%5B'get'%5D%2C%20receiver)%3B%5Cn%20%20%20%20%20%20%20%20return%20target%5Bname%5D%3B%5Cn%20%20%20%20%20%20%7D)%3B%5Cn%5Cn%20%20%20%20%2F%2F%2026.1.7%20Reflect.getOwnPropertyDescriptor%20(%20target%2C%20propertyKey%20)%5Cn%20%20%20%20define(%5Cn%20%20%20%20%20%20Reflect%2C%20'getOwnPropertyDescriptor'%2C%5Cn%20%20%20%20%20%20Object.getOwnPropertyDescriptor)%3B%5Cn%5Cn%20%20%20%20%2F%2F%2026.1.8%20Reflect.getPrototypeOf%20(%20target%20)%5Cn%20%20%20%20define(%5Cn%20%20%20%20%20%20Reflect%2C%20'getPrototypeOf'%2C%5Cn%20%20%20%20%20%20Object.getPrototypeOf)%3B%5Cn%5Cn%20%20%20%20%2F%2F%2026.1.9%20Reflect.has%20(%20target%2C%20propertyKey%20)%5Cn%20%20%20%20define(%5Cn%20%20%20%20%20%20Reflect%2C%20'has'%2C%5Cn%20%20%20%20%20%20function%20has(target%2Cname)%20%7B%5Cn%20%20%20%20%20%20%20%20return%20String(name)%20in%20ToObject(target)%3B%5Cn%20%20%20%20%20%20%7D)%3B%5Cn%5Cn%20%20%20%20%2F%2F%2026.1.10%20Reflect.isExtensible%20(target)%5Cn%20%20%20%20define(%5Cn%20%20%20%20%20%20Reflect%2C%20'isExtensible'%2C%5Cn%20%20%20%20%20%20Object.isExtensible)%3B%5Cn%5Cn%20%20%20%20%2F%2F%2026.1.11%20Reflect.ownKeys%20(%20target%20)%5Cn%20%20%20%20define(%5Cn%20%20%20%20%20%20Reflect%2C%20'ownKeys'%2C%5Cn%20%20%20%20%20%20function%20ownKeys(target)%20%7B%5Cn%20%20%20%20%20%20%20%20var%20obj%20%3D%20ToObject(target)%3B%5Cn%20%20%20%20%20%20%20%20return%20Object.getOwnPropertyNames(obj)%3B%5Cn%20%20%20%20%20%20%7D)%3B%5Cn%5Cn%20%20%20%20%2F%2F%2026.1.12%20Reflect.preventExtensions%20(%20target%20)%5Cn%20%20%20%20define(%5Cn%20%20%20%20%20%20Reflect%2C%20'preventExtensions'%2C%5Cn%20%20%20%20%20%20function%20preventExtensions(target)%20%7B%5Cn%20%20%20%20%20%20%20%20try%20%7B%20Object.preventExtensions(target)%3B%20return%20true%3B%20%7D%20catch%20(_)%20%7B%20return%20false%3B%20%7D%5Cn%20%20%20%20%20%20%7D)%3B%5Cn%5Cn%20%20%20%20%2F%2F%2026.1.13%20Reflect.set%20(%20target%2C%20propertyKey%2C%20V%20%5B%20%2C%20receiver%20%5D%20)%5Cn%20%20%20%20define(%5Cn%20%20%20%20%20%20Reflect%2C%20'set'%2C%5Cn%20%20%20%20%20%20function%20set(target%2C%20name%2C%20value%2C%20receiver)%20%7B%5Cn%20%20%20%20%20%20%20%20target%20%3D%20ToObject(target)%3B%5Cn%20%20%20%20%20%20%20%20name%20%3D%20String(name)%3B%5Cn%20%20%20%20%20%20%20%20receiver%20%3D%20(receiver%20%3D%3D%3D%20undefined)%20%3F%20target%20%3A%20ToObject(receiver)%3B%5Cn%20%20%20%20%20%20%20%20var%20desc%20%3D%20getPropertyDescriptor(target%2C%20name)%3B%5Cn%20%20%20%20%20%20%20%20try%20%7B%5Cn%20%20%20%20%20%20%20%20%20%20if%20(desc%20%26%26%20'set'%20in%20desc)%5Cn%20%20%20%20%20%20%20%20%20%20%20%20Function.prototype.call.call(desc%5B'set'%5D%2C%20receiver%2C%20value)%3B%5Cn%20%20%20%20%20%20%20%20%20%20else%5Cn%20%20%20%20%20%20%20%20%20%20%20%20target%5Bname%5D%20%3D%20value%3B%5Cn%20%20%20%20%20%20%20%20%20%20return%20true%3B%5Cn%20%20%20%20%20%20%20%20%7D%20catch%20(_)%20%7B%5Cn%20%20%20%20%20%20%20%20%20%20return%20false%3B%5Cn%20%20%20%20%20%20%20%20%7D%5Cn%20%20%20%20%20%20%7D)%3B%5Cn%5Cn%20%20%20%20%2F%2F%2026.1.14%20Reflect.setPrototypeOf%20(%20target%2C%20proto%20)%5Cn%20%20%20%20define(%5Cn%20%20%20%20%20%20Reflect%2C%20'setPrototypeOf'%2C%5Cn%20%20%20%20%20%20function%20setPrototypeOf(target%2C%20proto)%20%7B%5Cn%20%20%20%20%20%20%20%20try%20%7B%5Cn%20%20%20%20%20%20%20%20%20%20target.__proto__%20%3D%20proto%3B%5Cn%20%20%20%20%20%20%20%20%20%20return%20Reflect.getPrototypeOf(target)%20%3D%3D%3D%20proto%3B%5Cn%20%20%20%20%20%20%20%20%7D%20catch(_)%20%7B%5Cn%20%20%20%20%20%20%20%20%20%20return%20false%3B%5Cn%20%20%20%20%20%20%20%20%7D%5Cn%20%20%20%20%20%20%7D)%3B%5Cn%5Cn%20%20%7D())%3B%5Cn%5Cn%20%20%2F%2F%20---------------------------------------%5Cn%20%20%2F%2F%2026.2%20Proxy%20Objects%5Cn%20%20%2F%2F%20---------------------------------------%5Cn%5Cn%20%20%2F%2F%20Not%20polyfillable.%5Cn%5Cn%7D(self))%3B%5Cn%5Cn%2F%2F%20This%20helper%20is%20defined%20outside%20the%20main%20scope%20so%20that%20the%20use%20of%5Cn%2F%2F%20'eval'%20does%20not%20taint%20the%20scope%20for%20minifiers.%5Cnfunction%20__cons(t%2C%20a)%20%7B%5Cn%20%20return%20eval('new%20t('%20%2B%20Array.prototype.map.call(a%2C%20function(_%2C%20i)%20%7B%20return%20'a%5B'%20%2B%20i%20%2B%20'%5D'%3B%20%7D).join('%2C')%20%2B%20')')%3B%5Cn%7D%5Cn%2F%2F----------------------------------------------------------------------%5Cn%2F%2F%5Cn%2F%2F%20ECMAScript%202016%20Polyfills%5Cn%2F%2F%5Cn%2F%2F----------------------------------------------------------------------%5Cn%5Cn(function%20(global)%20%7B%5Cn%20%20%5C%22use%20strict%5C%22%3B%5Cn%20%20var%20undefined%20%3D%20(void%200)%3B%20%2F%2F%20Paranoia%5Cn%5Cn%20%20%2F%2F%20Helpers%5Cn%5Cn%20%20function%20isSymbol(s)%20%7B%5Cn%20%20%20%20return%20(typeof%20s%20%3D%3D%3D%20'symbol')%20%7C%7C%20('Symbol'%20in%20global%20%26%26%20s%20instanceof%20global.Symbol)%3B%5Cn%20%20%7D%5Cn%5Cn%20%20function%20define(o%2C%20p%2C%20v%2C%20override)%20%7B%5Cn%20%20%20%20if%20(p%20in%20o%20%26%26%20!override)%5Cn%20%20%20%20%20%20return%3B%5Cn%5Cn%20%20%20%20if%20(typeof%20v%20%3D%3D%3D%20'function')%20%7B%5Cn%20%20%20%20%20%20%2F%2F%20Sanity%20check%20that%20functions%20are%20appropriately%20named%20(where%20possible)%5Cn%20%20%20%20%20%20console.assert(isSymbol(p)%20%7C%7C%20!('name'%20in%20v)%20%7C%7C%20v.name%20%3D%3D%3D%20p%20%7C%7C%20v.name%20%3D%3D%3D%20p%20%2B%20'_'%2C%20'Expected%20function%20name%20%5C%22'%20%2B%20p.toString()%20%2B%20'%5C%22%2C%20was%20%5C%22'%20%2B%20v.name%20%2B%20'%5C%22')%3B%5Cn%20%20%20%20%20%20Object.defineProperty(o%2C%20p%2C%20%7B%5Cn%20%20%20%20%20%20%20%20value%3A%20v%2C%5Cn%20%20%20%20%20%20%20%20configurable%3A%20true%2C%5Cn%20%20%20%20%20%20%20%20enumerable%3A%20false%2C%5Cn%20%20%20%20%20%20%20%20writable%3A%20true%5Cn%20%20%20%20%20%20%7D)%3B%5Cn%20%20%20%20%7D%20else%20%7B%5Cn%20%20%20%20%20%20Object.defineProperty(o%2C%20p%2C%20%7B%5Cn%20%20%20%20%20%20%20%20value%3A%20v%2C%5Cn%20%20%20%20%20%20%20%20configurable%3A%20false%2C%5Cn%20%20%20%20%20%20%20%20enumerable%3A%20false%2C%5Cn%20%20%20%20%20%20%20%20writable%3A%20false%5Cn%20%20%20%20%20%20%7D)%3B%5Cn%20%20%20%20%7D%5Cn%20%20%7D%5Cn%5Cn%5Cn%20%20%2F%2F%20Snapshot%20intrinsic%20functions%5Cn%20%20var%20%24isNaN%20%3D%20global.isNaN%3B%5Cn%5Cn%20%20var%20abs%20%3D%20Math.abs%2C%5Cn%20%20%20%20%20%20floor%20%3D%20Math.floor%2C%5Cn%20%20%20%20%20%20max%20%3D%20Math.max%2C%5Cn%20%20%20%20%20%20min%20%3D%20Math.min%3B%5Cn%5Cn%20%20%2F%2F----------------------------------------%5Cn%20%20%2F%2F%207%20Abstract%20Operations%5Cn%20%20%2F%2F----------------------------------------%5Cn%5Cn%20%20%2F%2F%207.1.4%5Cn%20%20function%20ToInteger(n)%20%7B%5Cn%20%20%20%20n%20%3D%20Number(n)%3B%5Cn%20%20%20%20if%20(%24isNaN(n))%20return%200%3B%5Cn%20%20%20%20if%20(n%20%3D%3D%3D%200%20%7C%7C%20n%20%3D%3D%3D%20Infinity%20%7C%7C%20n%20%3D%3D%3D%20-Infinity)%20return%20n%3B%5Cn%20%20%20%20return%20((n%20%3C%200)%20%3F%20-1%20%3A%201)%20*%20floor(abs(n))%3B%5Cn%20%20%7D%5Cn%5Cn%20%20%2F%2F%207.1.13%20ToObject%5Cn%20%20function%20ToObject(v)%20%7B%5Cn%20%20%20%20if%20(v%20%3D%3D%3D%20null%20%7C%7C%20v%20%3D%3D%3D%20undefined)%20throw%20TypeError()%3B%5Cn%20%20%20%20return%20Object(v)%3B%5Cn%20%20%7D%5Cn%5Cn%20%20%2F%2F%207.1.15%20ToLength%20(%20argument%20)%5Cn%20%20function%20ToLength(v)%20%7B%5Cn%20%20%20%20var%20len%20%3D%20ToInteger(v)%3B%5Cn%20%20%20%20if%20(len%20%3C%3D%200)%20%7B%5Cn%20%20%20%20%20%20return%200%3B%5Cn%20%20%20%20%7D%5Cn%20%20%20%20return%20min(len%2C%200x20000000000000%20-%201)%3B%20%2F%2F%202%5E53-1%5Cn%20%20%7D%5Cn%5Cn%20%20%2F%2F----------------------------------------%5Cn%20%20%2F%2F%207.2%20Testing%20and%20Comparison%20Operations%5Cn%20%20%2F%2F----------------------------------------%5Cn%5Cn%20%20%2F%2F%207.2.10%20SameValueZero(x%2C%20y)%5Cn%20%20function%20SameValueZero(x%2C%20y)%20%7B%5Cn%20%20%20%20if%20(typeof%20x%20!%3D%3D%20typeof%20y)%20return%20false%3B%5Cn%20%20%20%20switch%20(typeof%20x)%20%7B%5Cn%20%20%20%20case%20'undefined'%3A%5Cn%20%20%20%20%20%20return%20true%3B%5Cn%20%20%20%20case%20'number'%3A%5Cn%20%20%20%20%20%20if%20(x%20!%3D%3D%20x%20%26%26%20y%20!%3D%3D%20y)%20return%20true%3B%5Cn%20%20%20%20%20%20return%20x%20%3D%3D%3D%20y%3B%5Cn%20%20%20%20case%20'boolean'%3A%5Cn%20%20%20%20case%20'string'%3A%5Cn%20%20%20%20case%20'object'%3A%5Cn%20%20%20%20default%3A%5Cn%20%20%20%20%20%20return%20x%20%3D%3D%3D%20y%3B%5Cn%20%20%20%20%7D%5Cn%20%20%7D%5Cn%5Cn%20%20%2F%2F----------------------------------------------------------------------%5Cn%20%20%2F%2F%5Cn%20%20%2F%2F%20ECMAScript%202016%5Cn%20%20%2F%2F%5Cn%20%20%2F%2F----------------------------------------------------------------------%5Cn%5Cn%20%20%2F%2F%20https%3A%2F%2Fgithub.com%2Ftc39%2FArray.prototype.includes%2F%5Cn%20%20define(%5Cn%20%20%20%20Array.prototype%2C%20'includes'%2C%5Cn%20%20%20%20function%20includes(target)%20%7B%5Cn%20%20%20%20%20%20var%20fromIndex%20%3D%20arguments%5B1%5D%3B%5Cn%5Cn%20%20%20%20%20%20var%20o%20%3D%20ToObject(this)%3B%5Cn%20%20%20%20%20%20var%20len%20%3D%20ToLength(o%5B%5C%22length%5C%22%5D)%3B%5Cn%20%20%20%20%20%20if%20(len%20%3D%3D%3D%200)%20return%20false%3B%5Cn%20%20%20%20%20%20var%20n%20%3D%20ToInteger(fromIndex)%3B%5Cn%20%20%20%20%20%20if%20(n%20%3E%3D%200)%20%7B%5Cn%20%20%20%20%20%20%20%20var%20k%20%3D%20n%3B%5Cn%20%20%20%20%20%20%7D%20else%20%7B%5Cn%20%20%20%20%20%20%20%20k%20%3D%20len%20%2B%20n%3B%5Cn%20%20%20%20%20%20%20%20if%20(k%20%3C%200)%20k%20%3D%200%3B%5Cn%20%20%20%20%20%20%7D%5Cn%20%20%20%20%20%20while%20(k%20%3C%20len)%20%7B%5Cn%20%20%20%20%20%20%20%20var%20elementK%20%3D%20o%5Bk%5D%3B%5Cn%20%20%20%20%20%20%20%20if%20(SameValueZero(o%5Bk%5D%2C%20target))%5Cn%20%20%20%20%20%20%20%20%20%20return%20true%3B%5Cn%20%20%20%20%20%20%20%20k%20%2B%3D%201%3B%5Cn%20%20%20%20%20%20%7D%5Cn%20%20%20%20%20%20return%20false%3B%5Cn%20%20%20%20%7D)%3B%5Cn%5Cn%7D(this))%3B%5Cn%2F%2F----------------------------------------------------------------------%5Cn%2F%2F%5Cn%2F%2F%20ECMAScript%202017%20Polyfills%5Cn%2F%2F%5Cn%2F%2F----------------------------------------------------------------------%5Cn%5Cn(function%20(global)%20%7B%5Cn%20%20'use%20strict'%3B%5Cn%20%20var%20undefined%20%3D%20(void%200)%3B%20%2F%2F%20Paranoia%5Cn%5Cn%20%20%2F%2F%20Helpers%5Cn%5Cn%20%20function%20isSymbol(s)%20%7B%5Cn%20%20%20%20return%20(typeof%20s%20%3D%3D%3D%20'symbol')%20%7C%7C%20('Symbol'%20in%20global%20%26%26%20s%20instanceof%20global.Symbol)%3B%5Cn%20%20%7D%5Cn%5Cn%20%20function%20define(o%2C%20p%2C%20v%2C%20override)%20%7B%5Cn%20%20%20%20if%20(p%20in%20o%20%26%26%20!override)%5Cn%20%20%20%20%20%20return%3B%5Cn%5Cn%20%20%20%20if%20(typeof%20v%20%3D%3D%3D%20'function')%20%7B%5Cn%20%20%20%20%20%20%2F%2F%20Sanity%20check%20that%20functions%20are%20appropriately%20named%20(where%20possible)%5Cn%20%20%20%20%20%20console.assert(isSymbol(p)%20%7C%7C%20!('name'%20in%20v)%20%7C%7C%20v.name%20%3D%3D%3D%20p%20%7C%7C%20v.name%20%3D%3D%3D%20p%20%2B%20'_'%2C%20'Expected%20function%20name%20%5C%22'%20%2B%20p.toString()%20%2B%20'%5C%22%2C%20was%20%5C%22'%20%2B%20v.name%20%2B%20'%5C%22')%3B%5Cn%20%20%20%20%20%20Object.defineProperty(o%2C%20p%2C%20%7B%5Cn%20%20%20%20%20%20%20%20value%3A%20v%2C%5Cn%20%20%20%20%20%20%20%20configurable%3A%20true%2C%5Cn%20%20%20%20%20%20%20%20enumerable%3A%20false%2C%5Cn%20%20%20%20%20%20%20%20writable%3A%20true%5Cn%20%20%20%20%20%20%7D)%3B%5Cn%20%20%20%20%7D%20else%20%7B%5Cn%20%20%20%20%20%20Object.defineProperty(o%2C%20p%2C%20%7B%5Cn%20%20%20%20%20%20%20%20value%3A%20v%2C%5Cn%20%20%20%20%20%20%20%20configurable%3A%20false%2C%5Cn%20%20%20%20%20%20%20%20enumerable%3A%20false%2C%5Cn%20%20%20%20%20%20%20%20writable%3A%20false%5Cn%20%20%20%20%20%20%7D)%3B%5Cn%20%20%20%20%7D%5Cn%20%20%7D%5Cn%5Cn%20%20%2F%2F%20Snapshot%20intrinsic%20functions%5Cn%20%20var%20%24isNaN%20%3D%20global.isNaN%3B%5Cn%5Cn%20%20var%20abs%20%3D%20Math.abs%2C%5Cn%20%20%20%20%20%20floor%20%3D%20Math.floor%2C%5Cn%20%20%20%20%20%20min%20%3D%20Math.min%3B%5Cn%5Cn%20%20%2F%2F----------------------------------------%5Cn%20%20%2F%2F%207%20Abstract%20Operations%5Cn%20%20%2F%2F----------------------------------------%5Cn%5Cn%20%20%2F%2F%207.1.4%5Cn%20%20function%20ToInteger(n)%20%7B%5Cn%20%20%20%20n%20%3D%20Number(n)%3B%5Cn%20%20%20%20if%20(%24isNaN(n))%20return%200%3B%5Cn%20%20%20%20if%20(n%20%3D%3D%3D%200%20%7C%7C%20n%20%3D%3D%3D%20Infinity%20%7C%7C%20n%20%3D%3D%3D%20-Infinity)%20return%20n%3B%5Cn%20%20%20%20return%20((n%20%3C%200)%20%3F%20-1%20%3A%201)%20*%20floor(abs(n))%3B%5Cn%20%20%7D%5Cn%5Cn%20%20%2F%2F%207.1.13%20ToObject%5Cn%20%20function%20ToObject(v)%20%7B%5Cn%20%20%20%20if%20(v%20%3D%3D%3D%20null%20%7C%7C%20v%20%3D%3D%3D%20undefined)%20throw%20TypeError()%3B%5Cn%20%20%20%20return%20Object(v)%3B%5Cn%20%20%7D%5Cn%5Cn%20%20%2F%2F%207.1.15%20ToLength%20(%20argument%20)%5Cn%20%20function%20ToLength(v)%20%7B%5Cn%20%20%20%20var%20len%20%3D%20ToInteger(v)%3B%5Cn%20%20%20%20if%20(len%20%3C%3D%200)%20%7B%5Cn%20%20%20%20%20%20return%200%3B%5Cn%20%20%20%20%7D%5Cn%20%20%20%20return%20min(len%2C%200x20000000000000%20-%201)%3B%20%2F%2F%202%5E53-1%5Cn%20%20%7D%5Cn%5Cn%20%20%2F%2F----------------------------------------%5Cn%20%20%2F%2F%207.3%20Operations%20on%20Objects%5Cn%20%20%2F%2F----------------------------------------%5Cn%5Cn%20%20%2F%2F%207.3.4%5Cn%20%20function%20CreateDataProperty(O%2C%20P%2C%20V)%20%7B%5Cn%20%20%20%20Object.defineProperty(O%2C%20P%2C%20%7B%5Cn%20%20%20%20%20%20value%3A%20V%2C%5Cn%20%20%20%20%20%20writable%3A%20true%2C%5Cn%20%20%20%20%20%20enumerable%3A%20true%2C%5Cn%20%20%20%20%20%20configurable%3A%20true%5Cn%20%20%20%20%7D)%3B%5Cn%20%20%7D%5Cn%5Cn%20%20%2F%2F%207.3.21%5Cn%20%20function%20EnumerableOwnProperties(o%2C%20kind)%20%7B%5Cn%20%20%20%20var%20ownKeys%20%3D%20Object.keys(o)%3B%5Cn%20%20%20%20var%20properties%20%3D%20%5B%5D%3B%5Cn%20%20%20%20ownKeys.forEach(function(key)%20%7B%5Cn%20%20%20%20%20%20var%20desc%20%3D%20Object.getOwnPropertyDescriptor(o%2C%20key)%3B%5Cn%20%20%20%20%20%20if%20(desc%20%26%26%20desc.enumerable)%20%7B%5Cn%20%20%20%20%20%20%20%20if%20(kind%20%3D%3D%3D%20'key')%20properties.push(key)%3B%5Cn%20%20%20%20%20%20%20%20else%20%7B%5Cn%20%20%20%20%20%20%20%20%20%20var%20value%20%3D%20o%5Bkey%5D%3B%5Cn%20%20%20%20%20%20%20%20%20%20if%20(kind%20%3D%3D%3D%20'value')%20properties.push(value)%3B%5Cn%20%20%20%20%20%20%20%20%20%20else%20properties.push(%5Bkey%2C%20value%5D)%3B%5Cn%20%20%20%20%20%20%20%20%7D%5Cn%20%20%20%20%20%20%7D%5Cn%20%20%20%20%7D)%3B%5Cn%20%20%20%20return%20properties%3B%5Cn%20%20%7D%5Cn%5Cn%5Cn%20%20%2F%2F----------------------------------------------------------------------%5Cn%20%20%2F%2F%2019%20Fundamental%20Objects%5Cn%20%20%2F%2F----------------------------------------------------------------------%5Cn%5Cn%20%20%2F%2F%2019.1%20Object%20Objects%5Cn%20%20%2F%2F%2019.1.2%20Properties%20of%20the%20Object%20Constructor%5Cn%5Cn%20%20%2F%2F%2019.1.2.5%20Object.entries%5Cn%20%20define(%5Cn%20%20%20%20Object%2C%20'entries'%2C%5Cn%20%20%20%20function%20entries(o)%20%7B%5Cn%20%20%20%20%20%20var%20obj%20%3D%20ToObject(o)%3B%5Cn%20%20%20%20%20%20return%20EnumerableOwnProperties(obj%2C%20'key%2Bvalue')%3B%5Cn%20%20%20%20%7D)%3B%5Cn%5Cn%20%20%2F%2F%2019.1.2.8%20Object.getOwnPropertyDescriptors%20(%20O%20)%5Cn%20%20define(%5Cn%20%20%20%20Object%2C%20'getOwnPropertyDescriptors'%2C%5Cn%20%20%20%20function%20getOwnPropertyDescriptors(o)%20%7B%5Cn%20%20%20%20%20%20var%20obj%20%3D%20ToObject(o)%3B%5Cn%20%20%20%20%20%20%2F%2F%20ReturnIfAbrupt(obj)%5Cn%20%20%20%20%20%20var%20keys%20%3D%20Object.getOwnPropertyNames(obj)%3B%5Cn%20%20%20%20%20%20%2F%2F%20ReturnIfAbrupt(keys)%5Cn%20%20%20%20%20%20var%20descriptors%20%3D%20%7B%7D%3B%5Cn%20%20%20%20%20%20for%20(var%20i%20%3D%200%3B%20i%20%3C%20keys.length%3B%20%2B%2Bi)%20%7B%5Cn%20%20%20%20%20%20%20%20var%20nextKey%20%3D%20keys%5Bi%5D%3B%5Cn%20%20%20%20%20%20%20%20var%20descriptor%20%3D%20Object.getOwnPropertyDescriptor(obj%2C%20nextKey)%3B%5Cn%20%20%20%20%20%20%20%20%2F%2F%20ReturnIfAbrupt(desc)%5Cn%20%20%20%20%20%20%20%20%2F%2F%20ReturnIfAbrupt(descriptor)%5Cn%20%20%20%20%20%20%20%20CreateDataProperty(descriptors%2C%20nextKey%2C%20descriptor)%3B%5Cn%20%20%20%20%20%20%7D%5Cn%20%20%20%20%20%20return%20descriptors%3B%5Cn%20%20%20%20%7D)%3B%5Cn%5Cn%20%20%2F%2F%2019.1.2.21%20Object.values%5Cn%20%20define(%5Cn%20%20%20%20Object%2C%20'values'%2C%5Cn%20%20%20%20function%20values(o)%20%7B%5Cn%20%20%20%20%20%20var%20obj%20%3D%20ToObject(o)%3B%5Cn%20%20%20%20%20%20return%20EnumerableOwnProperties(obj%2C%20'value')%3B%5Cn%20%20%20%20%7D)%3B%5Cn%5Cn%5Cn%5Cn%20%20%2F%2F----------------------------------------------------------------------%5Cn%20%20%2F%2F%2021%20Text%20Processing%5Cn%20%20%2F%2F----------------------------------------------------------------------%5Cn%5Cn%20%20%2F%2F%2021.1%20String%20Objects%5Cn%20%20%2F%2F%2021.1.3%20Properties%20of%20the%20String%20Prototype%20Object%5Cn%5Cn%20%20%2F%2F%2021.1.3.13%20String.prototype.padEnd(%20maxLength%20%5B%20%2C%20fillString%20%5D%20)%5Cn%20%20define(%5Cn%20%20%20%20String.prototype%2C%20'padEnd'%2C%5Cn%20%20%20%20function%20padEnd(maxLength)%20%7B%5Cn%20%20%20%20%20%20var%20fillString%20%3D%20arguments%5B1%5D%3B%5Cn%5Cn%20%20%20%20%20%20var%20o%20%3D%20this%3B%5Cn%20%20%20%20%20%20%2F%2F%20ReturnIfAbrupt(o)%5Cn%20%20%20%20%20%20var%20s%20%3D%20String(this)%3B%5Cn%20%20%20%20%20%20%2F%2F%20ReturnIfAbrupt(s)%5Cn%20%20%20%20%20%20var%20stringLength%20%3D%20s.length%3B%5Cn%20%20%20%20%20%20if%20(fillString%20%3D%3D%3D%20undefined)%20var%20fillStr%20%3D%20''%3B%5Cn%20%20%20%20%20%20else%20fillStr%20%3D%20String(fillString)%3B%5Cn%20%20%20%20%20%20%2F%2F%20ReturnIfAbrupt(fillStr)%5Cn%20%20%20%20%20%20if%20(fillStr%20%3D%3D%3D%20'')%20fillStr%20%3D%20'%20'%3B%5Cn%20%20%20%20%20%20var%20intMaxLength%20%3D%20ToLength(maxLength)%3B%5Cn%20%20%20%20%20%20%2F%2F%20ReturnIfAbrupt(intMaxLength)%5Cn%20%20%20%20%20%20if%20(intMaxLength%20%3C%3D%20stringLength)%20return%20s%3B%5Cn%20%20%20%20%20%20var%20fillLen%20%3D%20intMaxLength%20-%20stringLength%3B%5Cn%20%20%20%20%20%20var%20stringFiller%20%3D%20''%3B%5Cn%20%20%20%20%20%20while%20(stringFiller.length%20%3C%20fillLen)%5Cn%20%20%20%20%20%20%20%20stringFiller%20%3D%20stringFiller%20%2B%20fillStr%3B%5Cn%20%20%20%20%20%20return%20s%20%2B%20stringFiller.substring(0%2C%20fillLen)%3B%5Cn%20%20%20%20%7D)%3B%5Cn%5Cn%20%20%2F%2F%2021.1.3.14%20String.prototype.padStart(%20maxLength%20%5B%20%2C%20fillString%20%5D%20)%5Cn%20%20define(%5Cn%20%20%20%20String.prototype%2C%20'padStart'%2C%5Cn%20%20%20%20function%20padStart(maxLength)%20%7B%5Cn%20%20%20%20%20%20var%20fillString%20%3D%20arguments%5B1%5D%3B%5Cn%5Cn%20%20%20%20%20%20var%20o%20%3D%20this%3B%5Cn%20%20%20%20%20%20%2F%2F%20ReturnIfAbrupt(o)%5Cn%20%20%20%20%20%20var%20s%20%3D%20String(this)%3B%5Cn%20%20%20%20%20%20%2F%2F%20ReturnIfAbrupt(s)%5Cn%20%20%20%20%20%20var%20stringLength%20%3D%20s.length%3B%5Cn%20%20%20%20%20%20if%20(fillString%20%3D%3D%3D%20undefined)%20var%20fillStr%20%3D%20''%3B%5Cn%20%20%20%20%20%20else%20fillStr%20%3D%20String(fillString)%3B%5Cn%20%20%20%20%20%20%2F%2F%20ReturnIfAbrupt(fillStr)%5Cn%20%20%20%20%20%20if%20(fillStr%20%3D%3D%3D%20'')%20fillStr%20%3D%20'%20'%3B%5Cn%20%20%20%20%20%20var%20intMaxLength%20%3D%20ToLength(maxLength)%3B%5Cn%20%20%20%20%20%20%2F%2F%20ReturnIfAbrupt(intMaxLength)%5Cn%20%20%20%20%20%20if%20(intMaxLength%20%3C%3D%20stringLength)%20return%20s%3B%5Cn%20%20%20%20%20%20var%20fillLen%20%3D%20intMaxLength%20-%20stringLength%3B%5Cn%20%20%20%20%20%20var%20stringFiller%20%3D%20''%3B%5Cn%20%20%20%20%20%20while%20(stringFiller.length%20%3C%20fillLen)%5Cn%20%20%20%20%20%20%20%20stringFiller%20%3D%20stringFiller%20%2B%20fillStr%3B%5Cn%20%20%20%20%20%20return%20stringFiller.substring(0%2C%20fillLen)%20%2B%20s%3B%5Cn%20%20%20%20%7D)%3B%5Cn%5Cn%7D(this))%3B%5Cn(function(global)%20%7B%5Cn%20%20'use%20strict'%3B%5Cn%5Cn%20%20if%20(!('window'%20in%20global%20%26%26%20'document'%20in%20global))%5Cn%20%20%20%20return%3B%5Cn%5Cn%20%20%2F%2F----------------------------------------------------------------------%5Cn%20%20%2F%2F%5Cn%20%20%2F%2F%20HTML%5Cn%20%20%2F%2F%20https%3A%2F%2Fhtml.spec.whatwg.org%5Cn%20%20%2F%2F%5Cn%20%20%2F%2F----------------------------------------------------------------------%5Cn%5Cn%20%20%2F%2F%20document.head%20attribute%5Cn%20%20%2F%2F%20Needed%20for%3A%20IE8-%5Cn%20%20if%20(!('head'%20in%20document))%5Cn%20%20%20%20document.head%20%3D%20document.getElementsByTagName('head')%5B0%5D%3B%5Cn%5Cn%20%20%2F%2F%20Ensure%20correct%20parsing%20of%20newish%20elements%20(%5C%22shiv%5C%22)%5Cn%20%20%2F%2F%20Needed%20for%3A%20IE8-%5Cn%20%20%5B%5Cn%20%20%20%20'abbr'%2C%20'article'%2C%20'aside'%2C%20'audio'%2C%20'bdi'%2C%20'canvas'%2C%20'data'%2C%20'datalist'%2C%5Cn%20%20%20%20'details'%2C%20'dialog'%2C%20'figcaption'%2C%20'figure'%2C%20'footer'%2C%20'header'%2C%20'hgroup'%2C%5Cn%20%20%20%20'main'%2C%20'mark'%2C%20'meter'%2C%20'nav'%2C%20'output'%2C%20'picture'%2C%20'progress'%2C%20'section'%2C%5Cn%20%20%20%20'summary'%2C%20'template'%2C%20'time'%2C%20'video'%5D.forEach(function(tag)%20%7B%5Cn%20%20%20%20%20document.createElement(tag)%3B%5Cn%20%20%20%7D)%3B%5Cn%5Cn%20%20%2F%2F%20HTMLElement.dataset%5Cn%20%20%2F%2F%20Needed%20for%3A%20IE10-%5Cn%20%20if%20(!('dataset'%20in%20document.createElement('span'))%20%26%26%5Cn%20%20%20%20%20%20'Element'%20in%20global%20%26%26%20Element.prototype%20%26%26%20Object.defineProperty)%20%7B%5Cn%20%20%20%20Object.defineProperty(Element.prototype%2C%20'dataset'%2C%20%7B%20get%3A%20function()%20%7B%5Cn%20%20%20%20%20%20var%20result%20%3D%20Object.create(null)%3B%5Cn%20%20%20%20%20%20for%20(var%20i%20%3D%200%3B%20i%20%3C%20this.attributes.length%3B%20%2B%2Bi)%20%7B%5Cn%20%20%20%20%20%20%20%20var%20attr%20%3D%20this.attributes%5Bi%5D%3B%5Cn%20%20%20%20%20%20%20%20if%20(attr.specified%20%26%26%20attr.name.substring(0%2C%205)%20%3D%3D%3D%20'data-')%20%7B%5Cn%20%20%20%20%20%20%20%20%20%20(function(element%2C%20name)%20%7B%5Cn%20%20%20%20%20%20%20%20%20%20%20%20var%20prop%20%3D%20name.replace(%2F-(%5Ba-z%5D)%2Fg%2C%20function(m%2C%20p)%20%7B%5Cn%20%20%20%20%20%20%20%20%20%20%20%20%20%20return%20p.toUpperCase()%3B%5Cn%20%20%20%20%20%20%20%20%20%20%20%20%7D)%3B%5Cn%20%20%20%20%20%20%20%20%20%20%20%20result%5Bprop%5D%20%3D%20element.getAttribute('data-'%20%2B%20name)%3B%20%2F%2F%20Read-only%2C%20for%20IE8-%5Cn%20%20%20%20%20%20%20%20%20%20%20%20Object.defineProperty(result%2C%20prop%2C%20%7B%5Cn%20%20%20%20%20%20%20%20%20%20%20%20%20%20get%3A%20function()%20%7B%5Cn%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20return%20element.getAttribute('data-'%20%2B%20name)%3B%5Cn%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%5Cn%20%20%20%20%20%20%20%20%20%20%20%20%20%20set%3A%20function(value)%20%7B%5Cn%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20element.setAttribute('data-'%20%2B%20name%2C%20value)%3B%5Cn%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%7D)%3B%5Cn%20%20%20%20%20%20%20%20%20%20%7D(this%2C%20attr.name.substring(5)))%3B%5Cn%20%20%20%20%20%20%20%20%7D%5Cn%20%20%20%20%20%20%7D%5Cn%20%20%20%20%20%20return%20result%3B%5Cn%20%20%20%20%7D%7D)%3B%5Cn%20%20%7D%5Cn%5Cn%20%20%2F%2F%20Base64%20utility%20methods%5Cn%20%20%2F%2F%20Needed%20for%3A%20IE9-%5Cn%20%20(function()%20%7B%5Cn%20%20%20%20if%20('atob'%20in%20global%20%26%26%20'btoa'%20in%20global)%5Cn%20%20%20%20%20%20return%3B%5Cn%5Cn%20%20%20%20var%20B64_ALPHABET%20%3D%20%5C%22ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789%2B%2F%3D%5C%22%3B%5Cn%20%20%20%20function%20atob(input)%20%7B%5Cn%20%20%20%20%20%20input%20%3D%20String(input)%3B%5Cn%20%20%20%20%20%20var%20position%20%3D%200%2C%5Cn%20%20%20%20%20%20%20%20%20%20output%20%3D%20%5B%5D%2C%5Cn%20%20%20%20%20%20%20%20%20%20buffer%20%3D%200%2C%20bits%20%3D%200%2C%20n%3B%5Cn%5Cn%20%20%20%20%20%20input%20%3D%20input.replace(%2F%5C%5Cs%2Fg%2C%20'')%3B%5Cn%20%20%20%20%20%20if%20((input.length%20%25%204)%20%3D%3D%3D%200)%20%7B%20input%20%3D%20input.replace(%2F%3D%2B%24%2F%2C%20'')%3B%20%7D%5Cn%20%20%20%20%20%20if%20((input.length%20%25%204)%20%3D%3D%3D%201)%20%7B%20throw%20Error(%5C%22InvalidCharacterError%5C%22)%3B%20%7D%5Cn%20%20%20%20%20%20if%20(%2F%5B%5E%2B%2F0-9A-Za-z%5D%2F.test(input))%20%7B%20throw%20Error(%5C%22InvalidCharacterError%5C%22)%3B%20%7D%5Cn%5Cn%20%20%20%20%20%20while%20(position%20%3C%20input.length)%20%7B%5Cn%20%20%20%20%20%20%20%20n%20%3D%20B64_ALPHABET.indexOf(input.charAt(position))%3B%5Cn%20%20%20%20%20%20%20%20buffer%20%3D%20(buffer%20%3C%3C%206)%20%7C%20n%3B%5Cn%20%20%20%20%20%20%20%20bits%20%2B%3D%206%3B%5Cn%5Cn%20%20%20%20%20%20%20%20if%20(bits%20%3D%3D%3D%2024)%20%7B%5Cn%20%20%20%20%20%20%20%20%20%20output.push(String.fromCharCode((buffer%20%3E%3E%2016)%20%26%200xFF))%3B%5Cn%20%20%20%20%20%20%20%20%20%20output.push(String.fromCharCode((buffer%20%3E%3E%20%208)%20%26%200xFF))%3B%5Cn%20%20%20%20%20%20%20%20%20%20output.push(String.fromCharCode(buffer%20%26%200xFF))%3B%5Cn%20%20%20%20%20%20%20%20%20%20bits%20%3D%200%3B%5Cn%20%20%20%20%20%20%20%20%20%20buffer%20%3D%200%3B%5Cn%20%20%20%20%20%20%20%20%7D%5Cn%20%20%20%20%20%20%20%20position%20%2B%3D%201%3B%5Cn%20%20%20%20%20%20%7D%5Cn%5Cn%20%20%20%20%20%20if%20(bits%20%3D%3D%3D%2012)%20%7B%5Cn%20%20%20%20%20%20%20%20buffer%20%3D%20buffer%20%3E%3E%204%3B%5Cn%20%20%20%20%20%20%20%20output.push(String.fromCharCode(buffer%20%26%200xFF))%3B%5Cn%20%20%20%20%20%20%7D%20else%20if%20(bits%20%3D%3D%3D%2018)%20%7B%5Cn%20%20%20%20%20%20%20%20buffer%20%3D%20buffer%20%3E%3E%202%3B%5Cn%20%20%20%20%20%20%20%20output.push(String.fromCharCode((buffer%20%3E%3E%208)%20%26%200xFF))%3B%5Cn%20%20%20%20%20%20%20%20output.push(String.fromCharCode(buffer%20%26%200xFF))%3B%5Cn%20%20%20%20%20%20%7D%5Cn%5Cn%20%20%20%20%20%20return%20output.join('')%3B%5Cn%20%20%20%20%7D%3B%5Cn%5Cn%20%20%20%20function%20btoa(input)%20%7B%5Cn%20%20%20%20%20%20input%20%3D%20String(input)%3B%5Cn%20%20%20%20%20%20var%20position%20%3D%200%2C%5Cn%20%20%20%20%20%20%20%20%20%20out%20%3D%20%5B%5D%2C%5Cn%20%20%20%20%20%20%20%20%20%20o1%2C%20o2%2C%20o3%2C%5Cn%20%20%20%20%20%20%20%20%20%20e1%2C%20e2%2C%20e3%2C%20e4%3B%5Cn%5Cn%20%20%20%20%20%20if%20(%2F%5B%5E%5C%5Cx00-%5C%5CxFF%5D%2F.test(input))%20%7B%20throw%20Error(%5C%22InvalidCharacterError%5C%22)%3B%20%7D%5Cn%5Cn%20%20%20%20%20%20while%20(position%20%3C%20input.length)%20%7B%5Cn%20%20%20%20%20%20%20%20o1%20%3D%20input.charCodeAt(position%2B%2B)%3B%5Cn%20%20%20%20%20%20%20%20o2%20%3D%20input.charCodeAt(position%2B%2B)%3B%5Cn%20%20%20%20%20%20%20%20o3%20%3D%20input.charCodeAt(position%2B%2B)%3B%5Cn%5Cn%20%20%20%20%20%20%20%20%2F%2F%20111111%20112222%20222233%20333333%5Cn%20%20%20%20%20%20%20%20e1%20%3D%20o1%20%3E%3E%202%3B%5Cn%20%20%20%20%20%20%20%20e2%20%3D%20((o1%20%26%200x3)%20%3C%3C%204)%20%7C%20(o2%20%3E%3E%204)%3B%5Cn%20%20%20%20%20%20%20%20e3%20%3D%20((o2%20%26%200xf)%20%3C%3C%202)%20%7C%20(o3%20%3E%3E%206)%3B%5Cn%20%20%20%20%20%20%20%20e4%20%3D%20o3%20%26%200x3f%3B%5Cn%5Cn%20%20%20%20%20%20%20%20if%20(position%20%3D%3D%3D%20input.length%20%2B%202)%20%7B%5Cn%20%20%20%20%20%20%20%20%20%20e3%20%3D%2064%3B%5Cn%20%20%20%20%20%20%20%20%20%20e4%20%3D%2064%3B%5Cn%20%20%20%20%20%20%20%20%7D%5Cn%20%20%20%20%20%20%20%20else%20if%20(position%20%3D%3D%3D%20input.length%20%2B%201)%20%7B%5Cn%20%20%20%20%20%20%20%20%20%20e4%20%3D%2064%3B%5Cn%20%20%20%20%20%20%20%20%7D%5Cn%5Cn%20%20%20%20%20%20%20%20out.push(B64_ALPHABET.charAt(e1)%2C%5Cn%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20B64_ALPHABET.charAt(e2)%2C%5Cn%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20B64_ALPHABET.charAt(e3)%2C%5Cn%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20B64_ALPHABET.charAt(e4))%3B%5Cn%20%20%20%20%20%20%7D%5Cn%5Cn%20%20%20%20%20%20return%20out.join('')%3B%5Cn%20%20%20%20%7D%3B%5Cn%5Cn%20%20%20%20global.atob%20%3D%20atob%3B%5Cn%20%20%20%20global.btoa%20%3D%20btoa%3B%5Cn%20%20%7D())%3B%5Cn%5Cn%20%20%2F%2F%20requestAnimationFrame%20-%20needed%20for%20IE9-%5Cn%20%20(function()%20%7B%5Cn%20%20%20%20if%20('requestAnimationFrame'%20in%20global)%5Cn%20%20%20%20%20%20return%3B%5Cn%5Cn%20%20%20%20var%20TARGET_FPS%20%3D%2060%2C%5Cn%20%20%20%20%20%20%20%20requests%20%3D%20Object.create(null)%2C%5Cn%20%20%20%20%20%20%20%20raf_handle%20%3D%200%2C%5Cn%20%20%20%20%20%20%20%20timeout_handle%20%3D%20-1%3B%5Cn%5Cn%20%20%20%20function%20isVisible(element)%20%7B%5Cn%20%20%20%20%20%20return%20element.offsetWidth%20%3E%200%20%26%26%20element.offsetHeight%20%3E%200%3B%5Cn%20%20%20%20%7D%5Cn%5Cn%20%20%20%20function%20onFrameTimer()%20%7B%5Cn%20%20%20%20%20%20var%20cur_requests%20%3D%20requests%3B%5Cn%20%20%20%20%20%20requests%20%3D%20Object.create(null)%3B%5Cn%20%20%20%20%20%20timeout_handle%20%3D%20-1%3B%5Cn%20%20%20%20%20%20Object.keys(cur_requests).forEach(function(id)%20%7B%5Cn%20%20%20%20%20%20%20%20var%20request%20%3D%20cur_requests%5Bid%5D%3B%5Cn%20%20%20%20%20%20%20%20if%20(!request.element%20%7C%7C%20isVisible(request.element))%5Cn%20%20%20%20%20%20%20%20%20%20request.callback(Date.now())%3B%5Cn%20%20%20%20%20%20%7D)%3B%5Cn%20%20%20%20%7D%5Cn%5Cn%20%20%20%20function%20requestAnimationFrame(callback%2C%20element)%20%7B%5Cn%20%20%20%20%20%20var%20cb_handle%20%3D%20%2B%2Braf_handle%3B%5Cn%20%20%20%20%20%20requests%5Bcb_handle%5D%20%3D%20%7Bcallback%3A%20callback%2C%20element%3A%20element%7D%3B%5Cn%20%20%20%20%20%20if%20(timeout_handle%20%3D%3D%3D%20-1)%5Cn%20%20%20%20%20%20%20%20timeout_handle%20%3D%20global.setTimeout(onFrameTimer%2C%201000%20%2F%20TARGET_FPS)%3B%5Cn%20%20%20%20%20%20return%20cb_handle%3B%5Cn%20%20%20%20%7D%5Cn%5Cn%20%20%20%20function%20cancelAnimationFrame(handle)%20%7B%5Cn%20%20%20%20%20%20delete%20requests%5Bhandle%5D%3B%5Cn%20%20%20%20%20%20if%20(Object.keys(requests).length%20%3D%3D%3D%200)%20%7B%5Cn%20%20%20%20%20%20%20%20global.clearTimeout(timeout_handle)%3B%5Cn%20%20%20%20%20%20%20%20timeout_handle%20%3D%20-1%3B%5Cn%20%20%20%20%20%20%7D%5Cn%20%20%20%20%7D%5Cn%5Cn%20%20%20%20global.requestAnimationFrame%20%3D%20requestAnimationFrame%3B%5Cn%20%20%20%20global.cancelAnimationFrame%20%3D%20cancelAnimationFrame%3B%5Cn%20%20%7D())%3B%5Cn%5Cn%7D(self))%3B%5Cn(function(global)%20%7B%5Cn%20%20'use%20strict'%3B%5Cn%20%20if%20(!('window'%20in%20global%20%26%26%20'document'%20in%20global))%5Cn%20%20%20%20return%3B%5Cn%5Cn%20%20%2F%2F----------------------------------------------------------------------%5Cn%20%20%2F%2F%5Cn%20%20%2F%2F%20DOM%5Cn%20%20%2F%2F%20https%3A%2F%2Fdom.spec.whatwg.org%2F%5Cn%20%20%2F%2F%5Cn%20%20%2F%2F----------------------------------------------------------------------%5Cn%5Cn%20%20%2F%2F%20Document.querySelectorAll%20method%5Cn%20%20%2F%2F%20http%3A%2F%2Fajaxian.com%2Farchives%2Fcreating-a-queryselector-for-ie-that-runs-at-native-speed%5Cn%20%20%2F%2F%20Needed%20for%3A%20IE7-%5Cn%20%20if%20(!document.querySelectorAll)%20%7B%5Cn%20%20%20%20document.querySelectorAll%20%3D%20function(selectors)%20%7B%5Cn%20%20%20%20%20%20var%20style%20%3D%20document.createElement('style')%2C%20elements%20%3D%20%5B%5D%2C%20element%3B%5Cn%20%20%20%20%20%20document.documentElement.firstChild.appendChild(style)%3B%5Cn%20%20%20%20%20%20document._qsa%20%3D%20%5B%5D%3B%5Cn%5Cn%20%20%20%20%20%20style.styleSheet.cssText%20%3D%20selectors%20%2B%20'%7Bx-qsa%3Aexpression(document._qsa%20%26%26%20document._qsa.push(this))%7D'%3B%5Cn%20%20%20%20%20%20window.scrollBy(0%2C%200)%3B%5Cn%20%20%20%20%20%20style.parentNode.removeChild(style)%3B%5Cn%5Cn%20%20%20%20%20%20while%20(document._qsa.length)%20%7B%5Cn%20%20%20%20%20%20%20%20element%20%3D%20document._qsa.shift()%3B%5Cn%20%20%20%20%20%20%20%20element.style.removeAttribute('x-qsa')%3B%5Cn%20%20%20%20%20%20%20%20elements.push(element)%3B%5Cn%20%20%20%20%20%20%7D%5Cn%20%20%20%20%20%20document._qsa%20%3D%20null%3B%5Cn%20%20%20%20%20%20return%20elements%3B%5Cn%20%20%20%20%7D%3B%5Cn%20%20%7D%5Cn%5Cn%20%20%2F%2F%20Document.querySelector%20method%5Cn%20%20%2F%2F%20Needed%20for%3A%20IE7-%5Cn%20%20if%20(!document.querySelector)%20%7B%5Cn%20%20%20%20document.querySelector%20%3D%20function(selectors)%20%7B%5Cn%20%20%20%20%20%20var%20elements%20%3D%20document.querySelectorAll(selectors)%3B%5Cn%20%20%20%20%20%20return%20(elements.length)%20%3F%20elements%5B0%5D%20%3A%20null%3B%5Cn%20%20%20%20%7D%3B%5Cn%20%20%7D%5Cn%5Cn%20%20%2F%2F%20Document.getElementsByClassName%20method%5Cn%20%20%2F%2F%20Needed%20for%3A%20IE8-%5Cn%20%20if%20(!document.getElementsByClassName)%20%7B%5Cn%20%20%20%20document.getElementsByClassName%20%3D%20function(classNames)%20%7B%5Cn%20%20%20%20%20%20classNames%20%3D%20String(classNames).replace(%2F%5E%7C%5C%5Cs%2B%2Fg%2C%20'.')%3B%5Cn%20%20%20%20%20%20return%20document.querySelectorAll(classNames)%3B%5Cn%20%20%20%20%7D%3B%5Cn%20%20%7D%5Cn%5Cn%20%20%2F%2F%20Node%20interface%20constants%5Cn%20%20%2F%2F%20Needed%20for%3A%20IE8-%5Cn%20%20global.Node%20%3D%20global.Node%20%7C%7C%20function()%20%7B%20throw%20TypeError(%5C%22Illegal%20constructor%5C%22)%3B%20%7D%3B%5Cn%20%20%5B%5Cn%20%20%20%20%5B'ELEMENT_NODE'%2C%201%5D%2C%5Cn%20%20%20%20%5B'ATTRIBUTE_NODE'%2C%202%5D%2C%5Cn%20%20%20%20%5B'TEXT_NODE'%2C%203%5D%2C%5Cn%20%20%20%20%5B'CDATA_SECTION_NODE'%2C%204%5D%2C%5Cn%20%20%20%20%5B'ENTITY_REFERENCE_NODE'%2C%205%5D%2C%5Cn%20%20%20%20%5B'ENTITY_NODE'%2C%206%5D%2C%5Cn%20%20%20%20%5B'PROCESSING_INSTRUCTION_NODE'%2C%207%5D%2C%5Cn%20%20%20%20%5B'COMMENT_NODE'%2C%208%5D%2C%5Cn%20%20%20%20%5B'DOCUMENT_NODE'%2C%209%5D%2C%5Cn%20%20%20%20%5B'DOCUMENT_TYPE_NODE'%2C%2010%5D%2C%5Cn%20%20%20%20%5B'DOCUMENT_FRAGMENT_NODE'%2C%2011%5D%2C%5Cn%20%20%20%20%5B'NOTATION_NODE'%2C%2012%5D%5Cn%20%20%5D.forEach(function(p)%20%7B%20if%20(!(p%5B0%5D%20in%20global.Node))%20global.Node%5Bp%5B0%5D%5D%20%3D%20p%5B1%5D%3B%20%7D)%3B%5Cn%5Cn%20%20%2F%2F%20DOMException%20constants%5Cn%20%20%2F%2F%20Needed%20for%3A%20IE8-%5Cn%20%20global.DOMException%20%3D%20global.DOMException%20%7C%7C%20function()%20%7B%20throw%20TypeError(%5C%22Illegal%20constructor%5C%22)%3B%20%7D%3B%5Cn%20%20%5B%5Cn%20%20%20%20%5B'INDEX_SIZE_ERR'%2C%201%5D%2C%5Cn%20%20%20%20%5B'DOMSTRING_SIZE_ERR'%2C%202%5D%2C%5Cn%20%20%20%20%5B'HIERARCHY_REQUEST_ERR'%2C%203%5D%2C%5Cn%20%20%20%20%5B'WRONG_DOCUMENT_ERR'%2C%204%5D%2C%5Cn%20%20%20%20%5B'INVALID_CHARACTER_ERR'%2C%205%5D%2C%5Cn%20%20%20%20%5B'NO_DATA_ALLOWED_ERR'%2C%206%5D%2C%5Cn%20%20%20%20%5B'NO_MODIFICATION_ALLOWED_ERR'%2C%207%5D%2C%5Cn%20%20%20%20%5B'NOT_FOUND_ERR'%2C%208%5D%2C%5Cn%20%20%20%20%5B'NOT_SUPPORTED_ERR'%2C%209%5D%2C%5Cn%20%20%20%20%5B'INUSE_ATTRIBUTE_ERR'%2C%2010%5D%2C%5Cn%20%20%20%20%5B'INVALID_STATE_ERR'%2C%2011%5D%2C%5Cn%20%20%20%20%5B'SYNTAX_ERR'%2C%2012%5D%2C%5Cn%20%20%20%20%5B'INVALID_MODIFICATION_ERR'%2C%2013%5D%2C%5Cn%20%20%20%20%5B'NAMESPACE_ERR'%2C%2014%5D%2C%5Cn%20%20%20%20%5B'INVALID_ACCESS_ERR'%2C%2015%5D%5Cn%20%20%5D.forEach(function(p)%20%7B%20if%20(!(p%5B0%5D%20in%20global.DOMException))%20global.DOMException%5Bp%5B0%5D%5D%20%3D%20p%5B1%5D%3B%20%7D)%3B%5Cn%5Cn%20%20%2F%2F%20Event%20and%20EventTargets%20interfaces%5Cn%20%20%2F%2F%20Needed%20for%3A%20IE8%5Cn%20%20(function()%7B%5Cn%20%20%20%20if%20(!('Element'%20in%20global)%20%7C%7C%20Element.prototype.addEventListener%20%7C%7C%20!Object.defineProperty)%5Cn%20%20%20%20%20%20return%3B%5Cn%5Cn%20%20%20%20%2F%2F%20interface%20Event%5Cn%5Cn%20%20%20%20%2F%2F%20PhaseType%20(const%20unsigned%20short)%5Cn%20%20%20%20Event.CAPTURING_PHASE%20%3D%201%3B%5Cn%20%20%20%20Event.AT_TARGET%20%20%20%20%20%20%20%3D%202%3B%5Cn%20%20%20%20Event.BUBBLING_PHASE%20%20%3D%203%3B%5Cn%5Cn%20%20%20%20Object.defineProperties(Event.prototype%2C%20%7B%5Cn%20%20%20%20%20%20CAPTURING_PHASE%3A%20%7B%20get%3A%20function()%20%7B%20return%201%3B%20%7D%20%7D%2C%5Cn%20%20%20%20%20%20AT_TARGET%3A%20%20%20%20%20%20%20%7B%20get%3A%20function()%20%7B%20return%202%3B%20%7D%20%7D%2C%5Cn%20%20%20%20%20%20BUBBLING_PHASE%3A%20%20%20%7B%20get%3A%20function()%20%7B%20return%203%3B%20%7D%20%7D%2C%5Cn%20%20%20%20%20%20target%3A%20%7B%5Cn%20%20%20%20%20%20%20%20get%3A%20function()%20%7B%5Cn%20%20%20%20%20%20%20%20%20%20return%20this.srcElement%3B%5Cn%20%20%20%20%20%20%20%20%7D%7D%2C%5Cn%20%20%20%20%20%20currentTarget%3A%20%7B%5Cn%20%20%20%20%20%20%20%20get%3A%20function()%20%7B%5Cn%20%20%20%20%20%20%20%20%20%20return%20this._currentTarget%3B%5Cn%20%20%20%20%20%20%20%20%7D%7D%2C%5Cn%20%20%20%20%20%20eventPhase%3A%20%7B%5Cn%20%20%20%20%20%20%20%20get%3A%20function()%20%7B%5Cn%20%20%20%20%20%20%20%20%20%20return%20(this.srcElement%20%3D%3D%3D%20this.currentTarget)%20%3F%20Event.AT_TARGET%20%3A%20Event.BUBBLING_PHASE%3B%5Cn%20%20%20%20%20%20%20%20%7D%7D%2C%5Cn%20%20%20%20%20%20bubbles%3A%20%7B%5Cn%20%20%20%20%20%20%20%20get%3A%20function()%20%7B%5Cn%20%20%20%20%20%20%20%20%20%20switch%20(this.type)%20%7B%5Cn%20%20%20%20%20%20%20%20%20%20%20%20%2F%2F%20Mouse%5Cn%20%20%20%20%20%20%20%20%20%20case%20'click'%3A%5Cn%20%20%20%20%20%20%20%20%20%20case%20'dblclick'%3A%5Cn%20%20%20%20%20%20%20%20%20%20case%20'mousedown'%3A%5Cn%20%20%20%20%20%20%20%20%20%20case%20'mouseup'%3A%5Cn%20%20%20%20%20%20%20%20%20%20case%20'mouseover'%3A%5Cn%20%20%20%20%20%20%20%20%20%20case%20'mousemove'%3A%5Cn%20%20%20%20%20%20%20%20%20%20case%20'mouseout'%3A%5Cn%20%20%20%20%20%20%20%20%20%20case%20'mousewheel'%3A%5Cn%20%20%20%20%20%20%20%20%20%20%20%20%2F%2F%20Keyboard%5Cn%20%20%20%20%20%20%20%20%20%20case%20'keydown'%3A%5Cn%20%20%20%20%20%20%20%20%20%20case%20'keypress'%3A%5Cn%20%20%20%20%20%20%20%20%20%20case%20'keyup'%3A%5Cn%20%20%20%20%20%20%20%20%20%20%20%20%2F%2F%20Frame%2FObject%5Cn%20%20%20%20%20%20%20%20%20%20case%20'resize'%3A%5Cn%20%20%20%20%20%20%20%20%20%20case%20'scroll'%3A%5Cn%20%20%20%20%20%20%20%20%20%20%20%20%2F%2F%20Form%5Cn%20%20%20%20%20%20%20%20%20%20case%20'select'%3A%5Cn%20%20%20%20%20%20%20%20%20%20case%20'change'%3A%5Cn%20%20%20%20%20%20%20%20%20%20case%20'submit'%3A%5Cn%20%20%20%20%20%20%20%20%20%20case%20'reset'%3A%5Cn%20%20%20%20%20%20%20%20%20%20%20%20return%20true%3B%5Cn%20%20%20%20%20%20%20%20%20%20%7D%5Cn%20%20%20%20%20%20%20%20%20%20return%20false%3B%5Cn%20%20%20%20%20%20%20%20%7D%7D%2C%5Cn%20%20%20%20%20%20cancelable%3A%20%7B%5Cn%20%20%20%20%20%20%20%20get%3A%20function()%20%7B%5Cn%20%20%20%20%20%20%20%20%20%20switch%20(this.type)%20%7B%5Cn%20%20%20%20%20%20%20%20%20%20%20%20%2F%2F%20Mouse%5Cn%20%20%20%20%20%20%20%20%20%20case%20'click'%3A%5Cn%20%20%20%20%20%20%20%20%20%20case%20'dblclick'%3A%5Cn%20%20%20%20%20%20%20%20%20%20case%20'mousedown'%3A%5Cn%20%20%20%20%20%20%20%20%20%20case%20'mouseup'%3A%5Cn%20%20%20%20%20%20%20%20%20%20case%20'mouseover'%3A%5Cn%20%20%20%20%20%20%20%20%20%20case%20'mouseout'%3A%5Cn%20%20%20%20%20%20%20%20%20%20case%20'mousewheel'%3A%5Cn%20%20%20%20%20%20%20%20%20%20%20%20%2F%2F%20Keyboard%5Cn%20%20%20%20%20%20%20%20%20%20case%20'keydown'%3A%5Cn%20%20%20%20%20%20%20%20%20%20case%20'keypress'%3A%5Cn%20%20%20%20%20%20%20%20%20%20case%20'keyup'%3A%5Cn%20%20%20%20%20%20%20%20%20%20%20%20%2F%2F%20Form%5Cn%20%20%20%20%20%20%20%20%20%20case%20'submit'%3A%5Cn%20%20%20%20%20%20%20%20%20%20%20%20return%20true%3B%5Cn%20%20%20%20%20%20%20%20%20%20%7D%5Cn%20%20%20%20%20%20%20%20%20%20return%20false%3B%5Cn%20%20%20%20%20%20%20%20%7D%7D%2C%5Cn%20%20%20%20%20%20timeStamp%3A%20%7B%5Cn%20%20%20%20%20%20%20%20get%3A%20function()%20%7B%5Cn%20%20%20%20%20%20%20%20%20%20return%20this._timeStamp%3B%5Cn%20%20%20%20%20%20%20%20%7D%7D%2C%5Cn%20%20%20%20%20%20stopPropagation%3A%20%7B%5Cn%20%20%20%20%20%20%20%20value%3A%20function()%20%7B%5Cn%20%20%20%20%20%20%20%20%20%20this.cancelBubble%20%3D%20true%3B%5Cn%20%20%20%20%20%20%20%20%7D%7D%2C%5Cn%20%20%20%20%20%20preventDefault%3A%20%7B%5Cn%20%20%20%20%20%20%20%20value%3A%20function()%20%7B%5Cn%20%20%20%20%20%20%20%20%20%20this.returnValue%20%3D%20false%3B%5Cn%20%20%20%20%20%20%20%20%7D%7D%2C%5Cn%20%20%20%20%20%20defaultPrevented%3A%20%7B%5Cn%20%20%20%20%20%20%20%20get%3A%20function()%20%7B%5Cn%20%20%20%20%20%20%20%20%20%20return%20this.returnValue%20%3D%3D%3D%20false%3B%5Cn%20%20%20%20%20%20%20%20%7D%7D%5Cn%20%20%20%20%7D)%3B%5Cn%5Cn%20%20%20%20%2F%2F%20interface%20EventTarget%5Cn%5Cn%20%20%20%20function%20addEventListener(type%2C%20listener%2C%20useCapture)%20%7B%5Cn%20%20%20%20%20%20if%20(typeof%20listener%20!%3D%3D%20'function')%20return%3B%5Cn%20%20%20%20%20%20if%20(type%20%3D%3D%3D%20'DOMContentLoaded')%20type%20%3D%20'load'%3B%5Cn%20%20%20%20%20%20var%20target%20%3D%20this%3B%5Cn%20%20%20%20%20%20var%20f%20%3D%20function(e)%20%7B%5Cn%20%20%20%20%20%20%20%20e._timeStamp%20%3D%20Date.now()%3B%5Cn%20%20%20%20%20%20%20%20e._currentTarget%20%3D%20target%3B%5Cn%20%20%20%20%20%20%20%20listener.call(this%2C%20e)%3B%5Cn%20%20%20%20%20%20%20%20e._currentTarget%20%3D%20null%3B%5Cn%20%20%20%20%20%20%7D%3B%5Cn%20%20%20%20%20%20this%5B'_'%20%2B%20type%20%2B%20listener%5D%20%3D%20f%3B%5Cn%20%20%20%20%20%20this.attachEvent('on'%20%2B%20type%2C%20f)%3B%5Cn%20%20%20%20%7D%5Cn%5Cn%20%20%20%20function%20removeEventListener(type%2C%20listener%2C%20useCapture)%20%7B%5Cn%20%20%20%20%20%20if%20(typeof%20listener%20!%3D%3D%20'function')%20return%3B%5Cn%20%20%20%20%20%20if%20(type%20%3D%3D%3D%20'DOMContentLoaded')%20type%20%3D%20'load'%3B%5Cn%20%20%20%20%20%20var%20f%20%3D%20this%5B'_'%20%2B%20type%20%2B%20listener%5D%3B%5Cn%20%20%20%20%20%20if%20(f)%20%7B%5Cn%20%20%20%20%20%20%20%20this.detachEvent('on'%20%2B%20type%2C%20f)%3B%5Cn%20%20%20%20%20%20%20%20this%5B'_'%20%2B%20type%20%2B%20listener%5D%20%3D%20null%3B%5Cn%20%20%20%20%20%20%7D%5Cn%20%20%20%20%7D%5Cn%5Cn%20%20%20%20%5BWindow%2C%20HTMLDocument%2C%20Element%5D.forEach(function(o)%20%7B%5Cn%20%20%20%20%20%20o.prototype.addEventListener%20%3D%20addEventListener%3B%5Cn%20%20%20%20%20%20o.prototype.removeEventListener%20%3D%20removeEventListener%3B%5Cn%20%20%20%20%7D)%3B%5Cn%20%20%7D())%3B%5Cn%5Cn%20%20%2F%2F%20CustomEvent%5Cn%20%20%2F%2F%20https%3A%2F%2Fdeveloper.mozilla.org%2Fen-US%2Fdocs%2FWeb%2FAPI%2FCustomEvent%2FCustomEvent%5Cn%20%20%2F%2F%20Needed%20for%3A%20IE%5Cn%20%20(function%20()%20%7B%5Cn%20%20%20%20if%20('CustomEvent'%20in%20global%20%26%26%20typeof%20global.CustomEvent%20%3D%3D%3D%20%5C%22function%5C%22)%5Cn%20%20%20%20%20%20return%3B%5Cn%20%20%20%20function%20CustomEvent%20(%20event%2C%20params%20)%20%7B%5Cn%20%20%20%20%20%20params%20%3D%20params%20%7C%7C%20%7B%20bubbles%3A%20false%2C%20cancelable%3A%20false%2C%20detail%3A%20undefined%20%7D%3B%5Cn%20%20%20%20%20%20var%20evt%20%3D%20document.createEvent(%20'CustomEvent'%20)%3B%5Cn%20%20%20%20%20%20evt.initCustomEvent(%20event%2C%20params.bubbles%2C%20params.cancelable%2C%20params.detail%20)%3B%5Cn%20%20%20%20%20%20return%20evt%3B%5Cn%20%20%20%20%7D%5Cn%20%20%20%20CustomEvent.prototype%20%3D%20global.Event.prototype%3B%5Cn%20%20%20%20global.CustomEvent%20%3D%20CustomEvent%3B%5Cn%20%20%7D)()%3B%5Cn%5Cn%20%20%2F%2F%20Shim%20for%20DOM%20Events%20for%20IE7-%5Cn%20%20%2F%2F%20http%3A%2F%2Fwww.quirksmode.org%2Fblog%2Farchives%2F2005%2F10%2F_and_the_winner_1.html%5Cn%20%20%2F%2F%20Use%20addEvent(object%2C%20event%2C%20handler)%20instead%20of%20object.addEventListener(event%2C%20handler)%5Cn%20%20window.addEvent%20%3D%20function(obj%2C%20type%2C%20fn)%20%7B%5Cn%20%20%20%20if%20(obj.addEventListener)%20%7B%5Cn%20%20%20%20%20%20obj.addEventListener(type%2C%20fn%2C%20false)%3B%5Cn%20%20%20%20%7D%20else%20if%20(obj.attachEvent)%20%7B%5Cn%20%20%20%20%20%20obj%5B%5C%22e%5C%22%20%2B%20type%20%2B%20fn%5D%20%3D%20fn%3B%5Cn%20%20%20%20%20%20obj%5Btype%20%2B%20fn%5D%20%3D%20function()%20%7B%5Cn%20%20%20%20%20%20%20%20var%20e%20%3D%20window.event%3B%5Cn%20%20%20%20%20%20%20%20e.currentTarget%20%3D%20obj%3B%5Cn%20%20%20%20%20%20%20%20e.preventDefault%20%3D%20function()%20%7B%20e.returnValue%20%3D%20false%3B%20%7D%3B%5Cn%20%20%20%20%20%20%20%20e.stopPropagation%20%3D%20function()%20%7B%20e.cancelBubble%20%3D%20true%3B%20%7D%3B%5Cn%20%20%20%20%20%20%20%20e.target%20%3D%20e.srcElement%3B%5Cn%20%20%20%20%20%20%20%20e.timeStamp%20%3D%20Date.now()%3B%5Cn%20%20%20%20%20%20%20%20obj%5B%5C%22e%5C%22%20%2B%20type%20%2B%20fn%5D.call(this%2C%20e)%3B%5Cn%20%20%20%20%20%20%7D%3B%5Cn%20%20%20%20%20%20obj.attachEvent(%5C%22on%5C%22%20%2B%20type%2C%20obj%5Btype%20%2B%20fn%5D)%3B%5Cn%20%20%20%20%7D%5Cn%20%20%7D%3B%5Cn%5Cn%20%20window.removeEvent%20%3D%20function(obj%2C%20type%2C%20fn)%20%7B%5Cn%20%20%20%20if%20(obj.removeEventListener)%20%7B%5Cn%20%20%20%20%20%20obj.removeEventListener(type%2C%20fn%2C%20false)%3B%5Cn%20%20%20%20%7D%20else%20if%20(obj.detachEvent)%20%7B%5Cn%20%20%20%20%20%20obj.detachEvent(%5C%22on%5C%22%20%2B%20type%2C%20obj%5Btype%20%2B%20fn%5D)%3B%5Cn%20%20%20%20%20%20obj%5Btype%20%2B%20fn%5D%20%3D%20null%3B%5Cn%20%20%20%20%20%20obj%5B%5C%22e%5C%22%20%2B%20type%20%2B%20fn%5D%20%3D%20null%3B%5Cn%20%20%20%20%7D%5Cn%20%20%7D%3B%5Cn%5Cn%5Cn%20%20function%20addToElementPrototype(p%2C%20f)%20%7B%5Cn%20%20%20%20if%20('Element'%20in%20global%20%26%26%20Element.prototype%20%26%26%20Object.defineProperty)%20%7B%5Cn%20%20%20%20%20%20Object.defineProperty(Element.prototype%2C%20p%2C%20%7B%20get%3A%20f%20%7D)%3B%5Cn%20%20%20%20%7D%5Cn%20%20%7D%5Cn%5Cn%20%20%2F%2F%20DOMTokenList%20interface%20and%20Element.classList%20%2F%20Element.relList%5Cn%20%20%2F%2F%20Needed%20for%3A%20IE9-%5Cn%20%20%2F%2F%20Use%20getClassList(elem)%20instead%20of%20elem.classList()%20if%20IE7-%20support%20is%20needed%5Cn%20%20%2F%2F%20Use%20getRelList(elem)%20instead%20of%20elem.relList()%20if%20IE7-%20support%20is%20needed%5Cn%20%20(function()%20%7B%5Cn%20%20%20%20function%20DOMTokenListShim(o%2C%20p)%20%7B%5Cn%20%20%20%20%20%20function%20split(s)%20%7B%20return%20s.length%20%3F%20s.split(%2F%5C%5Cs%2B%2Fg)%20%3A%20%5B%5D%3B%20%7D%5Cn%5Cn%20%20%20%20%20%20%2F%2F%20NOTE%3A%20This%20does%20not%20exactly%20match%20the%20spec.%5Cn%20%20%20%20%20%20function%20removeTokenFromString(token%2C%20string)%20%7B%5Cn%20%20%20%20%20%20%20%20var%20tokens%20%3D%20split(string)%2C%5Cn%20%20%20%20%20%20%20%20%20%20%20%20index%20%3D%20tokens.indexOf(token)%3B%5Cn%20%20%20%20%20%20%20%20if%20(index%20!%3D%3D%20-1)%20%7B%5Cn%20%20%20%20%20%20%20%20%20%20tokens.splice(index%2C%201)%3B%5Cn%20%20%20%20%20%20%20%20%7D%5Cn%20%20%20%20%20%20%20%20return%20tokens.join('%20')%3B%5Cn%20%20%20%20%20%20%7D%5Cn%5Cn%20%20%20%20%20%20Object.defineProperties(%5Cn%20%20%20%20%20%20%20%20this%2C%5Cn%20%20%20%20%20%20%20%20%7B%5Cn%20%20%20%20%20%20%20%20%20%20length%3A%20%7B%5Cn%20%20%20%20%20%20%20%20%20%20%20%20get%3A%20function()%20%7B%20return%20split(o%5Bp%5D).length%3B%20%7D%5Cn%20%20%20%20%20%20%20%20%20%20%7D%2C%5Cn%5Cn%20%20%20%20%20%20%20%20%20%20item%3A%20%7B%5Cn%20%20%20%20%20%20%20%20%20%20%20%20value%3A%20function(idx)%20%7B%5Cn%20%20%20%20%20%20%20%20%20%20%20%20%20%20var%20tokens%20%3D%20split(o%5Bp%5D)%3B%5Cn%20%20%20%20%20%20%20%20%20%20%20%20%20%20return%200%20%3C%3D%20idx%20%26%26%20idx%20%3C%20tokens.length%20%3F%20tokens%5Bidx%5D%20%3A%20null%3B%5Cn%20%20%20%20%20%20%20%20%20%20%20%20%7D%5Cn%20%20%20%20%20%20%20%20%20%20%7D%2C%5Cn%5Cn%20%20%20%20%20%20%20%20%20%20contains%3A%20%7B%5Cn%20%20%20%20%20%20%20%20%20%20%20%20value%3A%20function(token)%20%7B%5Cn%20%20%20%20%20%20%20%20%20%20%20%20%20%20token%20%3D%20String(token)%3B%5Cn%20%20%20%20%20%20%20%20%20%20%20%20%20%20var%20tokens%20%3D%20split(o%5Bp%5D)%3B%5Cn%5Cn%20%20%20%20%20%20%20%20%20%20%20%20%20%20return%20tokens.indexOf(token)%20!%3D%3D%20-1%3B%5Cn%20%20%20%20%20%20%20%20%20%20%20%20%7D%5Cn%20%20%20%20%20%20%20%20%20%20%7D%2C%5Cn%5Cn%20%20%20%20%20%20%20%20%20%20add%3A%20%7B%5Cn%20%20%20%20%20%20%20%20%20%20%20%20value%3A%20function(%2F*tokens...*%2F)%20%7B%5Cn%20%20%20%20%20%20%20%20%20%20%20%20%20%20var%20tokens%20%3D%20Array.prototype.slice.call(arguments).map(String)%3B%5Cn%20%20%20%20%20%20%20%20%20%20%20%20%20%20if%20(tokens.some(function(token)%20%7B%20return%20token.length%20%3D%3D%3D%200%3B%20%7D))%20%7B%5Cn%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20throw%20SyntaxError()%3B%5Cn%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%5Cn%20%20%20%20%20%20%20%20%20%20%20%20%20%20if%20(tokens.some(function(token)%20%7B%20return%20(%2F%5C%5Cs%2F).test(token)%3B%20%7D))%20%7B%5Cn%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20throw%20Error(%5C%22InvalidCharacterError%5C%22)%3B%5Cn%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%5Cn%5Cn%20%20%20%20%20%20%20%20%20%20%20%20%20%20try%20%7B%5Cn%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20var%20underlying_string%20%3D%20o%5Bp%5D%3B%5Cn%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20var%20token_list%20%3D%20split(underlying_string)%3B%5Cn%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20tokens%20%3D%20tokens.filter(function(token)%20%7B%20return%20token_list.indexOf(token)%20%3D%3D%3D%20-1%3B%20%7D)%3B%5Cn%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20if%20(tokens.length%20%3D%3D%3D%200)%20%7B%5Cn%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20return%3B%5Cn%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%5Cn%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20if%20(underlying_string.length%20!%3D%3D%200%20%26%26%20!(%2F%5C%5Cs%24%2F).test(underlying_string))%20%7B%5Cn%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20underlying_string%20%2B%3D%20'%20'%3B%5Cn%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%5Cn%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20underlying_string%20%2B%3D%20tokens.join('%20')%3B%5Cn%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20o%5Bp%5D%20%3D%20underlying_string%3B%5Cn%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%20finally%20%7B%5Cn%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20var%20length%20%3D%20split(o%5Bp%5D).length%3B%5Cn%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20if%20(this.length%20!%3D%3D%20length)%20%7B%20this.length%20%3D%20length%3B%20%7D%5Cn%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%5Cn%20%20%20%20%20%20%20%20%20%20%20%20%7D%5Cn%20%20%20%20%20%20%20%20%20%20%7D%2C%5Cn%5Cn%20%20%20%20%20%20%20%20%20%20remove%3A%20%7B%5Cn%20%20%20%20%20%20%20%20%20%20%20%20value%3A%20function(%2F*tokens...*%2F)%20%7B%5Cn%20%20%20%20%20%20%20%20%20%20%20%20%20%20var%20tokens%20%3D%20Array.prototype.slice.call(arguments).map(String)%3B%5Cn%20%20%20%20%20%20%20%20%20%20%20%20%20%20if%20(tokens.some(function(token)%20%7B%20return%20token.length%20%3D%3D%3D%200%3B%20%7D))%20%7B%5Cn%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20throw%20SyntaxError()%3B%5Cn%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%5Cn%20%20%20%20%20%20%20%20%20%20%20%20%20%20if%20(tokens.some(function(token)%20%7B%20return%20(%2F%5C%5Cs%2F).test(token)%3B%20%7D))%20%7B%5Cn%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20throw%20Error(%5C%22InvalidCharacterError%5C%22)%3B%5Cn%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%5Cn%5Cn%20%20%20%20%20%20%20%20%20%20%20%20%20%20try%20%7B%5Cn%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20var%20underlying_string%20%3D%20o%5Bp%5D%3B%5Cn%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20tokens.forEach(function(token)%20%7B%5Cn%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20underlying_string%20%3D%20removeTokenFromString(token%2C%20underlying_string)%3B%5Cn%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D)%3B%5Cn%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20o%5Bp%5D%20%3D%20underlying_string%3B%5Cn%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%20finally%20%7B%5Cn%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20var%20length%20%3D%20split(o%5Bp%5D).length%3B%5Cn%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20if%20(this.length%20!%3D%3D%20length)%20%7B%20this.length%20%3D%20length%3B%20%7D%5Cn%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%5Cn%20%20%20%20%20%20%20%20%20%20%20%20%7D%5Cn%20%20%20%20%20%20%20%20%20%20%7D%2C%5Cn%5Cn%20%20%20%20%20%20%20%20%20%20toggle%3A%20%7B%5Cn%20%20%20%20%20%20%20%20%20%20%20%20value%3A%20function(token%2F*%2C%20force*%2F)%20%7B%5Cn%20%20%20%20%20%20%20%20%20%20%20%20%20%20var%20force%20%3D%20arguments%5B1%5D%3B%5Cn%20%20%20%20%20%20%20%20%20%20%20%20%20%20try%20%7B%5Cn%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20token%20%3D%20String(token)%3B%5Cn%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20if%20(token.length%20%3D%3D%3D%200)%20%7B%20throw%20SyntaxError()%3B%20%7D%5Cn%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20if%20(%2F%5C%5Cs%2F.test(token))%20%7B%20throw%20Error(%5C%22InvalidCharacterError%5C%22)%3B%20%7D%5Cn%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20var%20tokens%20%3D%20split(o%5Bp%5D)%2C%5Cn%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20index%20%3D%20tokens.indexOf(token)%3B%5Cn%5Cn%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20if%20(index%20!%3D%3D%20-1%20%26%26%20(!force%20%7C%7C%20force%20%3D%3D%3D%20(void%200)))%20%7B%5Cn%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20o%5Bp%5D%20%3D%20removeTokenFromString(token%2C%20o%5Bp%5D)%3B%5Cn%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20return%20false%3B%5Cn%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%5Cn%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20if%20(index%20!%3D%3D%20-1%20%26%26%20force)%20%7B%5Cn%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20return%20true%3B%5Cn%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%5Cn%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20var%20underlying_string%20%3D%20o%5Bp%5D%3B%5Cn%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20if%20(underlying_string.length%20!%3D%3D%200%20%26%26%20!%2F%5C%5Cs%24%2F.test(underlying_string))%20%7B%5Cn%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20underlying_string%20%2B%3D%20'%20'%3B%5Cn%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%5Cn%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20underlying_string%20%2B%3D%20token%3B%5Cn%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20o%5Bp%5D%20%3D%20underlying_string%3B%5Cn%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20return%20true%3B%5Cn%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%20finally%20%7B%5Cn%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20var%20length%20%3D%20split(o%5Bp%5D).length%3B%5Cn%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20if%20(this.length%20!%3D%3D%20length)%20%7B%20this.length%20%3D%20length%3B%20%7D%5Cn%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%5Cn%20%20%20%20%20%20%20%20%20%20%20%20%7D%5Cn%20%20%20%20%20%20%20%20%20%20%7D%2C%5Cn%5Cn%20%20%20%20%20%20%20%20%20%20toString%3A%20%7B%5Cn%20%20%20%20%20%20%20%20%20%20%20%20value%3A%20function()%20%7B%5Cn%20%20%20%20%20%20%20%20%20%20%20%20%20%20return%20o%5Bp%5D%3B%5Cn%20%20%20%20%20%20%20%20%20%20%20%20%7D%5Cn%20%20%20%20%20%20%20%20%20%20%7D%5Cn%20%20%20%20%20%20%20%20%7D)%3B%5Cn%20%20%20%20%20%20if%20(!('length'%20in%20this))%20%7B%5Cn%20%20%20%20%20%20%20%20%2F%2F%20In%20case%20getters%20are%20not%20supported%5Cn%20%20%20%20%20%20%20%20this.length%20%3D%20split(o%5Bp%5D).length%3B%5Cn%20%20%20%20%20%20%7D%20else%20%7B%5Cn%20%20%20%20%20%20%20%20%2F%2F%20If%20they%20are%2C%20shim%20in%20index%20getters%20(up%20to%20100)%5Cn%20%20%20%20%20%20%20%20for%20(var%20i%20%3D%200%3B%20i%20%3C%20100%3B%20%2B%2Bi)%20%7B%5Cn%20%20%20%20%20%20%20%20%20%20Object.defineProperty(this%2C%20String(i)%2C%20%7B%5Cn%20%20%20%20%20%20%20%20%20%20%20%20get%3A%20(function(n)%20%7B%20return%20function()%20%7B%20return%20this.item(n)%3B%20%7D%3B%20%7D(i))%5Cn%20%20%20%20%20%20%20%20%20%20%7D)%3B%5Cn%20%20%20%20%20%20%20%20%7D%5Cn%20%20%20%20%20%20%7D%5Cn%20%20%20%20%7D%5Cn%5Cn%20%20%20%20%2F%2F%20HTML%20-%20https%3A%2F%2Fhtml.spec.whatwg.org%5Cn%20%20%20%20%2F%2F%20Element.classList%5Cn%20%20%20%20if%20('classList'%20in%20document.createElement('span'))%20%7B%5Cn%20%20%20%20%20%20window.getClassList%20%3D%20function(elem)%20%7B%20return%20elem.classList%3B%20%7D%3B%5Cn%20%20%20%20%7D%20else%20%7B%5Cn%20%20%20%20%20%20window.getClassList%20%3D%20function(elem)%20%7B%20return%20new%20DOMTokenListShim(elem%2C%20'className')%3B%20%7D%3B%5Cn%20%20%20%20%20%20addToElementPrototype('classList'%2C%20function()%20%7B%20return%20new%20DOMTokenListShim(this%2C%20'className')%3B%20%7D%20)%3B%5Cn%20%20%20%20%7D%5Cn%5Cn%20%20%20%20%2F%2F%20HTML%20-%20https%3A%2F%2Fhtml.spec.whatwg.org%5Cn%20%20%20%20%2F%2F%20HTMLAnchorElement.relList%5Cn%20%20%20%20%2F%2F%20HTMLLinkElement.relList%5Cn%20%20%20%20if%20('relList'%20in%20document.createElement('link'))%20%7B%5Cn%20%20%20%20%20%20window.getRelList%20%3D%20function(elem)%20%7B%20return%20elem.relList%3B%20%7D%3B%5Cn%20%20%20%20%7D%20else%20%7B%5Cn%20%20%20%20%20%20window.getRelList%20%3D%20function(elem)%20%7B%20return%20new%20DOMTokenListShim(elem%2C%20'rel')%3B%20%7D%3B%5Cn%20%20%20%20%20%20addToElementPrototype('relList'%2C%20function()%20%7B%20return%20new%20DOMTokenListShim(this%2C%20'rel')%3B%20%7D%20)%3B%5Cn%20%20%20%20%7D%5Cn%5Cn%20%20%20%20%2F%2F%20Add%20second%20argument%20to%20native%20DOMTokenList.toggle()%20if%20necessary%5Cn%20%20%20%20(function()%20%7B%5Cn%20%20%20%20%20%20if%20(!('DOMTokenList'%20in%20global))%20return%3B%5Cn%20%20%20%20%20%20var%20e%20%3D%20document.createElement('span')%3B%5Cn%20%20%20%20%20%20if%20(!('classList'%20in%20e))%20return%3B%5Cn%20%20%20%20%20%20e.classList.toggle('x'%2C%20false)%3B%5Cn%20%20%20%20%20%20if%20(!e.classList.contains('x'))%20return%3B%5Cn%20%20%20%20%20%20global.DOMTokenList.prototype.toggle%20%3D%20function%20toggle(token%2F*%2C%20force*%2F)%20%7B%5Cn%20%20%20%20%20%20%20%20var%20force%20%3D%20arguments%5B1%5D%3B%5Cn%20%20%20%20%20%20%20%20if%20(force%20%3D%3D%3D%20undefined)%20%7B%5Cn%20%20%20%20%20%20%20%20%20%20var%20add%20%3D%20!this.contains(token)%3B%5Cn%20%20%20%20%20%20%20%20%20%20this%5Badd%20%3F%20'add'%20%3A%20'remove'%5D(token)%3B%5Cn%20%20%20%20%20%20%20%20%20%20return%20add%3B%5Cn%20%20%20%20%20%20%20%20%7D%5Cn%20%20%20%20%20%20%20%20force%20%3D%20!!force%3B%5Cn%20%20%20%20%20%20%20%20this%5Bforce%20%3F%20'add'%20%3A%20'remove'%5D(token)%3B%5Cn%20%20%20%20%20%20%20%20return%20force%3B%5Cn%20%20%20%20%20%20%7D%3B%5Cn%20%20%20%20%7D())%3B%5Cn%5Cn%20%20%7D())%3B%5Cn%5Cn%5Cn%20%20%2F%2F%20Interface%20NonDocumentTypeChildNode%5Cn%20%20%2F%2F%20previousElementSibling%20%2F%20nextElementSibling%20-%20for%20IE8%5Cn%5Cn%20%20if%20(!('previousElementSibling'%20in%20document.documentElement))%20%7B%5Cn%20%20%20%20addToElementPrototype('previousElementSibling'%2C%20function()%20%7B%5Cn%20%20%20%20%20%20var%20n%20%3D%20this.previousSibling%3B%5Cn%20%20%20%20%20%20while%20(n%20%26%26%20n.nodeType%20!%3D%3D%20Node.ELEMENT_NODE)%5Cn%20%20%20%20%20%20%20%20n%20%3D%20n.previousSibling%3B%5Cn%20%20%20%20%20%20return%20n%3B%5Cn%20%20%20%20%7D)%3B%5Cn%20%20%7D%5Cn%5Cn%20%20if%20(!('nextElementSibling'%20in%20document.documentElement))%20%7B%5Cn%20%20%20%20addToElementPrototype('nextElementSibling'%2C%20function()%20%7B%5Cn%20%20%20%20%20%20var%20n%20%3D%20this.nextSibling%3B%5Cn%20%20%20%20%20%20while%20(n%20%26%26%20n.nodeType%20!%3D%3D%20Node.ELEMENT_NODE)%5Cn%20%20%20%20%20%20%20%20n%20%3D%20n.nextSibling%3B%5Cn%20%20%20%20%20%20return%20n%3B%5Cn%20%20%20%20%7D)%3B%5Cn%20%20%7D%5Cn%5Cn%5Cn%20%20%2F%2F%20Element.matches%5Cn%20%20%2F%2F%20https%3A%2F%2Fdeveloper.mozilla.org%2Fen%2Fdocs%2FWeb%2FAPI%2FElement%2Fmatches%5Cn%20%20%2F%2F%20Needed%20for%3A%20IE%2C%20Firefox%203.6%2C%20early%20Webkit%20and%20Opera%2015.0%5Cn%20%20%2F%2F%20Use%20msMatchesSelector(selector)%20for%20IE%5Cn%20%20%2F%2F%20Use%20oMatchesSelector(selector)%20for%20Opera%2015.0%5Cn%20%20%2F%2F%20Use%20mozMatchesSelector(selector)%20for%20Firefox%203.6%5Cn%20%20%2F%2F%20Use%20webkitMatchesSelector(selector)%20for%20early%20Webkit%5Cn%20%20%2F%2F%20Use%20polyfill%20if%20no%20matches()%20support%2C%20but%20querySelectorAll()%20support%5Cn%20%20if%20('Element'%20in%20global%20%26%26%20!Element.prototype.matches)%20%7B%5Cn%20%20%20%20if%20(Element.prototype.msMatchesSelector)%20%7B%5Cn%20%20%20%20%20%20Element.prototype.matches%20%3D%20Element.prototype.msMatchesSelector%3B%5Cn%20%20%20%20%7D%20else%20if%20(Element.prototype.oMatchesSelector)%20%7B%5Cn%20%20%20%20%20%20Element.prototype.matches%20%3D%20Element.prototype.oMatchesSelector%3B%5Cn%20%20%20%20%7D%20else%20if%20(Element.prototype.mozMatchesSelector)%20%7B%5Cn%20%20%20%20%20%20Element.prototype.matches%20%3D%20Element.prototype.mozMatchesSelector%3B%5Cn%20%20%20%20%7D%20else%20if%20(Element.prototype.webkitMatchesSelector)%20%7B%5Cn%20%20%20%20%20%20Element.prototype.matches%20%3D%20Element.prototype.webkitMatchesSelector%3B%5Cn%20%20%20%20%7D%20else%20if%20(document.querySelectorAll)%20%7B%5Cn%20%20%20%20%20%20Element.prototype.matches%20%3D%20function%20matches(selector)%20%7B%5Cn%20%20%20%20%20%20%20%20var%20matches%20%3D%20(this.document%20%7C%7C%20this.ownerDocument).querySelectorAll(selector)%2C%5Cn%20%20%20%20%20%20%20%20%20%20%20%20i%20%3D%20matches.length%3B%5Cn%20%20%20%20%20%20%20%20while%20(--i%20%3E%3D%200%20%26%26%20matches.item(i)%20!%3D%3D%20this)%20%7B%7D%5Cn%20%20%20%20%20%20%20%20return%20i%20%3E%20-1%3B%5Cn%20%20%20%20%20%20%7D%3B%5Cn%20%20%20%20%7D%5Cn%20%20%7D%5Cn%5Cn%20%20%2F%2F%20Element.closest%5Cn%20%20%2F%2F%20https%3A%2F%2Fdeveloper.mozilla.org%2Fen-US%2Fdocs%2FWeb%2FAPI%2FElement%2Fclosest%5Cn%20%20if%20(window.Element%20%26%26%20!Element.prototype.closest)%20%7B%5Cn%20%20%20%20Element.prototype.closest%20%3D%20function(s)%20%7B%5Cn%20%20%20%20%20%20var%20matches%20%3D%20(this.document%20%7C%7C%20this.ownerDocument).querySelectorAll(s)%2C%5Cn%20%20%20%20%20%20%20%20%20%20i%2C%5Cn%20%20%20%20%20%20%20%20%20%20el%20%3D%20this%3B%5Cn%20%20%20%20%20%20do%20%7B%5Cn%20%20%20%20%20%20%20%20i%20%3D%20matches.length%3B%5Cn%20%20%20%20%20%20%20%20while%20(--i%20%3E%3D%200%20%26%26%20matches.item(i)%20!%3D%3D%20el)%20%7B%7D%3B%5Cn%20%20%20%20%20%20%7D%20while%20((i%20%3C%200)%20%26%26%20(el%20%3D%20el.parentElement))%3B%5Cn%20%20%20%20%20%20return%20el%3B%5Cn%20%20%20%20%7D%3B%5Cn%20%20%7D%5Cn%5Cn%20%20function%20mixin(o%2C%20ps)%20%7B%5Cn%20%20%20%20if%20(!o)%20return%3B%5Cn%20%20%20%20Object.keys(ps).forEach(function(p)%20%7B%5Cn%20%20%20%20%20%20if%20((p%20in%20o)%20%7C%7C%20(p%20in%20o.prototype))%20return%3B%5Cn%20%20%20%20%20%20try%20%7B%5Cn%20%20%20%20%20%20%20%20Object.defineProperty(%5Cn%20%20%20%20%20%20%20%20%20%20o.prototype%2C%5Cn%20%20%20%20%20%20%20%20%20%20p%2C%5Cn%20%20%20%20%20%20%20%20%20%20Object.getOwnPropertyDescriptor(ps%2C%20p)%5Cn%20%20%20%20%20%20%20%20)%3B%5Cn%20%20%20%20%20%20%7D%20catch%20(ex)%20%7B%5Cn%20%20%20%20%20%20%20%20%2F%2F%20Throws%20in%20IE8%3B%20just%20copy%20it%5Cn%20%20%20%20%20%20%20%20o%5Bp%5D%20%3D%20ps%5Bp%5D%3B%5Cn%20%20%20%20%20%20%7D%5Cn%20%20%20%20%7D)%3B%5Cn%20%20%7D%5Cn%5Cn%20%20%2F%2F%20Mixin%20ParentNode%5Cn%20%20%2F%2F%20https%3A%2F%2Fdom.spec.whatwg.org%2F%23interface-parentnode%5Cn%5Cn%20%20function%20convertNodesIntoANode(nodes)%20%7B%5Cn%20%20%20%20var%20node%20%3D%20null%3B%5Cn%20%20%20%20nodes%20%3D%20nodes.map(function(node)%20%7B%5Cn%20%20%20%20%20%20return%20!(node%20instanceof%20Node)%20%3F%20document.createTextNode(node)%20%3A%20node%3B%5Cn%20%20%20%20%7D)%3B%5Cn%20%20%20%20if%20(nodes.length%20%3D%3D%3D%201)%20%7B%5Cn%20%20%20%20%20%20node%20%3D%20nodes%5B0%5D%3B%5Cn%20%20%20%20%7D%20else%20%7B%5Cn%20%20%20%20%20%20node%20%3D%20document.createDocumentFragment()%3B%5Cn%20%20%20%20%20%20nodes.forEach(function(n)%20%7B%20node.appendChild(n)%3B%20%7D)%3B%5Cn%20%20%20%20%7D%5Cn%20%20%20%20return%20node%3B%5Cn%20%20%7D%5Cn%5Cn%20%20var%20ParentNode%20%3D%20%7B%5Cn%20%20%20%20prepend%3A%20function(%2F*...nodes*%2F)%20%7B%5Cn%20%20%20%20%20%20var%20nodes%20%3D%20%5B%5D.slice.call(arguments)%3B%5Cn%20%20%20%20%20%20nodes%20%3D%20convertNodesIntoANode(nodes)%3B%5Cn%20%20%20%20%20%20this.insertBefore(nodes%2C%20this.firstChild)%3B%5Cn%20%20%20%20%7D%2C%5Cn%20%20%20%20append%3A%20function(%2F*...nodes*%2F)%20%7B%5Cn%20%20%20%20%20%20var%20nodes%20%3D%20%5B%5D.slice.call(arguments)%3B%5Cn%20%20%20%20%20%20nodes%20%3D%20convertNodesIntoANode(nodes)%3B%5Cn%20%20%20%20%20%20this.appendChild(nodes)%3B%5Cn%20%20%20%20%7D%5Cn%20%20%7D%3B%5Cn%5Cn%20%20mixin(global.Document%20%7C%7C%20global.HTMLDocument%2C%20ParentNode)%3B%20%2F%2F%20HTMLDocument%20for%20IE8%5Cn%20%20mixin(global.DocumentFragment%2C%20ParentNode)%3B%5Cn%20%20mixin(global.Element%2C%20ParentNode)%3B%5Cn%5Cn%20%20%2F%2F%20Attributes%20for%20IE8%5Cn%20%20if%20(!('firstElementChild'%20in%20document.documentElement))%20%7B%5Cn%20%20%20%20addToElementPrototype('firstElementChild'%2C%20function()%20%7B%5Cn%20%20%20%20%20%20for%20(var%20nodes%20%3D%20this.children%2C%20i%20%3D%200%2C%20l%20%3D%20nodes.length%3B%20i%20%3C%20l%3B%20%2B%2Bi)%20%7B%5Cn%20%20%20%20%20%20%20%20var%20n%20%3D%20nodes%5Bi%5D%3B%5Cn%20%20%20%20%20%20%20%20if%20(n.nodeType%20%3D%3D%3D%20Node.ELEMENT_NODE)%20return%20n%3B%5Cn%20%20%20%20%20%20%7D%5Cn%20%20%20%20%20%20return%20null%3B%5Cn%20%20%20%20%7D)%3B%5Cn%20%20%7D%5Cn%5Cn%20%20if%20(!('lastElementChild'%20in%20document.documentElement))%20%7B%5Cn%20%20%20%20addToElementPrototype('lastElementChild'%2C%20function()%20%7B%5Cn%20%20%20%20%20%20for%20(var%20nodes%20%3D%20this.children%2C%20i%20%3D%20nodes.length%20-%201%3B%20i%20%3E%3D%200%3B%20--i)%20%7B%5Cn%20%20%20%20%20%20%20%20var%20n%20%3D%20nodes%5Bi%5D%3B%5Cn%20%20%20%20%20%20%20%20if%20(n.nodeType%20%3D%3D%3D%20Node.ELEMENT_NODE)%20return%20n%3B%5Cn%20%20%20%20%20%20%7D%5Cn%20%20%20%20%20%20return%20null%3B%5Cn%20%20%20%20%7D)%3B%5Cn%20%20%7D%5Cn%5Cn%20%20if%20(!('childElementCount'%20in%20document.documentElement))%20%7B%5Cn%20%20%20%20addToElementPrototype('childElementCount'%2C%20function()%20%7B%5Cn%20%20%20%20%20%20for%20(var%20c%20%3D%200%2C%20nodes%20%3D%20this.children%2C%20i%20%3D%200%2C%20l%20%3D%20nodes.length%3B%20i%20%3C%20l%3B%20%2B%2Bi)%20%7B%5Cn%20%20%20%20%20%20%20%20if%20(nodes%5Bi%5D.nodeType%20%3D%3D%3D%20Node.ELEMENT_NODE)%20%2B%2Bc%3B%5Cn%20%20%20%20%20%20%7D%5Cn%20%20%20%20%20%20return%20c%3B%5Cn%20%20%20%20%7D)%3B%5Cn%20%20%7D%5Cn%5Cn%20%20%2F%2F%20Mixin%20ChildNode%5Cn%20%20%2F%2F%20https%3A%2F%2Fdom.spec.whatwg.org%2F%23interface-childnode%5Cn%5Cn%20%20var%20ChildNode%20%3D%20%7B%5Cn%20%20%20%20before%3A%20function(%2F*...nodes*%2F)%20%7B%5Cn%20%20%20%20%20%20var%20nodes%20%3D%20%5B%5D.slice.call(arguments)%3B%5Cn%20%20%20%20%20%20var%20parent%20%3D%20this.parentNode%3B%5Cn%20%20%20%20%20%20if%20(!parent)%20return%3B%5Cn%20%20%20%20%20%20var%20viablePreviousSibling%20%3D%20this.previousSibling%3B%5Cn%20%20%20%20%20%20while%20(nodes.indexOf(viablePreviousSibling)%20!%3D%3D%20-1)%5Cn%20%20%20%20%20%20%20%20viablePreviousSibling%20%3D%20viablePreviousSibling.previousSibling%3B%5Cn%20%20%20%20%20%20var%20node%20%3D%20convertNodesIntoANode(nodes)%3B%5Cn%20%20%20%20%20%20parent.insertBefore(node%2C%20viablePreviousSibling%20%3F%5Cn%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20viablePreviousSibling.nextSibling%20%3A%20parent.firstChild)%3B%5Cn%20%20%20%20%7D%2C%5Cn%20%20%20%20after%3A%20function(%2F*...nodes*%2F)%20%7B%5Cn%20%20%20%20%20%20var%20nodes%20%3D%20%5B%5D.slice.call(arguments)%3B%5Cn%20%20%20%20%20%20var%20parent%20%3D%20this.parentNode%3B%5Cn%20%20%20%20%20%20if%20(!parent)%20return%3B%5Cn%20%20%20%20%20%20var%20viableNextSibling%20%3D%20this.nextSibling%3B%5Cn%20%20%20%20%20%20while%20(nodes.indexOf(viableNextSibling)%20!%3D%3D%20-1)%5Cn%20%20%20%20%20%20%20%20viableNextSibling%20%3D%20viableNextSibling.nextSibling%3B%5Cn%20%20%20%20%20%20var%20node%20%3D%20convertNodesIntoANode(nodes)%3B%5Cn%20%20%20%20%20%20parent.insertBefore(node%2C%20viableNextSibling)%3B%5Cn%20%20%20%20%7D%2C%5Cn%20%20%20%20replaceWith%3A%20function(%2F*...nodes*%2F)%20%7B%5Cn%20%20%20%20%20%20var%20nodes%20%3D%20%5B%5D.slice.call(arguments)%3B%5Cn%20%20%20%20%20%20var%20parent%20%3D%20this.parentNode%3B%5Cn%20%20%20%20%20%20if%20(!parent)%20return%3B%5Cn%20%20%20%20%20%20var%20viableNextSibling%20%3D%20this.nextSibling%3B%5Cn%20%20%20%20%20%20while%20(nodes.indexOf(viableNextSibling)%20!%3D%3D%20-1)%5Cn%20%20%20%20%20%20%20%20viableNextSibling%20%3D%20viableNextSibling.nextSibling%3B%5Cn%20%20%20%20%20%20var%20node%20%3D%20convertNodesIntoANode(nodes)%3B%5Cn%5Cn%20%20%20%20%20%20if%20(this.parentNode%20%3D%3D%3D%20parent)%5Cn%20%20%20%20%20%20%20%20parent.replaceChild(node%2C%20this)%3B%5Cn%20%20%20%20%20%20else%5Cn%20%20%20%20%20%20%20%20parent.insertBefore(node%2C%20viableNextSibling)%3B%5Cn%20%20%20%20%7D%2C%5Cn%20%20%20%20remove%3A%20function()%20%7B%5Cn%20%20%20%20%20%20if%20(!this.parentNode)%20return%3B%5Cn%20%20%20%20%20%20this.parentNode.removeChild(this)%3B%5Cn%20%20%20%20%7D%5Cn%20%20%7D%3B%5Cn%5Cn%20%20mixin(global.DocumentType%2C%20ChildNode)%3B%5Cn%20%20mixin(global.Element%2C%20ChildNode)%3B%5Cn%20%20mixin(global.CharacterData%2C%20ChildNode)%3B%5Cn%5Cn%7D(self))%3B%5Cn(function(global)%20%7B%5Cn%20%20'use%20strict'%3B%5Cn%5Cn%20%20if%20(!('window'%20in%20global%20%26%26%20'document'%20in%20global))%5Cn%20%20%20%20return%3B%5Cn%5Cn%20%20%2F%2F----------------------------------------------------------------------%5Cn%20%20%2F%2F%5Cn%20%20%2F%2F%20XMLHttpRequest%5Cn%20%20%2F%2F%20https%3A%2F%2Fxhr.spec.whatwg.org%5Cn%20%20%2F%2F%5Cn%20%20%2F%2F----------------------------------------------------------------------%5Cn%5Cn%20%20%2F%2F%20XMLHttpRequest%20interface%5Cn%20%20%2F%2F%20Needed%20for%3A%20IE7-%5Cn%20%20global.XMLHttpRequest%20%3D%20global.XMLHttpRequest%20%7C%7C%20function()%20%7B%5Cn%20%20%20%20try%20%7B%20return%20new%20ActiveXObject(%5C%22Msxml2.XMLHTTP.6.0%5C%22)%3B%20%7D%20catch%20(_)%20%7B%20%7D%5Cn%20%20%20%20try%20%7B%20return%20new%20ActiveXObject(%5C%22Msxml2.XMLHTTP.3.0%5C%22)%3B%20%7D%20catch%20(_)%20%7B%20%7D%5Cn%20%20%20%20try%20%7B%20return%20new%20ActiveXObject(%5C%22Msxml2.XMLHTTP%5C%22)%3B%20%7D%20catch%20(_)%20%7B%20%7D%5Cn%20%20%20%20throw%20Error(%5C%22This%20browser%20does%20not%20support%20XMLHttpRequest.%5C%22)%3B%5Cn%20%20%7D%3B%5Cn%5Cn%20%20%2F%2F%20XMLHttpRequest%20interface%20constants%5Cn%20%20%2F%2F%20Needed%20for%20IE8-%5Cn%20%20%5B%5Cn%20%20%20%20%5B'UNSENT'%2C%200%5D%2C%5Cn%20%20%20%20%5B'OPENED'%2C%201%5D%2C%5Cn%20%20%20%20%5B'HEADERS_RECEIVED'%2C%202%5D%2C%5Cn%20%20%20%20%5B'LOADING'%2C%203%5D%2C%5Cn%20%20%20%20%5B'DONE'%2C%204%5D%2C%5Cn%20%20%5D.forEach(function(p)%20%7B%20if%20(!(p%5B0%5D%20in%20global.XMLHttpRequest))%20global.XMLHttpRequest%5Bp%5B0%5D%5D%20%3D%20p%5B1%5D%3B%20%7D)%3B%5Cn%5Cn%20%20%2F%2F%20FormData%20interface%5Cn%20%20%2F%2F%20Needed%20for%3A%20IE9-%5Cn%20%20(function()%20%7B%5Cn%20%20%20%20if%20('FormData'%20in%20global)%5Cn%20%20%20%20%20%20return%3B%5Cn%5Cn%20%20%20%20function%20FormData(form)%20%7B%5Cn%20%20%20%20%20%20this._data%20%3D%20%5B%5D%3B%5Cn%20%20%20%20%20%20if%20(!form)%20return%3B%5Cn%20%20%20%20%20%20for%20(var%20i%20%3D%200%3B%20i%20%3C%20form.elements.length%3B%20%2B%2Bi)%20%7B%5Cn%20%20%20%20%20%20%20%20var%20element%20%3D%20form.elements%5Bi%5D%3B%5Cn%20%20%20%20%20%20%20%20if%20(element.name%20!%3D%3D%20'')%5Cn%20%20%20%20%20%20%20%20%20%20this.append(element.name%2C%20element.value)%3B%5Cn%20%20%20%20%20%20%7D%5Cn%20%20%20%20%7D%5Cn%5Cn%20%20%20%20FormData.prototype%20%3D%20%7B%5Cn%20%20%20%20%20%20append%3A%20function(name%2C%20value%20%2F*%2C%20filename%20*%2F)%20%7B%5Cn%20%20%20%20%20%20%20%20if%20('Blob'%20in%20global%20%26%26%20value%20instanceof%20global.Blob)%5Cn%20%20%20%20%20%20%20%20%20%20throw%20TypeError(%5C%22Blob%20not%20supported%5C%22)%3B%5Cn%20%20%20%20%20%20%20%20name%20%3D%20String(name)%3B%5Cn%20%20%20%20%20%20%20%20this._data.push(%5Bname%2C%20value%5D)%3B%5Cn%20%20%20%20%20%20%7D%2C%5Cn%5Cn%20%20%20%20%20%20toString%3A%20function()%20%7B%5Cn%20%20%20%20%20%20%20%20return%20this._data.map(function(pair)%20%7B%5Cn%20%20%20%20%20%20%20%20%20%20return%20encodeURIComponent(pair%5B0%5D)%20%2B%20'%3D'%20%2B%20encodeURIComponent(pair%5B1%5D)%3B%5Cn%20%20%20%20%20%20%20%20%7D).join('%26')%3B%5Cn%20%20%20%20%20%20%7D%5Cn%20%20%20%20%7D%3B%5Cn%5Cn%20%20%20%20global.FormData%20%3D%20FormData%3B%5Cn%20%20%20%20var%20send%20%3D%20global.XMLHttpRequest.prototype.send%3B%5Cn%20%20%20%20global.XMLHttpRequest.prototype.send%20%3D%20function(body)%20%7B%5Cn%20%20%20%20%20%20if%20(body%20instanceof%20FormData)%20%7B%5Cn%20%20%20%20%20%20%20%20this.setRequestHeader('Content-Type'%2C%20'application%2Fx-www-form-urlencoded')%3B%5Cn%20%20%20%20%20%20%20%20arguments%5B0%5D%20%3D%20body.toString()%3B%5Cn%20%20%20%20%20%20%7D%5Cn%20%20%20%20%20%20return%20send.apply(this%2C%20arguments)%3B%5Cn%20%20%20%20%7D%3B%5Cn%20%20%7D())%3B%5Cn%5Cn%7D(self))%3B%5Cn(function(global)%20%7B%5Cn%20%20'use%20strict'%3B%5Cn%5Cn%20%20if%20(!('window'%20in%20global%20%26%26%20'document'%20in%20global))%5Cn%20%20%20%20return%3B%5Cn%5Cn%20%20%2F%2F----------------------------------------------------------------------%5Cn%20%20%2F%2F%5Cn%20%20%2F%2F%20CSSOM%20View%20Module%5Cn%20%20%2F%2F%20https%3A%2F%2Fdev.w3.org%2Fcsswg%2Fcssom-view%2F%5Cn%20%20%2F%2F%5Cn%20%20%2F%2F----------------------------------------------------------------------%5Cn%5Cn%20%20%2F%2F%20Fix%20for%20IE8-'s%20Element.getBoundingClientRect()%5Cn%20%20if%20('TextRectangle'%20in%20global%20%26%26%20!('width'%20in%20global.TextRectangle.prototype))%20%7B%5Cn%20%20%20%20Object.defineProperties(global.TextRectangle.prototype%2C%20%7B%5Cn%20%20%20%20%20%20width%3A%20%7B%20get%3A%20function()%20%7B%20return%20this.right%20-%20this.left%3B%20%7D%20%7D%2C%5Cn%20%20%20%20%20%20height%3A%20%7B%20get%3A%20function()%20%7B%20return%20this.bottom%20-%20this.top%3B%20%7D%20%7D%5Cn%20%20%20%20%7D)%3B%5Cn%20%20%7D%5Cn%7D(self))%3B%5Cn%2F%2F%20URL%20Polyfill%5Cn%2F%2F%20Draft%20specification%3A%20https%3A%2F%2Furl.spec.whatwg.org%5Cn%5Cn%2F%2F%20Notes%3A%5Cn%2F%2F%20-%20Primarily%20useful%20for%20parsing%20URLs%20and%20modifying%20query%20parameters%5Cn%2F%2F%20-%20Should%20work%20in%20IE8%2B%20and%20everything%20more%20modern%2C%20with%20es5.js%20polyfills%5Cn%5Cn(function%20(global)%20%7B%5Cn%20%20'use%20strict'%3B%5Cn%5Cn%20%20function%20isSequence(o)%20%7B%5Cn%20%20%20%20if%20(!o)%20return%20false%3B%5Cn%20%20%20%20if%20('Symbol'%20in%20global%20%26%26%20'iterator'%20in%20global.Symbol%20%26%26%5Cn%20%20%20%20%20%20%20%20typeof%20o%5BSymbol.iterator%5D%20%3D%3D%3D%20'function')%20return%20true%3B%5Cn%20%20%20%20if%20(Array.isArray(o))%20return%20true%3B%5Cn%20%20%20%20return%20false%3B%5Cn%20%20%7D%5Cn%5Cn%20%20function%20toArray(iter)%20%7B%5Cn%20%20%20%20return%20('from'%20in%20Array)%20%3F%20Array.from(iter)%20%3A%20Array.prototype.slice.call(iter)%3B%5Cn%20%20%7D%5Cn%5Cn%20%20(function()%20%7B%5Cn%5Cn%20%20%20%20%2F%2F%20Browsers%20may%20have%3A%5Cn%20%20%20%20%2F%2F%20*%20No%20global%20URL%20object%5Cn%20%20%20%20%2F%2F%20*%20URL%20with%20static%20methods%20only%20-%20may%20have%20a%20dummy%20constructor%5Cn%20%20%20%20%2F%2F%20*%20URL%20with%20members%20except%20searchParams%5Cn%20%20%20%20%2F%2F%20*%20Full%20URL%20API%20support%5Cn%20%20%20%20var%20origURL%20%3D%20global.URL%3B%5Cn%20%20%20%20var%20nativeURL%3B%5Cn%20%20%20%20try%20%7B%5Cn%20%20%20%20%20%20if%20(origURL)%20%7B%5Cn%20%20%20%20%20%20%20%20nativeURL%20%3D%20new%20global.URL('http%3A%2F%2Fexample.com')%3B%5Cn%20%20%20%20%20%20%20%20if%20('searchParams'%20in%20nativeURL)%5Cn%20%20%20%20%20%20%20%20%20%20return%3B%5Cn%20%20%20%20%20%20%20%20if%20(!('href'%20in%20nativeURL))%5Cn%20%20%20%20%20%20%20%20%20%20nativeURL%20%3D%20undefined%3B%5Cn%20%20%20%20%20%20%7D%5Cn%20%20%20%20%7D%20catch%20(_)%20%7B%7D%5Cn%5Cn%20%20%20%20%2F%2F%20NOTE%3A%20Doesn't%20do%20the%20encoding%2Fdecoding%20dance%5Cn%20%20%20%20function%20urlencoded_serialize(pairs)%20%7B%5Cn%20%20%20%20%20%20var%20output%20%3D%20''%2C%20first%20%3D%20true%3B%5Cn%20%20%20%20%20%20pairs.forEach(function%20(pair)%20%7B%5Cn%20%20%20%20%20%20%20%20var%20name%20%3D%20encodeURIComponent(pair.name)%3B%5Cn%20%20%20%20%20%20%20%20var%20value%20%3D%20encodeURIComponent(pair.value)%3B%5Cn%20%20%20%20%20%20%20%20if%20(!first)%20output%20%2B%3D%20'%26'%3B%5Cn%20%20%20%20%20%20%20%20output%20%2B%3D%20name%20%2B%20'%3D'%20%2B%20value%3B%5Cn%20%20%20%20%20%20%20%20first%20%3D%20false%3B%5Cn%20%20%20%20%20%20%7D)%3B%5Cn%20%20%20%20%20%20return%20output.replace(%2F%2520%2Fg%2C%20'%2B')%3B%5Cn%20%20%20%20%7D%5Cn%5Cn%20%20%20%20%2F%2F%20NOTE%3A%20Doesn't%20do%20the%20encoding%2Fdecoding%20dance%5Cn%20%20%20%20function%20urlencoded_parse(input%2C%20isindex)%20%7B%5Cn%20%20%20%20%20%20var%20sequences%20%3D%20input.split('%26')%3B%5Cn%20%20%20%20%20%20if%20(isindex%20%26%26%20sequences%5B0%5D.indexOf('%3D')%20%3D%3D%3D%20-1)%5Cn%20%20%20%20%20%20%20%20sequences%5B0%5D%20%3D%20'%3D'%20%2B%20sequences%5B0%5D%3B%5Cn%20%20%20%20%20%20var%20pairs%20%3D%20%5B%5D%3B%5Cn%20%20%20%20%20%20sequences.forEach(function%20(bytes)%20%7B%5Cn%20%20%20%20%20%20%20%20if%20(bytes.length%20%3D%3D%3D%200)%20return%3B%5Cn%20%20%20%20%20%20%20%20var%20index%20%3D%20bytes.indexOf('%3D')%3B%5Cn%20%20%20%20%20%20%20%20if%20(index%20!%3D%3D%20-1)%20%7B%5Cn%20%20%20%20%20%20%20%20%20%20var%20name%20%3D%20bytes.substring(0%2C%20index)%3B%5Cn%20%20%20%20%20%20%20%20%20%20var%20value%20%3D%20bytes.substring(index%20%2B%201)%3B%5Cn%20%20%20%20%20%20%20%20%7D%20else%20%7B%5Cn%20%20%20%20%20%20%20%20%20%20name%20%3D%20bytes%3B%5Cn%20%20%20%20%20%20%20%20%20%20value%20%3D%20''%3B%5Cn%20%20%20%20%20%20%20%20%7D%5Cn%20%20%20%20%20%20%20%20name%20%3D%20name.replace(%2F%5C%5C%2B%2Fg%2C%20'%20')%3B%5Cn%20%20%20%20%20%20%20%20value%20%3D%20value.replace(%2F%5C%5C%2B%2Fg%2C%20'%20')%3B%5Cn%20%20%20%20%20%20%20%20pairs.push(%7B%20name%3A%20name%2C%20value%3A%20value%20%7D)%3B%5Cn%20%20%20%20%20%20%7D)%3B%5Cn%20%20%20%20%20%20var%20output%20%3D%20%5B%5D%3B%5Cn%20%20%20%20%20%20pairs.forEach(function%20(pair)%20%7B%5Cn%20%20%20%20%20%20%20%20output.push(%7B%5Cn%20%20%20%20%20%20%20%20%20%20name%3A%20decodeURIComponent(pair.name)%2C%5Cn%20%20%20%20%20%20%20%20%20%20value%3A%20decodeURIComponent(pair.value)%5Cn%20%20%20%20%20%20%20%20%7D)%3B%5Cn%20%20%20%20%20%20%7D)%3B%5Cn%20%20%20%20%20%20return%20output%3B%5Cn%20%20%20%20%7D%5Cn%5Cn%20%20%20%20function%20URLUtils(url)%20%7B%5Cn%20%20%20%20%20%20if%20(nativeURL)%5Cn%20%20%20%20%20%20%20%20return%20new%20origURL(url)%3B%5Cn%20%20%20%20%20%20var%20anchor%20%3D%20document.createElement('a')%3B%5Cn%20%20%20%20%20%20anchor.href%20%3D%20url%3B%5Cn%20%20%20%20%20%20return%20anchor%3B%5Cn%20%20%20%20%7D%5Cn%5Cn%20%20%20%20function%20URLSearchParams(init)%20%7B%5Cn%20%20%20%20%20%20var%20%24this%20%3D%20this%3B%5Cn%20%20%20%20%20%20this._list%20%3D%20%5B%5D%3B%5Cn%5Cn%20%20%20%20%20%20if%20(init%20%3D%3D%3D%20undefined%20%7C%7C%20init%20%3D%3D%3D%20null)%20%7B%5Cn%20%20%20%20%20%20%20%20%2F%2F%20no-op%5Cn%20%20%20%20%20%20%7D%20else%20if%20(init%20instanceof%20URLSearchParams)%20%7B%5Cn%20%20%20%20%20%20%20%20%2F%2F%20In%20ES6%20init%20would%20be%20a%20sequence%2C%20but%20special%20case%20for%20ES5.%5Cn%20%20%20%20%20%20%20%20this._list%20%3D%20urlencoded_parse(String(init))%3B%5Cn%20%20%20%20%20%20%7D%20else%20if%20(typeof%20init%20%3D%3D%3D%20'object'%20%26%26%20isSequence(init))%20%7B%5Cn%20%20%20%20%20%20%20%20toArray(init).forEach(function(e)%20%7B%5Cn%20%20%20%20%20%20%20%20%20%20if%20(!isSequence(e))%20throw%20TypeError()%3B%5Cn%20%20%20%20%20%20%20%20%20%20var%20nv%20%3D%20toArray(e)%3B%5Cn%20%20%20%20%20%20%20%20%20%20if%20(nv.length%20!%3D%3D%202)%20throw%20TypeError()%3B%5Cn%20%20%20%20%20%20%20%20%20%20%24this._list.push(%7Bname%3A%20String(nv%5B0%5D)%2C%20value%3A%20String(nv%5B1%5D)%7D)%3B%5Cn%20%20%20%20%20%20%20%20%7D)%3B%5Cn%20%20%20%20%20%20%7D%20else%20if%20(typeof%20init%20%3D%3D%3D%20'object'%20%26%26%20init)%20%7B%5Cn%20%20%20%20%20%20%20%20Object.keys(init).forEach(function(key)%20%7B%5Cn%20%20%20%20%20%20%20%20%20%20%24this._list.push(%7Bname%3A%20String(key)%2C%20value%3A%20String(init%5Bkey%5D)%7D)%3B%5Cn%20%20%20%20%20%20%20%20%7D)%3B%5Cn%20%20%20%20%20%20%7D%20else%20%7B%5Cn%20%20%20%20%20%20%20%20init%20%3D%20String(init)%3B%5Cn%20%20%20%20%20%20%20%20if%20(init.substring(0%2C%201)%20%3D%3D%3D%20'%3F')%5Cn%20%20%20%20%20%20%20%20%20%20init%20%3D%20init.substring(1)%3B%5Cn%20%20%20%20%20%20%20%20this._list%20%3D%20urlencoded_parse(init)%3B%5Cn%20%20%20%20%20%20%7D%5Cn%5Cn%20%20%20%20%20%20this._url_object%20%3D%20null%3B%5Cn%20%20%20%20%20%20this._setList%20%3D%20function%20(list)%20%7B%20if%20(!updating)%20%24this._list%20%3D%20list%3B%20%7D%3B%5Cn%5Cn%20%20%20%20%20%20var%20updating%20%3D%20false%3B%5Cn%20%20%20%20%20%20this._update_steps%20%3D%20function()%20%7B%5Cn%20%20%20%20%20%20%20%20if%20(updating)%20return%3B%5Cn%20%20%20%20%20%20%20%20updating%20%3D%20true%3B%5Cn%5Cn%20%20%20%20%20%20%20%20if%20(!%24this._url_object)%20return%3B%5Cn%5Cn%20%20%20%20%20%20%20%20%2F%2F%20Partial%20workaround%20for%20IE%20issue%20with%20'about%3A'%5Cn%20%20%20%20%20%20%20%20if%20(%24this._url_object.protocol%20%3D%3D%3D%20'about%3A'%20%26%26%5Cn%20%20%20%20%20%20%20%20%20%20%20%20%24this._url_object.pathname.indexOf('%3F')%20!%3D%3D%20-1)%20%7B%5Cn%20%20%20%20%20%20%20%20%20%20%24this._url_object.pathname%20%3D%20%24this._url_object.pathname.split('%3F')%5B0%5D%3B%5Cn%20%20%20%20%20%20%20%20%7D%5Cn%5Cn%20%20%20%20%20%20%20%20%24this._url_object.search%20%3D%20urlencoded_serialize(%24this._list)%3B%5Cn%5Cn%20%20%20%20%20%20%20%20updating%20%3D%20false%3B%5Cn%20%20%20%20%20%20%7D%3B%5Cn%20%20%20%20%7D%5Cn%5Cn%5Cn%20%20%20%20Object.defineProperties(URLSearchParams.prototype%2C%20%7B%5Cn%20%20%20%20%20%20append%3A%20%7B%5Cn%20%20%20%20%20%20%20%20value%3A%20function%20(name%2C%20value)%20%7B%5Cn%20%20%20%20%20%20%20%20%20%20this._list.push(%7B%20name%3A%20name%2C%20value%3A%20value%20%7D)%3B%5Cn%20%20%20%20%20%20%20%20%20%20this._update_steps()%3B%5Cn%20%20%20%20%20%20%20%20%7D%2C%20writable%3A%20true%2C%20enumerable%3A%20true%2C%20configurable%3A%20true%5Cn%20%20%20%20%20%20%7D%2C%5Cn%5Cn%20%20%20%20%20%20'delete'%3A%20%7B%5Cn%20%20%20%20%20%20%20%20value%3A%20function%20(name)%20%7B%5Cn%20%20%20%20%20%20%20%20%20%20for%20(var%20i%20%3D%200%3B%20i%20%3C%20this._list.length%3B)%20%7B%5Cn%20%20%20%20%20%20%20%20%20%20%20%20if%20(this._list%5Bi%5D.name%20%3D%3D%3D%20name)%5Cn%20%20%20%20%20%20%20%20%20%20%20%20%20%20this._list.splice(i%2C%201)%3B%5Cn%20%20%20%20%20%20%20%20%20%20%20%20else%5Cn%20%20%20%20%20%20%20%20%20%20%20%20%20%20%2B%2Bi%3B%5Cn%20%20%20%20%20%20%20%20%20%20%7D%5Cn%20%20%20%20%20%20%20%20%20%20this._update_steps()%3B%5Cn%20%20%20%20%20%20%20%20%7D%2C%20writable%3A%20true%2C%20enumerable%3A%20true%2C%20configurable%3A%20true%5Cn%20%20%20%20%20%20%7D%2C%5Cn%5Cn%20%20%20%20%20%20get%3A%20%7B%5Cn%20%20%20%20%20%20%20%20value%3A%20function%20(name)%20%7B%5Cn%20%20%20%20%20%20%20%20%20%20for%20(var%20i%20%3D%200%3B%20i%20%3C%20this._list.length%3B%20%2B%2Bi)%20%7B%5Cn%20%20%20%20%20%20%20%20%20%20%20%20if%20(this._list%5Bi%5D.name%20%3D%3D%3D%20name)%5Cn%20%20%20%20%20%20%20%20%20%20%20%20%20%20return%20this._list%5Bi%5D.value%3B%5Cn%20%20%20%20%20%20%20%20%20%20%7D%5Cn%20%20%20%20%20%20%20%20%20%20return%20null%3B%5Cn%20%20%20%20%20%20%20%20%7D%2C%20writable%3A%20true%2C%20enumerable%3A%20true%2C%20configurable%3A%20true%5Cn%20%20%20%20%20%20%7D%2C%5Cn%5Cn%20%20%20%20%20%20getAll%3A%20%7B%5Cn%20%20%20%20%20%20%20%20value%3A%20function%20(name)%20%7B%5Cn%20%20%20%20%20%20%20%20%20%20var%20result%20%3D%20%5B%5D%3B%5Cn%20%20%20%20%20%20%20%20%20%20for%20(var%20i%20%3D%200%3B%20i%20%3C%20this._list.length%3B%20%2B%2Bi)%20%7B%5Cn%20%20%20%20%20%20%20%20%20%20%20%20if%20(this._list%5Bi%5D.name%20%3D%3D%3D%20name)%5Cn%20%20%20%20%20%20%20%20%20%20%20%20%20%20result.push(this._list%5Bi%5D.value)%3B%5Cn%20%20%20%20%20%20%20%20%20%20%7D%5Cn%20%20%20%20%20%20%20%20%20%20return%20result%3B%5Cn%20%20%20%20%20%20%20%20%7D%2C%20writable%3A%20true%2C%20enumerable%3A%20true%2C%20configurable%3A%20true%5Cn%20%20%20%20%20%20%7D%2C%5Cn%5Cn%20%20%20%20%20%20has%3A%20%7B%5Cn%20%20%20%20%20%20%20%20value%3A%20function%20(name)%20%7B%5Cn%20%20%20%20%20%20%20%20%20%20for%20(var%20i%20%3D%200%3B%20i%20%3C%20this._list.length%3B%20%2B%2Bi)%20%7B%5Cn%20%20%20%20%20%20%20%20%20%20%20%20if%20(this._list%5Bi%5D.name%20%3D%3D%3D%20name)%5Cn%20%20%20%20%20%20%20%20%20%20%20%20%20%20return%20true%3B%5Cn%20%20%20%20%20%20%20%20%20%20%7D%5Cn%20%20%20%20%20%20%20%20%20%20return%20false%3B%5Cn%20%20%20%20%20%20%20%20%7D%2C%20writable%3A%20true%2C%20enumerable%3A%20true%2C%20configurable%3A%20true%5Cn%20%20%20%20%20%20%7D%2C%5Cn%5Cn%20%20%20%20%20%20set%3A%20%7B%5Cn%20%20%20%20%20%20%20%20value%3A%20function%20(name%2C%20value)%20%7B%5Cn%20%20%20%20%20%20%20%20%20%20var%20found%20%3D%20false%3B%5Cn%20%20%20%20%20%20%20%20%20%20for%20(var%20i%20%3D%200%3B%20i%20%3C%20this._list.length%3B)%20%7B%5Cn%20%20%20%20%20%20%20%20%20%20%20%20if%20(this._list%5Bi%5D.name%20%3D%3D%3D%20name)%20%7B%5Cn%20%20%20%20%20%20%20%20%20%20%20%20%20%20if%20(!found)%20%7B%5Cn%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20this._list%5Bi%5D.value%20%3D%20value%3B%5Cn%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20found%20%3D%20true%3B%5Cn%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%2B%2Bi%3B%5Cn%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%20else%20%7B%5Cn%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20this._list.splice(i%2C%201)%3B%5Cn%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%5Cn%20%20%20%20%20%20%20%20%20%20%20%20%7D%20else%20%7B%5Cn%20%20%20%20%20%20%20%20%20%20%20%20%20%20%2B%2Bi%3B%5Cn%20%20%20%20%20%20%20%20%20%20%20%20%7D%5Cn%20%20%20%20%20%20%20%20%20%20%7D%5Cn%5Cn%20%20%20%20%20%20%20%20%20%20if%20(!found)%5Cn%20%20%20%20%20%20%20%20%20%20%20%20this._list.push(%7B%20name%3A%20name%2C%20value%3A%20value%20%7D)%3B%5Cn%5Cn%20%20%20%20%20%20%20%20%20%20this._update_steps()%3B%5Cn%20%20%20%20%20%20%20%20%7D%2C%20writable%3A%20true%2C%20enumerable%3A%20true%2C%20configurable%3A%20true%5Cn%20%20%20%20%20%20%7D%2C%5Cn%5Cn%20%20%20%20%20%20entries%3A%20%7B%5Cn%20%20%20%20%20%20%20%20value%3A%20function()%20%7B%20return%20new%20Iterator(this._list%2C%20'key%2Bvalue')%3B%20%7D%2C%5Cn%20%20%20%20%20%20%20%20writable%3A%20true%2C%20enumerable%3A%20true%2C%20configurable%3A%20true%5Cn%20%20%20%20%20%20%7D%2C%5Cn%5Cn%20%20%20%20%20%20keys%3A%20%7B%5Cn%20%20%20%20%20%20%20%20value%3A%20function()%20%7B%20return%20new%20Iterator(this._list%2C%20'key')%3B%20%7D%2C%5Cn%20%20%20%20%20%20%20%20writable%3A%20true%2C%20enumerable%3A%20true%2C%20configurable%3A%20true%5Cn%20%20%20%20%20%20%7D%2C%5Cn%5Cn%20%20%20%20%20%20values%3A%20%7B%5Cn%20%20%20%20%20%20%20%20value%3A%20function()%20%7B%20return%20new%20Iterator(this._list%2C%20'value')%3B%20%7D%2C%5Cn%20%20%20%20%20%20%20%20writable%3A%20true%2C%20enumerable%3A%20true%2C%20configurable%3A%20true%5Cn%20%20%20%20%20%20%7D%2C%5Cn%5Cn%20%20%20%20%20%20forEach%3A%20%7B%5Cn%20%20%20%20%20%20%20%20value%3A%20function(callback)%20%7B%5Cn%20%20%20%20%20%20%20%20%20%20var%20thisArg%20%3D%20(arguments.length%20%3E%201)%20%3F%20arguments%5B1%5D%20%3A%20undefined%3B%5Cn%20%20%20%20%20%20%20%20%20%20this._list.forEach(function(pair%2C%20index)%20%7B%5Cn%20%20%20%20%20%20%20%20%20%20%20%20callback.call(thisArg%2C%20pair.value%2C%20pair.name)%3B%5Cn%20%20%20%20%20%20%20%20%20%20%7D)%3B%5Cn%5Cn%20%20%20%20%20%20%20%20%7D%2C%20writable%3A%20true%2C%20enumerable%3A%20true%2C%20configurable%3A%20true%5Cn%20%20%20%20%20%20%7D%2C%5Cn%5Cn%20%20%20%20%20%20toString%3A%20%7B%5Cn%20%20%20%20%20%20%20%20value%3A%20function%20()%20%7B%5Cn%20%20%20%20%20%20%20%20%20%20return%20urlencoded_serialize(this._list)%3B%5Cn%20%20%20%20%20%20%20%20%7D%2C%20writable%3A%20true%2C%20enumerable%3A%20false%2C%20configurable%3A%20true%5Cn%20%20%20%20%20%20%7D%5Cn%20%20%20%20%7D)%3B%5Cn%5Cn%20%20%20%20function%20Iterator(source%2C%20kind)%20%7B%5Cn%20%20%20%20%20%20var%20index%20%3D%200%3B%5Cn%20%20%20%20%20%20this%5B'next'%5D%20%3D%20function()%20%7B%5Cn%20%20%20%20%20%20%20%20if%20(index%20%3E%3D%20source.length)%5Cn%20%20%20%20%20%20%20%20%20%20return%20%7Bdone%3A%20true%2C%20value%3A%20undefined%7D%3B%5Cn%20%20%20%20%20%20%20%20var%20pair%20%3D%20source%5Bindex%2B%2B%5D%3B%5Cn%20%20%20%20%20%20%20%20return%20%7Bdone%3A%20false%2C%20value%3A%5Cn%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20kind%20%3D%3D%3D%20'key'%20%3F%20pair.name%20%3A%5Cn%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20kind%20%3D%3D%3D%20'value'%20%3F%20pair.value%20%3A%5Cn%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%5Bpair.name%2C%20pair.value%5D%7D%3B%5Cn%20%20%20%20%20%20%7D%3B%5Cn%20%20%20%20%7D%5Cn%5Cn%20%20%20%20if%20('Symbol'%20in%20global%20%26%26%20'iterator'%20in%20global.Symbol)%20%7B%5Cn%20%20%20%20%20%20Object.defineProperty(URLSearchParams.prototype%2C%20global.Symbol.iterator%2C%20%7B%5Cn%20%20%20%20%20%20%20%20value%3A%20URLSearchParams.prototype.entries%2C%5Cn%20%20%20%20%20%20%20%20writable%3A%20true%2C%20enumerable%3A%20true%2C%20configurable%3A%20true%7D)%3B%5Cn%20%20%20%20%20%20Object.defineProperty(Iterator.prototype%2C%20global.Symbol.iterator%2C%20%7B%5Cn%20%20%20%20%20%20%20%20value%3A%20function()%20%7B%20return%20this%3B%20%7D%2C%5Cn%20%20%20%20%20%20%20%20writable%3A%20true%2C%20enumerable%3A%20true%2C%20configurable%3A%20true%7D)%3B%5Cn%20%20%20%20%7D%5Cn%5Cn%20%20%20%20function%20URL(url%2C%20base)%20%7B%5Cn%20%20%20%20%20%20if%20(!(this%20instanceof%20global.URL))%5Cn%20%20%20%20%20%20%20%20throw%20new%20TypeError(%5C%22Failed%20to%20construct%20'URL'%3A%20Please%20use%20the%20'new'%20operator.%5C%22)%3B%5Cn%5Cn%20%20%20%20%20%20if%20(base)%20%7B%5Cn%20%20%20%20%20%20%20%20url%20%3D%20(function%20()%20%7B%5Cn%20%20%20%20%20%20%20%20%20%20if%20(nativeURL)%20return%20new%20origURL(url%2C%20base).href%3B%5Cn%20%20%20%20%20%20%20%20%20%20var%20iframe%3B%5Cn%20%20%20%20%20%20%20%20%20%20try%20%7B%5Cn%20%20%20%20%20%20%20%20%20%20%20%20var%20doc%3B%5Cn%20%20%20%20%20%20%20%20%20%20%20%20%2F%2F%20Use%20another%20document%2Fbase%20tag%2Fanchor%20for%20relative%20URL%20resolution%2C%20if%20possible%5Cn%20%20%20%20%20%20%20%20%20%20%20%20if%20(Object.prototype.toString.call(window.operamini)%20%3D%3D%3D%20%5C%22%5Bobject%20OperaMini%5D%5C%22)%20%7B%5Cn%20%20%20%20%20%20%20%20%20%20%20%20%20%20iframe%20%3D%20document.createElement('iframe')%3B%5Cn%20%20%20%20%20%20%20%20%20%20%20%20%20%20iframe.style.display%20%3D%20'none'%3B%5Cn%20%20%20%20%20%20%20%20%20%20%20%20%20%20document.documentElement.appendChild(iframe)%3B%5Cn%20%20%20%20%20%20%20%20%20%20%20%20%20%20doc%20%3D%20iframe.contentWindow.document%3B%5Cn%20%20%20%20%20%20%20%20%20%20%20%20%7D%20else%20if%20(document.implementation%20%26%26%20document.implementation.createHTMLDocument)%20%7B%5Cn%20%20%20%20%20%20%20%20%20%20%20%20%20%20doc%20%3D%20document.implementation.createHTMLDocument('')%3B%5Cn%20%20%20%20%20%20%20%20%20%20%20%20%7D%20else%20if%20(document.implementation%20%26%26%20document.implementation.createDocument)%20%7B%5Cn%20%20%20%20%20%20%20%20%20%20%20%20%20%20doc%20%3D%20document.implementation.createDocument('http%3A%2F%2Fwww.w3.org%2F1999%2Fxhtml'%2C%20'html'%2C%20null)%3B%5Cn%20%20%20%20%20%20%20%20%20%20%20%20%20%20doc.documentElement.appendChild(doc.createElement('head'))%3B%5Cn%20%20%20%20%20%20%20%20%20%20%20%20%20%20doc.documentElement.appendChild(doc.createElement('body'))%3B%5Cn%20%20%20%20%20%20%20%20%20%20%20%20%7D%20else%20if%20(window.ActiveXObject)%20%7B%5Cn%20%20%20%20%20%20%20%20%20%20%20%20%20%20doc%20%3D%20new%20window.ActiveXObject('htmlfile')%3B%5Cn%20%20%20%20%20%20%20%20%20%20%20%20%20%20doc.write('%3Chead%3E%3C%5C%5C%2Fhead%3E%3Cbody%3E%3C%5C%5C%2Fbody%3E')%3B%5Cn%20%20%20%20%20%20%20%20%20%20%20%20%20%20doc.close()%3B%5Cn%20%20%20%20%20%20%20%20%20%20%20%20%7D%5Cn%5Cn%20%20%20%20%20%20%20%20%20%20%20%20if%20(!doc)%20throw%20Error('base%20not%20supported')%3B%5Cn%5Cn%20%20%20%20%20%20%20%20%20%20%20%20var%20baseTag%20%3D%20doc.createElement('base')%3B%5Cn%20%20%20%20%20%20%20%20%20%20%20%20baseTag.href%20%3D%20base%3B%5Cn%20%20%20%20%20%20%20%20%20%20%20%20doc.getElementsByTagName('head')%5B0%5D.appendChild(baseTag)%3B%5Cn%20%20%20%20%20%20%20%20%20%20%20%20var%20anchor%20%3D%20doc.createElement('a')%3B%5Cn%20%20%20%20%20%20%20%20%20%20%20%20anchor.href%20%3D%20url%3B%5Cn%20%20%20%20%20%20%20%20%20%20%20%20return%20anchor.href%3B%5Cn%20%20%20%20%20%20%20%20%20%20%7D%20finally%20%7B%5Cn%20%20%20%20%20%20%20%20%20%20%20%20if%20(iframe)%5Cn%20%20%20%20%20%20%20%20%20%20%20%20%20%20iframe.parentNode.removeChild(iframe)%3B%5Cn%20%20%20%20%20%20%20%20%20%20%7D%5Cn%20%20%20%20%20%20%20%20%7D())%3B%5Cn%20%20%20%20%20%20%7D%5Cn%5Cn%20%20%20%20%20%20%2F%2F%20An%20inner%20object%20implementing%20URLUtils%20(either%20a%20native%20URL%5Cn%20%20%20%20%20%20%2F%2F%20object%20or%20an%20HTMLAnchorElement%20instance)%20is%20used%20to%20perform%20the%5Cn%20%20%20%20%20%20%2F%2F%20URL%20algorithms.%20With%20full%20ES5%20getter%2Fsetter%20support%2C%20return%20a%5Cn%20%20%20%20%20%20%2F%2F%20regular%20object%20For%20IE8's%20limited%20getter%2Fsetter%20support%2C%20a%5Cn%20%20%20%20%20%20%2F%2F%20different%20HTMLAnchorElement%20is%20returned%20with%20properties%5Cn%20%20%20%20%20%20%2F%2F%20overridden%5Cn%5Cn%20%20%20%20%20%20var%20instance%20%3D%20URLUtils(url%20%7C%7C%20'')%3B%5Cn%5Cn%20%20%20%20%20%20%2F%2F%20Detect%20for%20ES5%20getter%2Fsetter%20support%5Cn%20%20%20%20%20%20%2F%2F%20(an%20Object.defineProperties%20polyfill%20that%20doesn't%20support%20getters%2Fsetters%20may%20throw)%5Cn%20%20%20%20%20%20var%20ES5_GET_SET%20%3D%20(function()%20%7B%5Cn%20%20%20%20%20%20%20%20if%20(!('defineProperties'%20in%20Object))%20return%20false%3B%5Cn%20%20%20%20%20%20%20%20try%20%7B%5Cn%20%20%20%20%20%20%20%20%20%20var%20obj%20%3D%20%7B%7D%3B%5Cn%20%20%20%20%20%20%20%20%20%20Object.defineProperties(obj%2C%20%7B%20prop%3A%20%7B%20'get'%3A%20function%20()%20%7B%20return%20true%3B%20%7D%20%7D%20%7D)%3B%5Cn%20%20%20%20%20%20%20%20%20%20return%20obj.prop%3B%5Cn%20%20%20%20%20%20%20%20%7D%20catch%20(_)%20%7B%5Cn%20%20%20%20%20%20%20%20%20%20return%20false%3B%5Cn%20%20%20%20%20%20%20%20%7D%5Cn%20%20%20%20%20%20%7D)()%3B%5Cn%5Cn%20%20%20%20%20%20var%20self%20%3D%20ES5_GET_SET%20%3F%20this%20%3A%20document.createElement('a')%3B%5Cn%5Cn%5Cn%5Cn%20%20%20%20%20%20var%20query_object%20%3D%20new%20URLSearchParams(%5Cn%20%20%20%20%20%20%20%20instance.search%20%3F%20instance.search.substring(1)%20%3A%20null)%3B%5Cn%20%20%20%20%20%20query_object._url_object%20%3D%20self%3B%5Cn%5Cn%20%20%20%20%20%20Object.defineProperties(self%2C%20%7B%5Cn%20%20%20%20%20%20%20%20href%3A%20%7B%5Cn%20%20%20%20%20%20%20%20%20%20get%3A%20function%20()%20%7B%20return%20instance.href%3B%20%7D%2C%5Cn%20%20%20%20%20%20%20%20%20%20set%3A%20function%20(v)%20%7B%20instance.href%20%3D%20v%3B%20tidy_instance()%3B%20update_steps()%3B%20%7D%2C%5Cn%20%20%20%20%20%20%20%20%20%20enumerable%3A%20true%2C%20configurable%3A%20true%5Cn%20%20%20%20%20%20%20%20%7D%2C%5Cn%20%20%20%20%20%20%20%20origin%3A%20%7B%5Cn%20%20%20%20%20%20%20%20%20%20get%3A%20function%20()%20%7B%5Cn%20%20%20%20%20%20%20%20%20%20%20%20if%20('origin'%20in%20instance)%20return%20instance.origin%3B%5Cn%20%20%20%20%20%20%20%20%20%20%20%20return%20this.protocol%20%2B%20'%2F%2F'%20%2B%20this.host%3B%5Cn%20%20%20%20%20%20%20%20%20%20%7D%2C%5Cn%20%20%20%20%20%20%20%20%20%20enumerable%3A%20true%2C%20configurable%3A%20true%5Cn%20%20%20%20%20%20%20%20%7D%2C%5Cn%20%20%20%20%20%20%20%20protocol%3A%20%7B%5Cn%20%20%20%20%20%20%20%20%20%20get%3A%20function%20()%20%7B%20return%20instance.protocol%3B%20%7D%2C%5Cn%20%20%20%20%20%20%20%20%20%20set%3A%20function%20(v)%20%7B%20instance.protocol%20%3D%20v%3B%20%7D%2C%5Cn%20%20%20%20%20%20%20%20%20%20enumerable%3A%20true%2C%20configurable%3A%20true%5Cn%20%20%20%20%20%20%20%20%7D%2C%5Cn%20%20%20%20%20%20%20%20username%3A%20%7B%5Cn%20%20%20%20%20%20%20%20%20%20get%3A%20function%20()%20%7B%20return%20instance.username%3B%20%7D%2C%5Cn%20%20%20%20%20%20%20%20%20%20set%3A%20function%20(v)%20%7B%20instance.username%20%3D%20v%3B%20%7D%2C%5Cn%20%20%20%20%20%20%20%20%20%20enumerable%3A%20true%2C%20configurable%3A%20true%5Cn%20%20%20%20%20%20%20%20%7D%2C%5Cn%20%20%20%20%20%20%20%20password%3A%20%7B%5Cn%20%20%20%20%20%20%20%20%20%20get%3A%20function%20()%20%7B%20return%20instance.password%3B%20%7D%2C%5Cn%20%20%20%20%20%20%20%20%20%20set%3A%20function%20(v)%20%7B%20instance.password%20%3D%20v%3B%20%7D%2C%5Cn%20%20%20%20%20%20%20%20%20%20enumerable%3A%20true%2C%20configurable%3A%20true%5Cn%20%20%20%20%20%20%20%20%7D%2C%5Cn%20%20%20%20%20%20%20%20host%3A%20%7B%5Cn%20%20%20%20%20%20%20%20%20%20get%3A%20function%20()%20%7B%5Cn%20%20%20%20%20%20%20%20%20%20%20%20%2F%2F%20IE%20returns%20default%20port%20in%20%7Chost%7C%5Cn%20%20%20%20%20%20%20%20%20%20%20%20var%20re%20%3D%20%7B'http%3A'%3A%20%2F%3A80%24%2F%2C%20'https%3A'%3A%20%2F%3A443%24%2F%2C%20'ftp%3A'%3A%20%2F%3A21%24%2F%7D%5Binstance.protocol%5D%3B%5Cn%20%20%20%20%20%20%20%20%20%20%20%20return%20re%20%3F%20instance.host.replace(re%2C%20'')%20%3A%20instance.host%3B%5Cn%20%20%20%20%20%20%20%20%20%20%7D%2C%5Cn%20%20%20%20%20%20%20%20%20%20set%3A%20function%20(v)%20%7B%20instance.host%20%3D%20v%3B%20%7D%2C%5Cn%20%20%20%20%20%20%20%20%20%20enumerable%3A%20true%2C%20configurable%3A%20true%5Cn%20%20%20%20%20%20%20%20%7D%2C%5Cn%20%20%20%20%20%20%20%20hostname%3A%20%7B%5Cn%20%20%20%20%20%20%20%20%20%20get%3A%20function%20()%20%7B%20return%20instance.hostname%3B%20%7D%2C%5Cn%20%20%20%20%20%20%20%20%20%20set%3A%20function%20(v)%20%7B%20instance.hostname%20%3D%20v%3B%20%7D%2C%5Cn%20%20%20%20%20%20%20%20%20%20enumerable%3A%20true%2C%20configurable%3A%20true%5Cn%20%20%20%20%20%20%20%20%7D%2C%5Cn%20%20%20%20%20%20%20%20port%3A%20%7B%5Cn%20%20%20%20%20%20%20%20%20%20get%3A%20function%20()%20%7B%20return%20instance.port%3B%20%7D%2C%5Cn%20%20%20%20%20%20%20%20%20%20set%3A%20function%20(v)%20%7B%20instance.port%20%3D%20v%3B%20%7D%2C%5Cn%20%20%20%20%20%20%20%20%20%20enumerable%3A%20true%2C%20configurable%3A%20true%5Cn%20%20%20%20%20%20%20%20%7D%2C%5Cn%20%20%20%20%20%20%20%20pathname%3A%20%7B%5Cn%20%20%20%20%20%20%20%20%20%20get%3A%20function%20()%20%7B%5Cn%20%20%20%20%20%20%20%20%20%20%20%20%2F%2F%20IE%20does%20not%20include%20leading%20'%2F'%20in%20%7Cpathname%7C%5Cn%20%20%20%20%20%20%20%20%20%20%20%20if%20(instance.pathname.charAt(0)%20!%3D%3D%20'%2F')%20return%20'%2F'%20%2B%20instance.pathname%3B%5Cn%20%20%20%20%20%20%20%20%20%20%20%20return%20instance.pathname%3B%5Cn%20%20%20%20%20%20%20%20%20%20%7D%2C%5Cn%20%20%20%20%20%20%20%20%20%20set%3A%20function%20(v)%20%7B%20instance.pathname%20%3D%20v%3B%20%7D%2C%5Cn%20%20%20%20%20%20%20%20%20%20enumerable%3A%20true%2C%20configurable%3A%20true%5Cn%20%20%20%20%20%20%20%20%7D%2C%5Cn%20%20%20%20%20%20%20%20search%3A%20%7B%5Cn%20%20%20%20%20%20%20%20%20%20get%3A%20function%20()%20%7B%20return%20instance.search%3B%20%7D%2C%5Cn%20%20%20%20%20%20%20%20%20%20set%3A%20function%20(v)%20%7B%5Cn%20%20%20%20%20%20%20%20%20%20%20%20if%20(instance.search%20%3D%3D%3D%20v)%20return%3B%5Cn%20%20%20%20%20%20%20%20%20%20%20%20instance.search%20%3D%20v%3B%20tidy_instance()%3B%20update_steps()%3B%5Cn%20%20%20%20%20%20%20%20%20%20%7D%2C%5Cn%20%20%20%20%20%20%20%20%20%20enumerable%3A%20true%2C%20configurable%3A%20true%5Cn%20%20%20%20%20%20%20%20%7D%2C%5Cn%20%20%20%20%20%20%20%20searchParams%3A%20%7B%5Cn%20%20%20%20%20%20%20%20%20%20get%3A%20function%20()%20%7B%20return%20query_object%3B%20%7D%2C%5Cn%20%20%20%20%20%20%20%20%20%20enumerable%3A%20true%2C%20configurable%3A%20true%5Cn%20%20%20%20%20%20%20%20%7D%2C%5Cn%20%20%20%20%20%20%20%20hash%3A%20%7B%5Cn%20%20%20%20%20%20%20%20%20%20get%3A%20function%20()%20%7B%20return%20instance.hash%3B%20%7D%2C%5Cn%20%20%20%20%20%20%20%20%20%20set%3A%20function%20(v)%20%7B%20instance.hash%20%3D%20v%3B%20tidy_instance()%3B%20%7D%2C%5Cn%20%20%20%20%20%20%20%20%20%20enumerable%3A%20true%2C%20configurable%3A%20true%5Cn%20%20%20%20%20%20%20%20%7D%2C%5Cn%20%20%20%20%20%20%20%20toString%3A%20%7B%5Cn%20%20%20%20%20%20%20%20%20%20value%3A%20function()%20%7B%20return%20instance.toString()%3B%20%7D%2C%5Cn%20%20%20%20%20%20%20%20%20%20enumerable%3A%20false%2C%20configurable%3A%20true%5Cn%20%20%20%20%20%20%20%20%7D%2C%5Cn%20%20%20%20%20%20%20%20valueOf%3A%20%7B%5Cn%20%20%20%20%20%20%20%20%20%20value%3A%20function()%20%7B%20return%20instance.valueOf()%3B%20%7D%2C%5Cn%20%20%20%20%20%20%20%20%20%20enumerable%3A%20false%2C%20configurable%3A%20true%5Cn%20%20%20%20%20%20%20%20%7D%5Cn%20%20%20%20%20%20%7D)%3B%5Cn%5Cn%20%20%20%20%20%20function%20tidy_instance()%20%7B%5Cn%20%20%20%20%20%20%20%20var%20href%20%3D%20instance.href.replace(%2F%23%24%7C%5C%5C%3F%24%7C%5C%5C%3F(%3F%3D%23)%2Fg%2C%20'')%3B%5Cn%20%20%20%20%20%20%20%20if%20(instance.href%20!%3D%3D%20href)%5Cn%20%20%20%20%20%20%20%20%20%20instance.href%20%3D%20href%3B%5Cn%20%20%20%20%20%20%7D%5Cn%5Cn%20%20%20%20%20%20function%20update_steps()%20%7B%5Cn%20%20%20%20%20%20%20%20query_object._setList(instance.search%20%3F%20urlencoded_parse(instance.search.substring(1))%20%3A%20%5B%5D)%3B%5Cn%20%20%20%20%20%20%20%20query_object._update_steps()%3B%5Cn%20%20%20%20%20%20%7D%3B%5Cn%5Cn%20%20%20%20%20%20return%20self%3B%5Cn%20%20%20%20%7D%5Cn%5Cn%20%20%20%20if%20(origURL)%20%7B%5Cn%20%20%20%20%20%20for%20(var%20i%20in%20origURL)%20%7B%5Cn%20%20%20%20%20%20%20%20if%20(origURL.hasOwnProperty(i)%20%26%26%20typeof%20origURL%5Bi%5D%20%3D%3D%3D%20'function')%5Cn%20%20%20%20%20%20%20%20%20%20URL%5Bi%5D%20%3D%20origURL%5Bi%5D%3B%5Cn%20%20%20%20%20%20%7D%5Cn%20%20%20%20%7D%5Cn%5Cn%20%20%20%20global.URL%20%3D%20URL%3B%5Cn%20%20%20%20global.URLSearchParams%20%3D%20URLSearchParams%3B%5Cn%20%20%7D())%3B%5Cn%5Cn%20%20%2F%2F%20Patch%20native%20URLSearchParams%20constructor%20to%20handle%20sequences%2Frecords%5Cn%20%20%2F%2F%20if%20necessary.%5Cn%20%20(function()%20%7B%5Cn%20%20%20%20if%20(new%20global.URLSearchParams(%5B%5B'a'%2C%201%5D%5D).get('a')%20%3D%3D%3D%20'1'%20%26%26%5Cn%20%20%20%20%20%20%20%20new%20global.URLSearchParams(%7Ba%3A%201%7D).get('a')%20%3D%3D%3D%20'1')%5Cn%20%20%20%20%20%20return%3B%5Cn%20%20%20%20var%20orig%20%3D%20global.URLSearchParams%3B%5Cn%20%20%20%20global.URLSearchParams%20%3D%20function(init)%20%7B%5Cn%20%20%20%20%20%20if%20(init%20%26%26%20typeof%20init%20%3D%3D%3D%20'object'%20%26%26%20isSequence(init))%20%7B%5Cn%20%20%20%20%20%20%20%20var%20o%20%3D%20new%20orig()%3B%5Cn%20%20%20%20%20%20%20%20toArray(init).forEach(function(e)%20%7B%5Cn%20%20%20%20%20%20%20%20%20%20if%20(!isSequence(e))%20throw%20TypeError()%3B%5Cn%20%20%20%20%20%20%20%20%20%20var%20nv%20%3D%20toArray(e)%3B%5Cn%20%20%20%20%20%20%20%20%20%20if%20(nv.length%20!%3D%3D%202)%20throw%20TypeError()%3B%5Cn%20%20%20%20%20%20%20%20%20%20o.append(nv%5B0%5D%2C%20nv%5B1%5D)%3B%5Cn%20%20%20%20%20%20%20%20%7D)%3B%5Cn%20%20%20%20%20%20%20%20return%20o%3B%5Cn%20%20%20%20%20%20%7D%20else%20if%20(init%20%26%26%20typeof%20init%20%3D%3D%3D%20'object')%20%7B%5Cn%20%20%20%20%20%20%20%20o%20%3D%20new%20orig()%3B%5Cn%20%20%20%20%20%20%20%20Object.keys(init).forEach(function(key)%20%7B%5Cn%20%20%20%20%20%20%20%20%20%20o.set(key%2C%20init%5Bkey%5D)%3B%5Cn%20%20%20%20%20%20%20%20%7D)%3B%5Cn%20%20%20%20%20%20%20%20return%20o%3B%5Cn%20%20%20%20%20%20%7D%20else%20%7B%5Cn%20%20%20%20%20%20%20%20return%20new%20orig(init)%3B%5Cn%20%20%20%20%20%20%7D%5Cn%20%20%20%20%7D%3B%5Cn%20%20%7D())%3B%5Cn%5Cn%7D(self))%3B%5Cn%2F%2F%20Work-In-Progress%20'prollyfill'%20for%20Fetch%20API%5Cn%2F%2F%20Standard%3A%20https%3A%2F%2Ffetch.spec.whatwg.org%2F%23fetch-api%5Cn%2F%2F%5Cn%2F%2F%20As%20usual%2C%20the%20intent%20is%20to%20produce%20a%20forward-compatible%5Cn%2F%2F%20subset%20so%20that%20code%20can%20be%20written%20using%20future%20standard%5Cn%2F%2F%20functionality%3B%20not%20every%20case%20is%20considered%20or%20supported.%5Cn%5Cn%2F%2F%20Requires%20ES2015%3A%20Promise%2C%20Symbol.iterator%20(or%20polyfill)%5Cn%2F%2F%20Requires%3A%20URL%20(or%20polyfill)%5Cn%5Cn%2F%2F%20Example%3A%5Cn%2F%2F%20%20%20fetch('README.md')%5Cn%2F%2F%20%20%20%20%20.then(function(response)%20%7B%20return%20response.text()%3B%20%7D)%5Cn%2F%2F%20%20%20%20%20.then(function(text)%20%7B%20alert(text)%3B%20%7D)%3B%5Cn%5Cn(function(global)%20%7B%5Cn%20%20'use%20strict'%3B%5Cn%5Cn%20%20%2F%2F%20Web%20IDL%20concepts%5Cn%5Cn%20%20%2F%2F%20https%3A%2F%2Fheycam.github.io%2Fwebidl%2F%23idl-ByteString%5Cn%20%20function%20ByteString(value)%20%7B%5Cn%20%20%20%20value%20%3D%20String(value)%3B%5Cn%20%20%20%20if%20(value.match(%2F%5B%5E%5C%5Cx00-%5C%5CxFF%5D%2F))%20throw%20TypeError('Not%20a%20valid%20ByteString')%3B%5Cn%20%20%20%20return%20value%3B%5Cn%20%20%7D%5Cn%5Cn%20%20%2F%2F%20https%3A%2F%2Fheycam.github.io%2Fwebidl%2F%23idl-USVString%5Cn%20%20function%20USVString(value)%20%7B%5Cn%20%20%20%20value%20%3D%20String(value)%3B%5Cn%20%20%20%20return%20value.replace(%5Cn%20%20%20%20%20%20%20%20%2F(%5B%5C%5Cu0000-%5C%5CuD7FF%5C%5CuE000-%5C%5CuFFFF%5D%7C%5B%5C%5CuD800-%5C%5CuDBFF%5D%5B%5C%5CuDC00-%5C%5CuDFFF%5D%7C%5B%5C%5CuD800-%5C%5CuDFFF%5D)%2Fg%2C%5Cn%20%20%20%20%20%20function%20(c)%20%7B%5Cn%20%20%20%20%20%20%20%20if%20(%2F%5E%5B%5C%5CuD800-%5C%5CuDFFF%5D%24%2F.test(c))%20return%20'%5C%5CuFFFD'%3B%5Cn%20%20%20%20%20%20%20%20return%20c%3B%5Cn%20%20%20%20%20%20%7D)%3B%5Cn%20%20%7D%5Cn%5Cn%20%20function%20ushort(x)%20%7B%20return%20x%20%26%200xFFFF%3B%20%7D%5Cn%5Cn%20%20%2F%2F%202%20Terminology%5Cn%5Cn%20%20function%20byteLowerCase(s)%20%7B%5Cn%20%20%20%20return%20String(s).replace(%2F%5BA-Z%5D%2Fg%2C%20function(c)%20%7B%20return%20c.toLowerCase()%3B%20%7D)%3B%5Cn%20%20%7D%5Cn%5Cn%20%20function%20byteUpperCase(s)%20%7B%5Cn%20%20%20%20return%20String(s).replace(%2F%5Ba-z%5D%2Fg%2C%20function(c)%20%7B%20return%20c.toUpperCase()%3B%20%7D)%3B%5Cn%20%20%7D%5Cn%5Cn%20%20function%20byteCaseInsensitiveMatch(a%2C%20b)%20%7B%5Cn%20%20%20%20return%20byteLowerCase(a)%20%3D%3D%3D%20byteLowerCase(b)%3B%5Cn%20%20%7D%5Cn%5Cn%20%20%2F%2F%202.1%20HTTP%5Cn%5Cn%20%20%2F%2F%202.1.1%20Methods%5Cn%5Cn%20%20function%20isForbiddenMethod(m)%20%7B%5Cn%20%20%20%20m%20%3D%20byteUpperCase(m)%3B%5Cn%20%20%20%20return%20m%20%3D%3D%3D%20'CONNECT'%20%7C%7C%20m%20%3D%3D%3D%20'TRACE'%20%7C%7C%20m%20%3D%3D%3D%20'TRACK'%3B%5Cn%20%20%7D%5Cn%5Cn%20%20function%20normalizeMethod(m)%20%7B%5Cn%20%20%20%20var%20u%20%3D%20byteUpperCase(m)%3B%5Cn%20%20%20%20if%20(u%20%3D%3D%3D%20'DELETE'%20%7C%7C%20u%20%3D%3D%3D%20'GET'%20%7C%7C%20u%20%3D%3D%3D%20'HEAD'%20%7C%7C%20u%20%3D%3D%3D%20'OPTIONS'%20%7C%7C%5Cn%20%20%20%20%20%20%20%20u%20%3D%3D%3D%20'POST'%20%7C%7C%20u%20%3D%3D%3D%20'PUT')%20return%20u%3B%5Cn%20%20%20%20return%20m%3B%5Cn%20%20%7D%5Cn%5Cn%20%20function%20isName(s)%20%7B%5Cn%20%20%20%20return%20%2F%5E%5B!%23%24%25%26'*%2B%5C%5C-.09A-Z%5E_%60a-z%7C~%5D%2B%24%2F.test(s)%3B%5Cn%20%20%7D%5Cn%20%20function%20isValue(s)%20%7B%5Cn%20%20%20%20%2F%2F%20TODO%3A%20Implement%20me%5Cn%20%20%20%20return%20true%3B%5Cn%20%20%7D%5Cn%20%20function%20isForbiddenHeaderName(n)%20%7B%5Cn%20%20%20%20n%20%3D%20String(n).toLowerCase()%3B%5Cn%20%20%20%20var%20forbidden%20%3D%20%7B%5Cn%20%20%20%20%20%20'accept-charset'%3A%20true%2C%5Cn%20%20%20%20%20%20'accept-encoding'%3A%20true%2C%5Cn%20%20%20%20%20%20'access-control-request-headers'%3A%20true%2C%5Cn%20%20%20%20%20%20'access-control-request-method'%3A%20true%2C%5Cn%20%20%20%20%20%20'connection'%3A%20true%2C%5Cn%20%20%20%20%20%20'content-length'%3A%20true%2C%5Cn%20%20%20%20%20%20'cookie'%3A%20true%2C%5Cn%20%20%20%20%20%20'cookie2'%3A%20true%2C%5Cn%20%20%20%20%20%20'date'%3A%20true%2C%5Cn%20%20%20%20%20%20'dnt'%3A%20true%2C%5Cn%20%20%20%20%20%20'expect'%3A%20true%2C%5Cn%20%20%20%20%20%20'host'%3A%20true%2C%5Cn%20%20%20%20%20%20'keep-alive'%3A%20true%2C%5Cn%20%20%20%20%20%20'origin'%3A%20true%2C%5Cn%20%20%20%20%20%20'referer'%3A%20true%2C%5Cn%20%20%20%20%20%20'te'%3A%20true%2C%5Cn%20%20%20%20%20%20'trailer'%3A%20true%2C%5Cn%20%20%20%20%20%20'transfer-encoding'%3A%20true%2C%5Cn%20%20%20%20%20%20'upgrade'%3A%20true%2C%5Cn%20%20%20%20%20%20'user-agent'%3A%20true%2C%5Cn%20%20%20%20%20%20'via'%3A%20true%5Cn%20%20%20%20%7D%3B%5Cn%20%20%20%20return%20forbidden%5Bn%5D%20%7C%7C%20n.substring(0%2C%206)%20%3D%3D%3D%20'proxy-'%20%7C%7C%20n.substring(0%2C%204)%20%3D%3D%3D%20'sec-'%3B%5Cn%20%20%7D%5Cn%5Cn%20%20function%20isForbiddenResponseHeaderName(n)%20%7B%5Cn%20%20%20%20n%20%3D%20String(n).toLowerCase()%3B%5Cn%20%20%20%20var%20forbidden%20%3D%20%7B%5Cn%20%20%20%20%20%20'set-cookie'%3A%20true%2C%5Cn%20%20%20%20%20%20'set-cookie2'%3A%20true%5Cn%20%20%20%20%7D%3B%5Cn%20%20%20%20return%20forbidden%5Bn%5D%3B%5Cn%20%20%7D%5Cn%5Cn%20%20function%20isSimpleHeader(name%2C%20value)%20%7B%5Cn%20%20%20%20name%20%3D%20String(name).toLowerCase()%3B%5Cn%20%20%20%20return%20name%20%3D%3D%3D%20'accept'%20%7C%7C%20name%20%3D%3D%3D%20'accept-language'%20%7C%7C%20name%20%3D%3D%3D%20'content-language'%20%7C%7C%5Cn%20%20%20%20%20%20(name%20%3D%3D%3D%20'content-type'%20%26%26%5Cn%20%20%20%20%20%20%20%5B'application%2Fx-www-form-encoded'%2C%20'multipart%2Fform-data'%2C%20'text%2Fplain'%5D.indexOf(value)%20!%3D%3D%20-1)%3B%5Cn%20%20%7D%5Cn%5Cn%20%20%2F%2F%5Cn%20%20%2F%2F%205.1%20Headers%20class%5Cn%20%20%2F%2F%5Cn%5Cn%20%20%2F%2F%20typedef%20(Headers%20or%20sequence%3Csequence%3CByteString%3E%3E%20or%20OpenEndedDictionary%3CByteString%3E)%20HeadersInit%3B%5Cn%5Cn%20%20%2F%2F%20Constructor(optional%20HeadersInit%20init)%5Cn%20%20function%20Headers(init)%20%7B%5Cn%20%20%20%20this._guard%20%3D%20'none'%3B%5Cn%20%20%20%20this._headerList%20%3D%20%5B%5D%3B%5Cn%20%20%20%20if%20(init)%20fill(this%2C%20init)%3B%5Cn%20%20%7D%5Cn%5Cn%20%20function%20fill(headers%2C%20init)%20%7B%5Cn%20%20%20%20if%20(init%20instanceof%20Headers)%20%7B%5Cn%20%20%20%20%20%20init._headerList.forEach(function(header)%20%7B%5Cn%20%20%20%20%20%20%20%20headers.append(header%5B0%5D%2C%20header%5B1%5D)%3B%5Cn%20%20%20%20%20%20%7D)%3B%5Cn%20%20%20%20%7D%20else%20if%20(Array.isArray(init))%20%7B%5Cn%20%20%20%20%20%20init.forEach(function(header)%20%7B%5Cn%20%20%20%20%20%20%20%20if%20(!Array.isArray(header)%20%7C%7C%20header.length%20!%3D%3D%202)%20throw%20TypeError()%3B%5Cn%20%20%20%20%20%20%20%20headers.append(header%5B0%5D%2C%20header%5B1%5D)%3B%5Cn%20%20%20%20%20%20%7D)%3B%5Cn%20%20%20%20%7D%20else%20%7B%5Cn%20%20%20%20%20%20init%20%3D%20Object(init)%3B%5Cn%20%20%20%20%20%20Object.keys(init).forEach(function(key)%20%7B%5Cn%20%20%20%20%20%20%20%20headers.append(key%2C%20init%5Bkey%5D)%3B%5Cn%20%20%20%20%20%20%7D)%3B%5Cn%20%20%20%20%7D%5Cn%20%20%7D%5Cn%5Cn%20%20%2F%2F%20interface%20Headers%5Cn%20%20Headers.prototype%20%3D%20%7B%5Cn%20%20%20%20%2F%2F%20void%20append(ByteString%20name%2C%20ByteString%20value)%3B%5Cn%20%20%20%20append%3A%20function%20append(name%2C%20value)%20%7B%5Cn%20%20%20%20%20%20name%20%3D%20ByteString(name)%3B%5Cn%20%20%20%20%20%20if%20(!isName(name)%20%7C%7C%20!isValue(value))%20throw%20TypeError()%3B%5Cn%20%20%20%20%20%20if%20(this._guard%20%3D%3D%3D%20'immutable')%20throw%20TypeError()%3B%5Cn%20%20%20%20%20%20else%20if%20(this._guard%20%3D%3D%3D%20'request'%20%26%26%20isForbiddenHeaderName(name))%20return%3B%5Cn%20%20%20%20%20%20else%20if%20(this._guard%20%3D%3D%3D%20'request-no-CORS'%20%26%26%20!isSimpleHeader(name%2C%20value))%20return%3B%5Cn%20%20%20%20%20%20else%20if%20(this._guard%20%3D%3D%3D%20'response'%20%26%26%20isForbiddenResponseHeaderName(name))%20return%3B%5Cn%5Cn%20%20%20%20%20%20name%20%3D%20name.toLowerCase()%3B%5Cn%20%20%20%20%20%20this._headerList.push(%5Bname%2C%20value%5D)%3B%5Cn%20%20%20%20%7D%2C%5Cn%5Cn%20%20%20%20%2F%2F%20void%20delete(ByteString%20name)%3B%5Cn%20%20%20%20'delete'%3A%20function%20delete_(name)%20%7B%5Cn%20%20%20%20%20%20name%20%3D%20ByteString(name)%3B%5Cn%20%20%20%20%20%20if%20(!isName(name))%20throw%20TypeError()%3B%5Cn%20%20%20%20%20%20if%20(this._guard%20%3D%3D%3D%20'immutable')%20throw%20TypeError()%3B%5Cn%20%20%20%20%20%20else%20if%20(this._guard%20%3D%3D%3D%20'request'%20%26%26%20isForbiddenHeaderName(name))%20return%3B%5Cn%20%20%20%20%20%20else%20if%20(this._guard%20%3D%3D%3D%20'request-no-CORS'%20%26%26%20!isSimpleHeader(name%2C%20'invalid'))%20return%3B%5Cn%20%20%20%20%20%20else%20if%20(this._guard%20%3D%3D%3D%20'response'%20%26%26%20isForbiddenResponseHeaderName(name))%20return%3B%5Cn%5Cn%20%20%20%20%20%20name%20%3D%20name.toLowerCase()%3B%5Cn%20%20%20%20%20%20var%20index%20%3D%200%3B%5Cn%20%20%20%20%20%20while%20(index%20%3C%20this._headerList.length)%20%7B%5Cn%20%20%20%20%20%20%20%20if%20(this._headerList%5Bindex%5D%5B0%5D%20%3D%3D%3D%20name)%5Cn%20%20%20%20%20%20%20%20%20%20this._headerList.splice(index%2C%201)%3B%5Cn%20%20%20%20%20%20%20%20else%5Cn%20%20%20%20%20%20%20%20%20%20%2B%2Bindex%3B%5Cn%20%20%20%20%20%20%7D%5Cn%20%20%20%20%7D%2C%5Cn%5Cn%20%20%20%20%2F%2F%20ByteString%3F%20get(ByteString%20name)%3B%5Cn%20%20%20%20get%3A%20function%20get(name)%20%7B%5Cn%20%20%20%20%20%20name%20%3D%20ByteString(name)%3B%5Cn%20%20%20%20%20%20if%20(!isName(name))%20throw%20TypeError()%3B%5Cn%20%20%20%20%20%20name%20%3D%20name.toLowerCase()%3B%5Cn%20%20%20%20%20%20for%20(var%20index%20%3D%200%3B%20index%20%3C%20this._headerList.length%3B%20%2B%2Bindex)%20%7B%5Cn%20%20%20%20%20%20%20%20if%20(this._headerList%5Bindex%5D%5B0%5D%20%3D%3D%3D%20name)%5Cn%20%20%20%20%20%20%20%20%20%20return%20this._headerList%5Bindex%5D%5B1%5D%3B%5Cn%20%20%20%20%20%20%7D%5Cn%20%20%20%20%20%20return%20null%3B%5Cn%20%20%20%20%7D%2C%5Cn%5Cn%20%20%20%20%2F%2F%20sequence%3CByteString%3E%20getAll(ByteString%20name)%3B%5Cn%20%20%20%20getAll%3A%20function%20getAll(name)%20%7B%5Cn%20%20%20%20%20%20name%20%3D%20ByteString(name)%3B%5Cn%20%20%20%20%20%20if%20(!isName(name))%20throw%20TypeError()%3B%5Cn%20%20%20%20%20%20name%20%3D%20name.toLowerCase()%3B%5Cn%20%20%20%20%20%20var%20sequence%20%3D%20%5B%5D%3B%5Cn%20%20%20%20%20%20for%20(var%20index%20%3D%200%3B%20index%20%3C%20this._headerList.length%3B%20%2B%2Bindex)%20%7B%5Cn%20%20%20%20%20%20%20%20if%20(this._headerList%5Bindex%5D%5B0%5D%20%3D%3D%3D%20name)%5Cn%20%20%20%20%20%20%20%20%20%20sequence.push(this._headerList%5Bindex%5D%5B1%5D)%3B%5Cn%20%20%20%20%20%20%7D%5Cn%20%20%20%20%20%20return%20sequence%3B%5Cn%20%20%20%20%7D%2C%5Cn%5Cn%20%20%20%20%2F%2F%20boolean%20has(ByteString%20name)%3B%5Cn%20%20%20%20has%3A%20function%20has(name)%20%7B%5Cn%20%20%20%20%20%20name%20%3D%20ByteString(name)%3B%5Cn%20%20%20%20%20%20if%20(!isName(name))%20throw%20TypeError()%3B%5Cn%20%20%20%20%20%20name%20%3D%20name.toLowerCase()%3B%5Cn%20%20%20%20%20%20for%20(var%20index%20%3D%200%3B%20index%20%3C%20this._headerList.length%3B%20%2B%2Bindex)%20%7B%5Cn%20%20%20%20%20%20%20%20if%20(this._headerList%5Bindex%5D%5B0%5D%20%3D%3D%3D%20name)%5Cn%20%20%20%20%20%20%20%20%20%20return%20true%3B%5Cn%20%20%20%20%20%20%7D%5Cn%20%20%20%20%20%20return%20false%3B%5Cn%20%20%20%20%7D%2C%5Cn%5Cn%20%20%20%20%2F%2F%20void%20set(ByteString%20name%2C%20ByteString%20value)%3B%5Cn%20%20%20%20set%3A%20function%20set(name%2C%20value)%20%7B%5Cn%20%20%20%20%20%20name%20%3D%20ByteString(name)%3B%5Cn%20%20%20%20%20%20if%20(!isName(name)%20%7C%7C%20!isValue(value))%20throw%20TypeError()%3B%5Cn%20%20%20%20%20%20if%20(this._guard%20%3D%3D%3D%20'immutable')%20throw%20TypeError()%3B%5Cn%20%20%20%20%20%20else%20if%20(this._guard%20%3D%3D%3D%20'request'%20%26%26%20isForbiddenHeaderName(name))%20return%3B%5Cn%20%20%20%20%20%20else%20if%20(this._guard%20%3D%3D%3D%20'request-no-CORS'%20%26%26%20!isSimpleHeader(name%2C%20value))%20return%3B%5Cn%20%20%20%20%20%20else%20if%20(this._guard%20%3D%3D%3D%20'response'%20%26%26%20isForbiddenResponseHeaderName(name))%20return%3B%5Cn%5Cn%20%20%20%20%20%20name%20%3D%20name.toLowerCase()%3B%5Cn%20%20%20%20%20%20for%20(var%20index%20%3D%200%3B%20index%20%3C%20this._headerList.length%3B%20%2B%2Bindex)%20%7B%5Cn%20%20%20%20%20%20%20%20if%20(this._headerList%5Bindex%5D%5B0%5D%20%3D%3D%3D%20name)%20%7B%5Cn%20%20%20%20%20%20%20%20%20%20this._headerList%5Bindex%2B%2B%5D%5B1%5D%20%3D%20value%3B%5Cn%20%20%20%20%20%20%20%20%20%20while%20(index%20%3C%20this._headerList.length)%20%7B%5Cn%20%20%20%20%20%20%20%20%20%20%20%20if%20(this._headerList%5Bindex%5D%5B0%5D%20%3D%3D%3D%20name)%5Cn%20%20%20%20%20%20%20%20%20%20%20%20%20%20this._headerList.splice(index%2C%201)%3B%5Cn%20%20%20%20%20%20%20%20%20%20%20%20else%5Cn%20%20%20%20%20%20%20%20%20%20%20%20%20%20%2B%2Bindex%3B%5Cn%20%20%20%20%20%20%20%20%20%20%7D%5Cn%20%20%20%20%20%20%20%20%20%20return%3B%5Cn%20%20%20%20%20%20%20%20%7D%5Cn%20%20%20%20%20%20%7D%5Cn%20%20%20%20%20%20this._headerList.push(%5Bname%2C%20value%5D)%3B%5Cn%20%20%20%20%7D%5Cn%20%20%7D%3B%5Cn%20%20Headers.prototype%5BSymbol.iterator%5D%20%3D%20function()%20%7B%5Cn%20%20%20%20return%20new%20HeadersIterator(this)%3B%5Cn%20%20%7D%3B%5Cn%5Cn%20%20function%20HeadersIterator(headers)%20%7B%5Cn%20%20%20%20this._headers%20%3D%20headers%3B%5Cn%20%20%20%20this._index%20%3D%200%3B%5Cn%20%20%7D%5Cn%20%20HeadersIterator.prototype%20%3D%20%7B%7D%3B%5Cn%20%20HeadersIterator.prototype.next%20%3D%20function()%20%7B%5Cn%20%20%20%20if%20(this._index%20%3E%3D%20this._headers._headerList.length)%5Cn%20%20%20%20%20%20return%20%7B%20value%3A%20undefined%2C%20done%3A%20true%20%7D%3B%5Cn%20%20%20%20return%20%7B%20value%3A%20this._headers._headerList%5Bthis._index%2B%2B%5D%2C%20done%3A%20false%20%7D%3B%5Cn%20%20%7D%3B%5Cn%20%20HeadersIterator.prototype%5BSymbol.iterator%5D%20%3D%20function()%20%7B%20return%20this%3B%20%7D%3B%5Cn%5Cn%5Cn%20%20%2F%2F%5Cn%20%20%2F%2F%205.2%20Body%20mixin%5Cn%20%20%2F%2F%5Cn%5Cn%20%20function%20Body(_stream)%20%7B%5Cn%20%20%20%20%2F%2F%20TODO%3A%20Handle%20initialization%20from%20other%20types%5Cn%20%20%20%20this._stream%20%3D%20_stream%3B%5Cn%20%20%20%20this.bodyUsed%20%3D%20false%3B%5Cn%20%20%7D%5Cn%5Cn%20%20%2F%2F%20interface%20FetchBodyStream%5Cn%20%20Body.prototype%20%3D%20%7B%5Cn%20%20%20%20%2F%2F%20Promise%3CArrayBuffer%3E%20arrayBuffer()%3B%5Cn%20%20%20%20arrayBuffer%3A%20function()%20%7B%5Cn%20%20%20%20%20%20if%20(this.bodyUsed)%20return%20Promise.reject(TypeError())%3B%5Cn%20%20%20%20%20%20this.bodyUsed%20%3D%20true%3B%5Cn%20%20%20%20%20%20if%20(this._stream%20instanceof%20ArrayBuffer)%20return%20Promise.resolve(this._stream)%3B%5Cn%20%20%20%20%20%20var%20value%20%3D%20this._stream%3B%5Cn%20%20%20%20%20%20return%20new%20Promise(function(resolve%2C%20reject)%20%7B%5Cn%20%20%20%20%20%20%20%20var%20octets%20%3D%20unescape(encodeURIComponent(value)).split('').map(function(c)%20%7B%5Cn%20%20%20%20%20%20%20%20%20%20return%20c.charCodeAt(0)%3B%5Cn%20%20%20%20%20%20%20%20%7D)%3B%5Cn%20%20%20%20%20%20%20%20resolve(new%20Uint8Array(octets).buffer)%3B%5Cn%20%20%20%20%20%20%7D)%3B%5Cn%20%20%20%20%7D%2C%5Cn%20%20%20%20%2F%2F%20Promise%3CBlob%3E%20blob()%3B%5Cn%20%20%20%20blob%3A%20function()%20%7B%5Cn%20%20%20%20%20%20if%20(this.bodyUsed)%20return%20Promise.reject(TypeError())%3B%5Cn%20%20%20%20%20%20this.bodyUsed%20%3D%20true%3B%5Cn%20%20%20%20%20%20if%20(this._stream%20instanceof%20Blob)%20return%20Promise.resolve(this._stream)%3B%5Cn%20%20%20%20%20%20return%20Promise.resolve(new%20Blob(%5Bthis._stream%5D))%3B%5Cn%20%20%20%20%7D%2C%5Cn%20%20%20%20%2F%2F%20Promise%3CFormData%3E%20formData()%3B%5Cn%20%20%20%20formData%3A%20function()%20%7B%5Cn%20%20%20%20%20%20if%20(this.bodyUsed)%20return%20Promise.reject(TypeError())%3B%5Cn%20%20%20%20%20%20this.bodyUsed%20%3D%20true%3B%5Cn%20%20%20%20%20%20if%20(this._stream%20instanceof%20FormData)%20return%20Promise.resolve(this._stream)%3B%5Cn%20%20%20%20%20%20return%20Promise.reject(Error('Not%20yet%20implemented'))%3B%5Cn%20%20%20%20%7D%2C%5Cn%20%20%20%20%2F%2F%20Promise%3CJSON%3E%20json()%3B%5Cn%20%20%20%20json%3A%20function()%20%7B%5Cn%20%20%20%20%20%20if%20(this.bodyUsed)%20return%20Promise.reject(TypeError())%3B%5Cn%20%20%20%20%20%20this.bodyUsed%20%3D%20true%3B%5Cn%20%20%20%20%20%20var%20that%20%3D%20this%3B%5Cn%20%20%20%20%20%20return%20new%20Promise(function(resolve%2C%20reject)%20%7B%5Cn%20%20%20%20%20%20%20%20resolve(JSON.parse(that._stream))%3B%5Cn%20%20%20%20%20%20%7D)%3B%5Cn%20%20%20%20%7D%2C%5Cn%20%20%20%20%2F%2F%20Promise%3CUSVString%3E%20text()%3B%5Cn%20%20%20%20text%3A%20function()%20%7B%5Cn%20%20%20%20%20%20if%20(this.bodyUsed)%20return%20Promise.reject(TypeError())%3B%5Cn%20%20%20%20%20%20this.bodyUsed%20%3D%20true%3B%5Cn%20%20%20%20%20%20return%20Promise.resolve(String(this._stream))%3B%5Cn%20%20%20%20%7D%5Cn%20%20%7D%3B%5Cn%5Cn%20%20%2F%2F%5Cn%20%20%2F%2F%205.3%20Request%20class%5Cn%20%20%2F%2F%5Cn%5Cn%20%20%2F%2F%20typedef%20(Request%20or%20USVString)%20RequestInfo%3B%5Cn%5Cn%20%20%2F%2F%20Constructor(RequestInfo%20input%2C%20optional%20RequestInit%20init)%5Cn%20%20function%20Request(input%2C%20init)%20%7B%5Cn%20%20%20%20if%20(arguments.length%20%3C%201)%20throw%20TypeError('Not%20enough%20arguments')%3B%5Cn%5Cn%20%20%20%20Body.call(this%2C%20null)%3B%5Cn%5Cn%20%20%20%20%2F%2F%20readonly%20attribute%20ByteString%20method%3B%5Cn%20%20%20%20this.method%20%3D%20'GET'%3B%5Cn%5Cn%20%20%20%20%2F%2F%20readonly%20attribute%20USVString%20url%3B%5Cn%20%20%20%20this.url%20%3D%20''%3B%5Cn%5Cn%20%20%20%20%2F%2F%20readonly%20attribute%20Headers%20headers%3B%5Cn%20%20%20%20this.headers%20%3D%20new%20Headers()%3B%5Cn%20%20%20%20this.headers._guard%20%3D%20'request'%3B%5Cn%5Cn%20%20%20%20%2F%2F%20readonly%20attribute%20DOMString%20referrer%3B%5Cn%20%20%20%20this.referrer%20%3D%20null%3B%20%2F%2F%20TODO%3A%20Implement.%5Cn%5Cn%20%20%20%20%2F%2F%20readonly%20attribute%20RequestMode%20mode%3B%5Cn%20%20%20%20this.mode%20%3D%20null%3B%20%2F%2F%20TODO%3A%20Implement.%5Cn%5Cn%20%20%20%20%2F%2F%20readonly%20attribute%20RequestCredentials%20credentials%3B%5Cn%20%20%20%20this.credentials%20%3D%20'omit'%3B%5Cn%5Cn%20%20%20%20if%20(input%20instanceof%20Request)%20%7B%5Cn%20%20%20%20%20%20if%20(input.bodyUsed)%20throw%20TypeError()%3B%5Cn%20%20%20%20%20%20input.bodyUsed%20%3D%20true%3B%5Cn%20%20%20%20%20%20this.method%20%3D%20input.method%3B%5Cn%20%20%20%20%20%20this.url%20%3D%20input.url%3B%5Cn%20%20%20%20%20%20this.headers%20%3D%20new%20Headers(input.headers)%3B%5Cn%20%20%20%20%20%20this.headers._guard%20%3D%20input.headers._guard%3B%5Cn%20%20%20%20%20%20this.credentials%20%3D%20input.credentials%3B%5Cn%20%20%20%20%20%20this._stream%20%3D%20input._stream%3B%5Cn%20%20%20%20%7D%20else%20%7B%5Cn%20%20%20%20%20%20input%20%3D%20USVString(input)%3B%5Cn%20%20%20%20%20%20this.url%20%3D%20String(new%20URL(input%2C%20self.location))%3B%5Cn%20%20%20%20%7D%5Cn%5Cn%20%20%20%20init%20%3D%20Object(init)%3B%5Cn%5Cn%20%20%20%20if%20('method'%20in%20init)%20%7B%5Cn%20%20%20%20%20%20var%20method%20%3D%20ByteString(init.method)%3B%5Cn%20%20%20%20%20%20if%20(isForbiddenMethod(method))%20throw%20TypeError()%3B%5Cn%20%20%20%20%20%20this.method%20%3D%20normalizeMethod(method)%3B%5Cn%20%20%20%20%7D%5Cn%5Cn%20%20%20%20if%20('headers'%20in%20init)%20%7B%5Cn%20%20%20%20%20%20this.headers%20%3D%20new%20Headers()%3B%5Cn%20%20%20%20%20%20fill(this.headers%2C%20init.headers)%3B%5Cn%20%20%20%20%7D%5Cn%5Cn%20%20%20%20if%20('body'%20in%20init)%5Cn%20%20%20%20%20%20this._stream%20%3D%20init.body%3B%5Cn%5Cn%20%20%20%20if%20('credentials'%20in%20init%20%26%26%5Cn%20%20%20%20%20%20%20%20(%5B'omit'%2C%20'same-origin'%2C%20'include'%5D.indexOf(init.credentials)%20!%3D%3D%20-1))%5Cn%20%20%20%20%20%20this.credentials%20%3D%20init.credentials%3B%5Cn%20%20%7D%5Cn%5Cn%20%20%2F%2F%20interface%20Request%5Cn%20%20Request.prototype%20%3D%20Body.prototype%3B%5Cn%5Cn%20%20%2F%2F%5Cn%20%20%2F%2F%205.4%20Response%20class%5Cn%20%20%2F%2F%5Cn%5Cn%20%20%2F%2F%20Constructor(optional%20FetchBodyInit%20body%2C%20optional%20ResponseInit%20init)%5Cn%20%20function%20Response(body%2C%20init)%20%7B%5Cn%20%20%20%20if%20(arguments.length%20%3C%201)%5Cn%20%20%20%20%20%20body%20%3D%20''%3B%5Cn%5Cn%20%20%20%20this.headers%20%3D%20new%20Headers()%3B%5Cn%20%20%20%20this.headers._guard%20%3D%20'response'%3B%5Cn%5Cn%20%20%20%20%2F%2F%20Internal%5Cn%20%20%20%20if%20(body%20instanceof%20XMLHttpRequest%20%26%26%20'_url'%20in%20body)%20%7B%5Cn%20%20%20%20%20%20var%20xhr%20%3D%20body%3B%5Cn%20%20%20%20%20%20this.type%20%3D%20'basic'%3B%20%2F%2F%20TODO%3A%20ResponseType%5Cn%20%20%20%20%20%20this.url%20%3D%20USVString(xhr._url)%3B%5Cn%20%20%20%20%20%20this.status%20%3D%20xhr.status%3B%5Cn%20%20%20%20%20%20this.ok%20%3D%20200%20%3C%3D%20this.status%20%26%26%20this.status%20%3C%3D%20299%3B%5Cn%20%20%20%20%20%20this.statusText%20%3D%20xhr.statusText%3B%5Cn%20%20%20%20%20%20xhr.getAllResponseHeaders()%5Cn%20%20%20%20%20%20%20%20.split(%2F%5C%5Cr%3F%5C%5Cn%2F)%5Cn%20%20%20%20%20%20%20%20.filter(function(header)%20%7B%20return%20header.length%3B%20%7D)%5Cn%20%20%20%20%20%20%20%20.forEach(function(header)%20%7B%5Cn%20%20%20%20%20%20%20%20%20%20var%20i%20%3D%20header.indexOf('%3A')%3B%5Cn%20%20%20%20%20%20%20%20%20%20this.headers.append(header.substring(0%2C%20i)%2C%20header.substring(i%20%2B%202))%3B%5Cn%20%20%20%20%20%20%20%20%7D%2C%20this)%3B%5Cn%20%20%20%20%20%20Body.call(this%2C%20xhr.responseText)%3B%5Cn%20%20%20%20%20%20return%3B%5Cn%20%20%20%20%7D%5Cn%5Cn%20%20%20%20Body.call(this%2C%20body)%3B%5Cn%5Cn%20%20%20%20init%20%3D%20Object(init)%20%7C%7C%20%7B%7D%3B%5Cn%5Cn%20%20%20%20%2F%2F%20readonly%20attribute%20USVString%20url%3B%5Cn%20%20%20%20this.url%20%3D%20''%3B%5Cn%5Cn%20%20%20%20%2F%2F%20readonly%20attribute%20unsigned%20short%20status%3B%5Cn%20%20%20%20var%20status%20%3D%20'status'%20in%20init%20%3F%20ushort(init.status)%20%3A%20200%3B%5Cn%20%20%20%20if%20(status%20%3C%20200%20%7C%7C%20status%20%3E%20599)%20throw%20RangeError()%3B%5Cn%20%20%20%20this.status%20%3D%20status%3B%5Cn%5Cn%20%20%20%20%2F%2F%20readonly%20attribute%20boolean%20ok%3B%5Cn%20%20%20%20this.ok%20%3D%20200%20%3C%3D%20this.status%20%26%26%20this.status%20%3C%3D%20299%3B%5Cn%5Cn%20%20%20%20%2F%2F%20readonly%20attribute%20ByteString%20statusText%3B%5Cn%20%20%20%20var%20statusText%20%3D%20'statusText'%20in%20init%20%3F%20String(init.statusText)%20%3A%20'OK'%3B%5Cn%20%20%20%20if%20(%2F%5B%5E%5C%5Cx00-%5C%5CxFF%5D%2F.test(statusText))%20throw%20TypeError()%3B%5Cn%20%20%20%20this.statusText%20%3D%20statusText%3B%5Cn%5Cn%20%20%20%20%2F%2F%20readonly%20attribute%20Headers%20headers%3B%5Cn%20%20%20%20if%20('headers'%20in%20init)%20fill(this.headers%2C%20init)%3B%5Cn%5Cn%20%20%20%20%2F%2F%20TODO%3A%20Implement%20these%5Cn%20%20%20%20%2F%2F%20readonly%20attribute%20ResponseType%20type%3B%5Cn%20%20%20%20this.type%20%3D%20'basic'%3B%20%2F%2F%20TODO%3A%20ResponseType%5Cn%20%20%7D%5Cn%5Cn%20%20%2F%2F%20interface%20Response%5Cn%20%20Response.prototype%20%3D%20Body.prototype%3B%5Cn%5Cn%20%20Response.redirect%20%3D%20function()%20%7B%5Cn%20%20%20%20%2F%2F%20TODO%3A%20Implement%3F%5Cn%20%20%20%20throw%20Error('Not%20supported')%3B%5Cn%20%20%7D%3B%5Cn%5Cn%20%20%2F%2F%5Cn%20%20%2F%2F%205.5%20Structured%20cloning%20of%20Headers%2C%20FetchBodyStream%2C%20Request%2C%20Response%5Cn%20%20%2F%2F%5Cn%5Cn%20%20%2F%2F%5Cn%20%20%2F%2F%205.6%20Fetch%20method%5Cn%20%20%2F%2F%5Cn%5Cn%20%20%2F%2F%20Promise%3CResponse%3E%20fetch(RequestInfo%20input%2C%20optional%20RequestInit%20init)%3B%5Cn%20%20function%20fetch(input%2C%20init)%20%7B%5Cn%20%20%20%20return%20new%20Promise(function(resolve%2C%20reject)%20%7B%5Cn%20%20%20%20%20%20var%20r%20%3D%20new%20Request(input%2C%20init)%3B%5Cn%5Cn%20%20%20%20%20%20var%20xhr%20%3D%20new%20XMLHttpRequest()%2C%20async%20%3D%20true%3B%5Cn%20%20%20%20%20%20xhr._url%20%3D%20r.url%3B%5Cn%5Cn%20%20%20%20%20%20try%20%7B%20xhr.open(r.method%2C%20r.url%2C%20async)%3B%20%7D%20catch%20(e)%20%7B%20throw%20TypeError(e.message)%3B%20%7D%5Cn%5Cn%20%20%20%20%20%20for%20(var%20iter%20%3D%20r.headers%5BSymbol.iterator%5D()%2C%20step%20%3D%20iter.next()%3B%5Cn%20%20%20%20%20%20%20%20%20%20%20!step.done%3B%20step%20%3D%20iter.next())%5Cn%20%20%20%20%20%20%20%20xhr.setRequestHeader(step.value%5B0%5D%2C%20step.value%5B1%5D)%3B%5Cn%5Cn%20%20%20%20%20%20if%20(r.credentials%20%3D%3D%3D%20'include')%5Cn%20%20%20%20%20%20%20%20xhr.withCredentials%20%3D%20true%3B%5Cn%5Cn%20%20%20%20%20%20xhr.onreadystatechange%20%3D%20function()%20%7B%5Cn%20%20%20%20%20%20%20%20if%20(xhr.readyState%20!%3D%3D%20XMLHttpRequest.DONE)%20return%3B%5Cn%20%20%20%20%20%20%20%20if%20(xhr.status%20%3D%3D%3D%200)%5Cn%20%20%20%20%20%20%20%20%20%20reject(new%20TypeError('Network%20error'))%3B%5Cn%20%20%20%20%20%20%20%20else%5Cn%20%20%20%20%20%20%20%20%20%20resolve(new%20Response(xhr))%3B%5Cn%20%20%20%20%20%20%7D%3B%5Cn%5Cn%20%20%20%20%20%20xhr.send(r._stream)%3B%5Cn%20%20%20%20%7D)%3B%5Cn%20%20%7D%5Cn%5Cn%20%20%2F%2F%20Exported%5Cn%20%20if%20(!('fetch'%20in%20global))%20%7B%5Cn%20%20%20%20global.Headers%20%3D%20Headers%3B%5Cn%20%20%20%20global.Request%20%3D%20Request%3B%5Cn%20%20%20%20global.Response%20%3D%20Response%3B%5Cn%20%20%20%20global.fetch%20%3D%20fetch%3B%5Cn%20%20%7D%5Cn%5Cn%7D(self))%3B%22%2C%22autoWrap%22%3Afalse%2C%22heightLimit%22%3Atrue%2C%22collapsed%22%3Afalse%2C%22name%22%3A%22%22%2C%22tabSize%22%3Anull%2C%22indentWithTab%22%3Afalse%2C%22lightLines%22%3A%5B%5D%2C%22foldLines%22%3A%5B%5D%2C%22theme%22%3A%22One%20Dark%20Pro%22%2C%22__spacing%22%3A%22both%22%2C%22id%22%3A%22aMPFW%22%2C%22margin%22%3A%7B%22top%22%3Atrue%2C%22bottom%22%3Atrue%7D%7D\"></card>",
  "public": 0,
  "status": 1,
  "likes_count": 0,
  "read_count": 0,
  "hits": 0,
  "comments_count": 0,
  "word_count": 22146,
  "created_at": "2022-06-30T06:46:22.000Z",
  "updated_at": "2022-06-30T06:46:47.000Z",
  "content_updated_at": "2022-06-30T06:46:38.000Z",
  "published_at": "2022-06-30T06:46:38.000Z",
  "first_published_at": "2022-06-30T06:46:37.782Z",
  "book": {
    "id": 24987782,
    "type": "Book",
    "slug": "aggvdq",
    "name": "é¡¹ç›®æ¢³ç†",
    "user_id": 732231,
    "description": "ç”¨æ¥æ¢³ç†ä¸€äº›é¡¹ç›®çš„å†…å®¹",
    "toc_yml": "- type: META\n  count: 27\n  display_level: 1\n  tail_type: UPDATED_AT\n  base_version_id: 219001536\n  published: true\n  max_level: 2\n  last_updated_at: 2022-07-05T05:31:54.296Z\n  version_id: 219001620\n- type: DOC\n  title: è‡ªæˆ‘ä»‹ç»\n  uuid: czSnLwlZX5r2CJfX\n  url: nowm78\n  prev_uuid: ''\n  sibling_uuid: 0Z_QJNT6lajGoxNa\n  child_uuid: ''\n  parent_uuid: ''\n  doc_id: 71314643\n  level: 0\n  id: 71314643\n  open_window: 0\n  visible: 1\n- type: DOC\n  title: é¢ç»\n  uuid: 0Z_QJNT6lajGoxNa\n  url: uhv9t2\n  prev_uuid: czSnLwlZX5r2CJfX\n  sibling_uuid: BAls4pP-NeY80xRi\n  child_uuid: ''\n  parent_uuid: ''\n  doc_id: 73218284\n  level: 0\n  id: 73218284\n  open_window: 0\n  visible: 1\n- type: TITLE\n  title: é¡¹ç›®\n  uuid: BAls4pP-NeY80xRi\n  url: ''\n  prev_uuid: 0Z_QJNT6lajGoxNa\n  sibling_uuid: OBIPwt2GqG4q-vpQ\n  child_uuid: iAehDOuKbi90rUiI\n  parent_uuid: ''\n  doc_id: ''\n  level: 0\n  id: ''\n  open_window: 1\n  visible: 1\n- type: DOC\n  title: mpx\n  uuid: iAehDOuKbi90rUiI\n  url: flzwri\n  prev_uuid: BAls4pP-NeY80xRi\n  sibling_uuid: ZBy9d0lBfyBCBXpu\n  child_uuid: ''\n  parent_uuid: BAls4pP-NeY80xRi\n  doc_id: 82395946\n  level: 1\n  id: 82395946\n  open_window: 0\n  visible: 1\n- type: TITLE\n  title: æ»´æ»´å‡ºè¡Œå°ç¨‹åº\n  uuid: ZBy9d0lBfyBCBXpu\n  url: ''\n  prev_uuid: iAehDOuKbi90rUiI\n  sibling_uuid: GLK4TI6bZt4Xxu6b\n  child_uuid: '-dL8H8y1HcmyCKgY'\n  parent_uuid: BAls4pP-NeY80xRi\n  doc_id: ''\n  level: 1\n  id: ''\n  open_window: 1\n  visible: 1\n- type: DOC\n  title: å°ç¨‹åºåŒ…ä½“ç§¯ä¼˜åŒ–\n  uuid: '-dL8H8y1HcmyCKgY'\n  url: qf3q0x\n  prev_uuid: ZBy9d0lBfyBCBXpu\n  sibling_uuid: EJe2oPQpRB-N11Xb\n  child_uuid: ''\n  parent_uuid: ZBy9d0lBfyBCBXpu\n  doc_id: 75039167\n  level: 2\n  id: 75039167\n  open_window: 0\n  visible: 1\n- type: DOC\n  title: mpx æ€§èƒ½ä¼˜åŒ–\n  uuid: EJe2oPQpRB-N11Xb\n  url: hgoyws\n  prev_uuid: '-dL8H8y1HcmyCKgY'\n  sibling_uuid: guwD9YXgthBX_ez4\n  child_uuid: ''\n  parent_uuid: ZBy9d0lBfyBCBXpu\n  doc_id: 74717740\n  level: 2\n  id: 74717740\n  open_window: 0\n  visible: 1\n- type: DOC\n  title: å†’æ³¡é¡µ\n  uuid: guwD9YXgthBX_ez4\n  url: mo05y7\n  prev_uuid: EJe2oPQpRB-N11Xb\n  sibling_uuid: jVVd9OODBN3wWQ5P\n  child_uuid: ''\n  parent_uuid: ZBy9d0lBfyBCBXpu\n  doc_id: 73628145\n  level: 2\n  id: 73628145\n  open_window: 0\n  visible: 1\n- type: DOC\n  title: è¡Œç¨‹ä¸­\n  uuid: jVVd9OODBN3wWQ5P\n  url: oyxdqe\n  prev_uuid: guwD9YXgthBX_ez4\n  sibling_uuid: ''\n  child_uuid: ''\n  parent_uuid: ZBy9d0lBfyBCBXpu\n  doc_id: 73628172\n  level: 2\n  id: 73628172\n  open_window: 0\n  visible: 1\n- type: TITLE\n  title: å°ç¨‹åºä¸Šçº¿ç®¡ç†å¹³å°\n  uuid: GLK4TI6bZt4Xxu6b\n  url: ''\n  prev_uuid: ZBy9d0lBfyBCBXpu\n  sibling_uuid: 1Y-EVaBFWkuKnN0_\n  child_uuid: xpKQHRV_K7bfp3gb\n  parent_uuid: BAls4pP-NeY80xRi\n  doc_id: ''\n  level: 1\n  id: ''\n  open_window: 1\n  visible: 1\n- type: DOC\n  title: ä»‹ç»\n  uuid: xpKQHRV_K7bfp3gb\n  url: klkzoy\n  prev_uuid: GLK4TI6bZt4Xxu6b\n  sibling_uuid: xCty9hwaaVernWqJ\n  child_uuid: ''\n  parent_uuid: GLK4TI6bZt4Xxu6b\n  doc_id: 66948082\n  level: 2\n  id: 66948082\n  open_window: 0\n  visible: 1\n- type: DOC\n  title: å‘å¸ƒæ–¹å¼\n  uuid: xCty9hwaaVernWqJ\n  url: ohsgmx\n  prev_uuid: xpKQHRV_K7bfp3gb\n  sibling_uuid: 1robqYdQQG0wFPvT\n  child_uuid: ''\n  parent_uuid: GLK4TI6bZt4Xxu6b\n  doc_id: 75212608\n  level: 2\n  id: 75212608\n  open_window: 0\n  visible: 1\n- type: DOC\n  title: æ•°æ®åº“è¡¨è®¾è®¡\n  uuid: 1robqYdQQG0wFPvT\n  url: csg8d4\n  prev_uuid: xCty9hwaaVernWqJ\n  sibling_uuid: Dvglyu8bpWNiJpBK\n  child_uuid: ''\n  parent_uuid: GLK4TI6bZt4Xxu6b\n  doc_id: 66912281\n  level: 2\n  id: 66912281\n  open_window: 1\n  visible: 1\n- type: DOC\n  title: åŽŸåž‹è®¾è®¡\n  uuid: Dvglyu8bpWNiJpBK\n  url: ktgzlc\n  prev_uuid: 1robqYdQQG0wFPvT\n  sibling_uuid: ''\n  child_uuid: ''\n  parent_uuid: GLK4TI6bZt4Xxu6b\n  doc_id: 67155542\n  level: 2\n  id: 67155542\n  open_window: 1\n  visible: 1\n- type: DOC\n  title: webx\n  uuid: 1Y-EVaBFWkuKnN0_\n  url: yghis3\n  prev_uuid: GLK4TI6bZt4Xxu6b\n  sibling_uuid: s3s0XuEuOPAMWB6v\n  child_uuid: ''\n  parent_uuid: BAls4pP-NeY80xRi\n  doc_id: 73626184\n  level: 1\n  id: 73626184\n  open_window: 0\n  visible: 1\n- type: DOC\n  title: TypeScript åœ¨å›¢é˜Ÿå†…éƒ¨çš„å®žè·µæ€»ç»“\n  uuid: s3s0XuEuOPAMWB6v\n  url: bp0lie\n  prev_uuid: 1Y-EVaBFWkuKnN0_\n  sibling_uuid: cBBVzib8WHiSWbfw\n  child_uuid: ''\n  parent_uuid: BAls4pP-NeY80xRi\n  doc_id: 70125424\n  level: 1\n  id: 70125424\n  open_window: 0\n  visible: 1\n- type: DOC\n  title: åˆ©ç”¨ ts + proxy å¢žå¼º api ç±»åž‹æŽ¨å¯¼åŠŸèƒ½\n  uuid: cBBVzib8WHiSWbfw\n  url: wagl2t\n  prev_uuid: s3s0XuEuOPAMWB6v\n  sibling_uuid: OSV3qUcGRRunfF_K\n  child_uuid: ''\n  parent_uuid: BAls4pP-NeY80xRi\n  doc_id: 75215879\n  level: 1\n  id: 75215879\n  open_window: 0\n  visible: 1\n- type: DOC\n  title: äººå·¥å®¡æ ¸ç³»ç»Ÿ\n  uuid: OSV3qUcGRRunfF_K\n  url: nw2hf8\n  prev_uuid: cBBVzib8WHiSWbfw\n  sibling_uuid: Z9NSZiuYLWhda8gH\n  child_uuid: ''\n  parent_uuid: BAls4pP-NeY80xRi\n  doc_id: 75041091\n  level: 1\n  id: 75041091\n  open_window: 0\n  visible: 1\n- type: DOC\n  title: é•¿åˆ—è¡¨æ€§èƒ½ä¼˜åŒ–\n  uuid: Z9NSZiuYLWhda8gH\n  url: gkfqwb\n  prev_uuid: OSV3qUcGRRunfF_K\n  sibling_uuid: Xkshht2CcjCCitea\n  child_uuid: ''\n  parent_uuid: BAls4pP-NeY80xRi\n  doc_id: 75286551\n  level: 1\n  id: 75286551\n  open_window: 0\n  visible: 1\n- type: DOC\n  title: å°ç¨‹åºä½“éªŒåˆ†ä¼˜åŒ–\n  uuid: Xkshht2CcjCCitea\n  url: kdytb8\n  prev_uuid: Z9NSZiuYLWhda8gH\n  sibling_uuid: ''\n  child_uuid: ''\n  parent_uuid: BAls4pP-NeY80xRi\n  doc_id: 75216281\n  level: 1\n  id: 75216281\n  open_window: 0\n  visible: 0\n- type: TITLE\n  title: å°ç¨‹åºæŽ¥å…¥åŽŸå­åŒ– css æ ·å¼åº“å¹¶æ”¯æŒåˆ†åŒ…è¾“å‡º\n  uuid: OBIPwt2GqG4q-vpQ\n  url: ''\n  prev_uuid: BAls4pP-NeY80xRi\n  sibling_uuid: aPheiwf1071mw6tU\n  child_uuid: tpFBhK_D2hlsZj9w\n  parent_uuid: ''\n  doc_id: ''\n  level: 0\n  id: ''\n  open_window: 1\n  visible: 1\n- type: DOC\n  title: å¤‡å¿˜å½•\n  uuid: tpFBhK_D2hlsZj9w\n  url: pbxykl\n  prev_uuid: OBIPwt2GqG4q-vpQ\n  sibling_uuid: iJCb_ylpdQ6AVtDy\n  child_uuid: ''\n  parent_uuid: OBIPwt2GqG4q-vpQ\n  doc_id: 67295600\n  level: 1\n  id: 67295600\n  open_window: 1\n  visible: 1\n- type: DOC\n  title: æž¶æž„è®¾è®¡\n  uuid: iJCb_ylpdQ6AVtDy\n  url: elafeo\n  prev_uuid: tpFBhK_D2hlsZj9w\n  sibling_uuid: ''\n  child_uuid: ''\n  parent_uuid: OBIPwt2GqG4q-vpQ\n  doc_id: 70799795\n  level: 1\n  id: 70799795\n  open_window: 0\n  visible: 0\n- type: DOC\n  title: ç ”å‘æµç¨‹\n  uuid: aPheiwf1071mw6tU\n  url: rl51ig\n  prev_uuid: OBIPwt2GqG4q-vpQ\n  sibling_uuid: KiBu4V9imsSGolKk\n  child_uuid: ''\n  parent_uuid: ''\n  doc_id: 70125489\n  level: 0\n  id: 70125489\n  open_window: 0\n  visible: 1\n- type: DOC\n  title: ä¸€äº›åˆ†äº«\n  uuid: KiBu4V9imsSGolKk\n  url: guat9s\n  prev_uuid: aPheiwf1071mw6tU\n  sibling_uuid: 5AwFIGCO-4sox4yt\n  child_uuid: ''\n  parent_uuid: ''\n  doc_id: 71173266\n  level: 0\n  id: 71173266\n  open_window: 1\n  visible: 1\n- type: DOC\n  title: å­—èŠ‚é¢ç»\n  uuid: 5AwFIGCO-4sox4yt\n  url: gq8kd3\n  prev_uuid: KiBu4V9imsSGolKk\n  sibling_uuid: 8ot1aeLekjpB9XKV\n  child_uuid: ''\n  parent_uuid: ''\n  doc_id: 81937341\n  level: 0\n  id: 81937341\n  open_window: 0\n  visible: 1\n- type: DOC\n  title: polyfill\n  uuid: 8ot1aeLekjpB9XKV\n  url: nzrear\n  prev_uuid: 5AwFIGCO-4sox4yt\n  sibling_uuid: ''\n  child_uuid: ''\n  parent_uuid: ''\n  doc_id: 81938260\n  level: 0\n  id: 81938260\n  open_window: 0\n  visible: 1\n",
    "creator_id": 732231,
    "public": 0,
    "items_count": 23,
    "likes_count": 0,
    "watches_count": 1,
    "content_updated_at": "2022-12-25T07:59:52.340Z",
    "created_at": "2022-03-03T15:06:25.000Z",
    "updated_at": "2023-11-07T15:52:14.000Z",
    "user": {
      "id": 732231,
      "type": "User",
      "login": "wcywxq",
      "name": "magic",
      "avatar_url": "https://cdn.nlark.com/yuque/0/2020/png/732231/1606968271774-avatar/886ad88b-d2cc-4c9e-a674-f70eb51a679c.png",
      "books_count": 21,
      "public_books_count": 0,
      "followers_count": 0,
      "following_count": 0,
      "public": 1,
      "description": null,
      "created_at": "2020-01-08T14:21:31.000Z",
      "updated_at": "2023-11-22T20:13:30.000Z",
      "work_id": "",
      "_serializer": "v2.user"
    },
    "namespace": "wcywxq/aggvdq",
    "_serializer": "v2.book"
  },
  "user": {
    "id": 732231,
    "type": "User",
    "login": "wcywxq",
    "name": "magic",
    "avatar_url": "https://cdn.nlark.com/yuque/0/2020/png/732231/1606968271774-avatar/886ad88b-d2cc-4c9e-a674-f70eb51a679c.png",
    "books_count": 21,
    "public_books_count": 0,
    "followers_count": 0,
    "following_count": 0,
    "public": 1,
    "description": null,
    "created_at": "2020-01-08T14:21:31.000Z",
    "updated_at": "2023-11-22T20:13:30.000Z",
    "work_id": "",
    "_serializer": "v2.user"
  },
  "tags": [],
  "latest_version_id": 1076335919,
  "creator": {
    "id": 732231,
    "type": "User",
    "login": "wcywxq",
    "name": "magic",
    "avatar_url": "https://cdn.nlark.com/yuque/0/2020/png/732231/1606968271774-avatar/886ad88b-d2cc-4c9e-a674-f70eb51a679c.png",
    "books_count": 21,
    "public_books_count": 0,
    "followers_count": 0,
    "following_count": 0,
    "public": 1,
    "description": null,
    "created_at": "2020-01-08T14:21:31.000Z",
    "updated_at": "2023-11-22T20:13:30.000Z",
    "work_id": "",
    "_serializer": "v2.user"
  },
  "_serializer": "v2.doc_detail"
}