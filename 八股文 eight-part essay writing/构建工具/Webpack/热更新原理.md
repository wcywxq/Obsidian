---
title: 热更新原理
url: https://www.yuque.com/wcywxq/mxunh7/yse9bt
---

`webpack` 的热更新又叫做热替换、`hmr`。这个机制可以做到不用刷新浏览器就可以将新变更的模块替换掉旧的模块
`hmr` 的核心是**客户端从服务器拉取更新后的文件**，准确的说就是 `**chunk diff**`** ( **`**chunk**` 需要更新的部分**)**，实际上 `**wds**`**(无线分布式系统) **与浏览器之间维护了一个 `**websocket**`。当本地资源发生变化时，`wds` 会向浏览器推送更新，并**带上构建时的 hash**，让客户端与上一次资源进行对比。
客户端对比出差异后会向 `wds` 发起 `**ajax**` 请求，用来获取更改后的内容(文件列表、`hash`)，这样客户端就可以借助这些信息继续向 `wds` 发起 **jsonp 请求该 chunk 的增量更新**
